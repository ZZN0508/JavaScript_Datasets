this.window=this.window||{},this.window.asos=this.window.asos||{},this.window.asos.customer=this.window.asos.customer||{},this.window.asos.customer.savedItemsSdk=function(t,c){"use strict";function a(t,n){return Object.entries(t).reduce(function(t,e){var r=f(e,2),e=r[0],r=r[1];return d({},t,o({},e,n(r)))},{})}function i(t){return Number.isInteger(t)&&0<=t}function s(t){var e=t.offset,r=t.limit,n=t.sort,o=t.sortOrder,t=t.expand;!function(){var t=Object.entries({offset:e,limit:r}).reduce(function(t,e){var r=f(e,2),e=r[0],r=r[1];return i(r)||t.push(TypeError("".concat(e," should be a non-negative integer"))),t},[]);if(t.length)throw new TypeError(t.join("\n"))}(),function(t,e,r,n,o){o=[].concat((t=t,[].concat(200<e?"maximum limit is ".concat(200):void 0).concat(9999<t?"maximum offset is ".concat(9999):void 0).filter(function(t){return void 0!==t}))).concat((r=r,Object.values(h).includes(r)?void 0:"sort should be one of ".concat(l,".sorts: ").concat(Object.keys(h).join(", ")))).concat((n=n,Object.values(p).includes(n)?void 0:"sortOrder should be one of ".concat(l,".sortOrders: ").concat(Object.keys(p).join(", ")))).concat(void 0===(o=o)||Object.values(v).includes(o)?void 0:"expand should be one of ".concat(l,".expands: ").concat(Object.keys(v).join(", "))).filter(function(t){return void 0!==t});if(o.length)throw new RangeError(o.join("\n"))}(e,r,n,o,t)}var o=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);(n="function"==typeof Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})):n).forEach(function(t){o(e,t,r[t])})}return e},r=function(t){if(Array.isArray(t))return t},n=function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r},u=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=function(t,e){return r(t)||n(t,e)||u()},l="asos.customer.savedItemsSdk",p={SORT_ORDER_DESCENDING:"dsc",SORT_ORDER_ASCENDING:"asc"},h={SORTBY_DATE:"date",SORTBY_DISCOUNT:"discount",SORTBY_PRICE:"price",SORTBY_BRAND:"brand",SORTBY_STOCK:"stock"},v={EXPAND_VARIANTS:"variants"};function e(t,e){return t(e={exports:{}},e.exports),e.exports}function y(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.timeout,n=t.additionalLoggingParams,o=t.cancelTokenExecutor;if((n=(e=["timeout","additionalLoggingParams","cancelTokenExecutor"],Object.keys(t).map(function(t){if(!e.includes(t))return"requestOptions.".concat(t," is invalid")}).concat(function(){if(void 0!==r&&!i(r))return"requestOptions.timeout should be a non-negative integer"}()).concat(function(t){if(void 0!==t&&(null===(t=t)||"object"!==x(t)||Object.getPrototypeOf(t)!==Object.prototype))return"requestOptions.additionalLoggingParams should be an object"}(n)).concat(function(){if(!["function","undefined"].includes(x(o)))return"requestOptions.cancelTokenExecutor should be a function"}()).filter(function(t){return void 0!==t}))).length)throw new TypeError(n.join("\n"))}function g(t){var e=t.storeCode,t=function(t,e){if(null==t)return{};var r,n=T(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)r=o[i],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r]);return n}(t,["storeCode"]);return d({store:e},t)}function m(t){if(void 0===t)throw new TypeError("configuration.getAccessToken is required for this operation")}function w(t){var e=t.api,r=t.context,n=(o=void 0===(o=t.configuration)?{}:o).getAccessToken,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.items,t=t.requestOptions;return m(n),function(t){t=Array.isArray(t)?0===t.length?["items are required"]:t.map(function(t){var e=t.productId;if(!E(e))return"".concat(k(t),"productId is required, as a positive integer")}).concat(t.map(function(t){return S(t)})).filter(function(t){return void 0!==t}):["items should be an array"];if(t.length)throw new TypeError(t.join("\n"))}(o),y(t),e.post({path:"me/lists/default/items",body:{items:o},queryParams:g(r),requestOptions:t})}function b(t,e){return"string"==typeof t&&t.match(/^[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/)?void 0:"".concat(e," (").concat(t,") should be a valid guid")}function O(t){if(t=b(t,"shareId"))throw new TypeError(t)}var x=e(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(t){return r(t)}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},n(t)}e.exports=n}),T=function(t,e){if(null==t)return{};for(var r,n={},o=Object.keys(t),i=0;i<o.length;i++)r=o[i],0<=e.indexOf(r)||(n[r]=t[r]);return n},E=function(t){return i(t)&&0<t},k=function(t){return"item: ".concat(JSON.stringify(t)," - ")},S=function(t){var e=t.variantId,r=void 0===e?null:e,e=t.colourWayId,n=void 0===e?null:e,e=k(t),t=function(){if(null===r&&null===n)return"either variantId or colourWayId is required"}();return(t=t||function(){if(null!==r&&null!==n)return"only one of variantId or colourWayId should be supplied"}())||(t=function(){if(null!==n&&!i(n))return"colourWayId should be a non-negative integer"}())||(t=function(){if(null!==r&&!E(r))return"variantId should be a positive integer"}())?"".concat(e).concat(t):void 0},j={getItems:function(t){var e=t.api,r=t.context,n=t.configuration,o=(n=void 0===n?{}:n).getAccessToken,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=i.offset,a=void 0===c?0:c,u=i.limit,t=void 0===u?30:u,n=i.sort,c=void 0===n?h.SORTBY_DATE:n,u=i.sortOrder,n=void 0===u?p.SORT_ORDER_DESCENDING:u,u=i.expand,i=i.requestOptions;return m(o),s({offset:a,limit:t,sort:c,sortOrder:n,expand:u}),y(i),e.get({path:"me/lists/default/items",queryParams:d({offset:a,limit:t,sort:c,sortOrder:n},u?{expand:u}:{},g(r)),requestOptions:i})},addItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.item,e=e.requestOptions;return function(t){if(null===(0<arguments.length&&void 0!==t?t:null))throw new TypeError("item is required")}(r),w(t,{items:[r],requestOptions:e})},addItems:w,removeItem:function(t){var e=t.api,r=t.configuration,t=(r=void 0===r?{}:r).getAccessToken,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=r.itemId,r=r.requestOptions;return m(t),function(){var t=b(n,"itemId");if(t)throw new TypeError(t)}(),y(r),e.delete({path:"".concat("me/lists/default/items","/").concat(n),requestOptions:r})},removeItems:function(t){var e=t.api,r=t.configuration,n=(r=void 0===r?{}:r).getAccessToken,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.itemIds,t=t.requestOptions;return m(n),function(t){var e=Array.isArray(t)?0===t.length?["itemIds are required"]:t.map(function(t){return b(t,"itemId")}).filter(function(t){return void 0!==t}):["itemIds should be an array"];if(e.length)throw new TypeError(e.join("\n"));if(500<t.join(",").length)throw new RangeError("itemIds limited to 500 characters when comma separated")}(r),y(t),e.delete({path:"me/lists/default/items",queryParams:{items:r.join(",")},requestOptions:t})},updateItem:function(t){var e=t.api,r=t.context,n=t.configuration,o=(n=void 0===n?{}:n).getAccessToken,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=i.item,n=(t=void 0===t?{}:t).itemId,t=t.variantId,i=i.requestOptions;return m(o),function(t){var e=t.variantId,e=[b(t.itemId,"itemId"),E(e)?void 0:"variantId (".concat(e,") should be a positive integer")].filter(function(t){return void 0!==t});if(e.length)throw new TypeError(e.join(", "))}({itemId:n,variantId:t}),y(i),e.patch({path:"".concat("me/lists/default/items","/").concat(n),body:{variantId:t},queryParams:g(r),requestOptions:i})},getSharedSummary:function(t){var e=t.api,r=t.context,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.shareId,n=n.requestOptions;return O(t),y(n),e.get({isAuthRequired:!1,path:"".concat("shared/").concat(t),queryParams:d({},g(r)),requestOptions:n})},getSharedItems:function(t){var e=t.api,r=t.context,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=n.shareId,i=n.offset,c=void 0===i?0:i,a=n.limit,u=void 0===a?30:a,t=n.sort,i=void 0===t?h.SORTBY_DATE:t,a=n.sortOrder,t=void 0===a?p.SORT_ORDER_DESCENDING:a,a=n.expand,n=n.requestOptions;return s({expand:a,offset:c,limit:u,sort:i,sortOrder:t}),O(o),y(n),e.get({path:"".concat("shared/").concat(o,"/items"),isAuthRequired:!1,queryParams:d({offset:c,limit:u,sort:i,sortOrder:t},a?{expand:a}:{},g(r)),requestOptions:n})}},I=e(function(t){var e=function(i){var u,t=Object.prototype,s=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function c(t,e,r,n){var o,i,c,a,e=e&&e.prototype instanceof y?e:y,e=Object.create(e.prototype),n=new E(n||[]);return e._invoke=(o=t,i=r,c=n,a=l,function(t,e){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===t)throw e;return S()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=e.iterator[r.method];if(n===u){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=u,t(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=f(n,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,v;n=n.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=u),r.delegate=null,v):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}(r,c);if(n){if(n===v)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(a===l)throw a=h,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);a=p;n=f(o,i,c);if("normal"===n.type){if(a=c.done?h:d,n.arg===v)continue;return{value:n.arg,done:c.done}}"throw"===n.type&&(a=h,c.method="throw",c.arg=n.arg)}}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function y(){}function a(){}function g(){}var m={};m[n]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(k([])));e&&e!==t&&s.call(e,n)&&(m=e);var w=g.prototype=y.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(c){var e;this._invoke=function(r,n){function t(){return new Promise(function(t,e){!function e(t,r,n,o){t=f(c[t],c,r);if("throw"!==t.type){var i=t.arg,r=i.value;return r&&"object"==typeof r&&s.call(r,"__await")?Promise.resolve(r.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):Promise.resolve(r).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,o)})}o(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,t=function t(){for(;++r<e.length;)if(s.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=u,t.done=!0,t};return t.next=t}}return{next:S}}function S(){return{value:u,done:!0}}return(a.prototype=w.constructor=g).constructor=a,g[o]=a.displayName="GeneratorFunction",i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(w),t},i.awrap=function(t){return{__await:t}},b(O.prototype),O.prototype[r]=function(){return this},i.AsyncIterator=O,i.async=function(t,e,r,n){var o=new O(c(t,e,r,n));return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(w),w[o]="Generator",w[n]=function(){return this},w.toString=function(){return"[object Generator]"},i.keys=function(r){var t,n=[];for(t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),a=s.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,T(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=u),v}},i}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});function A(t,e,r,n,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return r(t),0}a.done?e(u):Promise.resolve(u).then(n,o)}function q(a){return function(){var t=this,c=arguments;return new Promise(function(e,r){var n=a.apply(t,c);function o(t){A(n,e,r,o,i,"next",t)}function i(t){A(n,e,r,o,i,"throw",t)}o(void 0)})}}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?G(t):e}function L(t){var e,u=(i=t.configuration).getAccessToken,s=i.getAccessTokenTimeout,r=i.apiOrigin,f=void 0===(o=i.interactionCallback)?function(){}:o,n=i.logger,t=i.serverRequestLogger,o=i.retries,i=i.retryDelay,l=(e=void 0===(r={apiOrigin:r}.apiOrigin)?window.location.origin:r,function(t){return"".concat(e).concat("/api").concat("/customer/savedlists/v3/customers/").concat(t)}),o=(t=(n={logger:n,serverRequestLogger:t,retries:o,retryDelay:i},c.configureRequest({isServer:!1,logger:n.logger,serverRequestLogger:n.serverRequestLogger,defaultTimeout:1e4,retries:n.retries,retryDelay:n.retryDelay,client:{name:"asos-web-saved-items-sdk",version:"4.6.0"}}))).get,i=t.post,n=t.delete,t=t.patch;return a({get:o,post:i,delete:n,patch:t},function(a){return e=q(I.mark(function t(e){var r,n,o,i,c;return I.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.path,n=e.queryParams,o=e.body,i=e.requestOptions,c=e.isAuthRequired,c=void 0===c||c,t.t0=a,t.t1=d,t.t2=l(r),t.t3=n,t.t4=o,t.t5=d,t.t6={},t.t7=V,c)return t.next=12,U({getAccessToken:u,getAccessTokenTimeout:s});t.next=15;break;case 12:t.t8=t.sent,t.next=16;break;case 15:t.t8={};case 16:return t.t9=t.t8,t.t10=(0,t.t5)(t.t6,t.t7,t.t9),t.t11={url:t.t2,params:t.t3,body:t.t4,headers:t.t10},t.t12=i,t.t13=(0,t.t1)(t.t11,t.t12),t.next=23,(0,t.t0)(t.t13);case 23:return c=t.sent,f(),t.abrupt("return",c);case 26:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)};var e})}function P(t){var e=t.context,t=t.configuration;!function(t){var e=0<arguments.length&&void 0!==t?t:{},t=["storeCode","currency","language","sizeSchema","keyStoreDataversion"].map(function(t){return"string"==typeof e[t]&&e[t].length?void 0:"context.".concat(t," is required, and should be a non-empty string")}).filter(function(t){return void 0!==t});if(t.length)throw new TypeError(t.join("\n"))}(e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.getAccessToken,r=t.getAccessTokenTimeout,n=t.apiOrigin,o=t.interactionCallback,i=(t.logger,t.serverRequestLogger,t.retries),c=t.retryDelay,t=[].concat(function(){if(!["function","undefined"].includes(x(e)))return"configuration.getAccessToken should be a function if defined"}()).concat(function(){if(void 0!==r&&!E(r))return"configuration.getAccessTokenTimeout should be a positive integer if defined"}()).concat(function(){if(!["string","undefined"].includes(x(n)))return"configuration.apiOrigin should be a string if defined"}()).concat(function(){if(!["function","undefined"].includes(x(o)))return"configuration.interactionCallback should be a function if defined"}()).concat(void 0).concat(void 0).concat(function(){if(void 0!==i&&!E(i))return"configuration.retries should be a positive integer if defined"}()).concat(function(){if(!["function","undefined"].includes(x(c)))return"configuration.retryDelay should be a function if defined"}()).filter(function(t){return void 0!==t});if(t.length)throw new TypeError(t.join("\n"))}(t)}var D,N,C,G=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},F=e(function(e){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.exports=r}),Y=e(function(r){function n(t,e){return r.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}r.exports=n}),B=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)},W=e(function(n){function o(t,e,r){return function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?n.exports=o=Reflect.construct:n.exports=o=function(t,e,r){var n=[null];n.push.apply(n,e);n=new(Function.bind.apply(t,n));return r&&Y(n,r.prototype),n},o.apply(null,arguments)}n.exports=o}),z=(C=e(function(e){function n(t){var r="function"==typeof Map?new Map:void 0;return e.exports=n=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return W(t,arguments,F(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Y(e,t)},n(t)}e.exports=n})(Error),B($,C),$),M=(B(X,z),X),J=null,K=(N=q(I.mark(function t(e){var r,n,o,i;return I.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getAccessToken,n=e.getAccessTokenTimeout,o=void 0===n?8e3:n,t.prev=1,J=J||q(I.mark(function t(){return I.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new z(new Error(t.t0));case 9:case"end":return t.stop()}},t,null,[[0,6]])}))(),t.next=5,Promise.race([new Promise(function(t,e){i=setTimeout(function(){e(new M(new Error("timeout of ".concat(o,"ms met"))))},o)}),J]);case 5:return t.abrupt("return",t.sent);case 6:return t.prev=6,clearTimeout(i),J=null,t.finish(6);case 10:case"end":return t.stop()}},t,null,[[1,,6,10]])})),function(t){return N.apply(this,arguments)}),U=(D=q(I.mark(function t(e){var r,n;return I.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getAccessToken,n=e.getAccessTokenTimeout,t.t0="bearer ",t.next=4,K({getAccessToken:r,getAccessTokenTimeout:n});case 4:return t.t1=t.sent,t.t2=t.t0.concat.call(t.t0,t.t1),t.abrupt("return",{Authorization:t.t2});case 7:case"end":return t.stop()}},t)})),function(t){return D.apply(this,arguments)}),V={"Content-Type":"application/json"},B=c.isCancelled;function X(t){var e;R(this,X);for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(t=_(this,(e=F(X)).call.apply(e,[this,t].concat(n)))).name="GetAccessTokenTimeoutError",t}function $(t){R(this,$);for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=_(this,(o=F($)).call.apply(o,[this,t].concat(r))),t=t&&t.message?t.message:"";return o.message=t,o.name="GetAccessTokenError",Error.captureStackTrace&&Error.captureStackTrace(G(o),$),o}return t.GetAccessTokenError=z,t.GetAccessTokenTimeoutError=M,t.expands=v,t.isRequestCancelled=B,t.sdk=function(t){P(t);var e=t.context,r=t.configuration,n=L({configuration:r}),t=a(j,function(t){return t.bind(t,{api:n,context:e,configuration:r})});return d({version:"4.6.0"},t)},t.sortOrders=p,t.sorts=h,t}({},window.asos.webRequest);

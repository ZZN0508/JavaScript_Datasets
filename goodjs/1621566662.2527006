define(["OK/utils/utils"],(function(t){function e(){}return e.prototype={activate:function(t){this.link=t.getAttribute("href")||t.getAttribute("data-href"),this.closeLayer="1"===t.getAttribute("data-close-layer"),t.addEventListener("click",this)},deactivate:function(t){t.removeEventListener("click",this)},handleEvent:function(e){e.preventDefault();var i=this.link,n=this.closeLayer;t.ajax({url:i}).done((function(e,i,a){n&&OK.Layers&&OK.Layers.unregisterLast(),t.updateBlockModelCallback(e,i,a)}))}},e}));
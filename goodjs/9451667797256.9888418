!function(){"use strict";function r(){if(!(this instanceof r))return new r;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var e=window.document.documentElement,i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;r.prototype.matchesSelector=function(e,t){return i.call(e,t)},r.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};var t=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;(r.prototype.indexes=[]).push({name:"ID",selector:function(e){if(e=e.match(t))return e[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var s=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"CLASS",selector:function(e){if(e=e.match(s))return e[0].slice(1)},element:function(e){e=e.className;if(e)return"string"==typeof e?e.split(/\s/):"object"==typeof e&&"baseVal"in e?e.baseVal.split(/\s/):void 0}});var n=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;function o(){this.map={}}r.prototype.indexes.push({name:"TAG",selector:function(e){if(e=e.match(n))return e[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),r.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var c="function"==typeof window.Map?window.Map:(o.prototype.get=function(e){return this.map[e+" "]},o.prototype.set=function(e,t){this.map[e+" "]=t},o),d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function b(e,t){var i,r,s,n,o,a,l=(e=e.slice(0).concat(e.default)).length,u=t,c=[];do{if(d.exec(""),(s=d.exec(u))&&(u=s[3],s[2]||!u))for(i=0;i<l;i++)if(o=(a=e[i]).selector(s[1])){for(r=c.length,n=!1;r--;)if(c[r].index===a&&c[r].key===o){n=!0;break}n||c.push({index:a,key:o});break}}while(s);return c}function p(e,t){return e.id-t.id}r.prototype.logDefaultIndexUsed=function(){},r.prototype.add=function(e,t){var i,r,s,n,o,a,l=this.activeIndexes,u=this.selectors;if("string"==typeof e){for(i={id:this.uid++,selector:e,data:t},o=b(this.indexes,e),r=0;r<o.length;r++)s=(a=o[r]).key,(a=function(e,t){for(var i,r=0,s=e.length;r<s;r++)if(i=e[r],t.isPrototypeOf(i))return i}(l,n=a.index))||((a=Object.create(n)).map=new c,l.push(a)),n===this.indexes.default&&this.logDefaultIndexUsed(i),(n=a.map.get(s))||a.map.set(s,n=[]),n.push(i);this.size++,u.push(e)}},r.prototype.remove=function(e,t){if("string"==typeof e){for(var i,r,s,n,o,a,l=this.activeIndexes,u={},c=1===arguments.length,d=b(this.indexes,e),h=0;h<d.length;h++)for(i=d[h],r=l.length;r--;)if(n=l[r],i.index.isPrototypeOf(n)){if(o=n.map.get(i.key))for(s=o.length;s--;)(a=o[s]).selector!==e||!c&&a.data!==t||(o.splice(s,1),u[a.id]=!0);break}this.size-=Object.keys(u).length}},r.prototype.queryAll=function(e){if(!this.selectors.length)return[];for(var t,i,r,s,n,o,a={},l=[],u=this.querySelectorAll(this.selectors.join(", "),e),c=0,d=u.length;c<d;c++)for(r=u[c],t=0,i=(s=this.matches(r)).length;t<i;t++)a[(o=s[t]).id]?n=a[o.id]:(n={id:o.id,selector:o.selector,data:o.data,elements:[]},a[o.id]=n,l.push(n)),n.elements.push(r);return l.sort(p)},r.prototype.matches=function(e){if(!e)return[];for(var t,i,r,s,n,o,a,l,u,c=this.activeIndexes,d={},h=[],b=0,m=c.length;b<m;b++)if(o=(n=c[b]).element(e))for(t=0,r=o.length;t<r;t++)if(a=n.map.get(o[t]))for(i=0,s=a.length;i<s;i++)!d[u=(l=a[i]).id]&&this.matchesSelector(e,l.selector)&&(d[u]=!0,h.push(l));return h.sort(p)};var a=null,l=null,u=[];function h(r,t){var s=[];function n(){var e=s;s=[],t(e)}return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];s.push(t),1===s.length&&m(r,n)}}function m(e,t){l=l||new MutationObserver(f),a||(a=e.createElement("div"),l.observe(a,{attributes:!0})),u.push(t),a.setAttribute("data-twiddle",""+Date.now())}function f(){var e=u;u=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(e){setTimeout(function(){throw e},0)}}var g=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap;function S(e,t){for(var i=0;i<t.length;i++){var r=t[i],s=r[0],n=r[1],r=r[2];s===x?(function(e,t){{var i,r,s;t instanceof e.elementConstructor&&((i=g.get(t))||(i=[],g.set(t,i)),-1===i.indexOf(e.id)&&(r=void 0,(r=e.initialize?e.initialize.call(void 0,t):r)&&((s=v.get(t))||(s={},v.set(t,s)),s[""+e.id]=r),i.push(e.id)))}}(r,n),function(e,t){{var i,r,s;t instanceof e.elementConstructor&&((i=w.get(t))||(i=[],w.set(t,i)),-1===i.indexOf(e.id)&&(e.elements.push(t),s=v.get(t),(s=s?s[""+e.id]:null)&&s.add&&s.add.call(void 0,t),e.subscribe&&(r=e.subscribe.call(void 0,t))&&((s=y.get(t))||(s={},y.set(t,s)),s[""+e.id]=r),e.add&&e.add.call(void 0,t),i.push(e.id)))}}(r,n)):s===k?T(r,n):s===j&&function(e,t){var i=w.get(t);if(i){for(var r=i.slice(0),s=0;s<r.length;s++){var n,o=e[r[s]];o&&(-1!==(n=o.elements.indexOf(t))&&o.elements.splice(n,1),n=v.get(t),(n=n?n[""+o.id]:null)&&n.remove&&n.remove.call(void 0,t),n=y.get(t),(n=n?n[""+o.id]:null)&&n.unsubscribe&&n.unsubscribe(),o.remove&&o.remove.call(void 0,t))}w.delete(t)}}(e.observers,n)}}function T(e,t){var i,r,s,n;t instanceof e.elementConstructor&&((i=w.get(t))&&(-1!==(r=e.elements.indexOf(t))&&e.elements.splice(r,1),-1!==(r=i.indexOf(e.id))&&((s=(s=v.get(t))?s[""+e.id]:null)&&s.remove&&s.remove.call(void 0,t),e.subscribe&&(n=(n=y.get(t))?n[""+e.id]:null)&&n.unsubscribe&&n.unsubscribe(),e.remove&&e.remove.call(void 0,t),i.splice(r,1)),0===i.length&&w.delete(t)))}var A=null;function L(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var x=1,k=2,j=3;function q(e,t,i){for(var r,s,n,o=0;o<i.length;o++){var a=i[o];"childList"===a.type?(C(e,t,a.addedNodes),function(e,t){for(var i=0;i<t.length;i++){var r=t[i];if("querySelectorAll"in r){e.push([j,r]);for(var s=r.querySelectorAll("*"),n=0;n<s.length;n++)e.push([j,s[n]])}}}(t,a.removedNodes)):"attributes"===a.type&&M(e,t,a.target)}r=e.ownerDocument,null===A&&(s=r.createElement("div"),n=r.createElement("div"),r=r.createElement("div"),s.appendChild(n),n.appendChild(r),s.innerHTML="",A=r.parentNode!==n),A&&function(e,t){for(var i=0;i<e.observers.length;i++){var r=e.observers[i];if(r)for(var s=r.elements,n=0;n<s.length;n++){var o=s[n];o.parentNode||t.push([j,o])}}}(e,t)}function C(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];if(L(s))for(var n=e.selectorSet.matches(s),o=0;o<n.length;o++){var a=n[o].data;t.push([x,s,a])}if("querySelectorAll"in s)for(var l=e.selectorSet.queryAll(s),u=0;u<l.length;u++)for(var c=l[u],d=c.data,h=c.elements,b=0;b<h.length;b++)t.push([x,h[b],d])}}function M(e,t,i){if(L(i))for(var r=e.selectorSet.matches(i),s=0;s<r.length;s++){var n=r[s].data;t.push([x,i,n])}if("querySelectorAll"in i){var o=w.get(i);if(o)for(var a=0;a<o.length;a++){var l=e.observers[o[a]];l&&(e.selectorSet.matchesSelector(i,l.selector)||t.push([k,i,l]))}}}var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=0;function E(e){var t,i;this.rootNode=9===e.nodeType?e.documentElement:e,this.ownerDocument=9===e.nodeType?e:e.ownerDocument,this.observers=[],this.selectorSet=new r,this.mutationObserver=new MutationObserver(function(e,t){var i=[];q(e,i,t),S(e,i)}.bind(this,this)),this._scheduleAddRootNodes=h(this.ownerDocument,function(e){var t=[];C(e,t,[e.rootNode]),S(e,t)}.bind(this,this)),this._handleThrottledChangedTargets=h(this.ownerDocument,function(e,t){var i=[];!function(e,t,i){for(var r=0;r<i.length;r++)for(var s=i[r],n=s.form?s.form.elements:e.rootNode.querySelectorAll("input"),o=0;o<n.length;o++)M(e,t,n[o])}(e,i,t),S(e,i)}.bind(this,this)),this.rootNode.addEventListener("change",function(e,t){e._handleThrottledChangedTargets(t.target)}.bind(this,this),!1),t=this.ownerDocument,i=function(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}.bind(this,this),"interactive"===(e=t.readyState)||"complete"===e?m(t,i):t.addEventListener("DOMContentLoaded",m(t,i))}E.prototype.disconnect=function(){this.mutationObserver.disconnect()},E.prototype.observe=function(e,t){var i=void 0;"function"==typeof t?i={selector:e,initialize:t}:"object"===(void 0===t?"undefined":B(t))?(i=t).selector=e:i=e;var r=this,s={id:F++,selector:i.selector,initialize:i.initialize,add:i.add,remove:i.remove,subscribe:i.subscribe,elements:[],elementConstructor:i.hasOwnProperty("constructor")?i.constructor:this.ownerDocument.defaultView.Element,abort:function(){r._abortObserving(s)}};return this.selectorSet.add(s.selector,s),this.observers[s.id]=s,this._scheduleAddRootNodes(),s},E.prototype._abortObserving=function(e){for(var t=e.elements,i=0;i<t.length;i++)T(e,t[i]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},E.prototype.triggerObservers=function(e){var t=[];!function(e,t,i){if("querySelectorAll"in i){M(e,t,i);for(var r=i.querySelectorAll("*"),s=0;s<r.length;s++)M(e,t,r[s])}}(this,t,e),S(this,t)};var P=void 0;function I(){return(P=P||new E(window.document)).observe.apply(P,arguments)}I(".js-override-utm-params",e=>{let t=e.getAttribute("href");const i=document.location.search,r=["utm_campaign","utm_medium","utm_source"];if(t&&i)for(const s of r){const r=new RegExp(s+"=([^=&]*)"),n=r.exec(i);r.lastIndex=0,n&&(t=t.replace(r,`${s}=${n[1]}`),e.setAttribute("href",t))}});const O="build-in-animate",N="build-in-reduced",D=.01;I(".js-build-in-trigger[data-build-in-stagger], .js-build-in-group[data-build-in-stagger]",e=>{const t=parseInt(e.getAttribute("data-build-in-stagger")),i=e.querySelectorAll(".js-build-in-item");for(let e=0;e<i.length;e++)i[e].style.transitionDelay=e*t+"ms"});const z=new IntersectionObserver(_,{rootMargin:"-0% 0% -30% 0%",threshold:D});function _(e){for(const t of e)if(t.target.classList.toggle(O,t.isIntersecting),t.target.classList.contains("js-build-in-trigger"))for(const e of t.target.querySelectorAll(".js-build-in-item"))e.classList.toggle(O,t.isIntersecting)}function W(e){var t=window.matchMedia("(prefers-reduced-motion: reduce)"),e=e.getAttribute("data-build-non-decorative")||"false";return t.matches&&"false"===e}function $(e){e.classList.add(N),e.classList.add(O);for(const t of e.querySelectorAll(".js-build-in-item, .js-type-in-item"))t.classList.add(N),t.classList.add(O)}function R(e){var t=Number(e.getAttribute("data-build-margin-bottom")||30),i=Number(e.getAttribute("data-build-margin-top")||0),e=Number(e.getAttribute("data-build-threshold")||D);return{marginBottom:t,marginTop:i,threshold:e,isDefault:30===t&&0===i&&e===D}}I(".js-build-in-item[data-build-delay]",e=>{var t=Number(e.getAttribute("data-build-delay")||0);e instanceof HTMLElement&&(e.style.transitionDelay=t+"ms")}),I(".js-build-in, .js-build-in-trigger",e=>{if(W(e))$(e);else{var t=R(e);if(t.isDefault)return z.observe(e);new IntersectionObserver(_,{rootMargin:`-${t.marginTop}% 0% -${t.marginBottom}% 0%`,threshold:t.threshold}).observe(e)}}),I(".js-viewport-aware-video",{constructor:HTMLMediaElement,add(i){var e;W(i)?i.pause():(e=i.getAttribute("data-threshold")||"0.2",new IntersectionObserver(e=>{for(const t of e)t.isIntersecting?i.play():i.pause()},{threshold:Number(e)}).observe(i))}}),I(".js-type-in, .js-type-in-item",e=>{W(e)||V(e)});const U=new IntersectionObserver(H,{rootMargin:"-0% 0% -30% 0%",threshold:D});function H(e){for(const t of e)if((t.isIntersecting?G:V)(t.target),t.target.classList.contains("js-type-in-trigger"))for(const e of t.target.querySelectorAll(".js-type-in-item"))(t.isIntersecting?G:V)(e)}function V(e){for(const t of e.querySelectorAll(".js-type-row, .js-type-letters"))t.style.visibility="hidden";e.classList.remove(O)}function G(e){if(!e.classList.contains(O)){e.classList.add(O);const t=e.querySelectorAll(".js-type-row, .js-type-letters"),i=Number(e.getAttribute("data-type-delay")||20),r=Number(e.getAttribute("data-type-row-delay")||200);setTimeout(()=>function e(t,i,r,s,n){if(r>=i.length)return;const o=i[r];if(t.classList.contains(O)){if(o.classList.contains("js-type-row"))return o.style.visibility="visible",r++,void setTimeout(()=>e(t,i,r,"",n),n);"hidden"===o.style.visibility&&null!=o.textContent&&(s=o.textContent,o.textContent="",o.style.visibility="visible",o.classList.add("animation-is-typing")),null!=o.textContent&&s.length>o.textContent.length?o.textContent=s.substr(0,o.textContent.length+1):++r<i.length&&o.classList.remove("animation-is-typing"),setTimeout(()=>e(t,i,r,s,n),20)}else""!==s&&(o.textContent=s)}(e,t,0,"",r),i)}}I(".js-type-in, .js-type-in-trigger",e=>{if(W(e))$(e);else{var t=R(e);if(t.isDefault)return U.observe(e);new IntersectionObserver(H,{rootMargin:`-${t.marginTop}% 0% -${t.marginBottom}% 0%`,threshold:t.threshold}).observe(e)}});const J=new IntersectionObserver(function(e){for(const t of e)if(t.isIntersecting)for(const e of document.querySelectorAll(".js-scrollnav-item"))e.classList.toggle("selected",e.getAttribute("href")==="#"+t.target.id)},{root:null,rootMargin:"0px",threshold:.1});I(".js-section",e=>J.observe(e));class K extends HTMLElement{constructor(){super();var e=this.getAttribute("src");if(!e)return this;this.defaultSkipStep=10,this.playToggleButton=this.querySelector(".js-github-audio-play-toggle"),this.playToggleButtonLabel=this.querySelector("#play-toggle-label"),this.currentTimeLabel=this.querySelector(".js-github-audio-current-time"),this.totalTimeLabel=this.querySelector(".js-github-audio-total-time"),this.scrubber=this.querySelector(".js-github-audio-scrubber"),this.scrubberProgress=this.querySelector(".js-github-audio-scrubber-progress"),this.skipBackwardButton=this.querySelector(".js-github-audio-skip-backward"),this.skipForwardButton=this.querySelector(".js-github-audio-skip-forward"),this.requestedAnimationFrame=0,this.ready=!1,this.audio=this.createAudioElement(e,this.onLoadedMetaData,null,this.onEnded)}createAudioElement(e,t,i,r){const s=new Audio;return s.preload="metadata",t&&s.addEventListener("loadedmetadata",()=>{t.bind(this)()}),r&&s.addEventListener("ended",()=>{r.bind(this)()}),i&&s.addEventListener("canplay",()=>{i.bind(this)()}),s.src=e,s}static zeroFormat(e){return e<10?"0"+e:""+e}static formatTime(e){var t=Math.floor(e/60),e=Math.floor(e%60);return`${this.zeroFormat(t)}:${this.zeroFormat(e)}`}setTotalTimeLabel(e){this.totalTimeLabel&&(this.totalTimeLabel.textContent=K.formatTime(e))}setCurrentTimeLabel(e){this.currentTimeLabel&&(this.currentTimeLabel.textContent=K.formatTime(e))}getTotalTimeLabel(){return this.totalTimeLabel?this.totalTimeLabel.textContent:""}getCurrentTimeLabel(){return this.currentTimeLabel?this.currentTimeLabel.textContent:""}updateScrubberAria(){this.scrubber&&this.scrubber.setAttribute("aria-valuenow",this.scrubber.value)}calculatePercentagePostion(e,t){return 100*e/t}setScrubberPosition(e){var t;this.scrubber&&this.scrubberProgress&&(this.scrubber.value=""+Math.floor(e),t=parseInt(this.scrubber.max),this.scrubberProgress.style.width=this.calculatePercentagePostion(e,t)+"%",this.updateScrubberAria())}updateStateWhilePlaying(){this.setCurrentTimeLabel(this.audio.currentTime),this.setScrubberPosition(this.audio.currentTime),this.requestedAnimationFrame=requestAnimationFrame(this.updateStateWhilePlaying.bind(this))}initScrubber(){this.scrubber&&(this.scrubber.min="0",this.scrubber.max=""+Math.floor(this.audio.duration),this.scrubber.setAttribute("aria-valuemin",this.scrubber.min),this.scrubber.setAttribute("aria-valuemax",this.scrubber.max),this.scrubber.addEventListener("change",()=>{this.scrubber&&(this.audio.currentTime=parseInt(this.scrubber.value,10),this.audio.paused||requestAnimationFrame(this.updateStateWhilePlaying.bind(this)))}),this.scrubber.addEventListener("input",()=>{var e,t;this.scrubber&&this.scrubberProgress&&(e=parseInt(this.scrubber.value,10),t=parseInt(this.scrubber.max,10),this.setCurrentTimeLabel(e),this.scrubberProgress.style.width=this.calculatePercentagePostion(e,t)+"%",this.updateScrubberAria(),this.audio.paused||cancelAnimationFrame(this.requestedAnimationFrame))}),this.scrubber.addEventListener("keyup",e=>{"Space"===e.code&&this.togglePlay()}))}play(){this.audio.play(),this.playToggleButtonLabel&&(this.playToggleButtonLabel.textContent=this.playToggleButtonLabel.getAttribute("data-label-pause")),this.playToggleButton&&this.playToggleButton.setAttribute("data-play-state","playing"),requestAnimationFrame(this.updateStateWhilePlaying.bind(this))}pause(){this.audio.pause(),this.playToggleButtonLabel&&(this.playToggleButtonLabel.textContent=this.playToggleButtonLabel.getAttribute("data-label-play")),this.playToggleButton&&this.playToggleButton.setAttribute("data-play-state","paused"),cancelAnimationFrame(this.requestedAnimationFrame)}stop(){this.pause(),this.audio.currentTime=0,this.setScrubberPosition(0)}togglePlay(){this.audio.paused?this.play():this.pause()}skipForward(e){e=e||this.defaultSkipStep,this.audio.currentTime=this.audio.currentTime+e,this.audio.paused&&(this.setCurrentTimeLabel(this.audio.currentTime),this.setScrubberPosition(this.audio.currentTime))}skipBackward(e){e=e||this.defaultSkipStep,this.audio.currentTime=this.audio.currentTime-e,this.audio.paused&&(this.setCurrentTimeLabel(this.audio.currentTime),this.setScrubberPosition(this.audio.currentTime))}onLoadedMetaData(){this.setTotalTimeLabel(this.audio.duration),this.initScrubber(),this.onCanPlay()}onEnded(){this.pause()}onCanPlay(){this.ready||(this.playToggleButton&&(this.playToggleButton.addEventListener("click",this.togglePlay.bind(this)),this.playToggleButton.removeAttribute("disabled")),this.skipForwardButton&&(this.skipForwardButton.addEventListener("click",()=>{this.skipForward()}),this.skipForwardButton.removeAttribute("disabled")),this.skipBackwardButton&&(this.skipBackwardButton.addEventListener("click",()=>{this.skipBackward()}),this.skipBackwardButton.removeAttribute("disabled")),this.scrubber&&this.scrubber.removeAttribute("disabled"),this.ready=!0)}}window&&"customElements"in window&&window.customElements.define("github-audio",K)}();

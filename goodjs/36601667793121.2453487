!function(){var a=[].slice,b="0.0.1",t={};setTimeout(function(){var r,e,a,c,s=t.cookieInit({});for(s=t.toolInit(s),a=t.packerInit(s),r=!1,e=null,c=function(t){var n,e;return s.isFunction(t)?t.call(this):(n=t.shift(),s.isFunction(n)?n.apply(null,t):(r="_setAccount"===n?!0:r)&&(e=a[n])?(e=e.apply(null,t),s.isObject(e)&&!0===e.send&&(s.request(e),(t=a.options("params")).subSid&&(e.params.sid=t.subSid,s.request(e))),e):void 0)};_smq.length;)c(_smq.shift());return _smq.push=c,s.event.add(window,"unload",function(t){return c(["pageClose"])}),s.event.add(document,"click",s.throttle(function(t){var n,e,r,o,i,u;try{return(r=s.event.event(t),u=s.event.target(r),o=r.clientX+s.scrollLeft(),i=r.clientY+s.scrollTop(),c(["clickEvent",o,i]),e=a.options("clickTimeout"))?(n=s.findParentA(u))&&!n.target&&n.href?(s.isFunction(r.preventDefault)&&r.preventDefault(),r.returnValue=!1,setTimeout(function(){return location.href=n.href},e)):void 0:void 0}catch(t){}},3e3)),s.event.add(window,"scroll",s.debounce(function(t){var n=s.scrollTop();return e!==n?(c(["pageScroll"]),e=n):void 0},1500))},0),t.cookieInit=function(e){var f,n,d,r,p,h,o,i,m,v;return null==e&&(e={}),r=encodeURIComponent,n=decodeURIComponent,i=/\+/g,p=function(t){return f.raw?t:r(t)},d=function(t){if(f.raw)return t;try{return n(t)}catch(t){}},v=function(t){return p(String(t))},o=function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{t=n(t.replace(i," "))}catch(t){}return t},m=function(t,n){t=f.raw?t:o(t);return("function"==typeof n?n(t):void 0)||t},h=function(){for(var t,n,e,r=1<=arguments.length?a.call(arguments,0):[],o=r.shift(),i=0,u=r.length;i<u;i++)for(t in n=r[i])e=n[t],o[t]=e;return o},(f=e.cookie=function(t,n,e){var r,o,i,u,a,c,s,l;if(void 0!==n)return"number"==typeof(e=h({},f.defaults,e)).expires&&(o=e.expires,(c=e.expires=new Date).setDate(c.getDate()+o)),document.cookie=[p(t),"=",v(n),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain.split(":")[0]:"",e.secure?"; secure":""].join("");for(a=t?void 0:{},s=0,l=(r=document.cookie?document.cookie.split("; "):[]).length;s<l;s++){if(u=r[s].split("="),i=d(u.shift()),u=u.join("="),t===i){a=m(u,n);break}t||void 0===(u=m(u))||(a[i]=u)}return a}).defaults={expires:720,path:"/"},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",h({},n,{expires:-1})),!0)},e},t.toolInit=function(u,n){var r,t,o,f,e,i,a,c,s,l;return null==u&&(u={}),l=window,f=document,i=encodeURIComponent,e=f.documentElement,c=navigator,t=Object.prototype,a=Array.isArray,s=t.toString,r="_smt_uid",o=function(){var t=u.time(),n=u.intval(Math.random()*t);return n<1e8&&(n+=1e8),[t.toString(16),n.toString(16)].join(".")},u.time=function(){return u.intval((new Date).valueOf()/1e3)},u.uid=function(t){var n,e;return null==t&&(t=""),n=u.cookie("_smta"),e=u.cookie(r),n&&!e&&(2!==(e=(e=decodeURIComponent(n))&&e.split(",")[0]).split(".").length&&(e=void 0)),e=e||o(),u.cookie(r,e,{domain:t}),e},u.isFunction=function(t){return"[object Function]"===s.call(t)},"function"!=typeof/./&&"object"!=typeof Int8Array&&(u.isFunction=function(t){return"function"==typeof t||!1}),u.isArray=a||function(t){return"[object Array]"===s.call(t)},u.isUndefined=function(t){return t===n},u.isNumber=function(t){return"[object Number]"===s.call(t)},u.isObject=function(t){var n=typeof t;return"function"==n||"object"==n&&!!t},u.map=u.collect=function(t,n,e){var r,o,i,u,a=[];if(!t)return a;for(r=i=0,u=t.length;i<u;r=++i)o=t[r],a[a.length]=n.call(e,o,r,t);return a},u.intval=function(t,n){return null==n&&(n=10),parseInt(t,n)||0},u.parseUrl=function(t){var n;return t?(n=new RegExp("#.*$").exec(t),n=u.isArray(n)?n[0]:"",{uri:(t=t.replace(n,"").split("?")).shift(),params:0<(t=t.join("?")||"").length?u.map(t.split("&"),function(t){return t.split("=")}):[],hash:n,qs:t}):{}},u.findUrl=function(t,n){var t=u.parseUrl(t).params,e="";return u.map(t,function(t){return t[0]===n?e=t[1]:void 0}),e},u.decodeSmtb=function(t){var n,e,r,o,i,u=[],a=[];for(23===(t=t.split("").reverse()).length&&t.push(0),e=0;e<t.length;)(u=[]).push(t[e+1]),u.push(t[e]),i=u.join(""),(i=parseInt(i,16))<e/2+1&&(i+=256),a.push(i-=e/2+1),e+=2;return o=(a[0]<<24)+(a[1]<<16)+(a[2]<<8)+a[3],n=(a[4]<<24)+(a[5]<<16)+(a[6]<<8)+a[7],r=(a[8]<<24)+(a[9]<<16)+(a[10]<<8)+a[11],isNaN(o)||isNaN(n)||isNaN(r)?void 0:[o,n,r]},u.encodeSmtb=function(t,n,e,r){var o,i,u,a,c,s,l,f=[],d=1,p="";try{for(i=0,a=(s=[t,n,e]).length;i<a;i++)for(o=s[i],c=(l=[24,16,8,u=0]).length;u<c;u++)1===(p=(p=((p=256<=(p=(o>>l[u]&255)+d)?p-256:p)<<4&240)+(p>>4)).toString(16)).length&&(p="0"+p),f.push(p),d+=1;return p=f.join("").split("").reverse().join("").replace(/^0+/,"").toUpperCase(),r?r(null,p):p}catch(t){if(t)return r(t)}},u.pageLoadTime=function(){var t,n;return!(t=l.performance)||!(n=t.timing)||n.domContentLoadedEventEnd<n.fetchStart?0:u.intval(n.domContentLoadedEventEnd-n.fetchStart)},u.flashVersion=function(){var t,n,e,r,o,i;if(c.plugins&&c.plugins.length)for(e=0,o=(i=c.plugins).length;e<o;e++)if(-1!==(t=i[e]).name.indexOf("Shockwave Flash"))return t.description.split("Shockwave Flash ")[1]||"";if(l.ActiveXObject)for(n=r=10;2<=r;n=--r)try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n))return n+".0"}catch(t){}return""},u.viewHeight=function(){try{return e.clientHeight||f.body.clientHeight}catch(t){}return 0},u.scrollTop=function(){try{return u.intval(l.pageYOffset||e.scrollTop)}catch(t){}return 0},u.scrollLeft=function(){try{return u.intval(l.pageXOffset||e.scrollLeft)}catch(t){}return 0},u.throttle=function(t,n){var e=!1;return function(){return e?void 0:(e=!0,setTimeout(function(){return e=!1},n),t.apply(null,arguments))}},u.debounce=function(n,e,t){var r=null;return function(){var t=arguments;return r&&clearTimeout(r),r=setTimeout(function(){return n.apply(null,t)},e)}},u.request=function(t){for(var n,e=u.urlFormat(t),r=[],o=0,i=e.length;o<i;o++)n=e[o],r.push(u.send(n,new Image(0,0)));return r},u.urlFormat=function(e){var r,o,t=function(){var t=e.params,n=[];for(r in t)o=t[r],n.push(r+"="+i(o));return n}().join("&"),n=[e.protocol+"//"+e.host+e.path+"?"+t];return e.localPath&&n.push(""+e.localPath+e.path+"?"+t),n},u.send=function(t,n){var e;return n.src=t,e=function(){return u.event.remove(n,"error",e),setTimeout(function(){return n.src=t+"&retry=yes"},2e3)},u.event.add(n,"error",e)},u.random=function(t){return null==t&&(t=8),Math.random().toString().substr(2,t)},u.event={add:function(t,n,e){var r="addEventListener",o="attachEvent",i="on"+n;return t[r]?t[r](n,e,!1):t[o]?t[o](i,e):t[i]=e},remove:function(t,n,e){var r="removeEventListener",o="detachEvent",i="on"+n;return t[r]?t[r](n,e,!1):t[o]?t[o](i,e):t[i]=null},event:function(t){return t||window.event},target:function(t){return t&&(t.target||t.srcElement||null)}},u.customVars=function(t,n){var e,r,o,i;if(!(n=null==n?!1:n))return u.map(t,function(t){return"v"+t[0]+"="+t[1]+"&s"+t[0]+"="+t[2]}).join("&");for(e=[],t.sort(function(t,n){return t[0]>n[0]?1:t[0]<n[0]?-1:void 0}),o=0,i=t.length;o<i;o++)1==+(r=t[o])[2]&&e.push(r[0]+"="+r[1]);return e.join("&")},u.pageWidth=function(){var i,u,t,a,n,e,r,o,c,s=document,l=s.body;if(f=s.documentElement,t=l.children,u=0,i=f.clientWidth||l.clientWidth,n=function(t){for(var n,e,r=-1,o=0,i=t.length;o<i;o++)r<(n=t[o].offsetHeight)&&(e=t[a],r=n);return e},r=(o=function(t){for(var n,e=0,r=0,o=t.length;r<o;r++)n=t[r],600<(u=n.offsetWidth)&&(u<i-10||i<u)&&e<u&&(e=u);return e})(t))return r;for(a=c=0;c<3&&!((e=n(t))&&(r=o(t=e.children)));a=++c);return r||l.offsetWidth},u},t.packerInit=function(a,u){var t,n,e=window,r=navigator,o=document,i=o.location,c=encodeURIComponent,s="_smtb",l=[],f={isSSL:"yes",allowLinker:!1,referrerSmtEnabled:!1,siteId:"",domain:i.host||i.hostname,heatmapEnabled:"yes",clickTimeout:0,host:i.host||i.hostname,smtb:(n=a.findUrl(i.href,"smt_b"))?a.cookie(s,n):void 0,params:{sid:"",subSid:"",uid:(t=null,function(){return t=t||a.uid(f.domain)}),url:i.href,tl:o.title,cs:(o.charset||o.characterSet||"").toLowerCase(),rl:function(){return o.referrer},fv:a.flashVersion(),sr:[e.screen.width,e.screen.height].join("x"),sc:screen.colorDepth,tz:(new Date).getTimezoneOffset()/-60,je:function(){try{return"javaEnabled"in r&&r.javaEnabled()?1:0}catch(t){}return 0}(),sp:a.scrollTop,vh:a.viewHeight,pw:a.pageWidth,pt:a.pageLoadTime,vars:function(){var t,n,e,r,o,i=a.cookie("_smtv");if(!i)return u;for(e=0,r=(o=i.split("&")).length;e<r;e++)n=o[e].split("="),(t=a.intval(n[0]))<1||5<t||(n.push(1),l.push(n));return a.customVars(l)}()}},d=f.params,p=function(t,n){return t&&(d.url=i.protocol+"//"+f.host+t,d.rl=function(){return""}),n&&(d.tl=n),v("pageview","sid,uid,url,tl,cs,rl,fv,sr,sc,tz,je,sp,vh,pt,vars".split(","))},h=function(t,n,e,r,o){var i,u,a,c,s,l;if(null==o&&(o=0),t){if((c=v("event",["sid","uid","url"])).params.cat=t,n&&(c.params.act=n),e&&(c.params.lab=e),r&&(c.params.val=r),c.params.brf=o?1:0,5<arguments.length)for(u=s=0,l=(i=arguments.slice(5)).length;s<l;u=++s)a=i[u],c.params["l"+(u+1)]=a;return c}},m=function(t,n){var e;if(f.heatmapEnabled)return(e=v("click","sid,uid,url,pw".split(","))).params.x=t,e.params.y=n,e},n=function(t,n){return v("close","sid,uid,url,sp,vh".split(","))},e=function(){if(f.heatmapEnabled)return v("scroll","sid,uid,url,vh,sp".split(","))},v=function(i,u){return{send:!0,protocol:"yes"===f.isSSL?"https:":"http:",localPath:f.localPath,host:g(),path:"/p.gif",params:function(){for(var t,n,e={type:i},r=0,o=u.length;r<o;r++)t=u[r],(n=f.params[t])&&(n=a.isFunction(n)?n():n,a.isUndefined(n)||(e[t]=n));return e._=a.random(),e}()}},g=function(){return"smt.admaster.com.cn"};return{pageview:p,custom:h,clickEvent:m,pageScroll:e,pageClose:n,version:function(t){return"function"==typeof t&&t(b),b},_setAccount:function(t,n){return f.siteId=f.params.sid=t.toLowerCase()},_setSubAccount:function(t,n){return f.params.subSid=t.toLowerCase()},_setCustomVar:function(t,n,e){o=!1;for(var r,o,i=0,u=l.length;i<u;i++)+(r=l[i])[0]==+t&&(o=!0,r[1]!==c(n)||r[2],r[1]=c(n),r[2]=e);return!1===o&&l.push([t,n,e]),a.cookie.apply(null,["_smtv",a.customVars(l,!0),{domain:f.domain}]),f.params.vars=a.customVars(l)},_setDomainName:function(t){return t===f.domain.substr(-t.length)?f.domain=t:void 0},_setClickTimeOut:function(t){return f.clickTimeout=Math.max(0,a.intval(t))},_setSSL:function(t){return f.isSSL="yes"===t?"yes":"no"},_setHeatmapEnabled:function(t){return f.heatmapEnabled="yes"===t},_setLocalPath:function(t){return f.localPath=t},_decodeSmt_b:function(t){var n;return t?(n=a.cookie(s))?(n=a.decodeSmtb(n))?t(null,n):t(Error("Smtb is invalid")):t(Error("Smtb not found")):console.log("decode smtb need cb")},_encodeSmt_b:a.encodeSmtb,_setReferrerSmtEnabled:function(t){return"yes"!==t?f.referrerSmtEnabled=!1:(f.referrerSmtEnabled=!0,(t=a.findUrl(i.referrer,"smt_b"))?a.cookie(s,t,f.domain):void 0)},options:function(t,n){return n&&n(f[t]),f[t]}}}}.call(this);

!function(n){var i,r,o="splice",a=n.csa,c={},s={},u=n.csa._s,f=0,d={},l={},g={},e=Object.keys;function t(e,t){return a(e,t)}function p(e,t){var n=s[e]||{};T(n,t),s[e]=n,I(E,0)}function m(e,t,n){var i=!0;t=b(t),(i=n&&n.buffered?(g[e]||[]).every(function(e){return!1!==t(e)}):i)&&(d[e]||(d[e]=[]),d[e].push(t))}function v(e,t){t=b(t),e in l?t(l[e]):m(e,function(e){return t(e),!1})}function h(e,t){if(a("Errors")("logError",e),c.DEBUG)throw t||e}function y(){return Math.abs(4294967295*Math.random()|0).toString(36)}function b(e,t){return function(){try{return e.apply(this,arguments)}catch(e){h(e.message||e,e)}}}function I(e,t){return n.setTimeout(b(e),t)}function E(){for(var e=0;e<u.length;){var t=u[e],n=t[0]in s;if(!n&&!r)return void(f=t.length);n?(u[o](f=e,1),S(t)):e++}}function S(e){var arguments,t=s[e[0]],n=(arguments=e[1])[0];if(!t||!t[n])return h("Undefined function: "+t+"/"+n),0;i=e[3],s[e[2]]=t[n].apply(t,arguments.slice(1))||{},i=0}function w(){r=1,E()}function T(t,n){e(n).forEach(function(e){t[e]=n[e]})}v("$beforeunload",w),p("Config",{instance:function(e){T(c,e)}}),a.plugin=b(function(e){e(t)}),t.config=c,t.register=p,t.on=m,t.removeListener=function(e,t){e=d[e];e&&e[o](e.indexOf(t),1)},t.once=v,t.emit=function(e,t,n){for(var i=d[e]||[],r=0;r<i.length;)!1===i[r](t)?i[o](r,1):r++;l[e]=t||{},n&&n.buffered&&(g[e]||(g[e]=[]),100<=g[e].length&&g[e].shift(),g[e].push(t||{}))},t.UUID=function(){return[y(),y(),y(),y()].join("-")},t.time=function(e){var t=i?new Date(i.time):new Date;return"ISO"===e?t.toISOString():t.getTime()},t.error=h,t.warn=function(e,t){if(a("Errors")("logWarn",e),c.DEBUG)throw t||e},t.exec=b,t.timeout=I,t.interval=function(e,t){return n.setInterval(b(e),t)},(t.global=n).csa._s.push=function(e){e[0]in s&&(!u.length||r)?S(e):u[o](f++,0,e)},E(),I(function(){I(w,c.SkipMissingPluginsTimeout||5e3)},1)}("undefined"!=typeof window?window:global),csa.plugin(function(r){var o="addEventListener",t="requestAnimationFrame",n=r.exec,i=r.global,a=r.on;r.raf=function(e){if(i[t])return i[t](n(e))},r.on=function(e,t,n,i){return e&&"function"==typeof e[o]?e[o](t,r.exec(n),i):"string"==typeof e?a(e,t,n,i):void 0}}),csa.plugin(function(i){var t,n,r={},o="session",e=i.exec;function a(e,t){var n;try{r[t]=!!(n=i.global[e]),n=n||{}}catch(e){r[t]=!(n={})}return n}function c(){t=t||a("localStorage","local"),n=n||a("sessionStorage",o)}function s(e){return e&&e[o]?n:t}i.store=e(function(e,t,n){c();n=s(n);return e?t?void(n[e]=t):n[e]:Object.keys(n)}),i.storageSupport=e(function(){return c(),r}),i.deleteStored=e(function(e,t){c();var n=s(t);if("function"==typeof e)for(var i in n)n.hasOwnProperty(i)&&e(i,n[i])&&delete n[i];else delete n[e]})}),csa.plugin(function(n){function e(t){return function(e){n("Metrics",{producerId:"csa",dimensions:{message:e}})("recordMetric",t,1)}}n.register("Errors",{logError:e("jsError"),logWarn:e("jsWarn")})}),csa.plugin(function(i){var r,e=i.global,o=i("Events"),a=e.location,c=e.document,t=((e.performance||{}).navigation||{}).type,n=i.on,s=i.emit,u={};function f(t,e){var n=!!r,e=(e=e||{}).keepPageAttributes;n&&(s("$beforePageTransition"),s("$pageTransition")),n&&!e&&o("removeEntity","page"),r=i.UUID(),e?u.id=r:u={schemaId:"<ns>.PageEntity.1",id:r,url:a.href,server:a.hostname,path:a.pathname,referrer:c.referrer,title:c.title},Object.keys(t||{}).forEach(function(e){u[e]=t[e]}),o("setEntity",{page:u}),s("$pageChange",u,{buffered:1}),n&&s("$afterPageTransition")}function d(){s("$load"),s("$ready"),s("$afterload")}function l(){s("$ready"),s("$beforeunload"),s("$unload"),s("$afterunload")}a&&c&&(n(e,"beforeunload",l),n(e,"pagehide",l),"complete"===c.readyState?d():n(e,"load",d),i.register("SPA",{newPage:f}),f({transitionType:{0:"hard",1:"refresh",2:"back-button"}[t]||"unknown"}))}),csa.plugin(function(c){var e="Events",n="UNKNOWN",s="id",i="messageId",r="timestamp",o="producerId",a="application",u="obfuscatedMarketplaceId",f="entities",d="schemaId",l="version",g="<ns>",p=c.config,t=(c.global.location||{}).host,m=p[e+".Namespace"]||"csa_other",v=p.Application||"Other"+(t?":"+t:""),h=c("Transport"),y={},b=function(e,t){Object.keys(e).forEach(t)};function I(n,i,r){b(i,function(e){var t="all"===r||(r||{})[e];e in n||(n[e]={version:1,id:i[e][s]||c.UUID()}),E(n[e],i[e],t)})}function E(r,o,a){b(o,function(e){var t,n,i;n=o[t=e],i=a,("string"!=typeof n&&t!==l?c.error("Attribute is not of type string: "+t):!0===i||1===i||t===s||~(i||[]).indexOf(t))&&(r[e]=o[e])})}function S(i,e,r){b(e,function(e){var t,n=i[e];n[d]&&(t={},(e={})[s]=n[s],e[o]=n[o]||r,e[d]=n[d],e[l]=n[l]++,e.attributes=t,w(e),E(t,n,1),T(t),h("log",e))})}function w(e){var t;e[r]=(t="number"==typeof(t=e[r])?new Date(t).toISOString():t)||c.time("ISO"),e[i]=e[i]||c.UUID(),e[a]=v,e[u]=p.ObfuscatedMarketplaceId||n,e[d]=e[d].replace(g,m)}function T(e){delete e[l],delete e[d],delete e[o]}function O(i){var r={};this.log=function(e,t){var n={},t=(t||{}).ent;return e?"string"!=typeof e[d]?c.error("A valid schema id is required for the event"):(w(e),I(n,y,t),I(n,r,t),I(n,e[f]||{},t),b(n,function(e){T(n[e])}),e[o]=i[o],e[f]=n,void h("log",e)):c.error("The event cannot be undefined")},this.setEntity=function(e){I(r,e,"all"),S(r,e,i[o])}}p["KillSwitch."+e]||c.register(e,{setEntity:function(e){I(y,e,"all"),S(y,e,"csa")},removeEntity:function(e){delete y[e]},instance:function(e){return new O(e)}})}),csa.plugin(function(u){var o,f="Transport",d="post",a="preflight",r="csa.cajun.",c="store",s="deleteStored",l="sendBeacon",t=0,n=u.config[f+".BufferSize"]||2e3,g=u.config[f+".RetryDelay"]||1500,i=[],p=0,m=[],v=u.global,e=u.on,h=u.once,y=v.document,b=u.timeout,I=u.config[f+".FlushInterval"]||5e3,E=0;function S(e){if(864e5<u.time()-+new Date(e.timestamp))return u.warn("Event is too old: "+e);p<n&&(i.push(e),p++,!E&&t&&(E=b(w,I)))}function w(){m.forEach(function(t){var n=[];i.forEach(function(e){t.accepts(e)&&n.push(e)}),n.length&&(t.chunks?t.chunks(n).forEach(function(e){T(t,e)}):T(t,n))}),i=[],E=0}function T(t,n){function i(){u[s](r+e)}var e=u.UUID();u[c](r+e,JSON.stringify(n)),[function(e,t,n){var i=v.navigator||{},r=v.cordova||{};if(!i[l]||!e[d])return 0;e[a]&&r&&"ios"===r.platformId&&!o&&((new Image).src=e[a]().url,o=1);t=e[d](t);return!t.type&&i[l](t.url,t.body)?(n(),1):void 0},function(e,t,n){if(!e[d])return 0;var t=e[d](t),i=t.url,r=t.body,o=t.type,a=new XMLHttpRequest,c=0;function s(e,t,n){a.open("POST",e),n&&a.setRequestHeader("Content-Type",n),a.send(t)}return a.onload=function(){a.status<299?n():u.config[f+".XHRRetries"]&&c<3&&b(function(){s(i,r,o)},++c*g)},s(i,r,o),1}].some(function(e){try{return e(t,n,i)}catch(e){}})}h("$afterload",function(){var n;t=1,n=S,(u[c]()||[]).forEach(function(e){if(!e.indexOf(r))try{var t=u[c](e);u[s](e),JSON.parse(t).forEach(n)}catch(e){u.error(e)}}),e(y,"visibilitychange",w,!1),w()}),h("$afterunload",function(){t=1,w()}),e("$afterPageTransition",function(){p=0}),u.register(f,{log:S,register:function(e){m.push(e)}})}),csa.plugin(function(e){var n=e.config["Events.SushiEndpoint"];e("Transport")("register",{accepts:function(e){return e.schemaId},post:function(e){e=e.map(function(e){return{data:e}});return{url:n,body:JSON.stringify({events:e})}},preflight:function(){var e,t=/\/\/(.*?)\//.exec(n);return{url:e=t&&t[1]?"https://"+t[1]+"/ping":e}},chunks:function(e){for(var t=[];500<e.length;)t.push(e.splice(0,500));return t.push(e),t}})}),csa.plugin(function(n){var i="transitionStart",t="pageVisible",e="PageTiming",r="visibilitychange",o=n("Events",{producerId:"csa"}),a=(n.global.performance||{}).timing,c=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],s=n.config,u=n.global.document||{},f=(a||{}).navigationStart,d=f,l={},g=0,p=0,m=s[e+".BatchInterval"]||3e3,v=0,h=!0;if(!s["KillSwitch."+e]){if(!a||null===f||f<=0||void 0===f)return n.error("Invalid navigation timing data: "+f);"boolean"!=typeof u.hidden&&"string"!=typeof u.visibilityState||!u.removeEventListener||((h=S())?(y(t,f),I()):n.on(u,r,function e(){(h=S())&&(d=n.time(),u.removeEventListener(r,e),y(t,d),y(i,d),I())})),n.once("$unload",b),n.once("$load",b),n.on("$beforePageTransition",E),n.on("$pageTransition",function(){d=n.time()}),n.register(e,{mark:y})}function y(e,t){null!=e&&(t=t||n.time(),e===i&&(d=t),l[e]=t,I(),n.emit("$timing:"+e,t))}function b(){!function(){if(!v){for(var e=0;e<c.length;e++)a[c[e]]&&y(c[e],a[c[e]]);v=1}}(),g=1,I(!0)}function I(e){g&&h&&!p&&(p=n.timeout(E,e?0:m))}function E(){0<Object.keys(l).length&&(o("log",{markers:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=Math.max(0,e[n]-t));return i}(l,d),markerTimestamps:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=Math.floor(e[t]));return e}(l),navigationStartTimestamp:d?new Date(d).toISOString():null,schemaId:"<ns>.PageLatency.5"},{ent:{page:["pageType","subPageType","requestId"]}}),l={}),p=0}function S(){return!u.hidden||"visible"===u.visibilityState}}),csa.plugin(function(s){var e="Metrics",t=s.config,u=t[e+".BatchInterval"]||3e3;function n(e){var t=e.producerId,n=e.logger,i=n||s("Events",{producerId:t}),r={},o=(e||{}).dimensions||{},a=0;if(!t&&!n)return s.error("Either a producer id or custom logger must be defined");function c(){Object.keys(r).length&&(i("log",{schemaId:e.schemaId||"<ns>.Metric.3",metrics:r,dimensions:o},e.logOptions||{ent:{page:["pageType","subPageType","requestId"]}}),r={}),a=0}this.recordMetric=function(e,t){r[e]=t,a=a||s.timeout(c,u)},s.on("$beforeunload",c),s.on("$beforePageTransition",c)}t["KillSwitch."+e]||(new n({producerId:"csa"}).recordMetric("baselineMetricEvent",1),s.register(e,{instance:function(e){return new n(e||{})}}))}),csa.plugin(function(c){var e=(c.global.performance||{}).timing,s=(e||{}).navigationStart||c.time(),u=c.config["Timers.BatchInterval"]||3e3;function t(e){var t=(e=e||{}).producerId,n=e.logger,i={},r=0,o=n||c("Events",{producerId:t});if(!t&&!n)return c.error("Either a producer id or custom logger must be defined");function a(){0<Object.keys(i).length&&(o("log",{markers:i,schemaId:e.schemaId||"<ns>.Timer.1"},e.logOptions),i={}),clearTimeout(r),r=0}this.mark=function(e,t){i[e]=(void 0===t?c.time():t)-s,r=r||c.timeout(a,u)},c.once("$beforeunload",a),c.once("$beforePageTransition",a)}e&&c.register("Timers",{instance:function(e){return new t(e||{})}})}),csa.plugin(function(n){var i,r,o,a,e=n.config,t="PageViews",c=e[t+".ImpressionMinimumTime"]||1e3,s="hidden",u="innerHeight",f="innerWidth",d="renderedTo",l=d+"Viewed",g=d+"Meaningful",p=d+"Impressed",m=1,v=2,h=3,y=4,b=5,I="loaded",E=7,S=8,w=n.global,d=n.on,T=n("Events",{producerId:"csa"}),O=w.document,k={},$={},P=b;if(!e["KillSwitch."+t]){if(!O||void 0===O[s])return x("PageStateChange.2",{state:"ignored"});M(),d(O,"visibilitychange",D,!1),d(O,"readystatechange",N,!1),d("$afterPageTransition",M),d("$timing:loaded",N),n.once("$load",N)}function C(e){var t;k[E]||(k[e]=n.time(),(i=e===h||e===I?i||k[e]:i)&&P===y&&(r=r||k[e],(t={})[g]=i-o,t[l]=r-o,x("PageView.4",t),a=a||n.timeout(U,c)),e!==b&&e!==m&&e!==v||(clearTimeout(a),a=0),e!==m&&e!==v||x("PageRender.3",{transitionType:e===m?"hard":"soft"}),e===E&&((t={})[g]=i-o,t[l]=r-o,t[p]=k[e]-o,x("PageImpressed.2",t)))}function x(e,t){$[e]||(t.schemaId="<ns>."+e,T("log",t,{ent:"all"}),$[e]=1)}function D(){0===w[u]&&0===w[f]?(P=S,n("Events")("setEntity",{page:{viewport:"hidden-iframe"}})):P=O[s]?b:y,C(P)}function U(){C(E),a=0}function M(){var e=o?v:m;k={},$={},r=i=0,o=n.time(),C(e),D()}function N(){var e=O.readyState;"interactive"===e&&C(h),"complete"===e&&C(I)}}),csa.plugin(function(c){var i,e="Content",t="MutationObserver",n="addedNodes",s="querySelectorAll",u="matches",a="getAttributeNames",f="getAttribute",d="dataset",r="producerId",l={ent:{element:1,page:["pageType","subPageType","requestId"]}},o=5,g=c.config[e+".BubbleUp.SearchDepth"]||20,p="csaC",m=p+"Id",v={},h=c.config,y=h[e+".Selectors"]||[],b=h[e+".WhitelistedAttributes"]||{href:1,class:1},I=h[e+".EnableContentEntities"],E=c.global,S=E.document||{},h=S.documentElement,w=E.HTMLElement,T={},O=[],k=function(e,t,n,i){var r=this,o=c("Events",{producerId:e||"csa"});t.type=t.type||"widget",r.id=t.id,r.l=o,r.e=t,r.el=n,r.rt=i,r.dlo=l,r.log=function(e,t){o("log",e,t||l)},t.id&&o("setEntity",{element:t})},$=k.prototype;function P(e){var t=(e=e||{}).element,n=e.target;return t?(e=e,(t=t)instanceof w?X(t)||N(e[r],t,j,c.time()):T[t.id]||L(e[r],0,t,c.time())):n?C(n):c.error("No element or target argument provided.")}function C(e){e=function(e){for(var t=null,n=0;e&&n<g;){if(n++,function(e,t){if(e&&e.dataset)return e.dataset[t]}(e,m)){t=e;break}e=e.parentElement}return t}(e);return e?X(e):new k("csa",{id:null},null,c.time())}function x(e,t,n){O.push({n:n,e:e,t:t}),U()}function D(){for(var e=c.time(),t=0;0<O.length;){var n=O.shift();if(v[n.n](n.e,n.t),++t%10==0&&c.time()-e>o)break}i=0,O.length&&U()}function U(){i=i||c.raf(D)}function M(e,t,n){return{n:e,e:t,t:n}}function N(e,t,n,i){var r=c.UUID(),o={id:r},a=C(t);return t[d][m]=r,n(o,t),a.id&&(o.parentId=a.id),L(e,t,o,i)}function L(e,t,n,i){I&&(n.schemaId="<ns>.ContentEntity.2"),n.id=n.id||c.UUID();t=new k(e,n,t,i);return I&&t.log({schemaId:"<ns>.ContentRender.1",timestamp:i}),c.emit("$content.register",t),T[n.id]=t}function X(e){return T[(e[d]||{})[m]]}function j(e,t){var n,i,r,o;a in t&&(r=t,o=e,Object.keys(r[d]).forEach(function(e){var t;!e.indexOf(p)&&p.length<e.length&&(t=((t=e.slice(p.length))[0]||"").toLowerCase()+t.slice(1),o[t]=r[d][e])}),i=e,((n=t)[a]()||[]).forEach(function(e){e in b&&(i[e]=n[f](e))}))}h&&S[s]&&E[t]&&(y.push({selector:"*[data-csa-c-type]",entity:j}),y.push({selector:".celwidget",entity:function(e,t){j(e,t),e.slotId=e.slotId||t[f]("cel_widget_id")||t.id,e.type=e.type||"widget"}}),v[1]=function(e,t){e.forEach(function(e){e[n]&&e[n].constructor&&"NodeList"===e[n].constructor.name&&Array.prototype.forEach.call(e[n],function(e){O.unshift(M(2,e,t))})})},v[2]=function(o,a){s in o&&u in o&&y.forEach(function(e){for(var t=e.selector,n=o[u](t),i=o[s](t),r=i.length-1;0<=r;r--)O.unshift(M(3,{e:i[r],s:e},a));n&&O.unshift(M(3,{e:o,s:e},a))})},v[3]=function(e,t){var n=e.e;X(n)||N("csa",n,e.s.entity,t)},v[4]=function(){c.register(e,{instance:P})},new E[t](function(e){x(e,c.time(),1)}).observe(h,{childList:!0,subtree:!0}),x(h,c.time(),2),x(null,c.time(),4),c.on("$content.export",function(t){Object.keys(t).forEach(function(e){$[e]=t[e]})}))}),csa.plugin(function(i){var n,e="ContentImpressions",t="KillSwitch.",r="IntersectionObserver",o="intersectionRatio",a=i.global,c=i.config,s=c[t+e],u=c[t+e+".ContentViews"],f=((a.performance||{}).timing||{}).navigationStart||i.time(),d={};!s&&a[r]&&(n=new a[r](function(e){e.forEach(function(e){var t,n=function(e){if(e&&e.getAttribute)return d[e.dataset.csaCId]}(e.target);n&&(t=e.intersectionRect,e.isIntersecting&&0<t.width&&0<t.height&&(u||n.v||(t=n)&&(t.v=1,(t=t).vt=i.time(),t.el.log({schemaId:"<ns>.ContentView.3",timeToViewed:t.vt-t.el.rt,pageFirstPaintToElementViewed:t.vt-f})),.5<=e[o]&&!n.is&&(n.is=i.time(),n.timer=i.timeout(function(){var e;(e=n)&&!e.it&&(e.i=1e3<i.time()-e.is,(e=e).it=i.time(),e.el.log({schemaId:"<ns>.ContentImpressed.2",timeToImpressed:e.it-e.el.rt,pageFirstPaintToElementImpressed:e.it-f}))},1e3))),e[o]<.5&&!n.it&&n.timer&&(a.clearTimeout(n.timer),n.is=0,n.timer=0))})},{threshold:[0,.5]}),i.on("$content.register",function(e){var t=e.el;t&&(d[e.id]={el:e,v:0,i:0,is:0,vt:0,it:0},n.observe(t))}))}),csa.plugin(function(i){var a=i.config["Interactions.ParentChainLength"]||15,r="touches",o="timeStamp",c="pageXOffset",s="pageYOffset",e={capture:!0,passive:!0},u=i.global,f=i.emit,t=i.on,d=u.Math.abs,n=(u.document||{}).documentElement||{},l={x:0,y:0,t:0,sX:0,sY:0},g={x:0,y:0,t:0,sX:0,sY:0};function p(e,t,o){var n=i("Content",{target:o}),e={schemaId:"<ns>.ContentInteraction.1",interaction:e,interactionData:t,messageId:i.UUID()};o&&((t=function e(t){if(t.id)return"//*[@id='"+t.id+"']";var n=function(e){for(var t=1,n=e.previousSibling;n;n=n.previousSibling)n.nodeName===e.nodeName&&(t+=1);return t}(t),i=t.nodeName;return 1!==n&&(i+="["+n+"]"),i=t.parentNode?e(t.parentNode)+"/"+i:i}(o))&&(e.attribution=t),(t=function(){for(var e=o,t=e.tagName,n=!1,i=o?o.href:null,r=0;r<a;r++){if(!e||!e.parentElement){n=!0;break}t=(e=e.parentElement).tagName+"/"+t,i=i||e.href}return{pc:t=!n?".../"+t:t,hr:i}}()).pc&&(e.interactionData.parentChain=t.pc),t.hr&&(e.interactionData.href=t.hr)),n("log",e),f("$content.interaction",e)}t(n,"click",function(e){p("click",{interactionX:""+e.pageX,interactionY:""+e.pageY},e.target)},e),t(n,"touchstart",function(e){var t;e&&e[r]&&1===e[r].length&&(t=e[r][0],g=l={e:e.target,x:t.pageX,y:t.pageY,t:e[o],sX:u[c],sY:u[s]})},e),t(n,"touchmove",function(e){var t,n,i;e&&e[r]&&1===e[r].length&&l&&g&&(t=e[r][0],n=(i=e[o])-g.t,i={e:e.target,x:t.pageX,y:t.pageY,t:i,sX:u[c],sY:u[s]},g=i,200<=n&&(l=i))},e),t(n,"touchend",function(e){var t,n,i,r;e&&(t=d(l.x-g.x),n=d(l.y-g.y),i=d(l.sX-g.sX),r=d(l.sY-g.sY),(250<1e3*t/(e=e[o]-l.t)&&5<t||250<1e3*n/e&&5<n)&&((e=n<t)&&i&&.5*t<=i||!e&&r&&.5*n<=r||p((e?"horizontal":"vertical")+"-swipe",{interactionX:""+l.x,interactionY:""+l.y,endX:""+g.x,endY:""+g.y},l.e)))},e)}),csa.plugin(function(i){i.config["KillSwitch.ContentLatency"]||i.emit("$content.export",{mark:function(e,t){var n=this;n.t||(n.t=i("Timers",{logger:n.l,schemaId:"<ns>.ContentLatency.1",logOptions:n.dlo})),n.t("mark",e,t)}})}),csa.plugin(function(e){var t="CacheDetection",i="csa-ctoken-",n=e.store,r=e.deleteStored,o=e.config,a=o[t+".RequestID"],c=o[t+".Callback"],s=e.global,u=s.document||{},f=s.Date,d=e("Events"),l=e("Events",{producerId:"csa"});function g(e){try{var t=u.cookie.match(RegExp("(^| )"+e+"=([^;]+)"));return t&&t[2].trim()}catch(e){}}o=function(){var e=g("cdn-rid");if(e)return{r:e,s:"cdn"}}()||function(){if(e.store(i+a))return{r:e.UUID().toUpperCase().replace(/-/g,"").slice(0,20),s:"device"}}()||{},t=o.r,s=o.s,t&&(o=g("session-id"),d("setEntity",{page:{pageSource:"cache",requestId:t,cacheRequestId:a},session:{id:o}}),l("log",{schemaId:"<ns>.CacheImpression.1"},{ent:"all"}),c&&c(t,o,s)),n(i+a,f.now()+36e5),e.once("$load",function(){var n=f.now();r(function(e,t){return 0==e.indexOf(i)&&parseInt(t)<n})})}),csa.plugin(function(c){var t,s="reload",u="new-tab",f="lastActive",d="lastInteraction",l="used",n="csa-tabbed-browsing",a="visibilityState",i={"back-memory-cache":1,"tab-switch":1,"history-navigation-page-cache":1},g="<ns>.TabbedBrowsing.2",p="visible",e=c.global,m=c("Events",{producerId:"csa"}),v=e.location||{},h=e.document,r=e.JSON,o=((e.performance||{}).navigation||{}).type,y=c.store,b=c.on,e=c.storageSupport(),I=!1,E={},S={},w={},T={},O=!1,k=!1,$=!1;function P(e){try{return r.parse(y(n,void 0,{session:e})||"{}")||{}}catch(e){c.error('Could not parse storage value for key "'+n+'": '+e)}return{}}function C(e,t){y(n,r.stringify(t||{}),{session:e})}function x(e){var t=S.tid||e.id,n=E[f]||{};n.tid===t&&(n.pid=e.id),T={pid:e.id,tid:t,lastInteraction:S[d]||{},initialized:!0},w={lastActive:n,lastInteraction:E[d]||{},time:c.time()}}function D(e){var t,n=e===u,i=h.referrer,r=!(i&&i.length&&~i.indexOf(v.origin||"")),o=n&&r,a={type:e,toTabId:T.tid,toPageId:T.pid,transitTime:c.time()-E.time||null};o||(t=a,i=e===s,r=n?E[f]||{}:S,o=E[d]||{},e=S[d]||{},n=n?o:e,t.fromTabId=r.tid,t.fromPageId=r.pid,i||!n.id||n[l]||(t.interactionId=n.id||null,o.id===n.id&&(o[l]=!0),e.id===n.id&&(e[l]=!0))),m("log",{navigation:a,schemaId:g},{ent:{page:["pageType","subPageType","requestId"]}})}function U(e){var t,n;n=e.transitionType,$=n&&n in i,function(){E=P(!1),S=P(!0);var e,t,n=E[d],i=S[d];n&&i&&n.id===i.id&&n[l]!==i[l]&&(e=!n[l],t=!i[l],i[l]=n[l]=!0,e&&C(!1,E),t&&C(!0,S))}(),x(e),O=!0,t=e,n=M(),e=N(),(n||e)&&x(t)}function M(){return!(!O||!t||(S[d]={id:t.messageId,used:!(E[d]={id:t.messageId,used:!1})},t=null))}function N(){var e,t,n,i,r,o=!1;return k=h[a]===p,O&&(r=E[f]||{},e=E,t=S.tid||r.tid||T.tid,n=S.pid||r.pid||T.pid,i=!1,r=e[f],k?r&&r.tid===T.tid&&r[p]&&r.pid===n||(e[f]={visible:!0,pid:n,tid:t},i=!0):r&&r.tid===T.tid&&r[p]&&(i=!(r[p]=!1)),o=i),o}e.local&&e.session&&r&&h&&a in h&&(b("$pageChange",function(e){U(e),I&&!$?D("ajax"):(I=!0,D(2===o||$?"history":1===o?S.initialized?s:u:S.initialized?"normal":u)),C(!1,w),C(!0,T),S=T,E=w},{buffered:1}),b("$content.interaction",function(e){t=e,M()&&(C(!1,E),C(!0,S))}),b(h,"visibilitychange",function(){N()&&C(!1,E)},{capture:!1,passive:!0}))});

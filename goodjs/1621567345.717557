(this.$WP=this.$WP||[]).push(["V_I8wA",(e,t)=>{"use strict";var i,r,s=e=>{var t=e.lastIndexOf(".");if(!(t<0))return e.substring(t).toLowerCase()},a=(e,t,i,r,a,n)=>{var o=((e,t,i)=>{if(i&&e.size>i)return"file_too_large";if(t){var r=s(e.name);if(!r)return"wrong_file_type";if(!t.includes(r))return"wrong_file_type"}})(e,i,r);o?a&&a(e,o):t(e,n)},n=(e,t,i,r,s)=>{if(e.dataTransfer.items)for(var n=0;n<e.dataTransfer.items.length;n++){var o=e.dataTransfer.items[n].getAsFile();a(o,t,i,r,s,"drag_drop")}else for(var l=0;l<e.dataTransfer.files.length;l++){var p=e.dataTransfer.files[l];a(p,t,i,r,s,"drag_drop")}};return[()=>{e("DropZone",r=class extends i.Component{constructor(e){super(e),this.fileInputRef=void 0,this.eventPreventDefault=e=>{e.preventDefault()},this.handleDragOver=e=>{e.preventDefault(),this.setState({isDragOver:!0})},this.handleDragLeave=e=>{e.preventDefault(),this.setState({isDragOver:!1})},this.handleDrop=e=>{e.preventDefault(),n(e,this.props.addFile,this.props.allowedFileTypes,this.props.maxSizeInBytes,this.props.fileRejected),this.setState({isDragOver:!1})},this.fileSelectionChanged=e=>{var t=e.target.files;Array.from(t).forEach(e=>a(e,this.props.addFile,this.props.allowedFileTypes,this.props.maxSizeInBytes,this.props.fileRejected,"file_picker")),this.fileInputRef.value=""},this.render=()=>{var e=this.props.allowMultipleSelection?{multiple:!0}:{};return i.createElement("div",{style:{width:this.props.width,height:this.props.height},className:"_2CbDFh2N "+(this.props.isDragOverOutsideComponent||this.state.isDragOver?"_20USjUZT":""),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:()=>this.fileInputRef.click()},i.createElement("input",Object.assign({style:{display:"none"},type:"file",name:"media",accept:this.props.allowedFileTypes.join(",")},e,{onChange:this.fileSelectionChanged,onClick:e=>e.stopPropagation(),ref:e=>{this.fileInputRef=e}})),this.props.children)},this.state={isDragOver:!1}}componentDidMount(){this.props.disableOnDropForPage&&(window.addEventListener("dragover",this.eventPreventDefault),window.addEventListener("drop",this.eventPreventDefault))}componentWillUnmount(){this.props.disableOnDropForPage&&(window.removeEventListener("dragover",this.eventPreventDefault),window.removeEventListener("drop",this.eventPreventDefault))}}),r.defaultProps={allowedFileTypes:["*"],allowMultipleSelection:!0,disableOnDropForPage:!0,isDragOverOutsideComponent:!1,width:"100%",height:"100%"},e({DropZone:r,fileExtension:s,maxImageUploadSizeInBytes:15728640,maxImageUploadSizeInMB:15,maxVideoUploadSizeInBytes:524288e3,maxVideoUploadSizeInMB:500,processFile:a,processFilesFromDrop:n})},[e=>i=e]]},["cDcdfi"]]);
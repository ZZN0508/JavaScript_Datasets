!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wafer-countdown",[],t):"object"==typeof exports?exports["wafer-countdown"]=t():(e.wafer=e.wafer||{},e.wafer.wafers=e.wafer.wafers||{},e.wafer.wafers["wafer-countdown"]=t())}("undefined"!=typeof self?self:this,function(){return n={"./src/base.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},l=window.wafer.base,i=24,d="hours",o=(o(s,[{key:"addBreakpointClass",value:function(e){var t=this._util.elem,n=t.classList,o=e.get("days"),r=e.get("hours"),a=e.get("minutes"),s=e.get("seconds"),u=0===o&&0!==r,f=0===o&&0===r&&0!==a,e=void 0;0===o&&0===r&&0===a&&0===s?(n.remove("wafer-countdown-lessthan24h","wafer-countdown-lessthan1h"),n.add("wafer-countdown-expired"),e="expired"):f?(n.remove("wafer-countdown-lessthan24h"),n.add("wafer-countdown-lessthan1h"),e="lessThanAnHour"):u&&(n.add("wafer-countdown-lessthan24h"),e="lessThanADay"),e&&l.emitWaferEvent("countdown:"+e,{elem:t,meta:{}})}},{key:"setupCount",value:function(u,f,l){function e(){var e,t,n,o,r,a,s=(e=f,r=Date.parse(e)-Date.parse(new Date),a=new Map,0<r?(t=Math.floor(r/1e3%60),n=Math.floor(r/1e3/60%60),o=Math.floor(r/36e5%i),e=Math.floor(r/864e5),a.set("total",r),a.set("days",e),a.set("hours",o),a.set("minutes",n),a.set("seconds",t)):(a.set("total",0),a.set("days",0),a.set("hours",0),a.set("minutes",0),a.set("seconds",0)),a);c.addBreakpointClass(s),u.forEach(function(e,t){var n=s.get(t);t===d&&l===d&&(n+=s.get("days")*i);n=10<=n?""+n:("0"+n).slice(-2);e.innerHTML!==n&&(e.innerHTML=n)}),s.get("total")<=0&&clearInterval(c._util.countTimeInterval)}var c=this,t=c._util.elem;e(),t.classList.add("wafer-countdown-started"),c._util.countTimeInterval=setInterval(e,1e3)}},{key:"destroy",value:function(){clearInterval(this._util.countTimeInterval)}}]),s);function s(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this._util={elem:t};var n,e,o,r=t.getAttribute("data-wf-countdown-type")||"",a=t.getAttribute("data-wf-countdown-largest-unit")||"";r&&d===a&&(e=new RegExp("(\\b"+a+";.*)","gm").exec(r),(e=Array.isArray(e)&&e[1])&&(r=e)),r&&(o=[],(e=r)&&"string"==typeof e&&e.split(";").forEach(function(e){o.push(e)}),r=o,n=new Map,r.forEach(function(e){n.set(e,t.getElementsByClassName("wafer-countdown-"+e)[0])}),(e=t.getAttribute("data-wf-countdown-enddate"))&&n.size===r.length&&this.setupCount(n,e,a))}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.default=o,e.exports=t.default},"./src/controller.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=window.wafer.controllers.WaferBaseController,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a);function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.root,t=void 0===t?document:t,e=e.selector,e=void 0===e?".wafer-countdown":e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n,n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{root:t,selector:e,WaferClass:(r||(n=o("./src/base.js"),r=n&&n.__esModule?n:{default:n})).default}));return n.sync(),n}t.default=n,e.exports=t.default},"./src/entry.js":function(e,t,n){"use strict";var o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=new(o||(r=n("./src/controller.js"),o=r&&r.__esModule?r:{default:r})).default({selector:".wafer-countdown"}),e.exports=t.default}},r={},o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://s.yimg.com/aaq/wf/",o(o.s="./src/entry.js");function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});

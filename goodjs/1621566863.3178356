import{D as e,S as t,i as s,s as n,e as l,k as a,t as r,c,a as o,n as i,g as h,d as u,b as f,E as m,f as d,F as g,h as v,v as p,j as $,m as b,o as E,r as y,w,B as I,u as A,G as x,l as D,H as j,I as N,J as k,K as V,z as L,L as S,M as P,N as M,O as _}from"../chunks/vendor-808bba56.js";import{b as C,a as T}from"../chunks/paths-2c73d5fe.js";import{a as U,d as q}from"../chunks/env-984c559a.js";import{g as B}from"../chunks/navigation-20968cc5.js";import{C as F}from"../chunks/index-b94d15cf.js";import"../chunks/singletons-bb9012b7.js";const R=()=>{const t=e("__svelte__");return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:t.navigating.subscribe}},session:t.session}},W={subscribe:e=>R().page.subscribe(e)},H={subscribe:e=>R().navigating.subscribe(e)};function J(e,t,s){const n=e.slice();return n[8]=t[s],n[10]=s,n}function O(e,t,s){const n=e.slice();return n[11]=t[s],n}function z(e,t,s){const n=e.slice();return n[11]=t[s],n}function G(e){let t,s,n=e[3][e[8].section]+"";return{c(){t=l("div"),s=r(n),this.h()},l(e){t=c(e,"DIV",{class:!0,style:!0});var l=o(t);s=h(l,n),l.forEach(u),this.h()},h(){f(t,"class","button svelte-173co1c"),m(t,"--icon","url('"+T+"/"+e[8].icon+"')")},m(e,n){d(e,t,n),g(t,s)},p(e,l){1&l&&n!==(n=e[3][e[8].section]+"")&&v(s,n),1&l&&m(t,"--icon","url('"+T+"/"+e[8].icon+"')")},d(e){e&&u(t)}}}function K(e){let t,s,n,a,i,m=e[11].name+"";return{c(){t=l("li"),s=l("a"),n=r(m),this.h()},l(e){t=c(e,"LI",{class:!0});var l=o(t);s=c(l,"A",{rel:!0,href:!0,class:!0});var a=o(s);n=h(a,m),a.forEach(u),l.forEach(u),this.h()},h(){f(s,"rel",a=e[11].rel),f(s,"href",i=e[11].url),f(s,"class","svelte-173co1c"),f(t,"class","svelte-173co1c")},m(e,l){d(e,t,l),g(t,s),g(s,n)},p(e,t){1&t&&m!==(m=e[11].name+"")&&v(n,m),1&t&&a!==(a=e[11].rel)&&f(s,"rel",a),1&t&&i!==(i=e[11].url)&&f(s,"href",i)},d(e){e&&u(t)}}}function Q(e){let t,s,n;return s=new F({props:{search:e[1]}}),s.$on("change",e[5]),{c(){t=l("div"),$(s.$$.fragment),this.h()},l(e){t=c(e,"DIV",{class:!0});var n=o(t);b(s.$$.fragment,n),n.forEach(u),this.h()},h(){f(t,"class","autocomplete-wrapper svelte-173co1c")},m(e,l){d(e,t,l),E(s,t,null),n=!0},p(e,t){const n={};2&t&&(n.search=e[1]),s.$set(n)},i(e){n||(p(s.$$.fragment,e),n=!0)},o(e){y(s.$$.fragment,e),n=!1},d(e){e&&u(t),w(s)}}}function X(e){let t,s=e[8].secondary,n=[];for(let l=0;l<s.length;l+=1)n[l]=ee(O(e,s,l));return{c(){t=l("ul");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=c(e,"UL",{class:!0});var s=o(t);for(let t=0;t<n.length;t+=1)n[t].l(s);s.forEach(u),this.h()},h(){f(t,"class","secondary svelte-173co1c"),x(t,"short",e[8].secondary.length<6)},m(e,s){d(e,t,s);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(e,l){if(1&l){let a;for(s=e[8].secondary,a=0;a<s.length;a+=1){const r=O(e,s,a);n[a]?n[a].p(r,l):(n[a]=ee(r),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=s.length}1&l&&x(t,"short",e[8].secondary.length<6)},d(e){e&&u(t),j(n,e)}}}function Y(e){let t,s,n,a,i,m=e[11].name+"";return{c(){t=l("li"),s=l("a"),n=r(m),this.h()},l(e){t=c(e,"LI",{class:!0});var l=o(t);s=c(l,"A",{rel:!0,href:!0,class:!0});var a=o(s);n=h(a,m),a.forEach(u),l.forEach(u),this.h()},h(){f(s,"rel",a=e[11].rel),f(s,"href",i=e[11].url),f(s,"class","svelte-173co1c"),f(t,"class","svelte-173co1c")},m(e,l){d(e,t,l),g(t,s),g(s,n)},p(e,t){1&t&&m!==(m=e[11].name+"")&&v(n,m),1&t&&a!==(a=e[11].rel)&&f(s,"rel",a),1&t&&i!==(i=e[11].url)&&f(s,"href",i)},d(e){e&&u(t)}}}function Z(e){let t,s,n,a,i,m=e[11].name+"";return{c(){t=l("li"),s=l("a"),n=r(m),this.h()},l(e){t=c(e,"LI",{class:!0});var l=o(t);s=c(l,"A",{rel:!0,href:!0,class:!0});var a=o(s);n=h(a,m),a.forEach(u),l.forEach(u),this.h()},h(){f(s,"rel",a=e[11].rel),f(s,"href",i=e[11].slug?`${C}/${e[11].slug}.html`:e[11].url),f(s,"class","svelte-173co1c"),f(t,"class","svelte-173co1c")},m(e,l){d(e,t,l),g(t,s),g(s,n)},p(e,t){1&t&&m!==(m=e[11].name+"")&&v(n,m),1&t&&a!==(a=e[11].rel)&&f(s,"rel",a),1&t&&i!==(i=e[11].slug?`${C}/${e[11].slug}.html`:e[11].url)&&f(s,"href",i)},d(e){e&&u(t)}}}function ee(e){let t;function s(e,t){return"usa"===e[8].section?Z:Y}let n=s(e),l=n(e);return{c(){l.c(),t=D()},l(e){l.l(e),t=D()},m(e,s){l.m(e,s),d(e,t,s)},p(e,a){n===(n=s(e))&&l?l.p(e,a):(l.d(1),l=n(e),l&&(l.c(),l.m(t.parentNode,t)))},d(e){l.d(e),e&&u(t)}}}function te(e){let t,s,n,v,$,b,E,w,x,D,N,k,V,L,S,P;let M=G(e),_=e[8].primary,C=[];for(let l=0;l<_.length;l+=1)C[l]=K(z(e,_,l));let T="usa"===e[8].section&&!U&&Q(e),q=e[8].secondary.length>0&&X(e);return{c(){t=l("div"),s=l("input"),v=a(),$=l("label"),M.c(),b=a(),E=l("label"),w=r("Close nav"),D=a(),N=l("div"),k=l("ul");for(let e=0;e<C.length;e+=1)C[e].c();V=a(),T&&T.c(),L=a(),q&&q.c(),S=a(),this.h()},l(e){t=c(e,"DIV",{class:!0});var n=o(t);s=c(n,"INPUT",{type:!0,id:!0,name:!0,class:!0}),v=i(n),$=c(n,"LABEL",{for:!0,style:!0,class:!0});var l=o($);M.l(l),b=i(l),E=c(l,"LABEL",{class:!0,for:!0});var a=o(E);w=h(a,"Close nav"),a.forEach(u),l.forEach(u),D=i(n),N=c(n,"DIV",{class:!0});var r=o(N);k=c(r,"UL",{class:!0});var f=o(k);for(let t=0;t<C.length;t+=1)C[t].l(f);f.forEach(u),V=i(r),T&&T.l(r),L=i(r),q&&q.l(r),r.forEach(u),S=i(n),n.forEach(u),this.h()},h(){f(s,"type","radio"),f(s,"id",n="nav-"+e[8].section),f(s,"name","nav"),f(s,"class","svelte-173co1c"),f(E,"class","reset svelte-173co1c"),f(E,"for","nav-dummy"),f($,"for",x="nav-"+e[8].section),m($,"left",100*e[10]/3+"%"),f($,"class","svelte-173co1c"),f(k,"class","primary svelte-173co1c"),f(N,"class","content svelte-173co1c"),f(t,"class","tab svelte-173co1c")},m(e,n){d(e,t,n),g(t,s),g(t,v),g(t,$),M.m($,null),g($,b),g($,E),g(E,w),g(t,D),g(t,N),g(N,k);for(let t=0;t<C.length;t+=1)C[t].m(k,null);g(N,V),T&&T.m(N,null),g(N,L),q&&q.m(N,null),g(t,S),P=!0},p(e,t){if((!P||1&t&&n!==(n="nav-"+e[8].section))&&f(s,"id",n),M.p(e,t),(!P||1&t&&x!==(x="nav-"+e[8].section))&&f($,"for",x),1&t){let s;for(_=e[8].primary,s=0;s<_.length;s+=1){const n=z(e,_,s);C[s]?C[s].p(n,t):(C[s]=K(n),C[s].c(),C[s].m(k,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=_.length}"usa"!==e[8].section||U?T&&(I(),y(T,1,1,(()=>{T=null})),A()):T?(T.p(e,t),1&t&&p(T,1)):(T=Q(e),T.c(),p(T,1),T.m(N,L)),e[8].secondary.length>0?q?q.p(e,t):(q=X(e),q.c(),q.m(N,null)):q&&(q.d(1),q=null)},i(e){P||(p(T),P=!0)},o(e){y(T),P=!1},d(e){e&&u(t),M.d(),j(C,e),T&&T.d(),q&&q.d()}}}function se(e){let t,s,n,r,h=e[0].sections,m=[];for(let l=0;l<h.length;l+=1)m[l]=te(J(e,h,l));const v=e=>y(m[e],1,1,(()=>{m[e]=null}));return{c(){t=l("nav"),s=l("input"),n=a();for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(e){t=c(e,"NAV",{class:!0});var l=o(t);s=c(l,"INPUT",{id:!0,type:!0,name:!0,tabindex:!0,class:!0}),n=i(l);for(let t=0;t<m.length;t+=1)m[t].l(l);l.forEach(u),this.h()},h(){f(s,"id","nav-dummy"),f(s,"type","radio"),f(s,"name","nav"),f(s,"tabindex","-1"),f(s,"class","svelte-173co1c"),f(t,"class","svelte-173co1c")},m(l,a){d(l,t,a),g(t,s),e[4](s),g(t,n);for(let e=0;e<m.length;e+=1)m[e].m(t,null);r=!0},p(e,[s]){if(11&s){let n;for(h=e[0].sections,n=0;n<h.length;n+=1){const l=J(e,h,n);m[n]?(m[n].p(l,s),p(m[n],1)):(m[n]=te(l),m[n].c(),p(m[n],1),m[n].m(t,null))}for(I(),n=h.length;n<m.length;n+=1)v(n);A()}},i(e){if(!r){for(let e=0;e<h.length;e+=1)p(m[e]);r=!0}},o(e){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)y(m[t]);r=!1},d(s){s&&u(t),e[4](null),j(m,s)}}}function ne(e,t,s){let n,{navigation:l}=t,a="";let r=!1;const c=W.subscribe((()=>{r&&(s(2,n.checked=!0,n),n.dispatchEvent(new InputEvent("change")))}));r=!0,N(c);return e.$$set=e=>{"navigation"in e&&s(0,l=e.navigation)},[l,a,n,{usa:"U.S.A.",world:"World",health:"Health"},function(e){k[e?"unshift":"push"]((()=>{n=e,s(2,n)}))},e=>{B(`${C}/${e.detail.value.slug}.html`,{noscroll:!0}).then((async()=>{s(1,a=" "),Promise.resolve().then((()=>{s(1,a="")}))}))}]}class le extends t{constructor(e){super(),s(this,e,ne,se,n,{navigation:0})}}function ae(e){let t,s;return{c(){t=l("div"),s=l("div"),this.h()},l(e){t=c(e,"DIV",{class:!0});var n=o(t);s=c(n,"DIV",{class:!0,style:!0}),o(s).forEach(u),n.forEach(u),this.h()},h(){f(s,"class","progress svelte-1wt7jrm"),m(s,"width",100*e[0]+"%"),f(t,"class","progress-container svelte-1wt7jrm")},m(e,n){d(e,t,n),g(t,s)},p(e,t){1&t&&m(s,"width",100*e[0]+"%")},d(e){e&&u(t)}}}function re(e){let t;return{c(){t=l("div"),this.h()},l(e){t=c(e,"DIV",{class:!0}),o(t).forEach(u),this.h()},h(){f(t,"class","fade svelte-1wt7jrm")},m(e,s){d(e,t,s)},d(e){e&&u(t)}}}function ce(e){let t,s,n=e[1]&&ae(e),l=e[0]>=.4&&re();return{c(){n&&n.c(),t=a(),l&&l.c(),s=D()},l(e){n&&n.l(e),t=i(e),l&&l.l(e),s=D()},m(e,a){n&&n.m(e,a),d(e,t,a),l&&l.m(e,a),d(e,s,a)},p(e,[a]){e[1]?n?n.p(e,a):(n=ae(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e[0]>=.4?l||(l=re(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:V,o:V,d(e){n&&n.d(e),e&&u(t),l&&l.d(e),e&&u(s)}}}function oe(e,t,s){let n=0,l=!1;return L((()=>{setTimeout((function e(){s(1,l=!0),s(0,n+=.1);const t=1-n;t>.15&&setTimeout(e,500/t)}),250)})),[n,l]}class ie extends t{constructor(e){super(),s(this,e,oe,ce,n,{})}}function he(e){let t,s,n,m,p,$,b=Math.round(e[1])+"";return{c(){t=l("div"),s=l("p"),n=r("fps: "),m=r(b),p=a(),$=l("canvas"),this.h()},l(e){t=c(e,"DIV",{class:!0});var l=o(t);s=c(l,"P",{class:!0});var a=o(s);n=h(a,"fps: "),m=h(a,b),a.forEach(u),p=i(l),$=c(l,"CANVAS",{class:!0}),o($).forEach(u),l.forEach(u),this.h()},h(){f(s,"class","svelte-1hlh8gs"),f($,"class","svelte-1hlh8gs"),f(t,"class","fps-meter svelte-1hlh8gs")},m(l,a){d(l,t,a),g(t,s),g(s,n),g(s,m),g(t,p),g(t,$),e[2]($)},p(e,[t]){2&t&&b!==(b=Math.round(e[1])+"")&&v(m,b)},i:V,o:V,d(s){s&&u(t),e[2](null)}}}function ue(e,t,s){let n,l=0,a=0;const r=Array(60).fill(0);return L((()=>{const e=n.getContext("2d"),t=n.offsetWidth*devicePixelRatio,c=n.offsetHeight*devicePixelRatio,o={x:S([0,1e3],[0,t]),y:S([0,60],[0,c])};s(0,n.width=t,n),s(0,n.height=c,n),e.fillStyle="rgba(0,200,0, 0.5)";let i=Date.now(),h=requestAnimationFrame((function n(){h=requestAnimationFrame(n);const u=Date.now(),f=u-i;l=1e3/f,r.unshift(f),r.pop(),s(1,a=function(){let e,t=0;for(e=0;e<r.length&&(t+=r[e],!(t>1e3));e+=1);return e}());const m=Math.round(o.x(f)),d=Math.round(o.y(l)),g=e.getImageData(0,0,t,c);e.putImageData(g,-m,0),e.clearRect(t-m,0,t,c),e.fillRect(t-m,c-d,m,d),i=u}));return()=>{cancelAnimationFrame(h)}})),[n,a,function(e){k[e?"unshift":"push"]((()=>{n=e,s(0,n)}))}]}class fe extends t{constructor(e){super(),s(this,e,ue,he,n,{})}}function me(e){let t,s,n,r,h,m,v=e[2]&&ge();r=new le({props:{navigation:e[0]}});const x=e[5].default,D=M(x,e,e[4],null);return{c(){v&&v.c(),t=a(),s=l("main"),n=l("div"),$(r.$$.fragment),h=a(),D&&D.c(),this.h()},l(e){v&&v.l(e),t=i(e),s=c(e,"MAIN",{class:!0});var l=o(s);n=c(l,"DIV",{class:!0});var a=o(n);b(r.$$.fragment,a),a.forEach(u),h=i(l),D&&D.l(l),l.forEach(u),this.h()},h(){f(n,"class","g-column"),f(s,"class","covid-tracker")},m(e,l){v&&v.m(e,l),d(e,t,l),d(e,s,l),g(s,n),E(r,n,null),g(s,h),D&&D.m(s,null),m=!0},p(e,s){e[2]?v?4&s&&p(v,1):(v=ge(),v.c(),p(v,1),v.m(t.parentNode,t)):v&&(I(),y(v,1,1,(()=>{v=null})),A());const n={};1&s&&(n.navigation=e[0]),r.$set(n),D&&D.p&&16&s&&_(D,x,e,e[4],s,null,null)},i(e){m||(p(v),p(r.$$.fragment,e),p(D,e),m=!0)},o(e){y(v),y(r.$$.fragment,e),y(D,e),m=!1},d(e){v&&v.d(e),e&&u(t),e&&u(s),w(r),D&&D.d(e)}}}function de(e){let t;const s=e[5].default,n=M(s,e,e[4],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,s){n&&n.m(e,s),t=!0},p(e,t){n&&n.p&&16&t&&_(n,s,e,e[4],t,null,null)},i(e){t||(p(n,e),t=!0)},o(e){y(n,e),t=!1},d(e){n&&n.d(e)}}}function ge(e){let t,s;return t=new ie({}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){E(t,e,n),s=!0},i(e){s||(p(t.$$.fragment,e),s=!0)},o(e){y(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function ve(e){let t,s,n,l,r,c;const o=[de,me],h=[];function f(e,s){return 2&s&&(t=!(!e[1].path.startsWith("/embeds")&&!e[1].path.startsWith("/promo-images"))),t?0:1}s=f(e,-1),n=h[s]=o[s](e);let m=e[3]&&function(e){let t,s;return t=new fe({}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){E(t,e,n),s=!0},i(e){s||(p(t.$$.fragment,e),s=!0)},o(e){y(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}();return{c(){n.c(),l=a(),m&&m.c(),r=D()},l(e){n.l(e),l=i(e),m&&m.l(e),r=D()},m(e,t){h[s].m(e,t),d(e,l,t),m&&m.m(e,t),d(e,r,t),c=!0},p(e,[t]){let a=s;s=f(e,t),s===a?h[s].p(e,t):(I(),y(h[a],1,1,(()=>{h[a]=null})),A(),n=h[s],n?n.p(e,t):(n=h[s]=o[s](e),n.c()),p(n,1),n.m(l.parentNode,l))},i(e){c||(p(n),p(m),c=!0)},o(e){y(n),y(m),c=!1},d(e){h[s].d(e),e&&u(l),m&&m.d(e),e&&u(r)}}}async function pe({fetch:e}){const t=t=>e(`${T}/${t}`).then((async e=>{if(e.ok)try{return await e.json()}catch(s){throw new Error(`Error loading JSON (${t}): ${s.message}`)}throw new Error(`Error loading JSON (${t}): ${e.status}`)}));return{props:{navigation:await t("page/navigation.json")},context:{json:t}}}function $e(e,t,s){let n,l;P(e,W,(e=>s(1,n=e))),P(e,H,(e=>s(2,l=e)));let{$$slots:a={},$$scope:r}=t,{navigation:c}=t;{const e=document.querySelector("link[rel=canonical]");let t=null,s=document.querySelector('meta[name="pubp_event_id"]');H.subscribe((n=>{n?t=window.location.href:t&&setTimeout((()=>{e.href=window.location.href,s&&(s.remove(),s=null),dataLayer.push({event:"trackVirtualPage",asset:{url:window.location.href},referrer:{url:t}}),AdSlot4.refreshAds&&AdSlot4.refreshAds()}))}))}const o=q;return e.$$set=e=>{"navigation"in e&&s(0,c=e.navigation),"$$scope"in e&&s(4,r=e.$$scope)},[c,n,l,o,r,a]}export default class extends t{constructor(e){super(),s(this,e,$e,ve,n,{navigation:0})}}export{pe as load};
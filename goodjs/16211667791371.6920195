define(["librastandardlib/dom-utils/smoothScrollToElem","libra/dom-utils/smoothScrollOptions"],function(i,s){"use strict";function o(t){this.$elem=$(t),this.options=$.extend({},e,this.$elem.data()),this.$tabContentGroup=this.$elem.children(this.options.tabContentGroupSelector),this.$tabContent=this.$tabContentGroup.children(this.options.tabContentItemSelector),this.$triggersGroup=this.$elem.children(this.options.triggersGroupSelector),this.$triggers=this.$triggersGroup.children(this.options.triggerSelector),this.$accordionTriggers=this.$tabContentGroup.children("."+this.options.accordionTriggerClass),this.bindHandlers()}var e={activeClass:"lb-active",triggerSelector:".lb-tabs-trigger",triggersGroupSelector:".lb-tabs-triggers",accordionTriggerClass:"lb-tabs-accordion-trigger",accordionHideContentClass:"lb-accordion-content-hide",tabContentGroupSelector:".lb-tabs-content",tabContentItemSelector:".lb-tabs-content-item",tabChangeEvent:"custom_lb-tabs_change",contentRevealEvent:"custom_lb-comp-content-container_reveal",transitionDoneWaitTime:300};return o.prototype={bindHandlers:function(){var i=this;this.$triggersGroup.on("click","> li",function(t){t.preventDefault(),i.toggle(this,i.$triggers)}),this.$tabContentGroup.on("click","> ."+this.options.accordionTriggerClass,function(t){t.preventDefault(),i.toggle(this,i.$accordionTriggers)})},checkIfAccordion:function(){this.isAccordion=!1,this.$accordionTriggers.first().is(":visible")&&(this.isAccordion=!0)},toggle:function(t,i){this.$trigger=$(t),this.idx=i.index(this.$trigger),this.$targetContent=this.$tabContent.eq(this.idx),this.$triggers.add(this.$accordionTriggers).removeClass(this.options.activeClass),this.$triggers.eq(this.idx).addClass(this.options.activeClass),this.$accordionTriggers.eq(this.idx).addClass(this.options.activeClass),this.checkIfAccordion(),!this.$targetContent.hasClass(this.options.activeClass)||this.isAccordion&&this.$targetContent.hasClass(this.options.accordionHideContentClass)?this.expand(this.idx):this.$trigger.hasClass(this.options.accordionTriggerClass)&&(this.collapseAccordionsOnExpand(),this.collapse())},expand:function(){var t=this.$accordionTriggers.eq(this.idx);this.collapseOtherTabsOnExpand(),this.collapseAccordionsOnExpand(),this.$targetContent.removeClass(this.options.accordionHideContentClass),this.$targetContent.outerWidth(),this.$targetContent.addClass(this.options.activeClass),this.$targetContent.trigger(this.options.tabChangeEvent),setTimeout(function(){this.$targetContent.trigger(this.options.contentRevealEvent)}.bind(this),this.options.transitionDoneWaitTime),this.isAccordion&&i(t,s)},collapse:function(){this.$trigger.removeClass(this.options.activeClass),this.$targetContent.trigger("custom_lb_comp-content-container_close"),this.$targetContent.addClass(this.options.accordionHideContentClass),this.$targetContent.trigger(this.options.tabChangeEvent)},collapseOtherTabsOnExpand:function(){var t=this.$tabContentGroup.children(this.options.tabContentItemSelector+"."+this.options.activeClass);t.trigger("custom_lb_comp-content-container_close"),t.removeClass(this.options.activeClass)},collapseAccordionsOnExpand:function(){this.$tabContentGroup.children("."+this.options.accordionHideContentClass).removeClass(this.options.accordionHideContentClass)}},Libra.Comp.register({name:"tabs",initFct:function(t){new o(t)},initTime:"documentReady"}),o});

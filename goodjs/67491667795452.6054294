_satellite.__registerScript("https://assets.adobedtm.com/bb77750356fd/42bfe6bcc850/7ff89b7f1a62/RC1a7072be752f45e9b21f3e68b6a9fa0c-source.min.js",'<script type="text/javascript">\nvar chartbeatStart = window.performance ? window.performance.mark("chartbeat_start") : new Date().getTime();\n\nvar _sf_async_config = _sf_async_config || {};\n\nvar metaAuthor = document.querySelector(\'meta[name="DCSext.author"]\');\nvar metaAuthorContent = metaAuthor && metaAuthor.getAttribute("content");\nvar metaSegment = document.querySelector(\'meta[name="tmgads.businessSegment"]\');\nvar metaSegmentContent = metaSegment && metaSegment.getAttribute("content");\n\nvar metaArticleId = document.querySelector(\'meta[name="tmgads.articleid"]\');\nvar articleId = metaArticleId && metaArticleId.getAttribute("content");\nvar metaPageType = document.querySelector(\'meta[name="tmgads.pagetype"]\');\nvar pageType = metaPageType && metaPageType.getAttribute("content");\nvar metaChannel = document.querySelector(\'meta[name="tmgads.channel"]\');\nvar channel = metaChannel && metaChannel.getAttribute("content");\n\nvar allowedChannelsList = [ "portal", "news", "technology", "business", "opinion", "sport", "football", "politics", "lifestyle" ];\nvar isOnAllowedChannels = allowedChannelsList.indexOf(channel) > -1;\n\nvar getUserStatus = function() {\n    if (typeof tmg != "undefined" && tmg.user.isLoggedIn()) {\n        return tmg.user.isSubscriber() ? \'paid\' : \'lgdin\'\n    } else {\n        return \'anon\'\n    }\n};\n\nvar getAdobeVisitorID = function() {\n    return (typeof s != "undefined" && s.marketingCloudVisitorID) ? s.marketingCloudVisitorID : \'00000000000000000000000000000000000000\';\n};\n\n/** CONFIGURATION START **/\n_sf_async_config.uid = 65595;\n_sf_async_config.idSync = {\n    "mcvid": getAdobeVisitorID(),\n    "articleId": articleId\n};\n_sf_async_config.domain = \'telegraph.co.uk\';\n_sf_async_config.useCanonical = true;\n_sf_async_config.useCanonicalDomain = true;\n_sf_async_config.sections = metaSegmentContent;\n_sf_async_config.authors = metaAuthorContent;\n_sf_async_config.videoType = \'ooyala\';\n_sf_async_config.autoDetect = false;\n_sf_async_config.flickerControl = false;\n\n/** CONFIGURATION END **/\n\n/** Push appropriate [\'key\', \'value\'] pair for given user type to _cbq array **/\nvar _cbq = window._cbq = (window._cbq || []);\n_cbq.push([\'_acct\', getUserStatus()]);\n\n\n(function() {\n\n    function loadChartbeat() {\n        window._sf_endpt = (new Date()).getTime();\n        var e = document.createElement(\'script\');\n        e.setAttribute(\'language\', \'javascript\');\n        e.setAttribute(\'type\', \'text/javascript\');\n        e.setAttribute(\'async\', true);\n        e.setAttribute(\'src\', \'//static.chartbeat.com/js/chartbeat_video.js\');\n        e.setAttribute(\'data-test\', window._sf_endpt);\n        document.body.appendChild(e);\n\n        if (isOnAllowedChannels && pageType === "index") {\n            var f = document.createElement(\'script\');\n            f.setAttribute(\'language\', \'javascript\');\n            f.setAttribute(\'type\', \'text/javascript\');\n            f.setAttribute(\'async\', true);\n            f.setAttribute(\'src\', \'//static.chartbeat.com/js/chartbeat_mab.js\');\n            document.body.appendChild(f);\n        }\n    }\n    \n    /** TELL CHARTBEAT TO AUTODETECT YOUTUBE VIDEOS **/\n    var _cbv = window._cbv || (window._cbv = []);\n    loadChartbeat();\n})();\n\nvar chartbeatEnd = window.performance ? window.performance.mark("chartbeat_end") : new Date().getTime();\nif (!window.performance && console) {\n    console.log("Affiliate Tracking load time is:" + (chartbeatEnd - chartbeatStart))\n} else if (window.performance) {\n    window.performance.measure("js_chartbeat_track", "chartbeat_start", "chartbeat_end")\n    window.performance.clearMarks("chartbeat_start");\n    window.performance.clearMarks("chartbeat_end");\n}\n<\/script>');

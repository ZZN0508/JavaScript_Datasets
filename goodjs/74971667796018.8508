!function(a){"use strict";var e,t,e=(e=akamai.amp.Plugin,babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onready",value:function(a){this.player.addEventListener("adbreakstart",this.onadbreakstart.bind(this)),this.player.addEventListener("admanagerloaded",this.onadmanagerloaded.bind(this))}},{key:"track",value:function(){var a,e=this.data,t=this.adsManagerVO;null!=initMoatTracking&&null!=t&&null!=e&&(a={partnerCode:e.partnerCode,viewMode:t.viewMode,slicer1:e.slicer1,slicer2:e.slicer2},initMoatTracking(t.adManager,Object.assign(a,e.data),t.adContainer))}},{key:"onmediachange",value:function(a){this.adsManagerVO=null}},{key:"onadbreakstart",value:function(a){this.track()}},{key:"onadmanagerloaded",value:function(a){this.adsManagerVO=a.detail,this.track()}}]),i);function i(a,e){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,a,e))}try{var r=(t=akamai.amp.FlashPlugin,babelHelpers.inherits(l,t),babelHelpers.createClass(l,[{key:"createXML",value:function(a){var e=this,t=a.detail.xml,i=t.firstChild,a=t.getElementsByTagName("metrics")[0];null==a&&(a=t.createElement("metrics"),i.appendChild(a));var r=t.createElement("vendor");r.setAttribute("id","moat"),a.appendChild(r),[{value:this.config.partnerCode,key:"partnerCode"},{value:this.config.slicer1,key:"slicer1"},{value:this.config.slicer2,key:"slicer2"}].forEach(function(a){null!=a.value&&e.createProperty(t,a.key,a.value,r)})}},{key:"flashPlugins",get:function(){return[{id:"MOATAnalyticsPlugin",src:"#{paths.resources}plugins/MOATAnalyticsPlugin.swf",blocking:!1,host:"akamai",main:"MOATAnalyticsPlugin"}]}}]),l);akamai.amp.AMP.registerPlugin("moat","flash",akamai.amp.Plugin.createFactory(r))}catch(a){0}function l(a,e){babelHelpers.classCallCheck(this,l);a=babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,e));return null==e.data&&(e.data={partnerCode:a.config.partnerCode,slicer1:a.config.slicer1,slicer2:a.config.slicer2}),a}akamai.amp.AMP.registerPlugin("moat","html",akamai.amp.Plugin.createFactory(e)),a.Moat=e}(this.akamai.amp.moat=this.akamai.amp.moat||{});

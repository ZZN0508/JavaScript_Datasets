String.prototype.escapeSelector=function(){return this.replace(/(.|#)([ #;&,.+*~\':"!^$\[\]\(\)=>|\/])/g,"$1\\\\$2")},String.prototype.toInt=function(){return parseInt(this)},function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(r){"use strict";function a(t){return!t.nodeName||-1!==r.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function e(t){return r.isFunction(t)||r.isPlainObject(t)?t:{top:t,left:t}}var $=r.scrollTo=function(t,e,n){return r(window).scrollTo(t,e,n)};return $.defaults={axis:"xy",duration:0,limit:!0},r.fn.scrollTo=function(t,n,g){"object"==typeof n&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===t&&(t=9e9),g=r.extend({},$.defaults,g),n=n||g.duration;var p=g.queue&&1<g.axis.length;return p&&(n/=2),g.offset=e(g.offset),g.over=e(g.over),this.each(function(){function s(t){var e=r.extend({},g,{queue:!0,duration:n,complete:t&&function(){t.call(l,d,g)}});f.animate(h,e)}if(null!==t){var c,u=a(this),l=u?this.contentWindow||window:this,f=r(l),d=t,h={};switch(typeof d){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)){d=e(d);break}d=u?r(d):r(d,l);case"object":if(0===d.length)return;(d.is||d.style)&&(c=(d=r(d)).offset())}var m=r.isFunction(g.offset)&&g.offset(l,d)||g.offset;r.each(g.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",o=n.toLowerCase(),r="scroll"+n,a=f[r](),i=$.max(l,e);c?(h[r]=c[o]+(u?0:a-f.offset()[o]),g.margin&&(h[r]-=parseInt(d.css("margin"+n),10)||0,h[r]-=parseInt(d.css("border"+n+"Width"),10)||0),h[r]+=m[o]||0,g.over[o]&&(h[r]+=d["x"===e?"width":"height"]()*g.over[o])):(n=d[o],h[r]=n.slice&&"%"===n.slice(-1)?parseFloat(n)/100*i:n),g.limit&&/^\d+$/.test(h[r])&&(h[r]=h[r]<=0?0:Math.min(h[r],i)),!t&&1<g.axis.length&&(a===h[r]?h={}:p&&(s(g.onAfterFirst),h={}))}),s(g.onAfter)}})},$.max=function(t,e){var n="scroll"+(o="x"===e?"Width":"Height");if(!a(t))return t[n]-r(t)[o.toLowerCase()]();var o="client"+o,t=(e=t.ownerDocument||t.document).documentElement,e=e.body;return Math.max(t[n],e[n])-Math.min(t[o],e[o])},r.Tween.propHooks.scrollLeft=r.Tween.propHooks.scrollTop={get:function(t){return r(t.elem)[t.prop]()},set:function(t){var e=this.get(t);if(t.options.interrupt&&t._last&&t._last!==e)return r(t.elem).stop();var n=Math.round(t.now);e!==n&&(r(t.elem)[t.prop](n),t._last=this.get(t))}},$});var PHP_NET={HEADER_HEIGHT:52};Mousetrap.bind("up up down down left right left right b a enter",function(){$(".brand img").attr("src","/images/php_konami.gif")}),Mousetrap.bind("?",function(){$("#trick").slideToggle()}),Mousetrap.bind("esc",function(){$("#trick").slideUp(),$("#goto").slideUp(),$("html").off("keydown"),$("html").off("keypress")}),Mousetrap.bind("G",function(){var t=$(document).height();$.scrollTo(t,10)}),Mousetrap.bind("g h",function(){window.location.href="/"}),Mousetrap.bind("g g",function(){$.scrollTo(0,10)}),Mousetrap.bind("g p",function(){var t=$("link[rel=prev]").attr("href");t&&(window.location.href=t)}),Mousetrap.bind("g n",function(){var t=$("link[rel=next]").attr("href");t&&(window.location.href=t)}),Mousetrap.bind("b o r k",function(){$("*:not(iframe)").contents().filter(function(){return 3===this.nodeType&&/[^\t\n\r ]/.test(this.textContent)}).each(function(t,e){e.textContent=function(t){for(var e=[[/a([nu])/g,"u$1"],[/A([nu])/g,"U$1"],[/a\B/g,"e"],[/A\B/g,"E"],[/en\b/g,"ee"],[/\Bew/g,"oo"],[/\Be\b/g,"e-a"],[/\be/g,"i"],[/\bE/g,"I"],[/\Bf/g,"ff"],[/\Bir/g,"ur"],[/(\w*?)i(\w*?)$/g,"$1ee$2"],[/\bow/g,"oo"],[/\bo/g,"oo"],[/\bO/g,"Oo"],[/the/g,"zee"],[/The/g,"Zee"],[/th\b/g,"t"],[/\Btion/g,"shun"],[/\Bu/g,"oo"],[/\BU/g,"Oo"],[/v/g,"f"],[/V/g,"F"],[/w/g,"w"],[/W/g,"W"],[/([a-z])[.]/g,"$1. Bork Bork Bork!"]],n=0;n<e.length;n++)t=t.replace(e[n][0],e[n][1]);return t}(e.textContent)}),Mousetrap.unbind("b o r k")});var FIXED_HEADER_HEIGHT=50;function cycle(t,e){e.removeClass("current"),t.addClass("current"),$.scrollTo(t.offset().top-FIXED_HEADER_HEIGHT)}function getNextOrPreviousSibling(t,e){return e?t.next():t.prev()}function cycleMenuItems(t,e){getNextOrPreviousSibling(t,e).length&&(cycle(getNextOrPreviousSibling(t,e),t),curr.children("a").first().focus().css({outline:"none"}))}function cycleHeaders(n,o){var r=0;n.each(function(t,e){if($(e).hasClass("current")&&$(n[o?t+1:t-1]).length)return cycle($(n[o?t+1:t-1]),$(e)),!(r=1)}),r||cycle($(n[o?0:n.length-1]),$(n[o?n.length-1:0]))}function lookfor(t){t=$("#layout a:icontains('"+t+"')");$(t).each(function(t,e){$("#goto .results ul").append("<li><a href='"+$(e).attr("href")+"'>"+$(e).text()+"</a></li>")})}function localpage(t){lookfor(t)}function boogie(t,n){n($("#goto .text").text()),$("#goto .results a:first").focus(),$("#goto").slideToggle(),$("html").on("keydown",function(t){switch(t.which||t.keyCode){case 8:var e=(e=$("#goto .text").text()).substring(0,e.length-1);$("#goto .text").text(e),$("#goto .results ul").empty(),n(e),$("#goto .results a:first").focus(),t.preventDefault();break;case 13:return Mousetrap.unpause(),Mousetrap.trigger("esc"),!0;case 9:$(document.activeElement).parent().next().first().focus();break;case 27:Mousetrap.unpause(),Mousetrap.trigger("esc")}}),$("html").on("keypress",function(t){if(13==t.which)return!0;t.preventDefault();t=String.fromCharCode(t.which||t.keyCode);$("#goto .text").append(t);t=$("#goto .text").text().trim();$("#goto .results ul").empty(),n(t),$("#goto .results a:first").focus()}),Mousetrap.pause()}function globalsearch(t){var e=window.localStorage.getItem("search-en"),e=JSON.parse(e),n=t.toLowerCase();if(!(n.length<3)&&e)for(var o in e.data){console.log(o);var r,a=e.data[o].elements;for(r in a)if((a[r].description.toLowerCase().contains(n)||a[r].name.toLowerCase().contains(n))&&($("#goto .results ul").append("<li><a href='/manual/en/"+a[r].id+".php'>"+a[r].name+": "+a[r].description+"</a></li>"),30<$("#goto .results ul li")))return}}Mousetrap.bind("j",function(){var t=$(".layout-menu .current");t.length?cycleMenuItems(t,1):cycleHeaders($("#layout-content h1, #layout-content h2, #layout-content h3"),1)}),Mousetrap.bind("k",function(){var t=$(".layout-menu .current");t.length?cycleMenuItems(t,0):cycleHeaders($("#layout-content h1, #layout-content h2, #layout-content h3"),0)}),$.expr[":"].icontains=$.expr.createPseudo(function(e){return function(t){return 0<=$(t).text().toUpperCase().indexOf(e.toUpperCase())}}),Mousetrap.bind("g s",function(t){boogie(t,localpage)}),"contains"in String.prototype||(String.prototype.contains=function(t,e){return-1!==String.prototype.indexOf.call(this,t,e)}),Mousetrap.bind("g a",function(t){boogie(t,globalsearch)}),Mousetrap.bind("/",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,$("input[type=search]").focus()});var rotate=0;Mousetrap.bind("r o t a t e enter",function(t){360<(rotate+=90)&&(rotate=0),$("html").css("-webkit-transform","rotate("+rotate+"deg)"),$("html").css("-moz-transform","rotate("+rotate+"deg)"),$("html").css("-o-transform","rotate("+rotate+"deg)"),$("html").css("-ms-transform","rotate("+rotate+"deg)"),$("html").css("transform","rotate("+rotate+"deg)")});var scale=1;function fixTimeout(){Mousetrap.trigger("m i r r o r enter"),setTimeout(function(){Mousetrap.trigger("m i r r o r enter")},200),setTimeout(function(){fixTimeout()},3e4)}function fixEdges(t){360<t?(t=0,$("html").css("zoom",1),$("html").css("-moz-transform","scale(1)"),$("html").css("-webkit-transform","scale(1)"),setTimeout(function(){fixEdges(36)},3e4)):($("html").css("zoom",.5),$("html").css("-moz-transform","scale(0.5)"),$("html").css("-webkit-transform","scale(0.5)"),setTimeout(function(){fixEdges(t+36)},100)),$("html").css("-webkit-transform","rotate("+t+"deg)"),$("html").css("-moz-transform","rotate("+t+"deg)"),$("html").css("-o-transform","rotate("+t+"deg)"),$("html").css("-ms-transform","rotate("+t+"deg)"),$("html").css("transform","rotate("+t+"deg)")}function flashMessage(t){var e,n,o;t.jquery?e={timeout:t.data("timeout")}:(e=$.extend({timeout:6e3,type:"success",text:"",parent:"#flash-message"},t),n="id_"+Math.random().toString().replace("0.",""),o=$("<div>").addClass("message "+e.type).data("type",e.type).attr("id",n).html(e.text),$(e.parent).append(o),t=$("#"+n));function r(t){t.slideUp(400,function(){$(this).remove()})}return e.timeout&&setTimeout(function(){t.length&&r(t)},e.timeout),t.on("click",function(){r($(this))}),!0}function getLanguage(){return document.documentElement.lang}Mousetrap.bind("m i r r o r enter",function(t){scale*=-1,$("html").css("-webkit-transform","scaleX("+scale+")"),$("html").css("-moz-transform","scaleX("+scale+")"),$("html").css("-o-transform","scaleX("+scale+")"),$("html").css("-ms-transform","scaleX("+scale+")"),$("html").css("transform","scaleX("+scale+")")}),Mousetrap.bind("I space h a t e space P H P enter",function(t){window.location="http://python.org"}),Mousetrap.bind("I space l o v e space P H P enter",function(t){flashMessage({text:"Live long and prosper !"})}),Mousetrap.bind("l o g o enter",function(t){var e=(new Date).getTime();$(".brand img").attr("src","/images/logo.php?refresh&time="+e)}),Mousetrap.bind("u n r e a d a b l e enter",function(t){document.cookie="MD=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",location.reload(!0)}),Mousetrap.bind("r e a d a b l e enter",function(t){document.cookie="MD=1; path=/",location.reload(!0)}),$(document).ready(function(){var t=$(".docs"),e=t.find(".refentry .refsect1");t.find("div[id]").children("h1, h2, h3, h4").each(function(){$(this).append("<a class='genanchor' href='#"+$(this).parent().attr("id")+"'> Â¶</a>")}),$(".refentry code.parameter").click(function(t){var e=$(this).text().replace(/^&?(\.\.\.)?\$?/g,""),n=$(".parameters, .options").find(".parameter").filter(function(){return $(this).text()===e}).offset().top-52;$.scrollTo({top:n,left:0},400)}),$("h1[id], h2[id], h3[id], h4[id]").each(function(){var t=$(this);t.append("<a class='genanchor' href='#"+t.attr("id")+"'> Â¶</a>")});function n(){var r,a;void 0!==Modernizr.datauri?(r=$(".elephpants"),Modernizr.datauri?(a=r.find(".images")).first().each(function(t,o){function e(){var t=Math.ceil($(document).width()/75)-a.find("img").length;t<1||$.ajax({url:"/images/elephpants.php?count="+t,dataType:"json",success:function(t){var e,n;for(e in t)e=t[e],link=$("<a>"),link.attr("href",e.url),link.attr("title",e.title),(n=$("<img>")).attr("src","data:image/jpeg;base64,"+e.data),$(o).append(link.append(n))},error:function(){r.hide()}})}e();var n=null;$(window).resize(function(){window.clearTimeout(n),n=window.setTimeout(function(){e()},250)})}):r.hide()):window.setTimeout(n,100)}n(),e.find("p").each(function(){var t=$(this),e=t.html();null!==e&&0==e.replace(/\s|&nbsp;/g,"").length&&t.remove()}),function(){var e=200,n=600,o=400,r=400,a="linear",i=!0,s=$("#"+"toTop");s.click(function(t){t.preventDefault(),$.scrollTo(0,r,{easing:a})}),$(window).scroll(function(){var t=$(this).scrollTop();e<t&&i?(s.fadeIn(n),i=!1):t<=e&&!i&&(s.fadeOut(o),i=!0)})}(),$("#usernotes a.usernotes-voteu, #usernotes a.usernotes-voted").each(function(){$(this).click(function(t){t.preventDefault();var t=$(this).attr("href"),n=t.match(/\?id=(\d+)/)[1],t=$.ajax({type:"POST",url:t,dataType:"json",headers:{"X-Json":"On"},beforeSend:function(){$("#Vu"+n).hide(),$("#Vd"+n).hide(),$("#V"+n).html('<img src="/images/working.gif" alt="Working..." border="0" title="Working...">')}});t.done(function(t){var e;null!=t.success&&1==t.success?($("#V"+n).html('<div style="float: left; width: 16px; height: 16px; background-image: url(/images/notes-features.png); background-position:-32px 16px; margin-right: 8px; overflow: hidden;" border="0" alt="success" title="Thank you for voting!"></div>'+t.update),flashMessage({text:"Thank you for voting!"})):(e="Error :(",null!=t.msg&&(e=t.msg),$("#V"+n).html('<div style="float: left; width: 16px; height: 16px; background-image: url(/images/notes-features.png); background-position:-32px 0px; margin-right: 8px; overflow: hidden;" border="0" alt="fail" title="'+e+'"></div>'),flashMessage({text:"Unexpected error occured, please try again later!",type:"error"}))}),t.fail(function(t,e){$("#Vu"+n).show(),$("#Vd"+n).show(),$("#V"+n).html('<div style="float: left; width: 16px; height: 16px; background-image: url(/images/notes-features.png); background-position:-32px 0px; margin-right: 8px; overflow: hidden;" border="0" alt="fail" title="Error :("></div>'),flashMessage({text:"Something went wrong :(",type:"error"})}),t.always(function(t){$("#V"+n).fadeIn(500,"linear")})})}),void 0===window.brokenIE&&jQuery("#topsearch .search-query").search({language:getLanguage(),limit:30});var o,e=document.getElementById("usernotes");null!=e&&(o=new function(){this.domain={max:-1,min:-5},this.range={max:.75,min:.35};var e=(this.range.max-this.range.min)/(this.domain.max-this.domain.min);this.normalize=function(t){return((t=Math.max(t,this.domain.min))-this.domain.min)*e+this.range.min}},$(e).on("mouseenter mouseleave",".note",function(t){var e=1,n=$(this).find(".text");"mouseleave"===t.type&&void 0!==n.data("opacity")&&(e=n.data("opacity")),n.css("opacity",e)}).find(".note").each(function(){$(this).find('.tally:contains("-")').each(function(){var t=this.id.replace("V","Hcom"),e=o.normalize(this.innerHTML.toInt());$("#"+t).css("opacity",e).data("opacity",e)})})),$("code.parameter").closest("em").addClass("reset"),$("#flash-message .message").each(function(){flashMessage($(this))})}),$(function(){if(document.getElementById("add-note-usernotes")){$("#usernotes").animate({marginLeft:0},1e3),$("#usernotes .note").removeAttr("style");var n=[3,7,10];for(i in n)n[i]=1e3*n[i];var o=[];o[0]=$("#usernotes .bad"),o[1]=$("#usernotes .good"),o[2]=$("#usernotes .spam"),setTimeout(function(){o[0].find(".usernotes-voted").css("border-top-color","#001155"),o[1].find(".usernotes-voteu").css("border-bottom-color","#001155");var t=1,e=setInterval(function(){1e3*t>n[1]-n[0]?clearTimeout(e):(o[0].find(".tally").html(o[0].find(".tally").html().toInt()-1),o[1].find(".tally").html(o[1].find(".tally").html().toInt()+1),t++)},1e3);o[0].find(".text").animate({opacity:.3},n[1]-n[0])},n[0]),setTimeout(function(){o[2].find(".text").html("@BJORI DOESN'T LIKE SPAM").css("background-color","#F9ECF2")},n[1]),setTimeout(function(){o[0].fadeOut(),o[2].fadeOut(),$("#usernotes .count").html("1 note")},n[2])}}),function(e){e("#legacy-links a").each(function(){let t=e(this);t.attr("href",t.attr("href")+window.location.hash)})}(jQuery);

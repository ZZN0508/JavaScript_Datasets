(self.webpackJsonp__wix_da_browse=self.webpackJsonp__wix_da_browse||[]).push([[6160,2248],{35315:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(59312),i=a(63804),r=a.n(i),l=a(17585),o=0,a=function(e){var t="icon-i08-"+(0,i.useRef)(o++).current+"-a";return r().createElement(l.ZP,(0,n.__assign)({},e),r().createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r().createElement("defs",null,r().createElement("linearGradient",{id:t,x1:"10.264%",x2:"91.383%",y1:"9.695%",y2:"91.6%"},r().createElement("stop",{offset:"0%",stopColor:"#FCF53C"}),r().createElement("stop",{offset:"43.255%",stopColor:"#FF5DD3"}),r().createElement("stop",{offset:"64.162%",stopColor:"#078BFB"}),r().createElement("stop",{offset:"100%",stopColor:"#06D290"}))),r().createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 3)"},r().createElement("rect",{width:"18",height:"18",x:"1",fill:"url(#"+t+")",rx:"1"}),r().createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 0a1 1 0 011 1v16a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h18zm-1 2H2v14h16V2z"}))))};a.displayName="ChangeBg";var s=a},83934:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(59312),t=a(63804),i=a.n(t),r=a(17585),a=function(e){return i().createElement(r.ZP,(0,n.__assign)({},e),i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i().createElement("path",{fillRule:"evenodd",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 4a1 1 0 00-.993.883L11 7v6a1 1 0 00.883.993L12 14h6a1 1 0 00.117-1.993L18 12l-5-.001V7a1 1 0 00-1-1z"})))};a.displayName="Clock";var l=a},94966:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(59312),t=a(63804),i=a.n(t),r=a(17585),a=function(e){return i().createElement(r.ZP,(0,n.__assign)({},e),i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i().createElement("path",{d:"M12 4a5 5 0 015 5v2h2a1 1 0 011 1v8a1 1 0 01-1 1H5a1 1 0 01-1-1v-8a1 1 0 011-1h2V9a5 5 0 015-5zm6 9H6v6h12v-6zm-6 1a1 1 0 011 1v2a1 1 0 01-2 0v-2a1 1 0 011-1zm0-8a3 3 0 00-2.995 2.824L9 9v2h6V9a3 3 0 00-2.824-2.995L12 6z"})))};a.displayName="Lock";var l=a},69586:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(59312),t=a(63804),i=a.n(t),r=a(17585),a=function(e){return i().createElement(r.ZP,(0,n.__assign)({},e),i().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i().createElement("g",null,i().createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}))))};a.displayName="Add";var l=a},40731:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(59312),t=a(63804),i=a.n(t),r=a(17585),a=function(e){return i().createElement(r.ZP,(0,n.__assign)({},e),i().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M18.63 17l1.89 5h2l-2.53-7h-6.67l.64 2zM4.04 15l-2.52 7h2l1.88-5h4.23l1.89 5h2l-2.53-7zM7.52 4.33c1.9304.011 3.4873 1.5829 3.48 3.5133-.0074 1.9303-1.5762 3.4903-3.5066 3.4866C5.563 11.3263 4 9.7604 4 7.83c0-1.933 1.567-3.5 3.5-3.5h.02zm-.02-2C4.4624 2.33 2 4.7924 2 7.83s2.4624 5.5 5.5 5.5 5.5-2.4624 5.5-5.5-2.4624-5.5-5.5-5.5zM13 3.37a5.59 5.59 0 0 1 1.5 1.45 3.41 3.41 0 0 1 1.5-.35c1.933 0 3.5 1.567 3.5 3.5s-1.567 3.5-3.5 3.5a3.41 3.41 0 0 1-1.5-.35 5.63 5.63 0 0 1-1.5 1.46c1.968 1.2806 4.532 1.1706 6.3831-.2738 1.8511-1.4445 2.5812-3.9047 1.8175-6.125C20.437 3.9608 18.348 2.4702 16 2.47a5.4102 5.4102 0 0 0-3 .9z"})))};a.displayName="AddToGroup";var l=a},24081:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});var i=a(63804),r=a.n(i),l=a(14012),n=a(48689),o=a(73413),s=a(53971),c=a(82649),m=a(40715),d=a(91890),u=a(8101);function v(e,t){var a=(0,l.useDispatch)(),n=(0,i.useCallback)(function(){a((0,m.removeNotification)(9999)),a((0,u.HZ)(e,"primary"))},[a,e]);return(0,i.useCallback)(function(){a((0,m.addNotification)(c.k.Generic,{id:9999,cardProps:{iconComponent:o.Z,backgroundDeviation:e,multiLine:!0,duration:1e4},message:r().createElement(p,{className:t,onClick:n})}))},[t,n,a,e])}var p=function(e){var t=e.className,a=e.onClick,e=(0,n.$G)().t;return r().createElement(r().Fragment,null,r().createElement(n.cC,{i18nKey:"actionbar.mobilePcp.notificationContent"},"Thanks for downloading.",r().createElement("br",null),"Show the artist some love!"),r().createElement(d.bZ,null,r().createElement(s.Z,{className:t,size:"medium",variant:"main",onClick:a},e("actionbar.mobilePcp.leaveAComment"))))}},50909:function(e,t,a){"use strict";a.r(t),a.d(t,{CollectionCard:function(){return D},CollectionModal:function(){return K},NewFolderCard:function(){return k},actions:function(){return Z.Nw},default:function(){return U},reducer:function(){return Z.I6},saga:function(){return Z.hK},selectors:function(){return Z.wl}});var n=a(59312),p=a(63804),h=a.n(p),i=a(38658),E=a.n(i),f=a(48689),d=a(28989),r=a(93685),l=a(60042),g=a.n(l),c=a(66034),o=a(58154),s=a(69586),m=a(17585),u={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px","thumb-width":"112px",thumbWidth:"112px","thumb-height":"48px",thumbHeight:"48px","mobile-thumb-width":"152px",mobileThumbWidth:"152px","mobile-thumb-height":"66px",mobileThumbHeight:"66px",root:"_3bjYa",thumb:"_1qo70","thumb-content":"bTl4Y",thumbContent:"bTl4Y",loader:"_3xtyp",overlay:"_1wn7V","title-block":"_1t2vz",titleBlock:"_1t2vz",subtitle:"_2Ados",title:"_3Coxo","mode-default":"_3VkbH",modeDefault:"_3VkbH",icon:"_1dIDX",empty:"ZfcZn","mode-done":"OWB8p",modeDone:"OWB8p","mode-selected":"_30_Cv",modeSelected:"_30_Cv","mode-progress":"_2uwBj",modeProgress:"_2uwBj","mode-add":"_3B4Ql",modeAdd:"_3B4Ql"},t=function(e){var t=e.title,a=e.subtitle,n=e.thumb,i=e.mode,i=void 0===i?"default":i,e=e.className;return h().createElement("div",{title:t,className:g()(u.root,u["mode-"+i],e)},h().createElement("div",{className:g()(u.thumb,!n&&u.empty)},h().createElement("div",{className:u["thumb-content"]},n),h().createElement("div",{className:u.overlay},"add"===i&&h().createElement(s.Z,{className:u.icon}),"progress"===i&&h().createElement(c.Z,{view:"llama",className:u.loader}),["done","selected","default"].includes(i)&&h().createElement(o.Z,{className:u.icon,size:m.Jh.SMALL}))),h().createElement("div",{className:u["title-block"]},h().createElement("div",{className:u.title},t),a&&h().createElement("span",{className:u.subtitle},a)))};t.displayName="CentaurCard";var v=t,N=a(32457),_={width:parseInt(u["thumb-width"],10),height:parseInt(u["thumb-height"],10)},b={width:parseInt(u["mobile-thumb-width"],10),height:parseInt(u["mobile-thumb-height"],10)},y=a(20354),i=function(e){var t=e.deviation,a=(0,n.__rest)(e,["deviation"]),e=(0,p.useContext)(y.z)?b:_;return h().createElement(v,(0,n.__assign)({},a,{thumb:t&&h().createElement(N.Z,(0,n.__assign)({deviation:t},e))}))};i.displayName="DeviationCentaurCard";var w=i,l=function(e){var t=e.gallection,a=(0,n.__rest)(e,["gallection"]),e=(0,f.$G)().t;return h().createElement(w,(0,n.__assign)({},a,{deviation:t.thumb||void 0,title:t.name,subtitle:e("collectionPanel.card.artworks",{count:t.size})}))};l.displayName="GallectionCentaurCard";var C=l,x=a(40612),T=a(75773),t=function(e){var t=e.isOpen,a=e.onCancel,n=e.onDone,i=e.folderNameBlacklist,r=(0,f.$G)().t;return h().createElement(x.Z,{isOpen:t,title:r("collectionPanel.newCollection"),inputWrapperClassName:"_2hF25",doneButtonLabel:r("collectionPanel.create"),onDone:n,onCancel:a,onInputValidate:function(e){return(0,T.l)(e,r,i,!1)},minLength:1,maxLength:T.S,extrasBeforeInput:h().createElement("div",{className:"_1rzy-"},r("collectionPanel.typeName"))})};t.displayName="NewCollectionConfirmationPopup";var I=t,i=a(14012),M=a(75524),l={createCollection:a(489).createCollection},k=(0,i.connect)(function(e){return{folderNameBlacklist:(0,M.getNewFolderNameBlacklist)(e),isSaving:(0,M.getIsNewCollectionSaving)(e)}},l)(function(e){var t=e.isSaving,a=e.folderNameBlacklist,n=e.collectibleDeviation.deviationId,i=e.createCollection,r=(0,p.useState)(!1),e=r[0],l=r[1],r=(0,f.$G)().t;return h().createElement(h().Fragment,null,h().createElement("button",{className:"-bBL1",onClick:t?void 0:function(){return l(!0)}},h().createElement(v,{mode:t?"progress":"add",title:r("collectionPanel.card.add")})),h().createElement(I,{isOpen:e,folderNameBlacklist:a,onDone:function(e){l(!1),!t&&e&&i(e,n)},onCancel:function(){return l(!1)}}))}),t=function(e){var t=e.collection,a=t.isSelected,t=(0,n.__rest)(t,["isSelected"]),e=e.onClick.bind(null,t.folderId);return h().createElement("button",{className:"-bBL1",onClick:e},h().createElement(C,{gallection:t,mode:a?"done":"default"}))};t.displayName="CollectionCard";var L,D=t,S=a(34464),Z=a(68752),l={toggleCollection:Z.Nw.toggleCollection},t=(0,i.connect)(function(e,t){t=t.collectibleDeviation.deviationId;return Z.wl.getUserCollections(e,t)},l),l=a(15531),B=(0,r.Z)({add_to_faves_2:l.Z})(t(function(e){var t=e.collections,a=e.headerContent,n=e.isFetching,i=e.collectibleDeviation,r=e.streamId,l=e.isInitialized,o=e.toggleCollection,s=(0,p.useCallback)(function(e){o(e,i.deviationId)},[i.deviationId,o]);return h().createElement(h().Fragment,null,a,h().createElement(S.Z,{streamId:r,className:"_3mCTz",wrapperClassName:"_2JMUG",skipInitialFetch:!0},h().createElement(k,{key:"newCard",collectibleDeviation:i}),t.map(function(e){return e?h().createElement(D,{key:e.folderId,onClick:s,collection:e}):null}),(!l||n)&&h().createElement(c.Z,{view:"llama",className:"_3Lxjm"})))})),P=a(28098),A=a(67809),O=a(94127),t={commitCollections:Z.Nw.commitCollectionsCustom,initializeDeviation:Z.Nw.initializeDeviation,requestClose:Z.Nw.requestClose,undoChanges:Z.Nw.undoChanges},F=(0,i.connect)(function(e,t){t=t.collectibleDeviation.deviationId,t=Z.wl.getSelectedFolderIds(e,t);return{selectedFolderIds:t,selectedFolderCount:t.length}},t)(function(e){var t=e.collectibleDeviation,a=e.commitCollections,n=e.undoChanges,i=e.requestClose,r=e.initializeDeviation,l=e.selectedFolderCount,o=e.selectedFolderIds,s=(0,f.$G)().t,c=(0,p.useRef)(),m=(0,p.useCallback)(function(){a(t,"default"),i()},[t,a,i]),e=(0,p.useCallback)(function(){n(t.deviationId),i()},[t.deviationId,i,n]);return(0,p.useEffect)(function(){c.current!==t.deviationId&&r(t.deviationId,E()(t,"stats.favourites",0)),c.current=t.deviationId},[t,r]),h().createElement(d.Z,{isOpen:!0,withScrollableContentWrapper:!1,title:s("collectionPanel.addToFavourites"),headerClassName:"WBoOF",footer:h().createElement(h().Fragment,null,h().createElement(P.ZP,{view:"b2",className:"_2CVhB",onClick:e},s("common.cancel")),h().createElement(P.ZP,{view:"b1",className:"_3rF_g",onClick:m,biData:{evid:A.d4.ADD_TO_COLLECTION_DONE_CLICK,creatorid:t.author&&t.author.useridUuid,typeid:(0,O.ln)(t),itemid:t.deviationId,sectionname:void 0,collectionid:1<l?void 0:o[0],num_collections:l}},s("common.done"))),onClose:e},h().createElement("div",{className:"_2-n95","data-hook":A.vt.DEVIATION_ADD_TO_FAVES_POPUP},h().createElement("div",{className:"ZzyfP"},s("collectionPanel.chooseAnyCollection")),h().createElement(B,{collectibleDeviation:t})))}),z=a(90343),R=a(98833),t={commitCollections:Z.Nw.commitCollectionsCustom,initializeDeviation:Z.Nw.initializeDeviation,requestClose:Z.Nw.requestClose,undoChanges:Z.Nw.undoChanges},H=(0,i.connect)(function(e,t){var a=t.collectibleDeviation.deviationId,t=Z.wl.getSelectedFolderIds(e,a);return{errorMsg:z.wl.getErrorMsg(e,R.Yo),isInitialized:(0,M.getIsDeviationInitialized)(e,a),selectedFolderIds:t,selectedFolderCount:t.length}},t)(function(e){var t=e.selectedFolderCount,a=e.selectedFolderIds,n=e.collectibleDeviation,i=e.errorMsg,r=e.isInitialized,l=e.collectibleDeviation,o=l.author,s=l.deviationId,l=e.notificationQueue,c=void 0===l?"default":l,m=e.initializeDeviation,d=e.commitCollections,u=e.undoChanges,v=e.requestClose,e=(0,f.$G)().t;(0,p.useEffect)(function(){m(s,E()(n,"stats.favourites",0))},[s,m]);i=!!i,e=h().createElement("div",{className:"g8skm"},h().createElement("span",{className:"_2NJl2"},e("collectionPanel.addToFavourites")),r&&h().createElement("span",{className:g()("_5NBWH",i&&"_25yQ9")},i?e("collectionPanel.error.loadFolders"):h().createElement(f.cC,{i18nKey:"collectionPanel.v2.collectionSelected",count:t},h().createElement("span",{className:"_2LCLa"},{count:t})," collections selected")),h().createElement("div",{className:"_2y6PG"},h().createElement(P.ZP,{view:"b31",className:"WHloS",onClick:function(){u(s),v()}},e("common.cancel")),h().createElement(P.ZP,{view:"b14",className:"_3G2Zu",onClick:function(){d(n,c),v()},biData:{evid:A.d4.ADD_TO_COLLECTION_DONE_CLICK,creatorid:o&&o.useridUuid,typeid:(0,O.ln)(n),itemid:s,sectionname:void 0,collectionid:1<t?void 0:a[0],num_collections:t}},e("common.done"))));return h().createElement("div",{className:"_250S9","data-hook":A.vt.DEVIATION_ADD_TO_FAVES_POPUP},h().createElement(B,{headerContent:e,collectibleDeviation:n}))}),G=a(53907),U=function(e){return(0,p.useContext)(y.z)?h().createElement(F,(0,n.__assign)({},e)):h().createElement(H,(0,n.__assign)({notificationQueue:(0,G.Ve)(e.collectibleDeviation)},e))},W=a(91890),V=a(36777),t=(L=h().Component,(0,n.__extends)(j,L),j.prototype.render=function(){var e=this.props.isMobile;return h().createElement(V.Z,{onRequestClose:this.onClose,withCloseButton:!0,isOpen:!0,width:"auto",height:"auto"},!e&&this.renderPopup(),e&&h().createElement(F,(0,n.__assign)({},this.props)))},j.prototype.renderPopup=function(){var e=this.props.collectibleDeviation;return h().createElement(W.UQ,{theme:W.hg.LIGHT},h().createElement("div",{className:"_2WGCB"},h().createElement("div",{className:"_2BNYS"},h().createElement(N.Z,{width:196,deviation:e})),h().createElement(H,(0,n.__assign)({},this.props))))},j),a=(0,y.K)((0,f.Zh)()(t)),t={requestClose:Z.Nw.requestClose,undoChanges:Z.Nw.undoChanges},K=(0,i.connect)(null,t)(a);function j(){var n=null!==L&&L.apply(this,arguments)||this;return n.onClose=function(){var e=n.props,t=e.undoChanges,a=e.requestClose;t(e.collectibleDeviation.deviationId),a()},n}},67233:function(e,t,a){"use strict";a.d(t,{ZP:function(){return x}}),a(11342);var i=a(22136),r=a(59312),m=a(63804),M=a.n(m),d=a(57814),n=a(39784),l=a(20985),o=a(90759),s=a(20354),c=a(60042),k=a.n(c),L=a(67809),D=a(66034),u=a(48689),v=a(28098),p=a(69785),h=a(51869),t=function(e){var t=e.hasMore,a=e.isInfinite,n=e.isFetching,i=e.onLoadMore,r=e.className,l=e.biData,o=e.direction,s=(0,u.$G)().t,c=(0,p.v)(),e=(0,m.useCallback)(function(){l&&(c(l),i())},[l,c,i]);return t?a?M().createElement(d.h,{topOffset:100,onEnter:e}):"next"!==o?M().createElement("div",{className:"_3j5wm"},M().createElement(h.Z,{size:"small",variant:"main",onClick:i,biData:l,disabled:n},s("commentthread.control.loadprev"))):M().createElement(v.ZP,{view:"b3",onClick:i,biData:l,disabled:n,className:k()("_3ZpSV",r)},s("next"===o?"commentthread.control.loadmore":"commentthread.control.loadprev")):null};t.displayName="ThreadPagination";var c=t,t=a(14012),E=a(90343),S=(0,t.connect)(function(e,t){var a=t.direction,t=t.streamId;return{hasMore:E.wl.getHasMoreInDirection(e,t,a),isFetching:E.wl.isFetching(e,t)}},function(e,t){var a=t.streamId,n=t.direction;return{onLoadMore:function(){return e(E.Nw.fetch(a,n))}}})(c),Z=a(79504),B=a(57104),P=a(74196),A=a(28640),O={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",header:"_3O_7l","recursive-comment-root":"_2IxcP",recursiveCommentRoot:"_2IxcP","load-more":"_3cRfv",loadMore:"_3cRfv",scrollable:"_3_R7F"},c=function(e){var t=e.commentableItemId,a=e.commentableTypeId,n=e.parentId,i=e.parentComment,r=e.parentCommentRef,l=e.className,o=e.postbox,s=e.itemCount,c=e.maxCommentsShown,m=e.statsAndControls,d=e.extraInHeader,u=e.streamId,v=e.allowSelfInit,p=e.isFetching,h=e.isInfinite,E=e.commentComponent,f=e.scrollableClassName,g=e.commentClassName,N=e.commentWrapperClassName,_=e.viewRepliesClassName,b=e.actionItemClassName,y=e.maxDepthOverride,w=e.replyIndentModifier,C=e.commentBoxWrapperClassName,x=e.threadStackClassName,T=e.headerClassName,I="top"===o||"both"===o,e="topmost"===o,o="bottom"===o||"both"===o&&s>=Z.JT,s=!c;return M().createElement("div",{className:l,"data-hook":L.vt.COMMENTS_THREAD},e&&M().createElement(P.Z,{commentableItemId:t,commentableTypeId:a,parentId:n,parentComment:i,position:"topmost",className:C}),"off"!==m&&M().createElement(B.Z,{commentableItemId:t,commentableTypeId:a,parentId:n,withOrder:["on","order"].includes(m),withTitle:["on","title"].includes(m),className:k()(O.header,T)},d),M().createElement("div",{className:k()(O.scrollable,f)},M().createElement("div",null,I&&M().createElement(P.Z,{commentableItemId:t,commentableTypeId:a,parentId:n,parentComment:i,position:"top",className:k()(O["commentbox-wrapper"],C)}),s&&M().createElement(S,{direction:"prev",streamId:u,biData:{evid:L.d4.LOAD_MORE_COMMENTS_CLICK,is_load_previous:1,itemid:t,typeid:a}}),M().createElement(A.Z,{className:x,commentableItemId:t,commentableTypeId:a,parentId:n,maxCommentsShown:c,commentComponent:E,parentComment:i,parentCommentRef:r,allowSelfInit:v,maxDepthOverride:y,commentClassName:g,commentWrapperClassName:N,viewRepliesClassName:_,actionItemClassName:b,replyIndentModifier:w}),p&&M().createElement(D.Z,{view:"llama"}),s&&M().createElement(S,{direction:"next",className:O["load-more"],isInfinite:h,streamId:u,biData:{evid:L.d4.LOAD_MORE_COMMENTS_CLICK,itemid:t,typeid:a}}))),o&&M().createElement(P.Z,{commentableItemId:t,commentableTypeId:a,parentId:n,parentComment:i,position:"bottom",className:k()(O["commentbox-wrapper"],C)}))};c.displayName="SimpleThread";var c=c,f=(0,t.connect)(function(e,t){var a=t.commentableTypeId,n=t.commentableItemId,t=t.parentId,t=(0,i.Z)(e,a,n,t);return(0,r.__assign)((0,r.__assign)({},t),{itemCount:t.items.length})})(c),g=a(47662),a=function(e){return M().createElement(d.h,{topOffset:"-100px",bottomOffset:"100%",onEnter:function(){return(0,l.a0)(e.comment,e.index)}},M().createElement("div",null,M().createElement(g.Z,(0,r.__assign)({},e))))};a.displayName="OffsetTrackingComment";function N(){return(0,l.wR)()}var _=a,b=n.default.createLogger("comments"),n=function(e){var t=e.className,a=(0,r.__rest)(e,["className"]),n=(0,m.useRef)(null),i=(0,m.useContext)(s.z);return(0,m.useEffect)(function(){var e=n.current;(0,l.$e)(a.commentableTypeId,a.commentableItemId)&&e&&(b.log("Scrolling to active thread"),(0,o.jj)(e,i))},[i,a.commentableTypeId,a.commentableItemId]),M().createElement(d.h,{onLeave:N},M().createElement("div",{className:t,ref:n},M().createElement(f,(0,r.__assign)({},a,{commentComponent:_}))))};n.displayName="OffsetTrackingCommentThread";var y=n,n=function(e){return M().createElement(f,(0,r.__assign)({},e,{scrollableClassName:"_3_F5j",commentClassName:"vwhzk",commentWrapperClassName:"_3Anv0",viewRepliesClassName:"_3sZL9",actionItemClassName:"_3nGuX",maxDepthOverride:Z.nO,replyIndentModifier:1}))};n.displayName="ModalThread";var w=n,n=function(e){return M().createElement(f,(0,r.__assign)({},e,{className:k()("_29m-g",e.className),commentBoxWrapperClassName:"_5oPqE",threadStackClassName:"_2Qkjp",headerClassName:"_2M6Rj",scrollableClassName:"_3NqAi",replyIndentModifier:0}))};n.displayName="CardLayoutThread";var C=n,n=function(e){var t=e.enableOffsetTracking,a=e.isModal,n=e.useCardLayout,e=(0,r.__rest)(e,["enableOffsetTracking","isModal","useCardLayout"]);return a?M().createElement(w,(0,r.__assign)({},e)):n?M().createElement(C,(0,r.__assign)({},e)):t?M().createElement(y,(0,r.__assign)({},e)):M().createElement(f,(0,r.__assign)({},e))};n.displayName="CommentThread";var x=n},75896:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(59312),t=a(63804),l=a.n(t),o=a(58204),s=a(48689),c=a(33992),a=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.confirmationType,i=e.onConfirm,t=e.onCancel,e=(0,s.$G)().t,e={remove:{title:e("commission.delete.confirmHeader"),text:e("commission.delete.confirmText"),confirmBtnLabel:e("commission.delete.confirmButton"),confirmBtnType:"danger",icon:l().createElement(c.eQ,null)},enable:{title:e("commission.enable.confirmHeader"),text:e("commission.enable.confirmText"),confirmBtnLabel:e("commission.enable.confirmButton"),icon:l().createElement(c.Sl,null)},enableAll:{title:e("commission.enableAll.confirmHeader"),text:e("commission.enableAll.confirmText"),confirmBtnLabel:e("commission.enableAll.confirmButton"),icon:l().createElement(c.Sl,null)},disable:{title:e("commission.disable.confirmHeader"),text:e("commission.disable.confirmText"),confirmBtnLabel:e("commission.disable.confirmButton"),confirmBtnType:"danger",icon:l().createElement(c.HE,null)},disableAll:{title:e("commission.disableAll.confirmHeader"),text:e("commission.disableAll.confirmText"),confirmBtnLabel:e("commission.disableAll.confirmButton"),confirmBtnType:"danger",icon:l().createElement(c.HE,null)},disableLast:{title:e("commission.disableLast.confirmHeader"),text:e("commission.disableLast.confirmText"),confirmBtnLabel:e("commission.disableLast.confirmButton"),confirmBtnType:"danger",icon:l().createElement(c.HE,null)},discardChanges:{title:e("commission.confirm.discardChanges.header"),text:e("commission.confirm.discardChanges.text"),confirmBtnLabel:e("popup.discardChanges"),confirmBtnType:"danger",icon:l().createElement(c.eQ,null)},leaveCreating:{title:e("commission.confirm.discard.header"),text:e("commission.confirm.discard.text"),confirmBtnLabel:e("popup.discard"),confirmBtnType:"danger",icon:l().createElement(c.eQ,null)}};return l().createElement(o.Z,(0,r.__assign)({},e[n],{onCancel:t,onConfirm:i,isOpen:a}))};a.displayName="CommissionConfirmation";var n=a},47045:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n,i=a(59312),t=a(63804),r=a.n(t),t=a(38658),l=a.n(t),t=a(59130),o=a.n(t),s=(n=r().Component,(0,i.__extends)(c,n),c.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateSize),this.updateSize(),this.mounted=!0},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateSize),this.mounted=!1},c.prototype.render=function(){var e=this.props,t=e.className,a=e.children,n=this.state,i=n.width,e=n.height,n=i&&e?{width:i,height:e,padding:0}:{};return r().createElement("div",{style:n,ref:this.saveContainerRef,className:t},a({width:i,height:e}))},c.prototype.getContainerSize=function(){return{width:Math.ceil(l()(this.containerRef,"clientWidth",0)),height:Math.ceil(l()(this.containerRef,"clientHeight",0))}},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={width:void 0,height:void 0},t.saveContainerRef=function(e){t.containerRef=e},t.updateSize=o()(function(){return setTimeout(function(){return requestAnimationFrame(function(){var e=t.getContainerSize();e.width===t.state.width&&e.height===t.state.height||t.mounted&&t.setState(e)})},20)},100,{leading:!1}),t}},45922:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});function n(e){switch(e.type){case"mint":return i().createElement(o.ZP,null,i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i().createElement("path",{d:"M16.226 15.244a.378.378 0 10-.706.27c.345.9.37 1.588.068 1.89-.366.366-1.277.252-2.438-.304a16.168 16.168 0 01-4.184-3.122c-2.961-2.961-4.183-5.867-3.427-6.622.24-.19.554-.264.855-.2a.378.378 0 00.073-.752 1.74 1.74 0 00-1.463.416c-1.385 1.384.732 4.996 3.427 7.691a16.905 16.905 0 004.392 3.27c.296.14.6.263.912.364l-2.686 1.018a10.699 10.699 0 01-6.766-8.332.378.378 0 00-.747.117 11.474 11.474 0 006.492 8.602l-4.42 1.672a.371.371 0 00-.076-.09 5.267 5.267 0 01-1.95-3.66l-.176-2.124a.373.373 0 00-.409-.346.378.378 0 00-.347.409l.179 2.123a6.021 6.021 0 002 3.982L1.676 22.71l.567-2.327a.378.378 0 10-.735-.18L.77 23.229a.378.378 0 00.502.443l13.985-5.292a.352.352 0 00.063-.039c.303-.046.583-.186.802-.4.375-.375.697-1.147.104-2.696z"}),i().createElement("path",{d:"M19.793 14.27a12.448 12.448 0 00-6.405-.622l-1.35.226a.378.378 0 00.125.746l1.35-.225a11.683 11.683 0 016.014.584.378.378 0 10.265-.71zM21.136 8.413a.378.378 0 00-.503-.179l-7.938 3.78a.378.378 0 00.325.683l7.938-3.78a.378.378 0 00.178-.504zM9.94 3.581a.378.378 0 10-.738.164c.478 2.138.281 4.371-.565 6.392l-.55 1.319a.378.378 0 00.698.29l.55-1.318A11.325 11.325 0 009.94 3.58zM21.55 14.624a1.134 1.134 0 100 2.268 1.134 1.134 0 000-2.268zm0 1.512a.378.378 0 110-.756.378.378 0 010 .756zM12.478 4.04a1.134 1.134 0 100 2.268 1.134 1.134 0 000-2.268zm0 1.512a.378.378 0 110-.756.378.378 0 010 .756z"}),i().createElement("circle",{cx:"176.105",cy:"16",r:"16",transform:"matrix(.04725 0 0 .04725 .755 1.016)"}),i().createElement("path",{d:"M19.66 2.906a.378.378 0 00-.378.378v.378a.378.378 0 00.756 0v-.378a.378.378 0 00-.378-.378zM19.66 1.016a.378.378 0 00-.378.378v.378a.378.378 0 00.756 0v-.378a.378.378 0 00-.378-.378zM20.794 2.15h-.378a.378.378 0 000 .756h.378a.378.378 0 000-.756zM18.904 2.15h-.378a.378.378 0 000 .756h.378a.378.378 0 000-.756zM17.014 5.166h-1.898a.378.378 0 00-.378.378v1.898c0 .209.17.378.378.378h1.898c.209 0 .378-.17.378-.378V5.544a.378.378 0 00-.378-.378zm-.378 1.898h-1.142V5.922h1.142zM14.26 8.322a.378.378 0 00-.523-.027l-3.78 3.402a.378.378 0 00.506.562l3.78-3.402a.378.378 0 00.017-.535zM21.172 9.71a.378.378 0 00-.378.378v.378a.378.378 0 00.756 0v-.378a.378.378 0 00-.378-.378zM22.776 9.645l-.267-.268a.378.378 0 00-.535.535l.267.267a.378.378 0 00.535-.534zM23.062 8.198h-.378a.378.378 0 000 .756h.378a.378.378 0 000-.756zM22.767 6.972a.378.378 0 00-.526 0l-.267.268a.378.378 0 00.267.645c.1 0 .197-.04.268-.111l.267-.267a.378.378 0 00-.01-.535zM21.172 6.308a.378.378 0 00-.378.378v.378a.378.378 0 00.756 0v-.378a.378.378 0 00-.378-.378zM20.37 7.24l-.267-.268a.378.378 0 00-.535.535l.267.267a.378.378 0 00.535-.534zM5.278 2.65a.378.378 0 00-.305-.257l-1.11-.161-.494-1.005a.393.393 0 00-.679 0l-.497 1.005-1.109.161a.378.378 0 00-.21.645l.802.782-.189 1.105a.378.378 0 00.55.4l.991-.523.993.522a.378.378 0 00.548-.399L4.38 3.82l.803-.782c.103-.1.14-.251.095-.388zm-1.57.768a.378.378 0 00-.108.334l.094.546-.49-.258a.378.378 0 00-.351 0l-.492.258.094-.547a.378.378 0 00-.107-.333l-.397-.387.548-.08a.378.378 0 00.285-.207l.244-.496.245.496a.378.378 0 00.285.207l.548.08zM22.163 19.963h-.001l-.156-.234a5.704 5.704 0 00-3.796-2.454.378.378 0 00-.124.745 4.945 4.945 0 012.884 1.608 2.23 2.23 0 00-1.512 1.039 1.512 1.512 0 102.64 1.474c.156-.3.24-.633.246-.97.402.584.434 1.346.083 1.962a.378.378 0 10.66.369 2.639 2.639 0 00-.924-3.54zm-.724 1.809a.756.756 0 11-1.324-.73l.004-.007c.223-.365.6-.61 1.024-.666a.384.384 0 01.188.044c.32.178.337.95.108 1.359z"})));case"offer":return i().createElement(o.ZP,null,i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},i().createElement("path",{d:"M14.362 13.552h-4.355a.34.34 0 100 .68h4.355a.34.34 0 100-.68zm-4.434-2.295v-.964h.616a.34.34 0 100-.68h-.616v-.576h.698a.34.34 0 100-.68H9.588a.34.34 0 00-.34.34v2.56a.34.34 0 10.68 0zm3.341-2.22a.34.34 0 100-.68h-1.037a.34.34 0 00-.34.34v2.56a.34.34 0 10.68 0v-.964h.615a.34.34 0 100-.68h-.615v-.576zm2.492-.022a.34.34 0 100-.68h-1.077a.34.34 0 00-.34.34v2.555c0 .188.153.34.34.34h1.077a.34.34 0 100-.68h-.736v-.597h.657a.34.34 0 100-.68h-.657v-.598zm3.436.318c0-.557-.47-1.01-1.048-1.01h-.687a.34.34 0 00-.34.34v2.58a.34.34 0 10.68 0v-.684l.8.908a.34.34 0 00.255.115.34.34 0 00.255-.565l-.637-.724c.419-.132.722-.513.722-.96zm-1.048.33l-.343.001-.002-.661h.345c.2 0 .368.151.368.33 0 .18-.169.33-.368.33zM6.714 8.347c-.898 0-1.63.731-1.63 1.63 0 .898.732 1.63 1.63 1.63.9 0 1.63-.732 1.63-1.63 0-.899-.73-1.63-1.63-1.63zm0 2.58a.95.95 0 010-1.9.95.95 0 010 1.9z"}),i().createElement("path",{d:"M22.754 11.142l-1.63-1.648V2.065c0-.892-.726-1.619-1.619-1.619H4.864c-.893 0-1.62.727-1.62 1.62V9.37l-1.73 1.785a.35.35 0 00-.019.022.583.583 0 00-.157.4v10.436c0 .91.74 1.65 1.65 1.65h18.306c.91 0 1.65-.74 1.65-1.65v-10.44a.58.58 0 00-.19-.432zm-.907.05l-.723.42v-1.15zm-18.602.471l-.815-.474.815-.84zm19.018 10.351a.97.97 0 01-.97.97H2.989a.97.97 0 01-.97-.97V11.736l9.736 5.667 7.485 4.356a.34.34 0 00.465-.122.34.34 0 00-.123-.465l-6.764-3.937 5.99-3.487a.34.34 0 00-.342-.588l-6.28 3.655a.089.089 0 01-.089 0l-.66-.384-7.511-4.372V2.065a.94.94 0 01.939-.939h14.641a.94.94 0 01.939.94v9.942l-.776.452a.34.34 0 10.342.588l.936-.545s.002 0 .003-.002l1.314-.765z"}),i().createElement("path",{d:"M10.209 7.27h3.951a.74.74 0 00.738-.738v-2.58a.74.74 0 00-.738-.739h-.845V2.85a.8.8 0 00-.8-.8h-.661a.8.8 0 00-.8.8v.363h-.845a.74.74 0 00-.738.739v2.58a.74.74 0 00.738.738zm1.525-4.42a.12.12 0 01.12-.12h.661a.12.12 0 01.12.12v.363h-.9zm-1.583 1.102c0-.032.026-.059.058-.059h3.951c.032 0 .058.027.058.059v2.58a.058.058 0 01-.058.058H10.21a.058.058 0 01-.058-.058z"})));case"purchase":case"sale":return i().createElement(o.ZP,null,i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",viewBox:"0 0 24 24",width:"32"},i().createElement("path",{d:"M20.632 1.264h-4.929c-1.082 0-2.53.6-3.294 1.364L2.295 12.742a2.279 2.279 0 00-.67 1.623c0 .614.238 1.19.67 1.623l5.909 5.909a2.28 2.28 0 001.623.67 2.28 2.28 0 001.623-.67l10.113-10.114c.766-.765 1.365-2.212 1.365-3.294v-4.93a2.298 2.298 0 00-2.296-2.295zm1.048 7.225c0 .752-.467 1.88-1 2.412L10.568 21.014a1.04 1.04 0 01-.74.305 1.04 1.04 0 01-.74-.305l-5.91-5.909a1.04 1.04 0 01-.304-.74c0-.281.108-.544.305-.74L13.29 3.51c.532-.532 1.66-.999 2.412-.999h4.93c.577 0 1.047.47 1.047 1.047zm0 0"}),i().createElement("path",{d:"M7.421 15.056c-.227-.226-.17-.557.17-.898.397-.397.686-.326.832-.472.17-.17.029-.464-.08-.572-.312-.312-.998.24-1.276.52-.544.543-.908 1.39-.204 2.094 1.12 1.12 2.42-.615 3.13.094.283.284.165.657-.118.941-.483.482-.974.246-1.168.44-.147.146-.07.468.061.6.275.274 1.06.114 1.679-.506.652-.652.775-1.475.099-2.15-1.225-1.225-2.539.496-3.125-.09zm0 0M14.03 13.024l-3.886-2.061c-.185-.1-.426.01-.605.19-.175.174-.284.415-.185.6l2.061 3.885a.395.395 0 00.038.057c.152.151.478.033.643-.132.104-.104.152-.218.085-.331l-.449-.809 1.083-1.082.808.449c.114.066.227.019.33-.085.166-.166.28-.497.133-.643-.014-.014-.033-.024-.056-.038zm-2.652.79l-1.04-1.863 1.862 1.04zm0 0M15.897 10.684l-1.154 1.154-2.727-2.728c-.133-.132-.345-.033-.497.118-.156.156-.25.364-.118.497l3.073 3.072c.127.128.326.062.463-.075l1.499-1.499c.122-.123.047-.321-.086-.454-.137-.137-.33-.208-.453-.085zm0 0M18.369 8.212L17.03 9.55l-.95-.95.719-.719c.132-.132.066-.321-.043-.43-.128-.128-.317-.175-.44-.052l-.718.718-.946-.945 1.338-1.338c.123-.123.066-.321-.08-.468-.128-.127-.326-.203-.459-.07L13.77 6.977c-.137.137-.203.336-.075.463l3.068 3.068c.127.128.326.062.463-.075l1.683-1.683c.132-.132.057-.331-.071-.459-.147-.146-.345-.203-.468-.08zm0 0M18.995 4.609a.629.629 0 00-.442.183.628.628 0 00.441 1.066.627.627 0 00.625-.625.628.628 0 00-.624-.624zm0 0"})));case"list":return i().createElement(o.ZP,null,i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i().createElement("path",{d:"M5.872 8.412a.452.452 0 10-.639.639.452.452 0 00.639-.64zM11.984 20.75a1.581 1.581 0 00-1.273-2.515H3.038c-.422 0-.819.164-1.117.462a1.569 1.569 0 00-.463 1.118c0 .35.115.673.308.935a2.258 2.258 0 00-1.21 1.998v.452c0 .249.202.45.451.45h11.735c.249 0 .451-.201.451-.45v-.452c0-.866-.491-1.62-1.21-1.998zm-9.425-1.414a.672.672 0 01.479-.199h7.673a.678.678 0 010 1.354H3.038a.678.678 0 01-.479-1.155zm-1.1 3.412c0-.746.607-1.354 1.353-1.354h8.124c.747 0 1.354.608 1.354 1.354z"}),i().createElement("path",{d:"M23.245 19.505a2.842 2.842 0 00-.544-.625l-2.109-1.839a.454.454 0 00-.18-.156l-1.275-1.113-5.903-5.15c.242-.252.375-.582.375-.934a1.346 1.346 0 00-.771-1.221l.546-.546a1.8 1.8 0 001.743-.467c.34-.34.528-.794.528-1.276s-.187-.936-.528-1.277l-3.83-3.83A1.794 1.794 0 0010.02.544a1.806 1.806 0 00-1.743 2.272L2.828 8.262a1.793 1.793 0 00-1.744.467 1.808 1.808 0 000 2.554l3.83 3.83a1.8 1.8 0 001.277.527 1.806 1.806 0 001.743-2.27l.545-.545a1.355 1.355 0 002.156.395l6.288 7.224a.453.453 0 00.086.1l1.874 2.152a2.685 2.685 0 002.436.928 2.731 2.731 0 002.015-1.395 2.67 2.67 0 00-.09-2.725zM9.382 1.71a.897.897 0 01.638-.265c.241 0 .468.094.639.265l3.83 3.83c.17.17.264.397.264.638a.903.903 0 01-1.54.638l-3.83-3.83a.903.903 0 010-1.276zM6.83 14.475a.904.904 0 01-1.277 0l-3.83-3.83A.904.904 0 013 9.37l3.83 3.83a.903.903 0 010 1.276zm1.9-3.176L7.467 12.56l-3.83-3.83 5.107-5.107 3.83 3.83-1.265 1.265-.012.012-2.552 2.552-.016.016zm1.612.941l-.003.003-.317.318a.449.449 0 01-.639 0 .449.449 0 01-.005-.633l2.563-2.564a.453.453 0 01.766.324c0 .121-.047.234-.132.32l-.316.315a.435.435 0 00-.007.007zm.935.342l1.319-1.319 5.585 4.872-2.038 2.038zm5.46 6.273l2.126-2.126.682.595-2.214 2.214zm5.81 2.934c-.291.52-.784.864-1.351.942a1.793 1.793 0 01-1.63-.624l-1.641-1.887 2.301-2.301 1.885 1.643.004.004c.141.12.266.264.372.429.342.527.366 1.248.06 1.794z"}),i().createElement("path",{d:"M9.063 5.22a.451.451 0 00-.638 0L6.51 7.135a.451.451 0 10.638.638l1.915-1.915a.451.451 0 000-.638z"})));default:return null}}var t=a(63804),i=a.n(t),t=a(60042),r=a.n(t),l=a(10330),o=a(17585),s=a(46029),c=a(27892),m=a(48689),d="_56IeX",u="_1grWo",a=function(e){var t=e.item,e=e.action,a=(0,m.$G)().i18n;return i().createElement("div",{className:r()("_3I1P2"),role:"listitem"},i().createElement("div",{className:"_2LUDe"},i().createElement(n,{type:t.type})),i().createElement(l.Z,{direction:"column",justifyContent:"center",className:"-vWQo"},function(){switch(t.type){case"mint":return i().createElement(i().Fragment,null,i().createElement("div",{className:d},i().createElement(s.Z,{user:t.from})," created the asset"),i().createElement("div",{className:u},(0,c.p6)(t.ts,c.lv.DateTime.FullTimeZone,a.language)));case"list":return i().createElement(i().Fragment,null,i().createElement("div",{className:d},i().createElement(s.Z,{user:t.from})," listed asset for sale at",i().createElement("strong",null,"$",t.dollarPrice)),i().createElement("div",{className:u},(0,c.p6)(t.ts,c.lv.DateTime.FullTimeZone,a.language)));case"offer":return i().createElement(i().Fragment,null,i().createElement("div",{className:d},i().createElement(s.Z,{user:t.from})," offered ",i().createElement(s.Z,{user:t.to})," ",i().createElement("strong",null,"$",t.dollarPrice)),t.expires&&i().createElement("div",{className:u},"Expires:"," ",(0,c.p6)(t.expires,c.lv.DateTime.FullTimeZone,a.language)));case"sale":case"purchase":return i().createElement(i().Fragment,null,i().createElement("div",{className:d},i().createElement(s.Z,{user:t.from})," sold for"," ",i().createElement("strong",null,"$",t.dollarPrice)," to"," ",i().createElement(s.Z,{user:t.to})),i().createElement("div",{className:u},(0,c.p6)(t.ts,c.lv.DateTime.FullTimeZone,a.language)));default:return"Unknown history type"}}()),e&&i().createElement("div",{className:"_31RjX"},e))};a.displayName="DasHistoryItem";var v=a},22164:function(e,t,a){"use strict";a.d(t,{N:function(){return i}});var n=a(91890);function i(e,t){return void 0===e&&(e=n.hg.DARK),t===n.B.GREEN&&e===n.hg.LIGHT?"green":e}},63341:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Fo}});var M=a(63804),k=a.n(M),n=a(60042),L=a.n(n),E=a(92883),b=a(48689),D=a(87359),y=a(20354),w=a(28114),C=a(50909),x=a(56561),T=a(17585);function I(t){(0,M.useEffect)(function(){if(0!==Object.keys(t).length){var e=function(e){t.hasOwnProperty(e.key)&&t[e.key](e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[t])}var f=a(53907),u=a(57373),i=function(e){var t=e.deviation,a=e.focusEditor,n=e.onClose,i=e.onThreadUpdated,r=e.panelOpenEvent,l=e.panelCloseEvent,o=(0,M.useRef)(null),s=(0,M.useState)(!1),e=s[0],c=s[1],m="commentpanel-"+t.deviationId,d=(0,M.useCallback)(function(){a(m)},[a,m]);(0,M.useEffect)(function(){return r.addListener(d,!0),o.current&&o.current.addEventListener("transitionend",function(e){return e.stopPropagation()}),function(){r.removeListener(d)}},[d,r,o]);s=(0,M.useCallback)(function(e){l.addListener(function(){i(t,e)},!0),n()},[l,i,t,n]);return k().createElement("div",{className:L()("Ihi5J",e&&"_2pSwb"),ref:o},k().createElement("div",{className:"_1QfXp"},k().createElement(u.Z,{id:m,commentableType:(0,f.nc)(t.typeId),commentableItemId:t.deviationId,onPublishSuccess:s,onEditorReady:function(){c(!0)},onPublishFailure:n,onClose:n,initiallyExpanded:!0,className:"_1SoVr",editorClassName:"_27zLn",footerClassName:"_2gWTy"})))};i.displayName="CommentBoxPanel";var r=i,p=a(14012),l=a(11342),o=a(38676),s={onThreadUpdated:l.gy,focusEditor:o.$R},S=(0,p.connect)(null,s)(r),h=a(59312),g=a(39784),c=g.default.createLogger("customevent");function Z(a){var n=(0,M.useRef)([]),e=(0,M.useCallback)(function(){n.current.forEach(function(e){return(0,e.callback)()}),n.current=n.current.filter(function(e){return!e.once}),c.log(a+" - emitting")},[a]);return{subscription:(0,M.useMemo)(function(){return{addListener:function(e,t){void 0===t&&(t=!1),n.current=(0,h.__spreadArray)((0,h.__spreadArray)([],n.current),[{callback:e,once:t}]),c.log(a+" - adding listener")},removeListener:function(t){n.current=n.current.filter(function(e){return e.callback!==t}),c.log(a+" - removing listener")}}},[a]),emit:e}}var B=a(90759),P={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",transitionDuration:"0.3s",root:"_1b_Id",visible:"I1ewB",panel:"_2egOW",close:"_7lKia",uplifted:"_10LbS",comment:"_10oH-",open:"_2-zi1"},A=1e3*parseFloat(P.transitionDuration),t=function(e){var t=e.visiblePanel,a=e.deviation,n=e.className,i=e.onClose,r=!!t,l=(0,M.useRef)(null),o=(0,M.useState)(r),s=o[0],c=o[1];I(r?{Esc:i,Escape:i}:{});var m,d,u,v,p,h,E,f,g,N,E=(m=l,d=r,u=t,v=(0,M.useRef)(d),p=Z("open"),h=p.emit,E=p.subscription,e=Z("close"),f=e.emit,o=e.subscription,p=Z("openAnimation"),g=p.emit,e=p.subscription,p=Z("closeAnimation"),N=p.emit,p=p.subscription,(0,M.useEffect)(function(){var e,t=m.current,a=v.current;if(t)return a&&!d?(f(),e=setTimeout(n,A)):d&&!a&&(h(),"comment"===u?n():e=setTimeout(n,A)),v.current=d,t.addEventListener("transitionend",n),function(){return t.removeEventListener("transitionend",n)};function n(){e&&(clearTimeout(e),e=void 0),a&&!d?N():d&&!a&&(t&&("comment"===u?(0,B.b8)(t,!1,void 0,!0):(0,B.Ee)(t,!1,80,void 0,!0)),g())}},[f,N,h,g,d,u,m]),{openAnimationEvent:e,closeAnimationEvent:p,openEvent:E,closeEvent:o}),_=E.openAnimationEvent,o=E.closeAnimationEvent,b=E.closeEvent;return(0,M.useEffect)(function(){function e(){return c(!0)}function t(){return c(!1)}return _.addListener(e),b.addListener(t),function(){_.removeListener(e),b.removeListener(t)}},[b,_]),k().createElement(k().Fragment,null,k().createElement("div",{ref:l,className:L()(P.root,r&&P.visible,r&&s&&P.open,t&&P[t],P.uplifted,n)},"groups"===t&&r&&k().createElement(x.Z,{className:P.close,onClick:i},k().createElement(w.Z,{size:T.Jh.MEDIUM})),k().createElement("div",{className:P.panel},"collection"===t&&k().createElement(C.default,{collectibleDeviation:a}),"comment"===t&&k().createElement(S,{panelOpenEvent:_,panelCloseEvent:o,deviation:a,onClose:i}))))};t.displayName="PanelPopup";var n=t,m=a(97154),i=a(8101),l={onClose:i.Ul},d=(0,p.connect)(function(e,t){t=t.actionBarType;return{visiblePanel:(0,m.xe)(e,t)}},l)(n),v=a(99249),N=a(99288),_=a(35792),O=a(84637),F=a(67809),o=function(e){var t=e.className,a=e.width,e=e.height;return k().createElement("div",{style:{width:a,height:e},className:L()("_3BzFa",t)})};o.displayName="Placeholder";var z=o,R=[[56,160],[32,64],[48,32],[24,80],[32,120]],s=function(e){var t=e.className,a=e.splitIndex,e=void 0===a?0:a,a=e<R.length?R[e]:R[0],e=a[0],a=a[1];return k().createElement("div",{className:t},k().createElement(z,{width:e,height:8})," ",k().createElement(z,{width:a,height:8}))};s.displayName="TitlePlaceholder";var H=s,r=function(e){var t=e.streamKey,a=e.titleOverride,n=e.seeAll,i=e.children,r=e.className,l=e.titleClassname,o=e.headerClassname,s=e.isLoading,e=(0,b.$G)().t;return k().createElement("div",{className:L()("_18LQF",r)},k().createElement("div",{className:L()("_2MDlv",!a&&"_1x8Mf",o)},k().createElement("span",{className:L()("_2Dopw",l)},!s&&(a||e("sidebar.blockTitle."+t)),s&&k().createElement(H,null)),n&&k().createElement(O.Z,{className:"_3Axsu",href:n.href,onClick:n.onClick,biData:(0,h.__assign)({evid:F.d4.SEE_ALL_CLICK},n.biData)},e(["sidebar.seeAll."+t,"sidebar.seeAll"]))),i)};r.displayName="SidebarBlock";var G=r,U=a(52192),W=a(32457),V=a(22084),t=function(e){var t=e.className,e=(0,h.__rest)(e,["className"]);return k().createElement("div",{className:L()("MoA1f",t)},k().createElement(W.Z,(0,h.__assign)({},e)),k().createElement(V.Z,{className:"_25MFv",premiumFolderData:e.deviation.premiumFolderData}))};t.displayName="DumboWithIcon";var K=t,j=a(46351),J=a(94127),$=a(42514),l=function(e){var t=e.deviation,a=e.isLoading,n=e.className,i=e.width,r=e.height,l=e.useShopThumb,o=e.greenLikeCrop,e=(0,b.$G)().t;return!t||a?k().createElement(z,{className:n,width:i,height:r}):l?k().createElement($.ZP,{deviation:t,width:i,height:r}):k().createElement(j.Z,{deviation:t,key:t.deviationId,className:n,title:(0,J.HN)(t,e)},k().createElement(K,{deviation:t,width:i,height:r,greenLikeCrop:o}))};l.displayName="ThumbWithLoader";var q=l,Q=a(49930),X=a(93518),n=function(e){var t=e.deviations,a=e.parentDeviation,n=e.className,e=(e.title,e.streamId);return k().createElement("div",{className:L()("_25etN",n)},k().createElement(U.Z,{streamId:e,deviations:t,parent:{typeId:(0,J.ln)(a),itemId:a.deviationId}},k().createElement(Q.Z,{deviations:t.slice(0,3),height:289,cookieType:X._.DEVIATION_MOBILE_SIDEBAR})))};n.displayName="DeviationSidebarMosaic";var Y=n,ee=parseInt("92"),te=parseInt("92"),o=function(e){var t=e.streamId,a=e.deviations,n=e.parentDeviation,i=e.title,r=e.className,l=e.isLoading,o=void 0!==l&&l,e=e.maxRows,e=3*(void 0===e?3:e);if((0,M.useContext)(y.z))return k().createElement(Y,{streamId:t,parentDeviation:n,deviations:a,title:i,className:r});e=o?Array(e).fill(void 0):(0,_.lu)(a,3,e);return k().createElement("div",{className:L()("_24YXu",e.length<3&&"_3dlXj",r)},k().createElement(U.Z,{streamId:t,deviations:a,parent:{typeId:(0,J.ln)(n),itemId:n.deviationId}},e.map(function(e,t){return k().createElement(N.zh,{key:t,value:{_rankIndex:t}},k().createElement(q,{deviation:e,isLoading:o,className:"_2ayBA",width:te,height:ee,greenLikeCrop:!0}))})))};o.displayName="DeviationSidebarGrid";var ae=o,ne={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px","collection-header":"_1csPv",collectionHeader:"_1csPv","block-header":"_3cNXP",blockHeader:"_3cNXP","block-title":"_2WE8q",blockTitle:"_2WE8q"},s=function(e){var t=e.parentDeviation,e=e.index;return k().createElement(k().Fragment,null,k().createElement("div",{className:ne["collection-header"]},k().createElement(H,{className:ne["by-author-title"],splitIndex:e})),k().createElement(ae,{streamId:"devpage-sidebar-collections-"+t.deviationId+"-loader",className:ne["collection-grid"],parentDeviation:t,deviations:[],maxRows:1,isLoading:!0}))};s.displayName="CollectionBlockLoader";var ie=s,re=a(34413),le=a(2666),oe=a(84077),r=function(e){var t=e.i18nSubKey,a=e.user,n=e.contentUrl,i=e.biData,e=e.contentTitle;return k().createElement("div",{className:"_1I3-D"},k().createElement(b.cC,{i18nKey:"sidebar.blockTitle."+t},k().createElement(O.Z,{className:"_2QVXs",href:n,biData:i},{title:e})," by ",k().createElement(oe.Z,{user:a,className:"zV6tl"})))};r.displayName="ContentByUser";var se=r,ce=a(75391),t=function(e){var t=e.collection,a=e.deviations,e=e.parentDeviation;return k().createElement(N.zh,{value:{sectionname:"collections",section_typeid:le.tD.COLLECTION,sectionid:t.folderId}},k().createElement("div",{className:ne["collection-header"]},k().createElement(se,{i18nSubKey:"collections.collection",user:t.owner,contentUrl:re.Url.userGalleryLink({username:t.owner.username,gallectionType:"collection",folderId:t.folderId,folderName:t.name}),contentTitle:t.name,biData:{evid:F.d4.ITEM_CLICK,sectionname:"collections",typeid:ce._.COLLECTION,itemid:t.folderId}})),k().createElement(ae,{streamId:"devpage-sidebar-collections-"+e.deviationId+"-"+t.folderId,className:ne["collection-grid"],parentDeviation:e,deviations:a,maxRows:1}))};t.displayName="CollectionBlock";var me=t,l=function(e){var t=e.collections,t=void 0===t?[]:t,a=e.parentDeviation,e=e.isLoading;return t.length||e?k().createElement(G,{streamKey:"collections",className:ne["collection-block"],titleClassname:ne["block-title"],headerClassname:ne["block-header"],isLoading:e},k().createElement("div",null,!e&&t.filter(function(e){return e&&e.collection&&e.deviations&&e.deviations.length}).map(function(e){var t=e.collection,e=e.deviations;return k().createElement(me,{key:t.folderId,parentDeviation:a,collection:t,deviations:e})}),e&&Array(4).fill(0).map(function(e,t){return k().createElement(ie,{key:t,parentDeviation:a,index:t+1})}))):null};l.displayName="CollectionsBlock";var de=l,n=function(e){var t=e.username,a=e.imageUrl,n=e.className,e=e.biData;return k().createElement(O.Z,{href:re.Url.userLink(t),className:L()("hSOzr",n),biData:e},k().createElement("div",{className:"_1VT-X"},a&&k().createElement("img",{src:a,alt:"",loading:"lazy"})),k().createElement("div",{className:"_25_4H"},t))};n.displayName="GroupCard";var ue=n,ve={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",grid:"_2QK-a","block-title":"_1TWjT",blockTitle:"_1TWjT","grid-item":"_3qg3t",gridItem:"_3qg3t"},o=function(e){var t=e.deviation,a=t.author,n=t.extended,i=e.deviation,t=e.groups,t=void 0===t?[]:t,r=e.showGroupsListPopup,e=e.isLoading,l=(0,J.UA)(i),o=a&&a.useridUuid,s=n&&n.groupListUrl,n=(0,M.useMemo)(function(){return{onClick:s?function(){return r(s,l)}:void 0,biData:{creatorid:o}}},[s,l,o,r]);return t.length||e?k().createElement(N.zh,{value:{sectionname:"groups"}},k().createElement(G,{streamKey:"groups",className:ve.root,seeAll:n,isLoading:e},k().createElement("div",{className:ve.grid},!e&&t.filter(function(e){return!!e}).slice(0,4).map(function(e,t){return k().createElement(ue,{key:e.userId,username:e.username,imageUrl:e.usericon,className:ve["grid-item"],biData:{evid:F.d4.USERNAME_CLICK,typeid:ce._.GROUP,itemid:e.userId,_rankIndex:t}})}),e&&Array(4).fill(0).map(function(e,t){return k().createElement(z,{key:t,className:ve["grid-item"]})})))):null};o.displayName="GroupsBlock";var s=o,pe=a(46460),r={showGroupsListPopup:pe.showDeviationGroupListPopup},he=(0,p.connect)(null,r)(s),Ee=a(83470),fe={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px","by-author":"_1RBiN",byAuthor:"_1RBiN"},t=function(e){var t=e.i18nSubKey,a=e.author,n=e.className,e=e.linkToProfileSection;return k().createElement("div",{className:L()(fe.root,n)},k().createElement(oe.Z,{user:a,className:fe["by-author"],linkTo:e},k().createElement(b.cC,{i18nKey:"sidebar.blockTitle."+t},"More things by ",k().createElement(Ee.Z,{user:a}))))};t.displayName="MoreByAuthor";var ge=t,l=function(e){var t=e.parentDeviation,a=e.deviations,n=void 0===a?[]:a,i=e.streamKey,r=e.seeAll,a=e.titleOverride,e=e.isLoading;return e||n.length?k().createElement(G,{streamKey:i,seeAll:e?void 0:r,titleOverride:a,isLoading:e},k().createElement(ae,{streamId:"deviation-sidebar-"+i+"-"+t.deviationId,parentDeviation:t,deviations:n,isLoading:e})):null};l.displayName="SimpleDeviationGridBlock";var Ne=l,n=function(e){var t=e.gallery,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"gallery",section_typeid:le.tD.GALLERY}},k().createElement(Ne,{streamKey:"gallery",deviations:t,parentDeviation:a,titleOverride:a.author&&k().createElement(ge,{author:a.author,i18nSubKey:"gallery",linkToProfileSection:"gallery"}),isLoading:e}))};n.displayName="Gallery";var _e=n,be=a(47045),ye=parseInt("343px",10),we=parseInt("294px",10),Ce=parseInt("308px",10),o=function(e){var t=e.deviations,a=void 0===t?[]:t,n=e.streamKey,i=e.titleOverride,r=e.isLoading,l=void 0!==r&&r,t=e.maxLength,r=void 0===t?3:t,t=e.parentDeviation,o=e.useShopThumb,s=(0,M.useContext)(y.z);if(!l&&!a.length)return null;r=l?Array(r).fill(void 0):a.slice(0,r);return k().createElement(G,{streamKey:n,titleOverride:i,isLoading:l},k().createElement(U.Z,{streamId:"deviation-sidebar-"+n+"-"+t.deviationId,deviations:a,parent:{typeId:(0,J.ln)(t),itemId:t.deviationId}},r.map(function(a,e){return k().createElement(N.zh,{key:e,value:{_rankIndex:e}},k().createElement(be.Z,{className:"_10kcu"},function(e){var t=e.containerWidth;return e.containerHeight,k().createElement(q,{deviation:a,isLoading:l,className:L()("_3OCz0",o&&"_3tBv8"),height:o?we:ye,width:s?t:Ce,useShopThumb:o})}))})))};o.displayName="TextualThumbBlock";var xe=o,r=function(e){var t=e.moreJournals,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"moreJournals"}},k().createElement(xe,{streamKey:"moreJournals",deviations:t,parentDeviation:a,titleOverride:a.author&&k().createElement(ge,{author:a.author,i18nSubKey:"moreJournals"}),maxLength:4,isLoading:e}))};r.displayName="MoreJournals";var Te=r,s=function(e){var t=e.moreLiterature,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"moreLiterature"}},k().createElement(xe,{streamKey:"moreLiterature",deviations:t,parentDeviation:a,titleOverride:a.author&&k().createElement(ge,{author:a.author,i18nSubKey:"moreLiterature"}),maxLength:1,isLoading:e}))};s.displayName="MoreLiterature";var Ie=s,t=function(e){var t=e.morePolls,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"morePolls"}},k().createElement(xe,{streamKey:"morePolls",deviations:t,parentDeviation:a,titleOverride:a.author&&k().createElement(ge,{author:a.author,i18nSubKey:"morePolls"}),isLoading:e}))};t.displayName="MorePolls";var Me=t,l=function(e){var t=e.latestStatus,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"latestStatus"}},k().createElement(xe,{streamKey:"latestStatus",deviations:t,parentDeviation:a,titleOverride:a.author&&k().createElement(ge,{author:a.author,i18nSubKey:"latestStatus"}),isLoading:e}))};l.displayName="MorePolls";var ke=l,Le=a(64105),De=a(65334),n=function(e){var a=e.deviations;return k().createElement(De.l6,{cookieType:De._0.DEVIATION_MOBILE_SIDEBAR,cookieDim:"width",defaultSize:De.XH,listenOnWindow:!0,limitToParentWidth:!0,measureWindow:!0},function(e){var t=e.container;return k().createElement(k().Fragment,null,a.slice(0,5).map(function(e){return k().createElement(Le.Z,{key:e.deviationId,deviation:e,width:(t||De.XH.mobile).width,height:239,className:"_1paro"})}))})};n.displayName="MobileThumbList";var Se=n,o=function(e){var t=e.recommended,a=e.parentDeviation,n=e.isLoading,e=(0,M.useContext)(y.z);return k().createElement(N.zh,{value:{sectionname:"recommended"}},e?k().createElement(k().Fragment,null,t&&0<t.length&&k().createElement(G,{streamKey:"recommended",isLoading:n},k().createElement(Se,{deviations:t}))):k().createElement(Ne,{streamKey:"recommended",parentDeviation:a,deviations:t,isLoading:n}))};o.displayName="Recommended";var Ze=o,r=function(e){var t=e.recommendedLiterature,a=e.parentDeviation,e=e.isLoading;return k().createElement(N.zh,{value:{sectionname:"recommendedLiterature"}},k().createElement(xe,{streamKey:"recommendedLiterature",parentDeviation:a,deviations:t,isLoading:e}))};r.displayName="RecommendedLiterature";var Be=r,s=function(e){var t=e.type,a=e.deviation,n=e.isLoading,i=(0,_.AZ)(a);if(!i[t]&&!n)return null;switch(t){case"gallery":return k().createElement(_e,{parentDeviation:a,gallery:i.gallery,isLoading:n});case"moreJournals":return k().createElement(Te,{parentDeviation:a,moreJournals:i.moreJournals,isLoading:n});case"moreLiterature":return k().createElement(Ie,{parentDeviation:a,moreLiterature:i.moreLiterature,isLoading:n});case"morePolls":return k().createElement(Me,{parentDeviation:a,morePolls:i.morePolls,isLoading:n});case"latestStatus":return k().createElement(ke,{parentDeviation:a,latestStatus:i.latestStatus,isLoading:n});case"recommended":return k().createElement(Ze,{parentDeviation:a,recommended:i.recommended,isLoading:n});case"recommendedLiterature":return k().createElement(Be,{parentDeviation:a,recommendedLiterature:i.recommendedLiterature,isLoading:n});case"collections":return k().createElement(de,{parentDeviation:a,collections:i.collections,isLoading:n});case"groups":return k().createElement(he,{deviation:a,groups:i.groups,isLoading:n});default:return null}};s.displayName="SidebarSection";var Pe=s,Ae=a(50044),Oe=a(91890),t=function(e){var t=(0,M.useContext)(Oe.Ni)===Oe.hg.DARK?"150a7c06-b63c-40d0-9d26-7ce399ee49e9":"856b5f3f-b93b-40cc-b7ba-66c8221a398a";return k().createElement(Ae.Z,{realEstateId:t,className:"_3xErD"})};t.displayName="SidebarAd";var Fe=t,ze=a(18087),l=function(e){var t=e.className,a=e.deviation,e=(0,_.yh)(a),n=!a.extended,e=n?e.slice(0,_.L_):e;return k().createElement(v.Z,null,k().createElement(ze.Z.Provider,{value:!0},k().createElement("div",{className:L()("dyIbE",t),role:"complementary"},e.map(function(e,t){return k().createElement(M.Fragment,{key:e},k().createElement(N.zh,{key:e,value:{_rankOffset:0}},k().createElement(Pe,{type:e,deviation:a,isLoading:n})),1===t&&k().createElement(Fe,null))}))))};l.displayName="Sidebar";var Re=l,He=a(8658),Ge=a(66034),Ue=a(60439),We=a(59548),n=(0,p.connect)(function(e,t){t=t.deviation;return{isOwner:(0,We.dr)(e,t)}}),Ve=a(67233),Ke=a(46424),je=a(41743),Je=a(51982),$e=a(11398),o=function(e){var t=e.deviation,a=t.deviationId,n=t.typeId,i=t.isCommentable,r=t.hasPrivateComments,l=e.deviation,o=e.isOwner,s=e.className,t=(0,b.$G)().t,e=(0,f.nc)(n),n=(0,Je.y)(null==l?void 0:l.premiumFolderData),l=n.isPremium,n=n.isPaidFolder,n=o&&l&&r&&k().createElement("div",{className:"_3YpAJ"},n?k().createElement(je.Z,{size:T.Jh.TINY}):k().createElement($e.Z,{size:T.Jh.TINY}),k().createElement("span",{className:"sDoUD"},t(n?"deviation.comments.paywallOwner.premium":"deviation.comments.paywallOwner.watchers_only")));return k().createElement(v.Z,null,k().createElement(N.zh,{value:{sectionname:"comments"}},k().createElement("div",{className:"EknBd",id:"comments"}),i?k().createElement(Ve.ZP,{key:e+":"+a,commentableTypeId:e,commentableItemId:a,postbox:"both",statsAndControls:"on",className:s,allowSelfInit:!1,enableOffsetTracking:!0,extraInHeader:n}):k().createElement(Ke.Z,{className:L()("_3_Cel",s),title:t("deviation.comments.commentsDisabled")})))};o.displayName="Comments";var qe=n(o),Qe=a(27945),r={expandAndFocusCommentPanel:i.HZ},s=(0,p.connect)(function(e){return{}},r),Xe=a(22492),Ye=a(10330),et=a(20889),tt=a(31984),at=a(65992),t=(0,M.forwardRef)(function(e,t){var a=e.className,n=e.children,e=(0,b.$G)().t;return k().createElement(et.$0,{className:L()("_2TM46",a),ref:t,"data-hook":F.vt.DEVIATION_ACTION_BAR},k().createElement(tt.T,null,k().createElement(at.Z,null,e("actionbar.a11y.heading"))),n)});t.displayName="ActionBarStrip";var nt=t,it=a(59554),rt={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"T4qm4",flag:"_1f2pQ",green:"XDeOQ",purple:"_2pVon",red:"_3aZmU",stack:"GDA5Q",base:"_13VXL","flag-icon":"_33QOc",flagIcon:"_33QOc","collapsed-title":"_2aIGP",collapsedTitle:"_2aIGP","disable-label":"oDfIh",disableLabel:"oDfIh",glow:"_2ED_c",visible:"_1FMTt",tooltip:"_3ZO-l",hovering:"gHDfw","flag-list":"WV9lk",flagList:"WV9lk",top:"_3He2J","top-start":"_3tR4B",topStart:"_3tR4B","top-end":"_2UfuH",topEnd:"_2UfuH",bottom:"F2Vzk","bottom-start":"_2Zl-9",bottomStart:"_2Zl-9","bottom-end":"_34-dN",bottomEnd:"_34-dN","flag-list-visible":"_1Ud6d",flagListVisible:"_1Ud6d","flag-block":"_3j_HA",flagBlock:"_3j_HA",open:"Jjcfc","open-only":"_1ZXr-",openOnly:"_1ZXr-",content:"_3mb7k",title:"_3FF7T",time:"kFqcR",body:"_2PKCE",attribution:"_35TZb",link:"_3K783",suggester:"_3vfkj",toggle:"_1-1h0","toggle-icon":"_3AO1f",toggleIcon:"_3AO1f","always-expanded":"_1UiZj",alwaysExpanded:"_1UiZj"},l=function(e){var t=e.innerRef,e=e.title;return k().createElement("div",{ref:t,className:rt.base},k().createElement("div",{className:rt.glow}),k().createElement("div",{className:L()(rt.flag,rt.green)}),k().createElement("div",{className:L()(rt.flag,rt["flag-icon"])}),k().createElement("div",{className:rt["collapsed-title"]},e))};l.displayName="DeviationFlagBase";var lt=l,ot=a(45778),st=a(53971),ct=a(27892),mt=a(39832),n=function(e){var t=e.dailyDeviation,a=t.body,n=t.time,i=t.giver,r=t.suggester,e=(0,b.$G)().t,t=(0,M.useContext)(ot.B).isLoggedIn;return k().createElement("div",{className:L()(rt["flag-block"],rt.open)},k().createElement("div",{className:L()(rt.flag,rt.green)}),k().createElement("div",{className:rt.content},k().createElement("div",{className:rt.title},e("actionbar.flags.dailyDeviation")),k().createElement("div",{className:rt["open-only"]},k().createElement("div",{className:rt.time,suppressHydrationWarning:!0},e("actionbar.flags.givenOn",{date:(0,ct.p6)(n,ct.lv.Date.Full)})),k().createElement(mt.Z,{className:rt.body,html:a}),k().createElement("div",{className:rt.attribution},k().createElement("div",{className:rt.giver},k().createElement(b.cC,{i18nKey:"actionbar.flags.featuredBy"},"Featured by ",k().createElement(oe.Z,{user:i,className:rt.link}))),r&&k().createElement("div",{className:rt.suggester},k().createElement(b.cC,{i18nKey:"actionbar.flags.suggestedBy"},"Suggested by ",k().createElement(oe.Z,{user:r,className:rt.link})))),t&&k().createElement(st.Z,{href:re.Url.browseDailyDeviationsLink(),size:"medium",variant:"approval-green"},e("actionbar.flags.seeAll")))))};n.displayName="DailyDeviationCard";var dt=n,ut=a(10661),o=function(e){var a,t=e.deviation.dailyDeviation,n=e.alwaysExpanded,i=e.disableLabel,r=e.className,l=(0,b.$G)().t,o=(0,M.useContext)(y.z),s=(0,M.useReducer)((a=o,function(e,t){switch(t){case"mouseEnter":return a?e:{isFlagListVisible:!0,isHovering:!0};case"mouseLeave":return a?e:(0,h.__assign)((0,h.__assign)({},e),{isHovering:!1});case"click":return a?e.isFlagListVisible?(0,h.__assign)((0,h.__assign)({},e),{isHovering:!1}):{isFlagListVisible:!0,isHovering:!0}:e;case"transitionEnd":return e.isHovering?e:(0,h.__assign)((0,h.__assign)({},e),{isFlagListVisible:!1});default:return e}}),{isFlagListVisible:!1,isHovering:!1}),e=s[0],c=e.isFlagListVisible,e=e.isHovering,m=s[1];return t?k().createElement("div",{className:L()(rt.root,n&&rt["always-expanded"],e&&rt.hovering,c&&rt.visible,i&&rt["disable-label"],r),onClick:function(){return m("click")},onMouseEnter:function(){return m("mouseEnter")},onMouseLeave:function(){return m("mouseLeave")},onTransitionEnd:function(e){"opacity"===e.propertyName&&m("transitionEnd")}},k().createElement(ut.Z,{placement:"top",secondaryPlacement:o?"end":"start",wrapperClassName:rt.tooltip,usePortal:!1,popoverContent:function(e){e=e.placement;return k().createElement("div",{className:L()(rt["flag-list"],rt[e],c&&rt["flag-list-visible"])},k().createElement(dt,{dailyDeviation:t}))}},k().createElement(lt,{title:l("actionbar.flags.dailyDeviation")}))):null};o.displayName="DeviationFlags";var vt=o,pt=a(73413),ht=a(97103),Et=a(31885),r=function(e){var t=e.className,a=e.activated,n=(e.children,e.icon),e=(0,h.__rest)(e,["className","activated","children","icon"]);return k().createElement(Et.Z,(0,h.__assign)({className:L()("_2FtPG",t),icon:n,activated:a},e))};r.displayName="ActionBarToggleButton";var ft=r,t=function(e){var t=e.deviation,a=e.deviation,n=a.deviationId,i=a.author,r=a.extended,l=e.onToggleCommentPanel,o=e.isCommentPanelOpen,s=e.isOwner,c=e.actionBarType,a=(0,M.useContext)(y.z),e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:s?e("actionbar.comment"):void 0},k().createElement(ft,{activated:o,onClick:function(){r&&l(t,c)},"data-hook":F.vt.DEVIATION_COMMENT_BUTTON,biData:{evid:F.d4.THUMB_CLICK_COMMENT,typeid:(0,J.ln)(t),creatorid:i&&i.useridUuid,itemid:n},label:s||a?void 0:e("actionbar.comment"),icon:pt.Z}))};t.displayName="CommentButton";var l=t,n={onToggleCommentPanel:i.HZ},gt=(0,p.connect)(function(e,t){var a=t.actionBarType;return t.deviation,{isCommentPanelOpen:"comment"===(0,m.xe)(e,a)}},n)(l),o=a(93685),r=a(38658),Nt=a.n(r),_t=a(76548),bt=a(68963),yt=a(68661),wt=a(33278),Ct=a(91657),xt=a(5923);t=function(e){var a=e.deviation,t=e.actionBarType,n=e.isCollectionPanelOpen,i=e.onToggleCollectionPanel,r=e.onChangeFave,l=e.onArrowClick,o=(0,M.useContext)(y.z),s=(0,b.$G)().t,c=(0,_t.P)("add_to_faves_2");I((0,M.useMemo)(function(){return{g:function(e){"primary"===t&&e.ctrlKey&&i("primary")}}},[t,i]));var m=!!a.isFavourited,d=(0,M.useCallback)(function(t){return k().createElement(xt.VO,null,function(e){e=e.ref;return k().createElement(Ct.Z,(0,h.__assign)({},t,{ref:e,isFavourited:m,deviationId:a.deviationId}))})},[m,a.deviationId]);return k().createElement(N.zh,{value:(e=a,{creatorid:Nt()(e,"author.useridUuid"),typeid:(0,J.ln)(e),itemid:e.deviationId})},k().createElement(ht.Z,{notificationTypes:[wt.k$.Collect,wt.k$.CollectUndo,wt.k$.Fave,wt.k$.FaveUndo],popoverWrapperClassName:L()(c&&"_2TZrc")},k().createElement(ft,{onClick:function(){return r(a,!m,(0,f.Ve)(a))},activated:n,"data-hook":F.vt.DEVIATION_FAVE_BUTTON,label:o?void 0:s(m?"actionbar.inFavourites":"actionbar.addToFavourites"),biData:function(e,t){if(!t)return{evid:e?F.d4.THUMB_CLICK_UNFAVE:F.d4.THUMB_FAVE}}(m,n),icon:d}),c&&k().createElement(yt.Z,{className:"_1__8c",onClick:l,biData:{evid:F.d4.POPUP_CLICK_ADD_TO_COLLECTION,sectionname:"arrowButton"}},k().createElement(bt.Z,{size:T.Jh.SMALLER}))))};t.displayName="FavouriteButton";var n=t,Tt=a(75524),l=a(489),r={onToggleCollectionPanel:i.Zp.bind(null,"collection"),onChangeFave:l.changeFaveCustom},t=(0,p.connect)(function(e,t){var a=t.deviation,t=t.actionBarType;return{deviation:(0,Tt.getDeviationPatchedWithStoreState)(e,a),isCollectionPanelOpen:"collection"===(0,m.xe)(e,t)}},r),It=a(9390),Mt=a(32314),kt=a(35102),Lt=t(n),l=function(e){var t=(0,M.useContext)(y.z),a=e.actionBarType,n=(0,It.S)("primary"===a?Mt.O.ADD_TO_COLLECTION_PRIMARY:Mt.O.ADD_TO_COLLECTION_SECONDARY),i=n.popover,r=n.removePopover,a=n.togglePopover;return k().createElement(ut.Z,{popoverContent:k().createElement(kt.Z,{collectibleDeviation:e.deviation,notificationQueue:(0,f.Ve)(e.deviation),ignorePreselectedCollections:null===(n=i.params)||void 0===n?void 0:n.ignorePreselectedCollections,onClose:r}),placement:"top",isVisible:i.isOpen,modifiers:{offset:{offset:"0, 20"}},onClickOutside:t?void 0:r},k().createElement(Lt,(0,h.__assign)({},e,{onArrowClick:a})))};l.displayName="FavouriteButtonWithPopover";var Dt=t((0,o.Z)({add_to_faves_2:l})(n)),St=a(22739),Zt=a(58321),Bt=a(3181),Pt=a(28989),At=a(86325),Ot=a(74421),Ft=a(34464),zt=a(76322),Rt=a(23098),Ht=a(26836),Gt=a(86224),r=function(e){e=e.group;return k().createElement(Rt.Z,{label:e.username,prefix:k().createElement(Ht.Z,{user:e,size:35}),fillContainerWidth:!0,suffixIcon:Gt.Z,showSuffixOnlyOnHover:!0})};r.displayName="GroupListItem";var Ut=r,Wt=a(51869),t=function(e){var t=e.headerContent,a=e.groups,n=e.onSelect,i=e.isFetching,r=e.streamId,l=e.filterValue,o=(0,b.$G)().t,e=!i&&0===a.length;return i&&!a.length?k().createElement(Ge.Z,{view:"llama",className:"_2HT5L"}):k().createElement(k().Fragment,null,t,e?k().createElement(et.$0,{className:"_1BDOQ"},k().createElement(at.Z,{className:"AFjf-"},o("addToGroupPopup.empty.header")),k().createElement("div",{className:"_3JggA"},o("addToGroupPopup.empty.text")),k().createElement(Wt.Z,{className:"xHnYQ",variant:"approval-green",size:"medium",href:re.URLS.GROUPS,biData:{evid:F.d4.DEFAULT,click_info:"addToGroup.emptyState"}},o("addToGroupPopup.empty.CTA.button"))):k().createElement(Ft.Z,{streamId:r,className:"_3BZBu",wrapperClassName:"_1iBVY"},a.map(function(e){return!l||e.username.toLowerCase().includes(l.toLowerCase())?k().createElement(zt.Z,{key:e.userId,className:"IMULY",onClick:function(){return n(e)},biData:{evid:F.d4.ADD_TO_GROUP_SELECT,groupid:e.useridUuid}},k().createElement(Ut,{group:e})):null})))};t.displayName="GroupsList";var l=t,Vt=a(90343),Kt=a(48090),jt=a(34094),Jt=a(64247);var $t=(0,p.connect)(function(e){return t=e,{streamId:e=(0,Kt.ib)(),groups:Vt.wl.getItems(t,e),isFetching:Vt.wl.isFetching(t,e)};var t})(l),qt=a(89902),Qt=a(62273),Xt=a(11775),Yt={root:"ARLaQ",avatar:"jwNeO"},n=function(e){var t=e.group,e=e.resetSelectedGroup;return k().createElement("div",{className:Yt.root},k().createElement(x.Z,{className:Yt["icon-button"],onClick:e},k().createElement(Qt.Z,null)),k().createElement(Ht.Z,{className:Yt.avatar,user:t,size:28}),k().createElement(Xt.Z,{value:t.username,isConcise:!0}))};n.displayName="SelectedGroupHeader";var ea=n,ta=a(21863),r=function(e){function n(e){var t=e.folderId;e.isSelected&&(o(t),v((0,h.__spreadArray)((0,h.__spreadArray)([],u),[t])))}var t=e.submissionType,a=e.folders,i=e.isFetching,r=e.streamId,l=e.hasOnlyOneChunkOfGroupFoldersToLoad,o=e.onFolderSelected,s=(0,b.$G)().t,c=(0,M.useState)(""),m=c[0],d=c[1],e=!i&&!a.length,c=(0,M.useState)([]),u=c[0],v=c[1],c=(0,Zt.h)({evid:F.d4.DEFAULT,click_info:t===qt.S.Collection?"addToGroup.searchCollection":"addToGroup.searchGallery"}).setTrackingRef;return k().createElement(k().Fragment,null,l&&k().createElement(At.Z,{refInput:c,value:m,className:"dq5hq",onChange:function(e){return d(e)},placeholder:s("addToGroupPopup.input.filter.placeholder"),withFilledBackground:!0,prefixIcon:St.Z}),k().createElement(Ft.Z,{streamId:r,className:"_1hNaJ",wrapperClassName:"_2QxLZ"},a.map(function(e){var t=e.folder,a=e.added,e=e.suggested;return!t||m&&!t.name.toLowerCase().includes(m.toLowerCase())?null:k().createElement(ta.Z,{key:t.folderId,isSelected:a||e||u.includes(t.folderId),isDisabled:a||e,gallection:t,showSuffixOnlyOnHover:!a&&!e,suffix:(t=e?"addToGroupPopup.button.suggested":a?"addToGroupPopup.button.added":"addToGroupPopup.button.add",k().createElement(st.Z,{size:"small",variant:"approval-green",disabled:a||e},s(t))),onChange:n})}),e&&k().createElement("div",{className:"_2xxfP"},s("addToGroup.noFolders."+t))),i&&k().createElement(Ge.Z,{view:"llama",className:"_14FWq"}))};r.displayName="FolderList";var t=r,aa=(0,p.connect)(function(e,t){var a,n,i,r,l,l=(a=e,n=t.deviationId,i=t.submissionType,r=t.groupId,{streamId:l=(0,Kt.Fn)(i,r),folders:Vt.wl.getItems(a,l).map(function(e){return(0,h.__assign)({folder:e},function(e,t){t=(0,Kt.tX)(n,t),t=e[Jt.wr]&&e[Jt.wr][t];return(0,h.__assign)({loading:!1,added:!1,suggested:!1},t)}(a,{groupId:r,type:i,folderId:e.folderId}))}),isFetching:Vt.wl.isFetching(a,l),hasMore:Vt.wl.hasMore(a,l)});return{streamId:l.streamId,folders:l.folders,isFetching:l.isFetching,hasMore:l.hasMore,hasOnlyOneChunkOfGroupFoldersToLoad:function(e,t,a){a=(0,Kt.Fn)(t,a);return!Vt.wl.isFetching(e,a)&&!Vt.wl.hasMore(e,a)&&Vt.wl.getItems(e,a).length<=jt.uI}(e,t.submissionType,t.groupId)}})(t),l=function(e){var t,a,n,i,r=e.deviation,l=e.className,o=e.actionbarType,s=e.initGroupsPanel,c=e.addToGroupFolder,m=e.hasOnlyOneChunkOfGroupsToLoad,d=(e.hasNoGroups,e.onClose),u=(0,b.$G)().t,v=(0,Zt.h)({evid:F.d4.DEFAULT,click_info:"addToGroup.searchGroup"}).setTrackingRef,p=(0,M.useContext)(y.z),h=(0,M.useState)(""),E=h[0],f=h[1],e=(_=(0,M.useState)(),t=_[0],a=_[1],n=(0,M.useState)(qt.S.Gallery),_=n[0],i=n[1],{selectedGroup:t,selectedSubmissionType:_,selectGroup:function(e){return a(e)},resetSelectedGroup:function(){return a(void 0)},selectSubmissionType:function(e){return i(e)}}),h=e.selectGroup,g=e.selectedGroup,n=e.resetSelectedGroup,N=e.selectedSubmissionType,t=e.selectSubmissionType;(0,M.useEffect)(function(){s()},[s]),(0,M.useEffect)(function(){f("")},[g]);var _=[{index:qt.S.Gallery,label:u("addToGroup.folderType.gallery")},{index:qt.S.Collection,label:u("addToGroup.folderType.collection")}],e=(p?Pt:Bt).Z;return k().createElement(e,{isOpen:!0,title:g?k().createElement(ea,{group:g,resetSelectedGroup:n}):u("addToGroupPopup.title"),headerExtras:k().createElement(k().Fragment,null,g&&k().createElement(Ot.Z,{items:_,activeIndex:N,onChange:t,className:"_2HFtl"}),!g&&m&&k().createElement(At.Z,{refInput:v,value:E,onChange:function(e){return f(e)},className:"_2xftJ",placeholder:u("addToGroupPopup.input.filter.placeholder"),withFilledBackground:!0,prefixIcon:St.Z})),className:p?void 0:L()("_1lbBQ",l),withScrollableContentWrapper:!1,onClose:d},void 0===g&&k().createElement($t,{filterValue:E,onSelect:h}),g&&k().createElement(aa,{deviationId:r.deviationId,groupId:g.userId,submissionType:N,onFolderSelected:function(e){c(r,g,{groupId:g.userId,type:N,folderId:e},o),setTimeout(function(){d&&d()},1e3)}}))};l.displayName="AddToGroupPopover";var n=l,r=a(98267),t={initGroupsPanel:r.xA,addToGroupFolder:r.$2},na=(0,p.connect)(function(e){return{hasNoGroups:(t=e,a=(0,Kt.ib)(),Vt.wl.isInitialized(t,a)&&!Vt.wl.hasMore(t,a)&&!Vt.wl.isFetching(t,a)&&0===Vt.wl.getItems(t,a).length),hasOnlyOneChunkOfGroupsToLoad:(a=e,e=(0,Kt.ib)(),!Vt.wl.isFetching(a,e)&&!Vt.wl.hasMore(a,e)&&Vt.wl.getItems(a,e).length<=jt.NX)};var t,a},t)(n),ia=a(40731),ra=a(4673),la=[wt.k$.AddToGroup,wt.k$.GroupPrompt],l=function(e){var t=e.activated,a=e.withTooltip,n=e.deviation,i=e.onClick,r=(0,b.$G)().t,e=(0,ra.g)(la).notifications,r=a&&!e.length?r("actionbar.addToGroup"):void 0;return k().createElement(ht.Z,{tooltip:r,notificationTypes:la},k().createElement(ft,{activated:t,onClick:i,"data-hook":F.vt.DEVIATION_GROUPS_COUNTER,biData:{evid:F.d4.ADD_TO_GROUP_CLICK,deviationid:n.deviationId,sectionname:"add_to_group"},icon:ia.Z}))};l.displayName="AddToGroupButton";var oa=l,r=function(e){var t=e.deviation,a=e.actionBarType,n=(0,M.useContext)(y.z),i=(0,M.useRef)(null),e=(0,It.S)("primary"===a?Mt.O.ADD_TO_GROUP_PRIMARY:Mt.O.ADD_TO_GROUP_SECONDARY),r=e.popover,l=e.pushPopover,o=e.removePopover,e=(0,M.useCallback)(function(e){i.current&&i.current.contains(e.target)||n||o()},[o,n]);return k().createElement(ut.Z,{ref:i,popoverContent:k().createElement(na,{actionbarType:a,deviation:t,onClose:o}),isVisible:r.isOpen,placement:"top",modifiers:{offset:{offset:"0, 20"}},onClickOutside:e},k().createElement(oa,{activated:r.isOpen,deviation:t,onClick:function(){(r.isOpen?o:l)()},withTooltip:!r.isOpen}))};r.displayName="AddToGroupButtonWithPopover";var sa=r,ca=a(41709),ma=a(74992),t=function(e){var t=e.deviation,a=e.isOwner,n=e.closeTooltip,i=void 0===n?function(){return null}:n,r=e.showReportModal,l=e.showDesktopDeviationSharePopup,n=(0,b.$G)().t,e=(0,it.X)(t,a),a=e.isShareable,e=e.isReportable;return k().createElement(ma.Z,{className:"_2C-gB",id:"actionbar-more-menu",items:[a&&{value:"share",label:n("actionbar.share"),biData:{evid:F.d4.CLICK_SHARE,typeid:(0,J.ln)(t),itemid:t.deviationId},onClick:function(){l()}},e&&{value:"report",label:n("actionbar.report"),biData:{evid:F.d4.CLICK_REPORT_BUTTON,modal_version:2},onClick:function(){r(t),i()}}]})};t.displayName="MoreMenuContent";var n=t,l=a(50979),r={showReportModal:l.mJ},da=(0,p.connect)(function(e,t){return{isOwner:(0,We.dr)(e,t.deviation)}},r)(n),t=function(e){var t=e.icon,a=e.iconRef,n=e.isActive,e=e.children,a={className:L()(n&&"_2BgWo"),customSizable:!1,disableDefaultColors:!0,containerRef:a,iconSize:T.Jh.MEDIUM};return e?k().createElement(k().Fragment,null,e(a)):t?k().createElement(t,(0,h.__assign)({},a)):null};t.displayName="ActionBarIcon";var ua=t,va=a(36777),pa=a(94767),ha=a(87301),r=function(e){var t=e.deviation,a=e.isOwner,n=e.showReportModal,i=e.showMobileDeviationSharePopup,r=(0,b.$G)().t,e=(0,it.X)(t,a),a=e.isShareable,e=e.isReportable;return k().createElement(ha.Z,{className:"_28giO",onSelect:function(e){switch(e){case"share":i(t);break;case"report":n(t)}},items:[a&&{value:"share",label:r("actionbar.share"),biData:{evid:F.d4.CLICK_SHARE,typeid:(0,J.ln)(t),itemid:t.deviationId}},e&&{value:"report",label:r("actionbar.report"),biData:{evid:F.d4.CLICK_REPORT_BUTTON,modal_version:2}}]})};r.displayName="MoreMenuMobileDropdown";var n=r,t={showReportModal:l.mJ,showMobileDeviationSharePopup:pe.showMobileDeviationSharePopup},Ea=(0,p.connect)(function(e,t){return{isOwner:(0,We.dr)(e,t.deviation)}},t)(n),r=function(e){var t=e.deviation,a=(0,b.$G)().t,n=(0,M.useContext)(y.z),i=(0,M.useState)(!1),e=i[0],r=i[1];return n?k().createElement(zt.Z,{className:"_31_Wo"},k().createElement(ua,{icon:ca.Z}),k().createElement(Ea,{deviation:t})):k().createElement(k().Fragment,null,e&&k().createElement(va.Z,{onRequestClose:function(){return r(!1)},isOpen:!0},k().createElement(pa.Z,{deviation:t})),k().createElement(ht.Z,{allowMobilePopover:!0,placement:n?"top-end":void 0,renderPopover:function(e){e=e.closeTooltip;return k().createElement(da,{deviation:t,closeTooltip:e,showDesktopDeviationSharePopup:function(){return r(!0)}})},tooltip:a("actionbar.more.tooltip")},k().createElement(ft,{icon:ca.Z})))};r.displayName="MoreButton";var fa=r,ga=a(93805),t=function(e){var t=e.deviation,a=t.deviationId,n=t.print,i=void 0===n?{}:n,t=i.lowestPrice,n=i.purchaseUrl,i=e.className,e=(0,b.$G)().t;return k().createElement(ht.Z,{className:i},k().createElement(ga.Z,{href:n,biData:{evid:F.d4.BUY_CLICK,deviationid:a}},t?e("actionbar.buyFor",{price:t}):e("actionbar.buy")))};t.displayName="BuyButton";var Na=t,_a=a(28594),ba=a(81984),n=function(e){var t=e.className,a=e.dataHook,n=e.children,e=(0,h.__rest)(e,["className","dataHook","children"]);return k().createElement(yt.Z,(0,h.__assign)({className:L()("_3oyhv",t),"data-hook":a},e),k().createElement(ba.Z,null,n))};n.displayName="ActionBarButton";var ya=n,r=function(e){var t=e.className,e=(0,h.__rest)(e,["className"]);return k().createElement(ya,(0,h.__assign)({className:L()("_2AB76",t)},e))};r.displayName="ActionBarEditButton";var wa=r,t=function(e){var t=e.deviation,a=e.onClick,e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:e("actionbar.edit")},k().createElement(wa,{onClick:function(){a({deviation:t,fromDeviationPage:!0})},biData:{evid:F.d4.DEVIATION_EDIT_CLICK,typeid:(0,J.ln)(t),itemid:t.deviationId}},k().createElement(ua,{icon:_a.Z})))};t.displayName="EditButton";var n=t,r=a(14524),t={onClick:r.Dg},Ca=(0,p.connect)(null,t)(n),xa=a(35315),t=function(e){var t=e.deviation,a=e.currentBackgroundId,n=e.onInitialize,i=e.showBackgroundPicker,r=e.isBackgroundsPopupOpen,l=(0,b.$G)().t;(0,M.useEffect)(function(){n()},[n]);e=(0,M.useCallback)(function(){r||i(t)},[t,r,i]);return k().createElement(ht.Z,{tooltip:l("deviation.backgrounds.change")},k().createElement(wa,{onClick:e,biData:{evid:F.d4.CHANGE_BACKGROUND_CLICK,itemid:t.deviationId,typeid:(0,J.ln)(t),background_id:a}},k().createElement(ua,{icon:xa.Z})))};t.displayName="EditBackgroundButton";var n=t,Ta=a(26101),t=a(89285),t={onInitialize:t.I2,showBackgroundPicker:t.U6},Ia=(0,p.connect)(function(e,t){t=t.deviation;return{currentBackgroundId:(0,Ta.HZ)(e,t),isBackgroundsPopupOpen:(0,Ta.RE)(e)}},t)(n),Ma=a(69403),ka=a(33992),La=a(69785),Da=a(58204),n=function(e){var t=e.deviation,a=e.onClick,n=(0,b.$G)().t,i=(0,M.useState)(!1),e=i[0],r=i[1],l=(0,La.v)(),i=(0,J.AP)(t),i=n((0,J.yO)(i));return k().createElement(k().Fragment,null,k().createElement(ht.Z,{tooltip:n("actionbar.delete")},k().createElement(wa,{onClick:function(){return r(!0)},biData:{evid:F.d4.DEVIATION_DELETE_CLICK,typeid:(0,J.ln)(t),itemid:t.deviationId}},k().createElement(ua,{icon:Ma.Z}))),k().createElement(Da.Z,{isOpen:e,title:n("actionbar.delete.confirm",{type:i}),text:n("actionbar.delete.cantGoBack"),confirmBtnLabel:n("actionbar.delete"),icon:k().createElement(ka.eQ,null),confirmBtnType:"danger",onConfirm:function(){l({evid:F.d4.DELETE_DEVIATION_CONFIRM_CLICK,itemid:t.deviationId,typeid:(0,J.ln)(t)}),r(!1),a({deviation:t,shouldRedirect:!0})},onCancel:function(){return r(!1)}}))};n.displayName="DeleteButton";var n=n,r={onClick:r.d9},Sa=(0,p.connect)(null,r)(n),r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M19 5v14H5V5h14zm1-2H4a1 1 0 00-1 1v16a1 1 0 001 1h16a1 1 0 001-1V4a1 1 0 00-1-1z"})))};r.displayName="DefaultView";var Za=r,n=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M20 16H4V9h16v7zm1-9H3a1 1 0 00-1 1v9a1 1 0 001 1h18a1 1 0 001-1V8a1 1 0 00-1-1z"})))};n.displayName="TheaterView";var Ba=n,r=function(e){var t=e.isTheaterForced,a=e.deviation,n=e.onClick,i=(0,b.$G)().t,e=(0,D.ES)().isTheater;return k().createElement(ht.Z,{tooltip:i("actionbar."+(e?"regular":"theater")+"View"+(t?".disabled":""))},k().createElement(ya,{onClick:function(){return n(a)},disabled:t},k().createElement(ua,{icon:e?Za:Ba})))};r.displayName="TheaterButton";var n=r,r={onClick:i.Wf},Pa=(0,p.connect)(function(e,t){t=t.deviation;return{isTheaterForced:(0,m.NZ)(e,t)}},r)(n),r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M9.315 13.295a.997.997 0 011.493 1.316l-.083.094L6.43 19h2.59a1 1 0 01.117 1.993L9.02 21h-5a1 1 0 01-.993-.883L3.02 20v-5a1 1 0 011.993-.117L5.02 15v2.59l4.295-4.295zM20.02 3a1 1 0 01.993.883L21.02 4v5a1 1 0 01-1.993.117L19.02 9V6.41l-4.295 4.295a.997.997 0 01-1.493-1.316l.083-.094L17.61 5h-2.59a1 1 0 01-.117-1.993L15.02 3h5z"})))};r.displayName="Expand";var Aa=r,n=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M10.02 13a1 1 0 011 1v5a1 1 0 01-2 0v-2.59l-4.295 4.295a.997.997 0 01-1.41-1.41L7.61 15H5.02a1 1 0 010-2zm9.295-9.705a.997.997 0 111.41 1.41L16.43 9h2.59a1 1 0 010 2h-5a1 1 0 01-1-1V5a1 1 0 012 0v2.59z"})))};n.displayName="Shrink";var Oa=n,r=function(e){var t=e.canFullscreen,a=e.deviation,n=e.onClick,i=(0,b.$G)().t,e=(0,D.ES)().isFullscreen;return k().createElement(ht.Z,{tooltip:i("actionbar."+(e?"regular":"expand")+"View"+(t?"":".disabled"))},k().createElement(ya,{onClick:function(){return n(a)},disabled:!t},k().createElement(ua,{icon:e?Oa:Aa})))};r.displayName="ExpandButton";var n=r,r={onClick:i.xh},Fa=(0,p.connect)(function(e,t){return t.deviation,{canFullscreen:(0,m.BX)(e)}},r)(n),za=a(96698),r={onAwardClick:a(99604).Gn},n=(0,p.connect)(function(e){return{isAwardModalOpen:(0,za.of)(e)}},r),r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M18.195 3a1 1 0 01.894.553l2.432 4.862a1 1 0 01-.127 1.087l-.403.484a.917.917 0 01-1.292.117l-.061-.056-.146-.146a.874.874 0 01-.124-1.079l.071-.098L17.576 5H6.05L4.186 8.724l7.627 9.151.044-.053a.917.917 0 011.292-.117l.061.056.064.064a1 1 0 01.062 1.348l-.755.905a1 1 0 01-1.536 0L2.232 9.502a1 1 0 01-.126-1.087l2.43-4.862A1 1 0 015.432 3h12.764zm-1.382 7a1 1 0 011 1v2h2a1 1 0 110 2h-2v2a1 1 0 11-2 0v-2h-2a1 1 0 010-2h2v-2a1 1 0 011-1z"})))};r.displayName="GiveBadge";var Ra=r,r=function(e){var t=e.deviation,a=e.onAwardClick,e=(0,b.$G)().t,n=(0,J.ln)(t);return k().createElement(ht.Z,{tooltip:e("actionbar.awardBadge")},k().createElement(ya,{onClick:function(){return a({typeId:n,itemId:t.deviationId,user:t.author})},"data-hook":F.vt.DEVIATION_AWARD_BADGE_BUTTON,biData:{evid:F.d4.GIVE_BADGE_AWARD,sectionname:"deviation",typeid:n,itemid:t.deviationId}},k().createElement(ua,{icon:Ra})))};r.displayName="AwardBadgeButton";var Ha=n(r),Ga=a(67707),n=function(e){var t=e.deviation,a=t.deviationId,n=t.print,i=void 0===n?{}:n,r=e.showFTUE,l=e.onDismissFTUE,t=e.className,n=(0,M.useRef)(null),e=(0,b.$G)().t,i=i.purchaseUrl;return k().createElement("span",{className:L()("_3U6ml",t),ref:n},k().createElement(ht.Z,null,k().createElement(ga.Z,{biData:{evid:F.d4.BUY_IN_POPUP_STORE,deviationid:a},href:i,target:"_blank",onMouseLeave:r?l:void 0},e("actionbar.buyArtStore"))),r&&k().createElement(Ga.Z,{width:"311px",referenceElement:null!==(n=n.current)&&void 0!==n?n:void 0,contentClassName:L()("_2HJzR","no-theme-skin"),onClickOutside:l,onMouseLeave:l,placement:"top",forceTheme:Oe.hg.DARK},k().createElement("img",{alt:"",className:"_1Ndga",src:"https://st.deviantart.net/eclipse/global/svg/il43-buy-art.svg"}),k().createElement("div",{className:"_3FIY_"},k().createElement("div",{className:"_2XNTn"},e("actionbar.buyArtStore.ftue.heading")),k().createElement("div",{className:"jts5O"},e("actionbar.buyArtStore.ftue.subtext")))))};n.displayName="ArtShopBuyButton";var r=n,Ua=a(14964),Wa=(0,p.connect)(function(e,t){return{showFTUE:(0,Ua.p3)(e,Ua.GG.IsArtShopBuyButtonMessageNotShown)}},{onDismissFTUE:function(){return(0,Ua.UD)({flag:Ua.GG.IsArtShopBuyButtonMessageNotShown})}})(r),n=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{width:"0",height:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("g",null,k().createElement("path",{d:"M0 21v-4h1.778v2h12.444v-2H16v4z"}),k().createElement("path",{d:"M11.91 2.88L12 0H4v7H2.36L0 9.51l7.95 8.35 3-3.22c2.3724 1.3396 5.3285 1.0575 7.4048-.7066 2.0762-1.7641 2.832-4.6359 1.893-7.1935-.939-2.5576-3.3733-4.2582-6.0978-4.2599a6.64 6.64 0 0 0-2.24.4zM10 4C8.6637 5.1493 7.7423 6.8527 7.6424 8.6124A6.49 6.49 0 0 0 9.36 13.39l-1.47 1.55L2.75 9.5l.47-.5h2.67V2H10v2zm4.79 8.52v1.2h-1v-1.2a2.78 2.78 0 0 1-2.7-1.87h1.12a2.08 2.08 0 0 0 2.11 1.11c1.11 0 1.87-.44 1.87-1.2 0-.54-.37-.89-1.34-1.09l-1.5-.33c-1.17-.24-2.05-.75-2.05-1.82s1-1.87 2.49-1.95V4.28h1V5.4a2.58 2.58 0 0 1 2.35 1.79h-1.07a1.94 1.94 0 0 0-2-1c-1 0-1.71.42-1.71 1.13s.47.88 1.36 1.07l1.43.3c1.34.29 2.09.9 2.09 1.89 0 1.1-1.02 1.81-2.43 1.94h-.02z"}))))};n.displayName="Premium";var Va=n,r=function(e){var t=e.disabled,a=e.className,n=e.dataHook,i=e.children,e=(0,h.__rest)(e,["disabled","className","dataHook","children"]);return t?k().createElement("span",{className:L()("LH4Th",a),"data-hook":n},k().createElement(ba.Z,null,i)):k().createElement(yt.Z,(0,h.__assign)({},e,{"data-hook":n,className:L()("LH4Th",a)}),k().createElement(ba.Z,null,i))};r.displayName="ActionBarLink";var Ka=r,n=function(e){var t=e.deviation,e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:e("actionbar.pcp.owned")},k().createElement(Ka,{href:Nt()(t,"extended.editUrl")},k().createElement(ua,{icon:Va})))};n.displayName="EditPcpLink";var ja=n,r=function(e){var t=e.deviation,a=e.onDownload,n=e.onMouseEnter,i=e.onMouseLeave,r=e.iconRef,e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:e("actionbar.pcp.owned")},k().createElement(Ka,{href:Nt()(t,"extended.pcp.url"),target:"_blank",download:!0,onClick:a,onMouseEnter:n,onMouseLeave:i,biData:{evid:F.d4.CLICK_DOWNLOAD_BUTTON,deviationid:t.deviationId,ispaiddownload:1}},k().createElement(ua,{icon:Va,iconRef:r})))};r.displayName="PcpDownloadLink";var Ja=r,n=a(13545),$a=a.n(n),qa=a(28098),Qa=a(24608),r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},k().createElement("path",{d:"M19 20a1 1 0 01-1 1H6a1 1 0 01-1-1V4a1 1 0 011-1h9.429L19 7v13zM13 5H7v14h10v-9h-3a1 1 0 01-1-1V5z"})))};r.displayName="File";function Xa(e){var t=e.filename,a=e.filesize,n=e.width,i=e.height,e=e.muted;return k().createElement(k().Fragment,null,k().createElement("div",{className:L()("SIEHn",e&&"_13huT")},k().createElement(Ya,null)),k().createElement("div",{className:L()("_3Bt8y",e&&"_13huT")},k().createElement("div",{className:"_3Jo7Y"},k().createElement("div",{className:"n3ahw"},t),n&&i&&k().createElement("div",{className:"_2nip4"},n,"x",i,"px")),a&&k().createElement("div",{className:"_3KlzA"},$a()(a))))}var Ya=r;Xa.displayName="PremiumAsset";n=function(e){var t=e.assets,t=void 0===t?[]:t,a=e.muted,e=(0,M.useState)(!1),n=e[0],i=e[1],e=2<t.length;return k().createElement("div",{className:L()("_2ZqhQ",n&&"L-fSX"),"aria-disabled":a},k().createElement(Qa.Z,{wrapperClassName:"_5eApO",className:"GW9PD",throttleTimeout:300,onScrolled:function(e,t){t=t<2;n!==t&&i(t)}},k().createElement("ul",{className:"Tz1Ax"},t.map(function(e){return k().createElement("li",{key:e.filename,className:"_1tA-A"},k().createElement(Xa,(0,h.__assign)({},e,{muted:a})))})),e&&k().createElement("div",{className:"_3AR_F"})))};n.displayName="PremiumAssetList";var en=n,tn=a(3948),r=function(e){var t=e.deviation,a=e.deviation,n=a.deviationId,i=a.extended,r=(void 0===i?{}:i).pcp,a=e.closeTooltip,l=void 0===a?function(){return null}:a,o=e.onDownload,i=(0,b.$G)().t;if(!r)return null;var s=r.hasUserPurchased&&r.url||void 0,a=(r.assets||[]).map(function(e){return e.type&&e.type.toLocaleUpperCase()}).filter(function(e,t,a){return e&&a.indexOf(e)===t}).join(" "),t=null!==(e=t.pcp)&&void 0!==e&&e.subproductId?re.Url.checkoutLink(null===(c=t.pcp)||void 0===c?void 0:c.subproductId):void 0,c=i(r.downloadPrice&&r.downloadPrice<80?"pcp.buyForPoints":"pcp.buyForCurrency",{price:r.downloadPrice,dollars:(0,tn.q)(null==r?void 0:r.downloadDollarPrice)});return k().createElement("div",{className:"_2mWAS"},k().createElement(Oe.UQ,{theme:Oe.hg.LIGHT},k().createElement("div",null,k().createElement("div",{className:"iWD8E"},i("pcp.downloadDeviation")),k().createElement("div",{className:L()("_2HOeg","_3NC_m")},k().createElement("div",{className:"_1bjBk"},r.hasUserPurchased?i("pcp.purchased"):c,k().createElement("div",{className:"_18zQQ"},i("pcp.zipFileDetails",{size:$a()(r.zipFilesize||0),types:a}))))),k().createElement("div",null,k().createElement(en,{assets:r.assets}),k().createElement(qa.ZP,{view:"b18",className:"_5hzVd",onClick:function(e){s&&o&&o(),l(e)},href:s||t,biData:{evid:F.d4.DOWNLOAD_NOW_CLICK,deviationid:n}},i("pcp.downloadNow")))))};r.displayName="PcpPopover";var an=r,n=function(e){var t=e.deviation,a=e.isLoggedIn,n=e.restrictLoggedOut,i=e.onDownload,r=e.onMouseEnter,l=e.onMouseLeave,o=e.iconRef,e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:e("actionbar.pcp"),renderPopover:a?function(e){e=e.closeTooltip;return k().createElement(an,{deviation:t,closeTooltip:e,onDownload:i})}:void 0},k().createElement(ya,{onClick:a?void 0:n,onMouseEnter:a?r:void 0,onMouseLeave:a?l:void 0,biData:{evid:F.d4.CLICK_DOWNLOAD_BUTTON,deviationid:t.deviationId,ispaiddownload:1}},k().createElement(ua,{icon:Va,iconRef:o})))};n.displayName="PcpButtonWithPopover";var r=n,nn=a(26475),rn=a(93204),n={restrictLoggedOut:function(){return(0,rn.v)({restrictedActionName:F.jD.ANON_DOWNLOAD})}},ln=(0,p.connect)(function(e){return{isLoggedIn:(0,nn.M7)(e)}},n)(r),n=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{d:"M16.913 20a1 1 0 110 2h-10a1 1 0 010-2h10zm-1-19a1 1 0 01.994.883l.006.117v6h3.414a1 1 0 01.76 1.65l-.088.09-8.413 7.648a1 1 0 01-1.246.08l-.1-.08L2.828 9.74a1 1 0 01.556-1.733L3.5 8h3.413V2a1 1 0 01.884-.993L7.913 1h8zm-1 2h-6v7H6.086l5.827 5.297L17.74 10h-2.826V3z",fillRule:"evenodd"})))};n.displayName="Download";var on=n,r=function(e){var t=e.deviation,a=t.deviationId,n=t.extended,i=(void 0===n?{}:n).download,r=e.isLoggedIn,l=e.restrictLoggedOut,o=e.onDownload,s=e.onMouseEnter,t=e.onMouseLeave,n=e.iconRef,e=(0,b.$G)().t;if(!i)return null;a={biData:{evid:F.d4.CLICK_DOWNLOAD_BUTTON,deviationid:a,ispaiddownload:0},"data-hook":F.vt.DEVIATION_DOWNLOAD_BUTTON};return k().createElement(ht.Z,{tooltip:e("actionbar.download")},r?k().createElement(Ka,(0,h.__assign)({href:i.url,download:!0,target:"_blank",onClick:o,onMouseEnter:s,onMouseLeave:t},a),k().createElement(ua,{icon:on,iconRef:n})):k().createElement(ya,(0,h.__assign)({onClick:l},a),k().createElement(ua,{icon:on,iconRef:n})))};r.displayName="FreeDownloadLink";var sn,cn,n=r,r={restrictLoggedOut:function(){return(0,rn.v)({restrictedActionName:F.jD.ANON_DOWNLOAD})}},mn=(0,p.connect)(function(e){return{isLoggedIn:(0,nn.M7)(e)}},r)(n);(r=sn=sn||{})[r.FREE=0]="FREE",r[r.FREE_AND_PREMIUM=1]="FREE_AND_PREMIUM",r[r.PREMIUM=2]="PREMIUM",r[r.OWNER_PREMIUM=3]="OWNER_PREMIUM",(n=cn=cn||{}).FREE="free",n.PREMIUM="premium";var dn=a(86801),un=a(31062),r=function(e){var t=e.title,a=e.subtitle,n=e.value,i=e.isChecked,e=e.onChange,e=void 0===e?un.Z:e;return k().createElement(dn.Z,{className:"_2_0ZL",name:"download",value:n,onChange:e,checked:i,size:"small",withMargins:!0},k().createElement("div",{className:"_59O51"},k().createElement("div",{className:"_3IQTe"},t),a&&k().createElement("div",{className:"_3ilbY"},a)))};r.displayName="DownloadOption";var vn=r,n=function(e){var t=e.pcp,a=e.download,n=e.deviation,i=e.onSelect,r=e.selectedType,l=(0,b.$G)().t,o=(0,it.X)(n,!1).isDownloadable,e=(t&&t.assets||[]).map(function(e){return e.type&&e.type.toLocaleUpperCase()}).filter(function(e,t,a){return e&&a.indexOf(e)===t}).join(" "),n=(0,tn.q)(null==t?void 0:t.downloadDollarPrice),n=t?l(t.downloadPrice&&t.downloadPrice<80?"pcp.buyForPoints":"pcp.buyForCurrency",{price:t.downloadPrice,dollars:n}):"";return k().createElement("div",{className:"_2NqdO"},o&&a&&k().createElement(vn,{value:cn.FREE,title:l("pcp.free",{size:a.width+"x"+a.height}),onChange:i,isChecked:r===cn.FREE}),t&&k().createElement(vn,{value:cn.PREMIUM,title:t.hasUserPurchased?l("pcp.purchased"):n,subtitle:l("pcp.zipFileDetails",{size:$a()(t.zipFilesize||0),types:e}),onChange:i,isChecked:r===cn.PREMIUM}))};n.displayName="DownloadOptions";var pn=n,r=function(e){var t,a,n=e.deviation,i=e.deviation,r=i.deviationId,l=i.extended,o=void 0===l?{}:l,s=o.pcp,c=o.download,i=e.closeTooltip,m=void 0===i?function(){return null}:i,d=e.onDownload,i=(l=cn.FREE,o=(0,M.useState)(l),l=o[0],a=o[1],{selectedType:l,setSelectedType:(0,M.useCallback)(function(e){t(e.target.value)},(0,h.__spreadArray)([t=function(e){return a(e||void 0)}],l=void 0===(l=[a])?[]:l))}),e=i.selectedType,o=i.setSelectedType,l=(0,b.$G)().t;if(!s)return g.default.alert("pcp","Showing the FreeAndPcpPopover while the pcp field on the relevant deviation is undefined. This should not happen.",["pcp","download"],{deviation:n}),null;var u=e===cn.FREE?c&&c.url:e===cn.PREMIUM&&s.hasUserPurchased&&s.url||void 0,v=null!==(i=n.pcp)&&void 0!==i&&i.subproductId?re.Url.checkoutLink(null===(v=n.pcp)||void 0===v?void 0:v.subproductId):void 0;return k().createElement("div",{className:"CdUi0"},k().createElement(Oe.UQ,{theme:Oe.hg.LIGHT},k().createElement("div",null,k().createElement("div",{className:"_3if89"},l("pcp.downloadDeviation")),k().createElement(pn,{deviation:n,pcp:s,download:c,selectedType:e,onSelect:o})),k().createElement("div",null,k().createElement(en,{assets:s.assets,muted:e===cn.FREE}),k().createElement(qa.ZP,{view:"b18",className:"_78GNX",onClick:function(e){u&&d&&d(),m(e)},href:u||v,biData:{evid:F.d4.DOWNLOAD_NOW_CLICK,deviationid:r},disabled:void 0===e},l("pcp.downloadNow")))))};r.displayName="FreeAndPcpPopover";var hn=r,n=function(e){var t=e.deviation,a=e.isLoggedIn,n=e.restrictLoggedOut,i=e.onDownload,r=e.onMouseEnter,l=e.onMouseLeave,o=e.iconRef,e=(0,b.$G)().t;return k().createElement(ht.Z,{tooltip:e("actionbar.download"),renderPopover:a?function(e){e=e.closeTooltip;return k().createElement(hn,{deviation:t,closeTooltip:e,onDownload:i})}:void 0},k().createElement(ya,{onClick:a?void 0:n,onMouseEnter:a?r:void 0,onMouseLeave:a?l:void 0,biData:{evid:F.d4.CLICK_DOWNLOAD_BUTTON,deviationid:t.deviationId,ispaiddownload:1}},k().createElement(ua,{icon:on,iconRef:o})))};n.displayName="DownloadButtonWithPopover";var r=n,n={restrictLoggedOut:function(){return(0,rn.v)({restrictedActionName:F.jD.ANON_DOWNLOAD})}},En=(0,p.connect)(function(e){return{isLoggedIn:(0,nn.M7)(e)}},n)(r),r=function(e){var t=e.deviation,a=e.deviation.extended,n=(void 0===a?{}:a).pcp,a=e.mode,e=(0,h.__rest)(e,["deviation","deviation","mode"]);return a===sn.FREE?k().createElement(mn,(0,h.__assign)({deviation:t},e)):a===sn.OWNER_PREMIUM?k().createElement(ja,{deviation:t}):a===sn.PREMIUM&&n&&n.hasUserPurchased?k().createElement(Ja,(0,h.__assign)({deviation:t},e)):a===sn.FREE_AND_PREMIUM&&n?k().createElement(En,(0,h.__assign)({deviation:t},e)):k().createElement(ln,(0,h.__assign)({deviation:t},e))};r.displayName="FreeAndPcpDownloadButton";var fn=r,r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},k().createElement("path",{fill:"#7579ff",d:"M2.336 4.71L8.18 1.334l5.844 3.374v6.748L8.18 14.83l-5.844-3.374z"}),k().createElement("path",{opacity:".1",d:"M8.178 1.335l5.844 3.374v6.748L8.178 14.83z"}),k().createElement("path",{fill:"#7579ff",d:"M14.047 4.71L8.203 1.334 2.359 4.71l5.844 3.374z"}),k().createElement("g",{fill:"#00e59b",transform:"matrix(.03034 0 0 .03034 .394 .271)"},k().createElement("circle",{cx:"257.392",cy:"256.757",r:"27.51"}),k().createElement("circle",{cx:"257.392",cy:"35.078",r:"27.51"}),k().createElement("circle",{cx:"64.015",cy:"146.273",r:"27.51"}),k().createElement("circle",{cx:"447.986",cy:"146.273",r:"27.51"}),k().createElement("circle",{cx:"254.609",cy:"476.918",r:"27.51"}),k().createElement("circle",{cx:"447.986",cy:"365.728",r:"27.51"}),k().createElement("circle",{cx:"64.015",cy:"365.728",r:"27.51"})),k().createElement("path",{d:"M14.253 10.336V5.738A1.065 1.065 0 1013.21 3.98l-2.457-1.403a.23.23 0 00-.313.086.23.23 0 00.085.313l2.45 1.398a1.06 1.06 0 00.002.675L8.937 7.38a1.062 1.062 0 00-1.596-.046L6.217 6.69a.23.23 0 00-.228.398l1.119.64a1.06 1.06 0 00-.053.331c0 .508.357.934.834 1.04v4.6c-.234.052-.439.18-.587.359l-3.978-2.297a1.058 1.058 0 00.077-.396c0-.508-.358-.934-.835-1.039v-4.58c.21-.046.398-.155.542-.306l2.057 1.177a.23.23 0 00.313-.085.23.23 0 00-.085-.313L3.345 5.048a1.06 1.06 0 00.056-.34c0-.111-.018-.219-.05-.32l4.06-2.343a1.062 1.062 0 001.55.037l.837.478a.23.23 0 00.313-.085.23.23 0 00-.086-.313l-.82-.468a1.059 1.059 0 00.062-.359 1.065 1.065 0 00-2.128 0c0 .108.016.212.046.31L3.122 3.991a1.065 1.065 0 10-1.014 1.757v4.58a1.065 1.065 0 10.957 1.815l4.025 2.323a1.063 1.063 0 00-.035.274 1.065 1.065 0 002.128 0c0-.073-.007-.143-.021-.21l4.11-2.374a1.065 1.065 0 10.981-1.82zM8.203.73A.606.606 0 118.2 1.942.606.606 0 018.203.73zM1.73 4.709a.606.606 0 111.212.001.606.606 0 01-1.212-.001zm.605 7.262a.606.606 0 11.002-1.211.606.606 0 01-.002 1.211zm11.649-7.868a.606.606 0 11-.001 1.212.606.606 0 01.001-1.212zM7.513 8.06a.606.606 0 111.212.002.606.606 0 01-1.212-.002zm.606 7.285a.606.606 0 11.001-1.212.606.606 0 01-.001 1.212zm.229-1.644V9.099a1.066 1.066 0 00.8-1.31l4.066-2.348c.153.16.354.273.58.314v4.564a1.066 1.066 0 00-.79 1.461l-4.03 2.328a1.066 1.066 0 00-.626-.407zm5.637-1.73a.606.606 0 11.001-1.211.606.606 0 01-.001 1.211z",fill:"#fff"})))};r.displayName="AssetIcon";var gn=r,r=function(e){var t=e.deviation,a=e.isCreator,n=e.openListingModal,i=e.openBidModal,r=e.openManageModal,l=e.deviation.extended,o=(void 0===l?{}:l).digitalAsset,s=t.digitalAsset;if(!(0,_t.P)("digital_assets"))return null;if(!s&&a)return k().createElement(ht.Z,{tooltip:"Turn this deviation into a sellable asset"},k().createElement(Wt.Z,{size:"medium",variant:"edit-purple",icon:gn,onClick:function(){return n&&n(t)}},"Sell as Asset"));if(!s||!o)return null;var c=s.isOwner,m=s.canOffer,e=s.canPurchase,l=s.dollarPrice,d=s.subproductId,a=o.offers,s=!1,o=!1;return a&&(s=!!a.hasOffer,o=!!a.madeOffer),c?k().createElement(ht.Z,{tooltip:s?"You have an offer!":"",className:L()(s&&"_358Ga")},k().createElement(Wt.Z,{size:"medium",variant:"edit-purple",icon:gn,onClick:function(){r&&r(t)}},"Manage Asset")):o?k().createElement(ht.Z,{tooltip:"You made an offer to buy this item!"},k().createElement(Wt.Z,{size:"medium",variant:"edit-purple",icon:gn,onClick:function(){r&&r(t)}},"Manage Offer")):m?k().createElement(ht.Z,{tooltip:"You can offer to buy this item"},k().createElement(Wt.Z,{size:"medium",variant:"main",icon:gn,onClick:function(){i&&i(t)}},"Make an Offer")):e?k().createElement(ht.Z,{tooltip:"You can own this deviation!"},k().createElement(Wt.Z,{size:"medium",variant:"main",icon:gn,onClick:function(){window.location.assign(re.Url.checkoutLink(d||0))}},"Own for ",(0,tn.q)(l))):null};r.displayName="DasButton";var r=r,Nn=a(72716),_n=(0,p.connect)(function(e,t){return{isCreator:(0,We.dr)(e,t.deviation)}},function(t,e){return{openListingModal:function(e){t(Nn.Nw.pushDasModal("listing",e))},openBidModal:function(e){t(Nn.Nw.pushDasModal("bid",e))},openManageModal:function(e){t(Nn.Nw.pushDasModal("manage",e))}}})(r),bn=a(32889),r=function(e){var t=e.className,a=e.referenceElement,e=e.onDismiss;return k().createElement(Ga.Z,{className:L()("_23CTK",t),referenceElement:a,placement:"top-start",portalClassName:"_3IUYV",usePortal:!0},k().createElement(bn.Z,{textClassName:"CFgiz",tooltipText:k().createElement(b.cC,{i18nKey:"actionbar.comment.tooltip"},"Thanks for downloading. Show the artist some love!",k().createElement(qa.ZP,{view:"b34",onClick:e,className:"_2BEmK",biData:{evid:F.d4.THUMB_CLICK_COMMENT,sectionname:"download_popup"}},"Leave a comment"))}))};r.displayName="CommentTooltip";function yn(e){return e=e.index,k().createElement(Ye.Z,{className:L()(xn["fluid-margin"],xn["fluid-margin-"+e])})}function wn(){function e(e){void 0===e&&(e=!0),a=window.setTimeout(function(){r(!0),a=window.setTimeout(function(){return r(!1)},8e3)},e?1e3:0)}function t(){r(!1),clearTimeout(a)}var a,n=(0,M.useState)(!1),i=n[0],r=n[1],l=(0,M.useRef)(!1);return{commentTooltipVisible:i,showCommentSuggestionTooltip:e,hideCommentSuggestionTooltip:t,pauseCommentSuggestionTooltip:function(){i&&!l.current&&(t(),l.current=!0)},resumeCommentSuggestionTooltip:function(){!i&&l.current&&(e(!1),l.current=!1)}}}var Cn=r,xn={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_11XKB","icons-wrapper":"_3IUep",iconsWrapper:"_3IUep",icon:"_2T9--","icon-with-label":"_3INK6",iconWithLabel:"_3INK6",badge:"_1mcn9","icons-middle":"_3qWBV",iconsMiddle:"_3qWBV","fluid-margin":"_36XTG",fluidMargin:"_36XTG","fluid-margin-2":"swe8o",fluidMargin2:"swe8o","icons-right":"_17Kqi",iconsRight:"_17Kqi","fluid-margin-4":"_2mKk2",fluidMargin4:"_2mKk2",theater:"_2J3I0",secondary:"_2rosP",literature:"_1QV7f","normal-view":"_3zBj6",normalView:"_3zBj6","fluid-margin-3":"gVn1C",fluidMargin3:"gVn1C",owner:"BgNxi"},r=function(e){var t=e.deviation,a=e.isOwner,n=e.className,i=e.expandAndFocusCommentPanel,r=(0,D.ES)().isTheater,l=(0,M.useContext)(Xe.NW).setTopActionBarRef,o=(0,it.X)(t,a),s=o.hasFlag,c=o.hasMoreActions,m=o.isCommentable,d=o.isDownloadable,u=o.isEditable,v=o.isDeletable,p=o.isFavouritable,h=o.isGroupSubmittable,E=o.isPrintPurchasable,f=o.isPopupPrintPurchasable,g=o.isPurchasable,N=o.isReportable,_=o.isBackgroundEditable,b=o.isCoreBadgeAwardable,y=o.isAssetPurchasable,w=(0,M.useRef)(null),C=wn(),x=C.commentTooltipVisible,T=C.showCommentSuggestionTooltip,I=C.hideCommentSuggestionTooltip,e=C.pauseCommentSuggestionTooltip,o=C.resumeCommentSuggestionTooltip,C=(0,J.sf)(t);return k().createElement(nt,{ref:l,className:L()(xn.root,r?xn.theater:xn["normal-view"],a&&xn.owner,C&&xn.literature,n)},k().createElement("div",{className:xn["icons-wrapper"]},k().createElement("div",{className:xn.badge},s&&k().createElement(vt,{className:xn.flag,deviation:t,disableLabel:C})),k().createElement(yn,{index:1}),k().createElement("div",{className:xn["icons-middle"]},k().createElement(Ye.Z,{alignItems:"center"},p&&k().createElement("span",{className:L()(xn.icon,xn["icon-with-label"])},k().createElement(Dt,{deviation:t,actionBarType:"primary"})),m&&k().createElement("span",{className:L()(xn.icon,xn["icon-with-label"])},k().createElement(gt,{deviation:t,isOwner:a,actionBarType:"primary"}))),k().createElement(yn,{index:4}),k().createElement(Ye.Z,{alignItems:"center"},h&&k().createElement("span",{className:xn.icon},k().createElement(sa,{deviation:t,actionBarType:"primary"})),b&&k().createElement("span",{className:xn.icon},k().createElement(Ha,{deviation:t})),(g||d)&&k().createElement("span",{className:xn.icon},k().createElement(fn,{deviation:t,mode:(d=(a={isOwner:a,isDownloadable:d,isPurchasable:g}).isOwner,g=a.isPurchasable,a=a.isDownloadable,g&&a?sn.FREE_AND_PREMIUM:a?sn.FREE:d&&g?sn.OWNER_PREMIUM:g?sn.PREMIUM:sn.FREE),onDownload:T,onMouseEnter:e,onMouseLeave:o,iconRef:w}))),(E||f||N||u||v||y)&&k().createElement(yn,{index:2}),k().createElement(Ye.Z,{alignItems:"center"},E&&!y&&k().createElement("span",{className:xn.icon},k().createElement(Na,{deviation:t})),y&&k().createElement("span",{className:xn.icon},k().createElement(_n,{deviation:t})),f&&k().createElement("span",{className:xn.icon},k().createElement(Wa,{deviation:t})),c&&k().createElement("span",{className:xn.icon},k().createElement(fa,{deviation:t})),_&&k().createElement("span",{className:xn.icon},k().createElement(Ia,{deviation:t})),v&&k().createElement("span",{className:xn.icon},k().createElement(Sa,{deviation:t})),u&&k().createElement("span",{className:xn.icon},k().createElement(Ca,{deviation:t})))),k().createElement(yn,{index:3}),k().createElement("div",{className:xn["icons-right"]},k().createElement("span",{className:xn.icon},k().createElement(Pa,{deviation:t})),k().createElement("span",{className:xn.icon},k().createElement(Fa,{deviation:t})))),x&&w.current&&k().createElement(Cn,{referenceElement:w.current,onDismiss:function(){I(),i(t,"primary")}}))};r.displayName="PrimaryDesktopActionBar";var Tn=s(r),s=function(e){var t=e.deviation,a=e.isOwner,n=(0,D.ES)().isTheater,i=(0,it.X)(t,a),r=i.isCommentable,l=i.isFavouritable,o=i.isGroupSubmittable,e=i.hasMoreActions,i=(0,J.sf)(t);return k().createElement(nt,{className:L()(xn.root,n?xn.theater:xn["normal-view"],a&&xn.owner,i&&xn.literature,xn.secondary)},k().createElement("div",{className:xn["icons-wrapper"]},k().createElement("div",{className:xn.badge}),k().createElement(yn,{index:1}),k().createElement("div",{className:xn["icons-middle"]},k().createElement(Ye.Z,{alignItems:"center"},l&&k().createElement("span",{className:xn.icon},k().createElement(Dt,{deviation:t,actionBarType:"secondary"})),r&&k().createElement("span",{className:xn.icon},k().createElement(gt,{deviation:t,isOwner:a,actionBarType:"secondary"}))),k().createElement(yn,{index:4}),k().createElement(Ye.Z,{alignItems:"center"},o&&k().createElement("span",{className:xn.icon},k().createElement(sa,{deviation:t,actionBarType:"secondary"})),e&&k().createElement("span",{className:xn.icon},k().createElement(fa,{deviation:t}))),k().createElement(yn,{index:2}),k().createElement(Ye.Z,{alignItems:"center"})),k().createElement(yn,{index:3}),k().createElement("div",{className:xn["icons-right"]})))};s.displayName="SecondaryDesktopActionBar";var In=s,r=function(e){var t=e.isOwner,e=e.deviation;return"secondary"===(0,M.useContext)(Xe.lK)?k().createElement(In,{deviation:e,isOwner:t}):k().createElement(Tn,{deviation:e,isOwner:t})};r.displayName="DesktopActionBar";var Mn=r,kn=a(1037),s=function(e){var t=e.deviation,a=e.onClick,e=(0,b.$G)().t,n=(0,M.useContext)(y.z);return k().createElement(ht.Z,{tooltip:e("actionbar.share"),renderPopover:function(){return k().createElement(pa.Z,{deviation:t})}},k().createElement(ft,{icon:kn.Z,biData:{evid:F.d4.CLICK_SHARE,typeid:(0,J.ln)(t),itemid:t.deviationId},onClick:function(){n&&a(t)},"data-hook":F.vt.DEVIATION_SHARE_BUTTON}))};s.displayName="ShareButton";var r=s,s={onClick:pe.showMobileDeviationSharePopup},Ln=(0,p.connect)(null,s)(r),Dn=a(59187),Sn=a(24292),Zn=a(63845),Bn=a(24081),s=function(e){var t=e.deviation,a=e.deviation,n=a.deviationId,i=a.extended,r=void 0===i?{}:i,l=r.download,o=r.pcp,s=(0,b.$G)().t,e=(0,Sn.Q)(),a=e.isLoggedIn,i=e.restrictToLoggedIn,c=(0,p.useDispatch)(),r=(0,M.useCallback)(function(){c((0,pe.pushModal)(Zn.w.MOBILE_DEVIATION_PCP,{params:{deviation:t}}))},[c,t]),e=(0,Bn.Z)(t);return l||o?o?k().createElement(qa.ZP,{view:"b18",onClick:r},s(l?"actionbar.mobilePcp.freeAndPremiumDownload":"actionbar.mobilePcp.premiumDownload")):null!=l&&l.url?k().createElement(qa.ZP,{view:"b18",href:!a||null==l?void 0:l.url,download:!0,onClick:i(F.jD.ANON_DOWNLOAD,e),"data-hook":F.vt.DEVIATION_DOWNLOAD_BUTTON,biData:{evid:F.d4.CLICK_DOWNLOAD_BUTTON,deviationid:n,ispaiddownload:0}},s("common.download")):null:null};s.displayName="MobileDownloadLink";var Pn=s,An="_22Dga",r=function(e){var t=e.deviation,a=e.isOwner,n=(0,it.X)(t,a),i=n.hasMoreActions,r=n.isCommentable,l=n.isEditable,o=n.isFavouritable,s=n.isGroupSubmittable,c=n.isShareable,m=n.isDeletable,d=n.isCoreBadgeAwardable,e=n.isAuthorCommissionable,n=t.commission;return k().createElement(nt,{className:"Egro3"},k().createElement("div",{className:"_3Mdnu"},k().createElement("div",{className:"_1QQcd"},o&&k().createElement("span",{className:An},k().createElement(Dt,{deviation:t,actionBarType:"primary"})),r&&k().createElement("span",{className:An},k().createElement(gt,{deviation:t,isOwner:a})),!i&&s&&k().createElement("span",{className:An},k().createElement(sa,{deviation:t})),c&&!i&&k().createElement("span",{className:An},k().createElement(Ln,{deviation:t}))),k().createElement("div",{className:"YjHht"},n&&!a&&e&&k().createElement("span",{className:An},k().createElement(Dn.Z,{deviation:t})),s&&i&&k().createElement("span",{className:An},k().createElement(sa,{deviation:t})),d&&k().createElement("span",{className:An},k().createElement(Ha,{deviation:t})),i&&k().createElement("span",{className:An},k().createElement(fa,{deviation:t})),m&&k().createElement("span",{className:An},k().createElement(Sa,{deviation:t})),l&&k().createElement("span",{className:An},k().createElement(Ca,{deviation:t})))),k().createElement("div",{className:"_2LfAM"},k().createElement(Pn,{deviation:t})))};r.displayName="MobileActionBar";var On=r,Fn={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_4hFod","with-badge":"_2yy0W",withBadge:"_2yy0W","with-print":"_2ylZ3",withPrint:"_2ylZ3",badge:"_27o4W",info:"_3yevq",title:"_2nLgn",author:"_13FHI",by:"_36XNM","right-block":"_5xicr",rightBlock:"_5xicr","print-button":"_22WK1",printButton:"_22WK1"},s=function(e){var t=e.deviation,a=e.deviation.author,n=e.isOwner,i=(0,it.X)(t,n),r=i.hasFlag,l=i.isPrintPurchasable,e=i.isPopupPrintPurchasable,n=(0,J.UA)(t),i=!!n;return k().createElement(Ye.Z,{className:L()(Fn.root,r&&Fn["with-badge"],l&&Fn["with-print"]),justifyContent:"center",alignItems:"center"},k().createElement("div",{className:Fn.badge},r&&k().createElement(vt,{deviation:t,alwaysExpanded:!0})),k().createElement("div",{className:Fn.info},i&&k().createElement("div",{className:Fn.title},n),a&&k().createElement("div",{className:Fn.author},k().createElement(b.cC,{i18nKey:"common.created.byLink"},k().createElement("span",{className:Fn.by},"By")," ",k().createElement(oe.Z,{user:a})))),k().createElement(Ye.Z,{alignItems:"center",className:Fn["right-block"]},l&&k().createElement(Na,{deviation:t,className:Fn["print-button"]}),e&&k().createElement(Wa,{deviation:t,className:Fn["print-button"]}),k().createElement("div",{className:Fn["view-switcher"]},k().createElement(Fa,{deviation:t}))))};s.displayName="ExpandActionBar";var zn=s,r=function(e){var t=e.className,a=e.children,e=e.supportSidebar;return k().createElement("div",{className:L()("hIQ9L",e&&"qWw5i",t)},a)};r.displayName="CentralColumn";var Rn=r,Hn="_1-vUd",s=function(e){var t=e.deviation,a=e.isOwner,n=(0,it.X)(t,a),i=n.hasMoreActions,r=n.isCommentable,e=n.isEditable,n=n.isDeletable;return k().createElement(nt,null,k().createElement(Rn,{className:"_1h_9y"},k().createElement("div",{className:"_20-Sr"},r&&k().createElement("span",{className:Hn},k().createElement(gt,{deviation:t,isOwner:a}))),k().createElement("div",{className:"_3OhTt"},n&&k().createElement("span",{className:Hn},k().createElement(Sa,{deviation:t})),e&&k().createElement("span",{className:Hn},k().createElement(Ca,{deviation:t})),i&&k().createElement("span",{className:Hn},k().createElement(fa,{deviation:t})))))};s.displayName="SimpleActionBar";var Gn=s,Un=a(94966),r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},k().createElement("path",{d:"M12 3c.98 0 2.12.531 3.418 1.594a.719.719 0 01-.096 1.178l-.26.15a1 1 0 01-1.116-.08c-.675-.528-1.265-.808-1.77-.837L12 5a3 3 0 00-2.995 2.824L9 8v3h10a1 1 0 011 1v8a1 1 0 01-1 1H5a1 1 0 01-1-1v-8a1 1 0 011-1h2V8a5 5 0 015-5zm6 10H6v6h12v-6zm-6 1a1 1 0 011 1v2a1 1 0 01-2 0v-2a1 1 0 011-1z"})))};r.displayName="Unlock";var Wn=r,Vn=a(1147),Kn=a(75896),s=function(e){var t=e.deviation,a=e.onClick,n=(0,b.$G)().t,i=(0,M.useState)(!1),e=i[0],r=i[1];if(!t.commission||t.commission.status===Vn.z9.STATUS_DELETED)return null;var l=t.commission.status===Vn.z9.STATUS_ACTIVE;return k().createElement(k().Fragment,null,k().createElement(ht.Z,{tooltip:n(l?"actionbar.closeCommission":"actionbar.openCommission")},k().createElement(wa,{onClick:function(){return r(!0)}},k().createElement(ua,{icon:l?Wn:Un.Z}))),e&&k().createElement(Kn.Z,{isOpen:!0,confirmationType:l?"disable":"enable",onCancel:function(){return r(!1)},onConfirm:function(){r(!1),a({deviation:t,status:l?Vn.Oh.DISABLED:Vn.Oh.ACTIVE})}}))};s.displayName="CommissionStatusButton";var r=s,s={onClick:a(93928).dp},jn=(0,p.connect)(null,s)(r),Jn=a(17673),$n="SsFNH",s=function(e){var t=e.isOwner,a=e.deviation.commission,n=e.deviation,i=(0,it.X)(n,t),r=i.hasMoreActions,l=i.isCommentable,o=i.isEditable,e=i.isDeletable,i=i.isAuthorCommissionable;return a?k().createElement(nt,null,k().createElement(Rn,{className:"_2SuHy"},k().createElement("div",{className:"_22_To"},l&&k().createElement("span",{className:$n},k().createElement(gt,{deviation:n,isOwner:t}))),k().createElement("div",{className:"_1kqsT"},(t||a.isActive)&&i&&k().createElement("span",{className:$n},k().createElement("div",{className:"_1b5Q1"},k().createElement(Jn.Z,{points:a.pointsCost,price:(0,tn.q)(a.dollarsCost)}))),!t&&i&&k().createElement("span",{className:$n},k().createElement(Dn.Z,{deviation:n})),o&&k().createElement("span",{className:$n},k().createElement(jn,{deviation:n})),e&&k().createElement("span",{className:$n},k().createElement(Sa,{deviation:n})),o&&k().createElement("span",{className:$n},k().createElement(Ca,{deviation:n})),r&&k().createElement("span",{className:$n},k().createElement(fa,{deviation:n}))))):null};s.displayName="CommissionActionBar";var qn=s,r=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},k().createElement("path",{opacity:".1",fillRule:"evenodd",clipRule:"evenodd",d:"M16.856.268a2 2 0 00-2 0L3 7.113a2 2 0 00-1 1.732v13.69a2 2 0 001 1.733l11.856 6.845a2 2 0 002 0l11.857-6.845a2 2 0 001-1.732V8.846a2 2 0 00-1-1.733L16.856.268zm2.89 19.587l1.11-6.664-3.125 1.875-1.875-4.375-1.875 4.375-3.125-1.875 1.111 6.664a1 1 0 00.986.836h5.806a1 1 0 00.987-.836z"}),k().createElement("path",{opacity:".1",fillRule:"evenodd",clipRule:"evenodd",d:"M16.856 3.268a2 2 0 00-2 0L5.598 8.613a2 2 0 00-1 1.732v10.69a2 2 0 001 1.733l9.258 5.345a2 2 0 002 0l9.259-5.345a2 2 0 001-1.732v-10.69a2 2 0 00-1-1.733l-9.259-5.345zm2.89 16.587l1.11-6.664-3.125 1.875-1.875-4.375-1.875 4.375-3.125-1.875 1.111 6.664a1 1 0 00.986.836h5.806a1 1 0 00.987-.836z"}),k().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.856 6.268a2 2 0 00-2 0l-6.66 3.845a2 2 0 00-1 1.732v7.69a2 2 0 001 1.733l6.66 3.845a2 2 0 002 0l6.66-3.845a2 2 0 001-1.732v-7.69a2 2 0 00-1-1.733l-6.66-3.845zm2.89 13.587l1.11-6.664-3.125 1.875-1.875-4.375-1.875 4.375-3.125-1.875 1.111 6.664a1 1 0 00.986.836h5.806a1 1 0 00.987-.836z"})))};r.displayName="TierHexagon";var Qn=r,s=function(){var e=(0,b.$G)().t;return k().createElement("div",{className:"uHzfX"},k().createElement(Qn,{className:"_2HZ0G"}),k().createElement("span",{className:"_1cQLl"},e("memberSubscriptions.subscribersOnly")))};s.displayName="SubscribersOnly";var Xn=s,Yn=a(91162),r=function(e){var t=e.tier,a=e.withPrice,n=void 0!==a&&a,i=e.className,r=e.onSubscribe,l=(0,b.$G)().t,o=(0,M.useContext)(y.z),s=t.dollarPrice,a=t.isSubscribed,e=l("memberSubscriptions.subscribe");a?e=l("memberSubscriptions.subscribed"):n&&s&&(e=l("memberSubscriptions.subscribeWithPrice",{dollarPrice:s}));e=k().createElement(Yn.Z,{className:i,size:"medium",variant:"brand-green",onClick:function(){return r(t)},disabled:a},e);return o?e:k().createElement(ht.Z,{tooltip:l("memberSubscriptions.subscribeToUnlock")},e)};r.displayName="SubscribeButton";var ei=r,s=function(e){var t=e.deviation,a=e.isOwner,n=e.className,i=(0,it.X)(t,a),r=i.hasMoreActions,l=i.isCommentable,o=i.isEditable,s=i.isDeletable,c=i.isFavouritable,e=i.isGroupSubmittable,i=i.isBackgroundEditable;return k().createElement(nt,{className:L()("x_lBk",n)},k().createElement("div",{className:"RCAho"},k().createElement(Xn,null)),k().createElement("div",{className:"gW92e"},k().createElement("div",{className:"_2FaEX"},c&&k().createElement(Dt,{deviation:t,actionBarType:"primary"}),l&&k().createElement(gt,{deviation:t,isOwner:a,actionBarType:"primary"})),k().createElement("div",{className:"_3MkPw"},e&&k().createElement(sa,{deviation:t,actionBarType:"primary"}),!a&&k().createElement(ei,{className:"_1uNGG",tier:t,withPrice:!0,onSubscribe:function(){return alert("subscribing")}}),r&&k().createElement(fa,{deviation:t}),i&&k().createElement(Ia,{deviation:t}),s&&k().createElement(Sa,{deviation:t}),o&&k().createElement(Ca,{deviation:t}))),k().createElement("div",{className:"ezWh7"},k().createElement(Pa,{deviation:t}),k().createElement(Fa,{deviation:t})))};s.displayName="TierActionBar";var ti=s,r=function(e){var t=e.deviation,a=e.isOwner,n=(0,D.ES)().isFullscreen,i=(0,M.useContext)(y.z),e=(0,J.AP)(t);if(n)return k().createElement(zn,{deviation:t,isOwner:a});if(i)return k().createElement(On,{deviation:t,isOwner:a});if(e===Qe.Ml.STATUS&&!(0,J.aJ)(t))return k().createElement(Mn,{deviation:t,isOwner:a});switch(e){case Qe.Ml.STATUS:case Qe.Ml.POLL:return k().createElement(Gn,{deviation:t,isOwner:a});case Qe.Ml.COMMISSION:return k().createElement(qn,{deviation:t,isOwner:a});case Qe.Ml.TIER:return k().createElement(ti,{deviation:t,isOwner:a});default:return k().createElement(Mn,{deviation:t,isOwner:a})}};r.displayName="ActionBarContent";var ai=r,s=function(e){return k().createElement(N.zh,{value:{itemid:e.deviation.deviationId,typeid:(0,J.ln)(e.deviation)}},k().createElement(Xe.yy.Provider,{value:!!e.isAnyDialogOpen},k().createElement(ra.Z,{queueName:(0,f.Ve)(e.deviation)},k().createElement(ai,(0,h.__assign)({},e)))))};s.displayName="ActionBar";var r=s,ni=(0,p.connect)(function(e,t){return{isAnyDialogOpen:(0,m.f_)(e)||(0,Ta.RE)(e),isOwner:(0,We.dr)(e,t.deviation)}},{})(r),s=function(e){var t=e.children,a=e.wrapperClassName,n=e.deviation,i=(0,M.useRef)(null),r=(0,M.useRef)(null),l=(0,M.useState)(!1),e=l[0],o=l[1];return(0,M.useLayoutEffect)(function(){var e=r.current,t=i&&i.current;e&&t&&"undefined"!=typeof window&&(e=e.getBoundingClientRect().top,t=t.getBoundingClientRect().top,o(t-e>window.innerHeight))}),k().createElement(Xe.NW.Provider,{value:{setTopActionBarRef:function(e){r.current=e}}},t,k().createElement("div",{ref:i,style:{width:1,float:"left"}}),e&&k().createElement("div",{className:a},k().createElement(Xe.lK.Provider,{value:"secondary"},k().createElement(ni,{deviation:n}),k().createElement(d,{deviation:n,actionBarType:"secondary",className:"_8Qo1t"}))))};s.displayName="SecondaryActionBar";var ii=s,r=function(e){var t=e.children,a=e.deviation,n=e.withSecondaryActionBar,e=e.className;return n?k().createElement(ii,{deviation:a,wrapperClassName:e},t):k().createElement(k().Fragment,null,t)};r.displayName="SecondaryActionBarWrapper";var ri=r,s=function(e){var t=e.stageContent,a=e.metaContent,n=e.className,i=e.stageClassName,r=e.metaClassName,l=e.backgroundContent,o=e.backgroundClassName,s=e.withSecondaryActionBar,c=void 0!==s&&s,m=e.deviation,d=(0,He.E)().isTheater,s=(0,f.W3)(m),e=(0,Ue.V)(m).isBlockedBySubscription,r=L()("E8ERn","_3tNI8",r);return k().createElement("div",{className:L()("_1XTdX",d&&"UBrQb",!l&&"_3g-y7",n)},l&&k().createElement("div",{className:L()("_30CB9",o)},l),k().createElement(ri,{deviation:m,withSecondaryActionBar:c,className:r},k().createElement("div",{className:L()("_2QovI",i)},t),!d&&k().createElement(Re,{deviation:m,className:L()("_1gmyG","_1r_Di")}),k().createElement("div",{className:r},a)),d&&k().createElement(Re,{deviation:m,className:L()("_1gmyG","_1r_Di")}),k().createElement("div",{className:"E8ERn"},!e&&s&&k().createElement(qe,{deviation:m,className:"_1savn"}),!e&&!s&&k().createElement(Ge.Z,{className:"_155Ou",view:"llama"})),k().createElement("div",{className:"_3llQY"}))};s.displayName="DesktopLayout";var li=s,r=function(e){var t=e.children,a=e.className,n=(0,D.ES)(),e=n.isTheater,n=n.isFullscreen;return k().createElement("div",{className:L()("_2rKEX",e&&"_17aAh",n&&"_1QRlT",a),"data-hook":F.vt.DEVIATION_ART_STAGE},t)};r.displayName="StageContainer";var oi=r,si=a(54727),ci=k().createContext({showBlocked:!1,overrideMatureFilter:un.Z});ci.displayName="MatureDeviationContext";function mi(e){var t=e.children,e=e.deviation,e=(0,si.a)(e);return k().createElement(ci.Provider,{value:e},t)}mi.displayName="MatureDeviationContextProvider";var di=a(14829),s=function(e){var t=e.imageUrl,e=e.clientSideBlur,e=void 0!==e&&e;return k().createElement("div",{className:"_1PLJy"},k().createElement("div",{className:L()("_35rBp",e&&"_3WneZ"),style:{backgroundImage:"url('"+t+"')"}}))};s.displayName="BlurredBackground";var ui=s,vi="ZfL3F",r=function(e){var t=e.icon,a=e.title,n=e.text,i=e.button,r=e.secondaryButton,l=e.deviation,o=e.width,s=e.height,e=di.Z.getSmallestThumb(l),l=di.Z.getFullviewForSize(l,o,s),l=l?(0,J.bB)(l,{width:o,height:s}):{width:o,height:s};return k().createElement("div",{style:{width:o,height:s},className:"XRm54"},k().createElement("div",{style:l,className:"UsKkl"},e&&k().createElement(ui,{imageUrl:e.src,clientSideBlur:!0}),k().createElement("div",{className:"_28_1G"},k().createElement("div",{className:"_2lUtn"},t),a&&k().createElement("div",{className:"_1pEN5"},a),Array.isArray(n)?n.map(function(e,t){return e&&k().createElement("div",{key:t,className:a?"_1fRy-":"diwpO"},e)}):n&&k().createElement("div",{className:a?"_1fRy-":"diwpO"},n),i,r)))};r.displayName="HiddenLayout";var pi=r,s=function(){return k().createElement("svg",{viewBox:"0 0 576 512",xmlns:"http://www.w3.org/2000/svg"},k().createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M272.702 359.139c-80.483-9.011-136.212-86.886-116.93-167.042l116.93 167.042zM288 392c-102.556 0-192.092-54.701-240-136 21.755-36.917 52.1-68.342 88.344-91.658l-27.541-39.343C67.001 152.234 31.921 188.741 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.004 376.006 168.14 440 288 440a332.89 332.89 0 0 0 39.648-2.367l-32.021-45.744A284.16 284.16 0 0 1 288 392zm281.354-111.631c-33.232 56.394-83.421 101.742-143.554 129.492l48.116 68.74c3.801 5.429 2.48 12.912-2.949 16.712L450.23 509.83c-5.429 3.801-12.912 2.48-16.712-2.949L102.084 33.399c-3.801-5.429-2.48-12.912 2.949-16.712L125.77 2.17c5.429-3.801 12.912-2.48 16.712 2.949l55.526 79.325C226.612 76.343 256.808 72 288 72c119.86 0 224.996 63.994 281.354 159.631a48.002 48.002 0 0 1 0 48.738zM528 256c-44.157-74.933-123.677-127.27-216.162-135.007C302.042 131.078 296 144.83 296 160c0 30.928 25.072 56 56 56s56-25.072 56-56l-.001-.042c30.632 57.277 16.739 130.26-36.928 171.719l26.695 38.135C452.626 346.551 498.308 306.386 528 256z"}))};s.displayName="Hidden";var hi=s,r=function(e){var t=e.deviation,a=t.deviationId,n=t.author,i=e.deviation,r=e.blockDeviant,l=e.unhideDeviation,t=(0,h.__rest)(e,["deviation","deviation","blockDeviant","unhideDeviation"]),e=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({deviation:i,icon:k().createElement(hi,null),title:e("deviationview.blocked.deviation"),text:k().createElement(k().Fragment,null,e("deviationview.blocked.deviation.text"),k().createElement("br",null),e("deviationview.blocked.deviation.text2")),button:k().createElement(qa.ZP,{view:"b14",height:"medium",onClick:function(){return n&&r(n,a)}},e("deviationview.blocked.blockDeviant")),secondaryButton:n&&k().createElement("button",{className:"_1wRSJ",onClick:function(){return l(a)}},e("deviationview.blocked.unhideDeviation"))},t))};r.displayName="DeviationBlockedFullView";var Ei=r,s=function(){return k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},k().createElement("path",{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"}))};s.displayName="Blocked";var fi=s,r=function(e){var t=e.deviation,a=t.deviationId,n=t.author,i=e.deviation,r=e.unblockDeviant,t=(0,h.__rest)(e,["deviation","deviation","unblockDeviant"]),e=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({deviation:i,icon:k().createElement(fi,null),title:e("deviationview.blocked.artist"),text:e("deviationview.blocked.artist.text"),button:n&&k().createElement(qa.ZP,{view:"b14",height:"medium",onClick:function(){return n&&r(n.userId,a)}},e("deviationview.blocked.unblockDeviant"))},t))};r.displayName="ArtistBlockedFullView";var gi=r,s=function(e){var t=e.deviation,a=(0,h.__rest)(e,["deviation"]),e=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({deviation:t,icon:k().createElement(fi,null),title:e("deviationview.blocked.default")},a))};s.displayName="DefaultBlockedFullView";var Ni=s,r=function(e){var t=e.deviation.author,a=e.deviation,e=(0,h.__rest)(e,["deviation","deviation"]);return k().createElement(pi,(0,h.__assign)({icon:k().createElement(hi,null),text:[t&&k().createElement(b.cC,{key:"antisocial",i18nKey:"deviationview.blocked.antisocial"},k().createElement(oe.Z,{user:t,className:vi})," has limited the viewing of this artwork to members of the DeviantArt community only."),k().createElement(b.cC,{key:"antisocial-cta",i18nKey:"deviationview.blocked.antisocial.loginOrJoin"},"You can"," ",k().createElement("a",{href:re.Url.loginLink(),className:vi},"log in")," ","or"," ",k().createElement(O.Z,{href:re.Url.joinLink(),className:vi,biData:{evid:F.d4.REDIRECT_TO_LOGIN,referral_info:F.jD.ANTISOCIAL}},"become a member")," ","for FREE.")],deviation:a},e))};r.displayName="AntisocialBlockedFullView";var _i=r,bi=a(53289),s=function(e){var t=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({icon:k().createElement(hi,null),title:t("deviationview.blocked.mature.anon"),text:t("deviationview.blocked.mature.anon.text"),button:k().createElement(qa.ZP,{view:"b14",height:"medium",href:re.Url.joinLink()+"?joinpoint=mature",biData:{evid:F.d4.REDIRECT_TO_LOGIN,referral_info:F.jD.MATURE}},t("deviationview.blocked.mature.anon.signIn"))},e))};s.displayName="MatureAnonymousBlockedFullView";var yi=s,r=function(e){var t=e.deviation,a=e.deviation.author,n=e.disableMatureFilter,i=e.overrideMatureFilter,r=(0,h.__rest)(e,["deviation","deviation","disableMatureFilter","overrideMatureFilter"]),e=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({deviation:t,icon:k().createElement(hi,null),title:e("deviationview.blocked.mature"),text:e("deviationview.blocked.mature.text"),button:k().createElement(qa.ZP,{view:"b14",height:"medium",onClick:i},e("deviationview.blocked.displayAnyway")),secondaryButton:a&&k().createElement("button",{className:"_1wRSJ",onClick:n},e("deviationview.blocked.turnOffMatureFilter"))},r))};r.displayName="MatureBlockedFullView";var wi=r,s=function(e){var t=e.deviation,a=e.overrideMatureFilter,n=(0,h.__rest)(e,["deviation","overrideMatureFilter"]),e=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({deviation:t,icon:k().createElement(hi,null),title:e("deviationview.blocked.mature.underage"),text:e("deviationview.blocked.mature.underage.text"),button:k().createElement(qa.ZP,{view:"b14",height:"medium",onClick:a},e("deviationview.blocked.displayAnyway"))},n))};s.displayName="MatureAgeBlockedFullView";var Ci=s,r=function(e){var t=(0,b.$G)().t;return k().createElement(pi,(0,h.__assign)({icon:k().createElement(hi,null),title:t("deviationview.blocked.mature.strict"),text:t("deviationview.blocked.mature.strict.text")},e))};r.displayName="MatureStrictBlockedFullView";var xi=r,s=function(e){switch(e.blockReason){case bi.w.DeviationBlocked:return k().createElement(Ei,(0,h.__assign)({},e));case bi.w.ArtistBlocked:return k().createElement(gi,(0,h.__assign)({},e));case bi.w.MatureFilter:return k().createElement(wi,(0,h.__assign)({},e));case bi.w.MatureLoggedOut:return k().createElement(yi,(0,h.__assign)({},e));case bi.w.MatureAge:return k().createElement(Ci,(0,h.__assign)({},e));case bi.w.StrictMatureAge:return k().createElement(xi,(0,h.__assign)({},e));case bi.w.Antisocial:return k().createElement(_i,(0,h.__assign)({},e));default:bi.w.BlockedByArtist;return k().createElement(Ni,(0,h.__assign)({},e))}};s.displayName="BlockedFullView";var r=s,Ti=a(63610),Ii=a(83245),s={unhideDeviation:l.CO,blockDeviant:l.nL,unblockDeviant:l.YE,disableMatureFilter:function(){return(0,Ii.wn)(!1)}},Mi=(0,p.connect)(function(e,t){t=t.deviation;return{isLoggedIn:(0,nn.M7)(e),blockReason:(0,Ti.f6)(e,t)}},s)(r),ki=a(94999),Li="t9fLI",l=function(e){var t=e.icon,a=e.title,n=e.text,i=e.button,r=e.deviation,l=e.width,o=e.height,s=di.Z.getThumbSet(r).find(function(e){return"400T"===e.type}),e=di.Z.getFullviewForSize(r,l,o),e=e?(0,J.bB)(e,{width:l,height:o}):{width:l,height:o},r=(0,J.Zu)(r);return k().createElement("div",{style:{width:l,height:o},className:"OdqeZ"},k().createElement("div",{style:e,className:"_2eBMx"},s&&k().createElement(ui,{imageUrl:s.src}),k().createElement("div",{className:"_3-jip"},k().createElement("div",{className:"_1XIGI"},t),a&&k().createElement("div",{className:"_3NR1V"},r&&k().createElement(ki.Z,{className:"_155tJ"}),k().createElement("span",null,a)),n&&k().createElement("div",{className:"_29IaZ"},n),i)))};l.displayName="PaywallLayout";var Di=l,Si=a(3804),Zi=a(44989),s=function(e){var t=e.deviation,a=e.width,n=e.height,i=(0,b.$G)().t,r=(0,Je.y)(null==t?void 0:t.premiumFolderData),l=r.folderId,o=r.folderUrl,s=r.pointPrice,c=r.formattedDollarPrice,e=r.subproductId,r=(0,J.Zu)(t);return k().createElement(Di,{deviation:t,icon:k().createElement("div",{className:"_37Br4"}),title:i("deviationview.paywall.artstage.premiumFolder.title"),text:r?k().createElement(b.cC,{i18nKey:"deviationview.paywall.artstage.premiumFolder.text.video"},"To watch, unlock its",k().createElement(O.Z,{className:Li,href:o},"Premium Folder"),"and support the artist!"):k().createElement(b.cC,{i18nKey:"deviationview.paywall.artstage.premiumFolder.text"},"To view, unlock its",k().createElement(O.Z,{className:Li,href:o},"Premium Folder"),"and support the artist!"),button:k().createElement(qa.ZP,{view:"b18",height:"medium",fullWidth:!1,href:e?re.Url.checkoutLink(e):void 0,biData:(0,h.__assign)((0,h.__assign)({},(0,Si.Z)(t)),{evid:F.d4.GALLERY_PURCHASE,authorid:t.author.useridUuid,galleryid:l,points:s})},"Unlock for "+c+" / ",k().createElement(Zi.Z,{className:"_2nWIC",size:T.Jh.TINY,disableDefaultColors:!0}),""+s),width:a,height:n})};s.displayName="PremiumFolderPaywall";var Bi=s,r=function(e){var t=e.deviation.author,a=e.deviation,n=(0,h.__rest)(e,["deviation","deviation"]),e=(0,b.$G)().t;return k().createElement(Di,(0,h.__assign)({deviation:a,icon:k().createElement("div",{className:"_3z-h8"}),title:e("deviationview.paywall.artstage.watchersOnly.title"),text:e((e=(0,J.AP)(a))===Qe.Ml.LITERATURE?"deviationview.paywall.artstage.watchersOnly.text.literature":e===Qe.Ml.FILM?"deviationview.paywall.artstage.watchersOnly.text.video":"deviationview.paywall.artstage.watchersOnly.text"),button:t&&k().createElement(qa.ZF,{className:"_2O14n",user:t,fullWidth:!1,onToggleWatchSuccess:function(){window.location.href=a.url}})},n))};r.displayName="WatchersOnlyPaywall";var Pi=r,Ai=a(69389),l=function(e){var t=e.deviation,a=e.width,n=e.height,e=(0,b.$G)().t;return k().createElement(Di,{deviation:t,icon:k().createElement(Ai.Z,{className:"_37Br4"}),title:e("deviationview.paywall.artstage.privilegedFolder.title"),text:k().createElement(b.cC,{i18nKey:(t=(0,J.AP)(t))===Qe.Ml.LITERATURE?"deviationview.paywall.artstage.privilegedFolder.text.literature":t===Qe.Ml.FILM?"deviationview.paywall.artstage.privilegedFolder.text.video":"deviationview.paywall.artstage.privilegedFolder.text"},"To view, buy",k().createElement(O.Z,{className:Li,href:re.URLS.CORE_MEMBERSHIP},"CORE Membership")),width:a,height:n})};l.displayName="PrivilegedFolderPaywall";var Oi=l,s=function(e){var t;switch(null===(t=e.deviation.premiumFolderData)||void 0===t?void 0:t.type){case le.Mh.Paid:return k().createElement(Bi,(0,h.__assign)({},e));case le.Mh.Watchers:return k().createElement(Pi,(0,h.__assign)({},e));case le.Mh.Privileged:return k().createElement(Oi,(0,h.__assign)({},e));default:return null}};s.displayName="Paywall";var Fi=s,zi=a(6529),Ri=a(46429),r=function(e){var t=e.content,a=e.containerSize,n=e.children,i=e.useSmallStage,r=e.className,e=(0,M.useContext)(y.z),a=(0,J.bB)(t,a),e=i&&(0,J.Ot)(t,e);return!a||t.transparency?k().createElement("div",{className:L()(e&&"_1zTi9",r)},n):k().createElement(k().Fragment,null,k().createElement("div",{style:e?{}:a,className:L()(e&&"_1zTi9",r)},n),!e&&k().createElement("div",{style:a,className:"_2tCTm"}))};r.displayName="ContentShadow";var Hi=r,Gi=a(35539),l=function(e){var t=e.width,a=e.height,n=e.file,i=e.alt,r=e.isPixel,l=e.canZoom,e=e.onZoom,a=(0,J.bB)(n,{width:t,height:a});return k().createElement("img",{alt:i,"aria-hidden":"true",className:L()(Gi.Z.image,r&&Gi.Z.pixel,l&&Gi.Z.zoomable),src:n.src,style:a,onClick:l?e:void 0})};l.displayName="ImageContent";var Ui=l,Wi=a(51623),s=function(e){var t=e.width,a=e.height,n=e.deviation,i=e.isZoomed,r=e.onEnterZoomMode,l=e.onExitZoomMode,o=(0,D.ES)().isFullscreen,s=(0,J.he)(n),c=(0,Ri.Z)({deviation:n}),m=c.dragPreview,d=c.drag,u=di.Z.getLargestFullview(n),e=!!u&&(0,J.d3)(u,t,a),c=e?di.Z.getFullviewForSize(n,i?0:t,i?0:a):u;return c?k().createElement("div",{className:L()(Gi.Z.root,o&&Gi.Z.fullscreen),style:{width:t,height:a}},k().createElement(E.q,null,k().createElement("link",{rel:"preload",href:c.src,as:"image"})),i&&u&&k().createElement(Wi.Z,{src:u.src,srcSet:(0,zi.gA)(n),width:u.width,height:u.height,isPixel:s,onClose:l}),k().createElement(Hi,{content:c,containerSize:{width:t,height:a},useSmallStage:!0,className:Gi.Z.shadow},k().createElement("div",{ref:d},k().createElement(Ui,{key:c.src,width:t,height:a,file:c,alt:null!==(n=n.title)&&void 0!==n?n:"",isPixel:s,canZoom:e,onZoom:r}))),m):null};s.displayName="ImageFullView";function Vi(e){var t=e.width,a=e.height,n=e.src,i=e.className,r=e.autoPlay,l=e.loadingCover,o=e.fillAllSpace,s=e.onInit,c=(0,M.useState)(!1),e=c[0],m=c[1];return(0,M.useEffect)(function(){m(!0)},[]),k().createElement(v.Z,null,e&&k().createElement(M.Suspense,{fallback:k().createElement(Ge.Z,{coverMode:!0})},k().createElement("div",{className:i},k().createElement(Ji,{src:n,autoplay:r,fillAllSpace:o,poster:l,onInit:function(e){e.hidePictureInPictureControl(),e.hideFullScreenControl(),s&&s(e)},width:t,height:a}))),k().createElement("noscript",null,k().createElement("video",{width:t||640,height:a||480,controls:!0,src:n})))}var Ki=s,ji=a(48086),Ji=(0,M.lazy)(function(){return(0,ji.Z)(function(){return a.e(8917).then(a.bind(a,17487))})});Vi.displayName="VideoPlayer";r=function(e){var t=e.deviation,a=e.height,n=e.width,i=(0,Ri.Z)({deviation:t,width:400,height:400}),r=i.dragPreview,e=i.drag,i=(0,J.b5)(di.Z.getMediaByType(t,"video"));if(!i)return null;t=di.Z.getDeviationFile(t,"preview");return k().createElement(v.Z,null,k().createElement(E.q,null,t&&k().createElement("link",{rel:"preload",href:t.src,as:"image"}),k().createElement("link",{rel:"preload",href:i.src,as:"video"})),k().createElement("div",{className:"Tc9_g",style:{width:n,height:a}},k().createElement("div",{ref:e},k().createElement(Hi,{content:(0,h.__assign)((0,h.__assign)({},i),{width:n,height:a}),containerSize:{width:n,height:a}},k().createElement(Vi,{width:n,height:a,src:i.src,loadingCover:t&&t.src,autoPlay:!1})))),r)};r.displayName="FilmFullView";function $i(e){return 28<e.length}var qi=r,l=function(e){var t=e.title,a=e.showTitle,n=e.className,e=(0,M.useContext)(y.z);return t&&a?k().createElement("h1",{"data-hook":F.vt.DEVIATION_TITLE,className:L()("_2MLHh",$i(t)&&"_3dIS2",n)},t):e?null:k().createElement("div",{className:n})};l.displayName="Title";var Qi=l,s=function(e){var t=e.className,a=e.deviation,n=e.deviation,i=n.dailyDeviation,r=n.premiumFolderData,l=e.showTitle,o=(0,J.UA)(a),n=[Qe.Ml.LITERATURE].includes((0,J.AP)(a)),e=(0,Je.y)(r),r=e.isPremium,e=e.isPaidFolder,n=r&&!n;return k().createElement("div",{className:L()("_3B9bD",t,i&&"_2PGH-")},i&&l&&k().createElement("div",{className:"FGQNB"},k().createElement(vt,{deviation:a})),n&&k().createElement(k().Fragment,null,e?k().createElement(je.Z,{className:"_33N74",size:T.Jh.SMALL}):k().createElement($e.Z,{className:"_33N74",size:T.Jh.SMALL})),k().createElement(Qi,{title:o,showTitle:l,className:L()("_2mhej",n&&"_3QABh")}))};s.displayName="MobileSubmissionDetails";var Xi=s,Yi=a(45042),er=a(46029),tr=a(97213),r=function(e){var t=e.author,a=e.isOwner,n=e.withByline,i=void 0===n||n,n=e.className,e=(0,b.$G)().t;return t?k().createElement("div",{className:L()(n)},i&&k().createElement("span",{className:"_1OgKd"},e("deviation.details.by")," "),k().createElement(er.Z,{className:"_3Q_BM",usernameClassName:"_1d3jy",withTooltip:!0,user:t}),!a&&k().createElement(tr.Z,{author:t})):null};r.displayName="Author";var ar=r,nr=a(88570),ir=a(58154),rr=a(17516),lr="_2cRSU",l=function(e){var t=e.group,a=e.requestJoin,n=e.className,i=(0,b.$G)().t,r=(0,M.useContext)(y.z),l=(0,rr.f)(function(){return a(t)},[a,t],6e3);return null!==(e=t.extendedGroup)&&void 0!==e&&e.isIngroup?k().createElement(st.Z,{size:"small",variant:"main",className:L()(lr,n),icon:ir.Z,iconClassName:"_17JdT",disabled:!0},i("joinGroupButton.member")):r?k().createElement(Wt.Z,{size:"small",variant:"approval-green",className:L()(lr,n),onClick:l,biData:{evid:F.d4.JOIN_GROUP,groupid:t.useridUuid}},i("joinGroupButton.join")):k().createElement(st.Z,{size:"small",variant:"approval-green",className:L()(lr,n),onClick:l,icon:nr.Z,iconClassName:"_3nCJZ",biData:{evid:F.d4.JOIN_GROUP,groupid:t.useridUuid}},i("joinGroupButton.join"))};l.displayName="JoinGroupButton";var s=l,r={requestJoin:a(98366).kC},or=(0,p.connect)(null,r)(s),l=function(e){var t=e.group,e=e.className;return t?k().createElement("div",{className:L()(e)},k().createElement(er.Z,{className:"_1HXMK",usernameClassName:"BQETG",withTooltip:!0,user:t}),k().createElement(or,{group:t})):null};l.displayName="GroupDetail";var sr=l,cr=a(15676),mr="_2RIX9",r=function(e){var t=e.className,a=e.deviation,n=e.deviation,i=n.author,r=n.extended,l=e.isOwner,o=e.showTitle,s=(0,b.$G)().t,c=(0,J.UA)(a),m=!c||!o,n=(0,Je.y)(null==a?void 0:a.premiumFolderData),e=n.isPremium,n=n.isPaidFolder;return k().createElement("div",{className:L()("_3_ZSy",t)},k().createElement(N.zh,{value:{sectionname:"author"}},i&&k().createElement(Yi.Z,{withTooltip:!0,relatedItemBiData:{typeid:a.typeId,itemid:a.deviationId},size:50,user:null!==(a=null==r?void 0:r.exclusiveGroup)&&void 0!==a?a:i,className:"PfP59"}),m?k().createElement("div",{className:"_9DPZR"},null!=r&&r.exclusiveGroup?k().createElement("div",{className:"_2bSKp"},k().createElement(sr,{group:r.exclusiveGroup,className:mr}),k().createElement(ar,{author:null!==(m=r.originalAuthor)&&void 0!==m?m:i,isOwner:l,className:L()(mr,"_2FpT6")})):k().createElement(ar,{author:i,isOwner:l,className:mr})):k().createElement("div",{className:"_2Xn7h"},k().createElement("div",{className:"_2Yp8j"},e&&k().createElement(cr.Z,{tooltipText:s(n?"deviation.details.premiumFolder.tooltip":"deviation.details.watchersOnlyFolder.tooltip"),className:L()("_1Hytu",$i(c)&&"W-saj")},n?k().createElement(je.Z,{size:T.Jh.SMALL}):k().createElement($e.Z,{size:T.Jh.SMALL})),k().createElement(Qi,{title:c,showTitle:o,className:L()("_3XfyE",e&&"h37nC")})),k().createElement("div",{className:"qjXj9"},null!=r&&r.exclusiveGroup?k().createElement("div",{className:"_2bSKp"},k().createElement(sr,{group:r.exclusiveGroup}),k().createElement(ar,{author:null!==(r=r.originalAuthor)&&void 0!==r?r:i,isOwner:l,className:"_2FpT6"})):k().createElement(ar,{author:i,isOwner:l})))))};r.displayName="DesktopSubmissionDetails";var s=r,dr=a(38466),ur=a(15880),l=function(e){var t=e.deviation,a=e.className,n=(0,b.$G)().t,i=(0,Je.y)(t.premiumFolderData),r=i.isPremium,e=i.isPaidFolder,i=(0,M.useContext)(y.z),t=i&&(0,J.AP)(t)===Qe.Ml.LITERATURE;if(!r||t)return null;t=e?k().createElement(je.Z,{size:T.Jh.SMALL}):k().createElement($e.Z,{size:T.Jh.SMALL});return i?k().createElement("span",{className:a},t):k().createElement(cr.Z,{className:a,tooltipText:n(e?"deviation.details.premiumFolder.tooltip":"deviation.details.watchersOnlyFolder.tooltip")},t)};l.displayName="PremiumIndicator";var vr=l,pr={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"A0378",avatar:"_1ogms","upper-row":"_1Lf-_",upperRow:"_1Lf-_","lower-row":"_2DbFS",lowerRow:"_2DbFS","no-title":"_3SrjA",noTitle:"_3SrjA",left:"_3GVXO",right:"_1LDa_","title-row":"_2BFNG",titleRow:"_2BFNG","author-row":"_1q9_n",authorRow:"_1q9_n","premium-indicator":"_3FqQs",premiumIndicator:"_3FqQs",title:"_2hupn","folder-icon-long-title":"_2AVXc",folderIconLongTitle:"_2AVXc","group-author":"_3M8BU",groupAuthor:"_3M8BU","group-detail":"_3Gdcs",groupDetail:"_3Gdcs","original-author":"_2HBFh",originalAuthor:"_2HBFh",badges:"_6Oqdl",stats:"kScMo"},r=function(e){var t=e.className,a=e.deviation,n=e.deviation,i=n.author,r=n.poll,l=n.extended,o=void 0===l?{}:l,s=e.isOwner,c=e.showTitle,m=o.exclusiveGroup,d=o.originalAuthor,n=(0,f.W3)(a),l=(0,J.UA)(a),e=l&&c;return k().createElement("div",{className:L()(pr.root,t)},k().createElement(N.zh,{value:{sectionname:"author"}},i&&k().createElement(Yi.Z,{withTooltip:!0,relatedItemBiData:{typeid:a.typeId,itemid:a.deviationId},size:50,user:m||i,className:pr.avatar}),k().createElement("div",{className:pr["upper-row"]},e&&k().createElement("div",{className:pr["title-row"]},k().createElement(vr,{deviation:a,className:L()(pr["premium-indicator"],$i(l)?pr["folder-icon-long-title"]:void 0)}),k().createElement(Qi,{title:l,showTitle:c,className:pr.title})),k().createElement(ur.Z,{className:pr.badges,deviation:a})),k().createElement("div",{className:pr["lower-row"]},k().createElement("div",{className:pr["group-author"]},m&&k().createElement(sr,{className:pr["group-detail"],group:o.exclusiveGroup}),k().createElement(ar,{author:d||i,isOwner:s,className:L()(pr.author,d&&pr["original-author"])})),n&&!r&&k().createElement(dr.Z,{className:pr.stats,deviation:a,withBadges:!1}))))};r.displayName="DesktopSubmissionDetails";var l=r,hr="_2So6J",Er="yCgJ_",r=function(e){var t,a=e.className,n=e.deviation,i=e.deviation,r=i.author,l=i.extended,o=i.digitalAsset,s=e.isOwner,c=e.showTitle,m=(0,b.$G)().t,d=(0,J.UA)(n),u=(0,p.useSelector)(nn.ts),v=!d||!c,i=(0,Je.y)(null==n?void 0:n.premiumFolderData),e=i.isPremium,i=i.isPaidFolder;return o&&(null===(t=null==o?void 0:o.creator)||void 0===t?void 0:t.userId)!==(null===(t=null==o?void 0:o.owner)||void 0===t?void 0:t.userId)?k().createElement("div",{className:L()("_3I1r-","_10IY6",a)},k().createElement(N.zh,{value:{sectionname:"author"}},!v&&k().createElement(Qi,{title:d,showTitle:c,className:L()("_3SJJp",e&&"_1OFp7")}),k().createElement("div",{className:"_1q-5f"},k().createElement("div",{className:"_37G55"},k().createElement("div",{className:"_33Ffa"},"Creator"),k().createElement("div",{className:"_2Oj4O"},k().createElement(Yi.Z,{withTooltip:!0,relatedItemBiData:{typeid:n.typeId,itemid:n.deviationId},size:50,user:o.creator,className:hr}),k().createElement(ar,{author:o.creator,isOwner:u.userId===(null===(t=null==o?void 0:o.creator)||void 0===t?void 0:t.userId),withByline:!1}))),k().createElement("div",{className:"_37G55"},k().createElement("div",{className:"_33Ffa"},"Owner"),k().createElement("div",{className:"_2Oj4O"},k().createElement(Yi.Z,{withTooltip:!0,relatedItemBiData:{typeid:n.typeId,itemid:n.deviationId},size:50,user:o.owner,className:hr}),k().createElement(ar,{author:o.owner,isOwner:u.userId===(null===(o=null==o?void 0:o.owner)||void 0===o?void 0:o.userId),withByline:!1})))))):k().createElement("div",{className:L()("_3I1r-",a)},k().createElement(N.zh,{value:{sectionname:"author"}},r&&k().createElement(Yi.Z,{withTooltip:!0,relatedItemBiData:{typeid:n.typeId,itemid:n.deviationId},size:50,user:null!==(n=null==l?void 0:l.exclusiveGroup)&&void 0!==n?n:r,className:hr}),v?k().createElement("div",{className:"_1zsQ7"},null!=l&&l.exclusiveGroup?k().createElement("div",{className:"_1o7qG"},k().createElement(sr,{group:l.exclusiveGroup,className:Er}),k().createElement(ar,{author:null!==(v=l.originalAuthor)&&void 0!==v?v:r,isOwner:s,className:L()(Er,"_2yWRb")})):k().createElement(ar,{author:r,isOwner:s,className:Er})):k().createElement("div",{className:"_34u4b"},k().createElement("div",{className:"_1_WMm"},e&&k().createElement(cr.Z,{tooltipText:m(i?"deviation.details.premiumFolder.tooltip":"deviation.details.watchersOnlyFolder.tooltip"),className:L()("_37glh",$i(d)&&"_3Qc5G")},i?k().createElement(je.Z,{size:T.Jh.SMALL}):k().createElement($e.Z,{size:T.Jh.SMALL})),k().createElement(Qi,{title:d,showTitle:c,className:L()("_3SJJp",e&&"_1OFp7")})),k().createElement("div",{className:"_7mFhj"},null!=l&&l.exclusiveGroup?k().createElement("div",{className:"_1o7qG"},k().createElement(sr,{group:l.exclusiveGroup}),k().createElement(ar,{author:null!==(l=l.originalAuthor)&&void 0!==l?l:r,isOwner:s,className:"_2yWRb"})):k().createElement(ar,{author:r,isOwner:s})))))};r.displayName="DesktopSubmissionDetails";var fr=(0,o.Z)({stats_on_the_right:l,digital_assets:r})(s),r=function(e){return(0,M.useContext)(y.z)?k().createElement(Xi,(0,h.__assign)({},e)):k().createElement(fr,(0,h.__assign)({},e))};r.displayName="SubmissionDetails";var s=r,gr=(0,p.connect)(function(e,t){t=t.deviation;return{isOwner:(0,We.dr)(e,t)}})(s),Nr=a(10339),_r=a(91775),r=function(e){var t=e.textContent,a=e.className,n=e.deviationId,i=e.disableStylesForLegacy,e=(0,b.$G)().t;return(0,M.useContext)(ci).showBlocked?k().createElement("div",{className:a},e("deviation.details.hiddenContent")):k().createElement(_r.Z,{className:a,textContent:t,reactViewer:Nr.Z,viewerKey:n,legacyTheme:"journal",disableStylesForLegacy:i})};r.displayName="TextContent";var br=r,yr=a(34345),wr={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px","paywall-wrapper":"AxOxz",paywallWrapper:"AxOxz","paywall-cover":"_3YuWc",paywallCover:"_3YuWc","paywall-icon":"_3ZiSz",paywallIcon:"_3ZiSz","paywall-title":"_1O8E-",paywallTitle:"_1O8E-","cta-text":"_1a2ir",ctaText:"_1a2ir","points-icon":"_10Rks",pointsIcon:"_10Rks","buy-core-button":"tL4W0",buyCoreButton:"tL4W0","folder-preview-button":"_3wvF1",folderPreviewButton:"_3wvF1"},s=function(e){var t=e.deviation.premiumFolderData,a=e.deviation,n=(0,b.$G)().t,i=(0,Je.y)(t),r=i.isPremiumLocked,l=i.isPaidFolder,o=i.isWatchToAccess,s=i.isPrivilegedFolder,c=i.folderId,m=i.folderUrl,e=i.formattedDollarPrice,t=i.pointPrice,i=i.subproductId;return r?k().createElement("div",{className:wr["paywall-wrapper"]},k().createElement("div",{className:wr["paywall-cover"]},l&&k().createElement(k().Fragment,null,k().createElement(je.Z,{className:wr["paywall-icon"],size:T.Jh.BIG}),k().createElement("div",{className:wr["paywall-title"]},n("deviation.paywall.premiumFolders.title")),k().createElement("div",{className:wr["cta-text"]},k().createElement(b.cC,{i18nKey:"deviation.paywall.premiumFolders.text"},"To view, unlock its ",k().createElement(O.Z,{className:wr["folder-preview-button"],href:m},"Premium Deviation")," — and support the artist!")),k().createElement("div",null,k().createElement(qa.ZP,{view:"b18",height:"medium",href:i?re.Url.checkoutLink(i):void 0,biData:(0,h.__assign)((0,h.__assign)({},(0,Si.Z)(a)),{evid:F.d4.GALLERY_PURCHASE,authorid:a.author.useridUuid,galleryid:c,points:t})},"Unlock for "+e+" / ",k().createElement(Zi.Z,{className:wr["points-icon"],size:T.Jh.TINY,disableDefaultColors:!0}),""+t))),o&&k().createElement(k().Fragment,null,k().createElement(yr.Z,{className:wr["paywall-icon"],size:T.Jh.BIG}),k().createElement("div",{className:wr["paywall-title"]},n("deviation.paywall.watchersOnly.title")),k().createElement("div",{className:wr["cta-text"]},n("deviation.paywall.watchersOnly.text")),a.author&&k().createElement(qa.ZF,{className:wr["watch-button"],user:a.author,onToggleWatchSuccess:function(){window.location.href=a.url}})),s&&k().createElement(k().Fragment,null,k().createElement(Ai.Z,{className:wr["paywall-icon"]}),k().createElement("div",{className:wr["paywall-title"]},n("deviation.paywall.privilegedFolders.title")),k().createElement("div",{className:wr["cta-text"]},k().createElement(b.cC,{i18nKey:"deviation.paywall.privilegedFolders.text"},"To view, buy ",k().createElement(O.Z,{className:wr["buy-core-button"],href:re.URLS.CORE_MEMBERSHIP},"CORE Membership")))))):null};s.displayName="PremiumCover";var Cr=s,r=function(e){var t=e.deviation.textContent,a=e.deviation,n=e.withArtist,i=void 0===n||n,r=(0,b.$G)().t,l=(0,f.W3)(a),o=(0,Je.y)(null==a?void 0:a.premiumFolderData).isPremiumLocked,e=(0,M.useContext)(y.z),n=(0,_t.P)("stats_on_the_right")&&!e;return k().createElement(k().Fragment,null,i&&k().createElement("div",{className:"_2X_IF"},k().createElement(gr,{deviation:a}),!e&&" "),!n&&k().createElement("div",{className:"_1GMn4"},k().createElement(dr.Z,{deviation:a})),k().createElement(et.$0,{className:L()("_2NibL",o&&"_2qpzv")},k().createElement(tt.T,null,k().createElement(at.Z,null,r("deviationview.literature.a11y.heading.content"))),l&&(o?k().createElement(k().Fragment,null,k().createElement(_r.Z,{className:"_3a0C4",textContent:t,reactViewer:Nr.Z,viewerKey:a.deviationId,legacyTheme:"journal"}),k().createElement(Cr,{deviation:a})):k().createElement(br,{className:"nZ7lU",textContent:t,deviationId:a.deviationId}))))};r.displayName="LiteratureContent";var xr=r,Tr={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px","author-block":"_2Zhik",authorBlock:"_2Zhik",stats:"_2yatZ","text-content":"_3m_uw",textContent:"_3m_uw",wrapper:"pS-QY"},s=function(e){var t=e.deviation.textContent,a=e.deviation,n=e.withArtist,i=void 0===n||n,r="writer"===(null==t?void 0:t.html.type),e=r&&!(null!==(l=a.extended)&&void 0!==l&&l.journalSkinFullwidth),n=r&&(null===(o=a.extended)||void 0===o?void 0:o.journalSkinFullwidth),l=(0,f.W3)(a),r=(0,M.useContext)(y.z),o=(0,_t.P)("stats_on_the_right")&&!r;return k().createElement(k().Fragment,null,i&&k().createElement("div",{className:Tr["author-block"]},k().createElement(gr,{deviation:a}),!r&&" "),!o&&k().createElement("div",{className:Tr.stats},k().createElement(dr.Z,{deviation:a})),k().createElement("div",{className:Tr.wrapper},l&&k().createElement(br,{className:L()(Tr["text-content"],e&&Tr["is-legacy-journal"],n&&Tr["is-fullwidth-skin"]),textContent:t,deviationId:a.deviationId,disableStylesForLegacy:n})))};s.displayName="JournalContent";var Ir=s,Mr=a(3468),r=function(e){e=e.tags;return e?k().createElement("div",{className:"_2T7oe"},k().createElement(Mr.Z,{tags:e})):null};r.displayName="JournalTags";var kr=r,s=function(e){var t=e.deviation,a=e.deviation,n=a.textContent,i=a.extended,a=(void 0===i?{}:i).tags,i=e.withArtist,e=void 0===i||i,i=(0,f.W3)(t);return k().createElement(k().Fragment,null,e&&k().createElement("div",{className:"_3GMwV"},k().createElement(gr,{deviation:t})),k().createElement("div",{className:"nrle3"},k().createElement(dr.Z,{deviation:t,withViewCount:!1,withBadges:!1})),a&&k().createElement(kr,{tags:a}),k().createElement("div",{className:"_2Ks0K"},i&&k().createElement(br,{className:"tkqmE",textContent:n,deviationId:t.deviationId})))};s.displayName="TierContent";var Lr=s,r=function(e){switch((0,J.AP)(e.deviation)){case Qe.Ml.LITERATURE:return k().createElement(xr,(0,h.__assign)({},e));case Qe.Ml.JOURNAL:return k().createElement(Ir,(0,h.__assign)({},e));case Qe.Ml.TIER:return k().createElement(Lr,(0,h.__assign)({},e))}return null};r.displayName="TextualContent";function Dr(e){var t=e.children,a=e.className,n=e.tooBigClassName,i=e.maxHeight,r=(e=(0,M.useState)(!1))[0],l=e[1],o=(e=(0,M.useState)(!1))[0],s=e[1],c=(0,M.useRef)(null);return(0,M.useEffect)(function(){var e=c.current;e&&((e=e.getBoundingClientRect().height>i)===r||o||(l(e),s(!0)))},[c,r,o,i]),k().createElement("h1",{ref:c,className:L()(a,r&&n)},t)}var Sr=r,Zr=a(83934),Br=a(27158),Pr=a(61707),s=function(e){var t=e.deviation,a=e.width,n=e.height,i=(0,b.$G)().t,r=(0,M.useContext)(y.z),l=(0,D.ES)(),e=l.isFullscreen,n=l.isTheater||e||r?{width:a,height:n}:{width:a},a=(0,Br.C8)(t.textContent);return k().createElement("div",{className:L()("_2t73m",e&&"_2t7_F"),style:n},k().createElement("div",{className:"_2QvM-"},k().createElement("div",{className:"qroyo"},k().createElement(Dr,{className:"_1hbGl",tooBigClassName:"_3MeQO",maxHeight:180},(0,J.UA)(t)),k().createElement("div",{className:"_1u71e"},k().createElement("span",{className:"_1yDNY"},k().createElement(Pr.Z,{timestamp:t.publishedTime})),!!a&&k().createElement("span",{className:"_3FgFN"},k().createElement(Zr.Z,{className:"_1p1Zc",size:T.Jh.SMALL,disableDefaultColors:!0}),k().createElement("span",null,i("deviationview.journal.stage.read",{count:a}))))),e&&k().createElement(Sr,{deviation:t,withArtist:!1})))};s.displayName="JournalFullView";var Ar=s,Or=a(70610),Fr=a(41750),r=function(e){var t=e.isPaidFolder,a=e.className,e=(0,b.$G)().t;return k().createElement(Fr.Z,{className:a,popoverContent:e(t?"deviationview.paywall.literature.premiumFolder.tooltip":"deviationview.paywall.literature.watchersOnly.tooltip")},t?k().createElement(je.Z,{size:T.Jh.SMALL}):k().createElement($e.Z,{size:T.Jh.SMALL}))};r.displayName="PremiumIconWithPopover";var zr=r,s=function(e){var t=e.deviation.dailyDeviation,a=e.deviation,n=e.width,i=e.height,r=(0,b.$G)().t,l=(0,M.useContext)(y.z),o=(0,D.ES)(),s=o.isFullscreen,c=o.isTheater,e=!c&&!s||l?{width:n}:{width:n,height:i},o=(0,Je.y)(null==a?void 0:a.premiumFolderData),n=o.isPremium,i=o.isPaidFolder,o=(0,J.UA)(a);return k().createElement("div",{className:L()("_3Gcxs",c&&"_236Ix",s&&"_1mUvj"),style:e},k().createElement("div",{className:"_14BDB"},k().createElement("div",{className:"_2hQir"},k().createElement(Or.Z,{alignment:"start",title:o}))),k().createElement("div",{className:"K1j4P"},k().createElement("div",{className:L()("_2BRjr",l&&t&&"_2MHg1")},l&&t&&k().createElement("div",{className:"sdC9Z"},k().createElement(vt,{deviation:a})),k().createElement("div",{className:"_1rG5a"},n&&k().createElement(zr,{className:"_3BLzO",isPaidFolder:i}),r("common.literature")),k().createElement(Dr,{className:"_1M689",tooBigClassName:"_1u6lc",maxHeight:180},o)),s&&k().createElement(Sr,{deviation:a,withArtist:!1})))};s.displayName="LiteratureFullView";var Rr=s,Hr=function(e){var t=e.deviation,a=e.width,n=e.height,e=di.Z.getMediaByType(t,"pdf");if(!e||0===e.length)return null;e=e.pop();return k().createElement(k().Fragment,null,k().createElement(E.q,null,k().createElement("link",{rel:"preload",href:e.src,as:"object"})),k().createElement("object",{"aria-label":t.title,data:e.src,style:{width:a,height:n},type:"application/pdf"}))},Gr=a(21315),r=function(e){e=e.deviation;return k().createElement(Gr.Z,{deviation:e})};r.displayName="PollFullView";var Ur=r,Wr=a(38954),Vr=a(60685),Kr=a(20900),jr={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_2xcLZ",text:"_35qUM","short-status":"_2Ng24",shortStatus:"_2Ng24",legacy:"_2JiqV"},s=function(e){var t=e.deviation.textContent,a=e.deviation,n=e.width,i=(0,J.Q7)(a);if(!t)return null;if(!t||!t.excerpt&&!t.html.markup)return null;var r="writer"===t.html.type,l=(0,J.Vp)(a),e=(0,f.W3)(a);return k().createElement("div",{className:L()(jr.root,r&&jr.legacy,l&&jr["short-status"])},e&&k().createElement(Vr.Z,{condition:l,wrap:function(e){return k().createElement(Kr.Z,(0,h.__assign)({className:L()(jr["background-wrapper"],l&&jr["short-status"]),width:n,variant:"status"},i),e)}},k().createElement(_r.Z,{textContent:t,className:jr.text,reactViewer:l?Wr.wq:Wr.hU,legacyTheme:l?"short-status":"status",viewerKey:a.deviationId})),!e&&k().createElement(Ge.Z,{view:"llama",coverMode:!0}))};s.displayName="StatusFullView";var Jr=s,r=function(e){var t=e.deviation;if((0,M.useContext)(y.z)||!t.coverImage)return null;e=(0,J.gV)(t.coverImage),t=t.coverImage,t={backgroundImage:"url('"+di.Z.getLargestFullview(t).src+"')"};return k().createElement("div",{className:L()("_1yHPO",e&&"EteH1"),style:t})};r.displayName="CommissionCover";var $r=r,s=function(e){var t=e.deviation,e=(0,J.UA)(t);return k().createElement("div",{className:"_3YzFL"},k().createElement(Rn,null,k().createElement($r,{deviation:t}),k().createElement("h1",{className:"MAkjy"},e)))};s.displayName="CommissionFullView";var qr=s,r=function(e){var t=e.deviation,a=e.width,n=e.height,i=(0,M.useContext)(y.z),r=(0,D.ES)(),e=r.isFullscreen,a=r.isTheater||e||i?{width:a,height:n}:{width:a};return k().createElement("div",{className:L()("_21N0W",e&&"_5iI4P"),style:a},k().createElement("div",{className:"tzMQK"},k().createElement("div",{className:"f_spZ"},k().createElement(Dr,{className:"z8aEL",tooBigClassName:"wwyR6",maxHeight:180},(0,J.UA)(t))),e&&k().createElement(Sr,{deviation:t,withArtist:!1})))};r.displayName="TierFullView";var Qr=r,s=function(e){var t=e.width,a=e.height,e=(0,b.$G)().t;return k().createElement("div",{className:"_2DBCM",style:{width:t,height:a}},e("deviationview.unknown"))};s.displayName="Unknown";function Xr(e){var t=(n=(0,M.useContext)(ci)).showBlocked,a=n.overrideMatureFilter,n=(0,Je.y)(null===(n=e.deviation)||void 0===n?void 0:n.premiumFolderData).isPremiumLocked;if(t)return k().createElement(Mi,(0,h.__assign)({overrideMatureFilter:a},e));var i=(0,J.AP)(e.deviation);if(n&&i!==Qe.Ml.LITERATURE)return k().createElement(Fi,(0,h.__assign)({},e));switch(i){case Qe.Ml.IMAGE:return k().createElement(Ki,(0,h.__assign)({},e));case Qe.Ml.FILM:return k().createElement(qi,(0,h.__assign)({},e));case Qe.Ml.PDF:return k().createElement(Hr,(0,h.__assign)({},e));case Qe.Ml.LITERATURE:return k().createElement(Rr,(0,h.__assign)({},e));case Qe.Ml.JOURNAL:return k().createElement(Ar,(0,h.__assign)({},e));case Qe.Ml.STATUS:return k().createElement(Jr,(0,h.__assign)({},e));case Qe.Ml.POLL:return k().createElement(Ur,(0,h.__assign)({},e));case Qe.Ml.COMMISSION:return k().createElement(qr,(0,h.__assign)({},e));case Qe.Ml.TIER:return k().createElement(Qr,(0,h.__assign)({},e));default:return k().createElement(Yr,(0,h.__assign)({},e,{type:i}))}}var Yr=s,el=a(1017),tl=a(96250),al=a(96274),r=function(e){var t=e.className,a=e.exitDuperbrowse,n=e.parent,i=e.currentItem,e=(0,b.$G)().t;return n&&i?k().createElement(st.Z,{icon:Qt.Z,variant:"main",size:"small",biData:(0,h.__assign)((0,h.__assign)({evid:F.d4.BACK_TO_CLICK},(0,al.cy)(i)),{link_url:n.url,next_itemid:n.itemId,next_typeid:n.typeId}),className:L()("_3SmFo",t),onClick:a},n.title||e("deviation.duperbrowse.back")):null};r.displayName="BackToStreamButton";function nl(e){var t=e.children,a=e.className,n=e.onClick,i=e.isEnabled,e=e.dataHook;return k().createElement("div",{className:L()("OZxHY",a,i&&"_2qXLb"),"data-hook":e},i?k().createElement("a",{onClick:n},t):k().createElement(k().Fragment,null,t))}var s=r,il=a(36388),rl=a(85704),r={exitDuperbrowse:il.Kb},ll=(0,p.connect)(function(e){return{parent:(0,rl.m3)(e),currentItem:(0,rl.Cm)(e)}},r)(s);nl.displayName="DuperbrowsePaddle";var ol=a(13596),r={moveNext:il.F$,movePrev:il.VE},sl=(0,p.connect)(function(e){return{navigation:(0,rl.E4)(e),isDuperbrowseActive:(0,rl.ns)(e),enableKeyboardNavigation:(0,rl.ef)(e)}},r)(function(e){var t,a,n,i=e.className,r=e.paddleClassName,l=e.iconClassName,o=e.enableKeyboardNavigation,s=e.navigation,c=s.nextItem,m=s.prevItem,d=e.showBackTo,s=void 0===d||d,d=e.moveNext,e=e.movePrev;return t=o,a=(0,p.useSelector)(rl.ns),n=(0,p.useDispatch)(),(0,M.useEffect)(function(){if(a&&t){var e=function(e){var t=e.target;if(!t||!["INPUT","TEXTAREA"].includes(t.tagName)&&!(0,ol.WH)(t))switch(e.key){case"ArrowRight":n((0,il.F$)());break;case"ArrowLeft":n((0,il.VE)());break;case"Escape":n((0,il.Kb)());break;default:return}};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[a,t,n]),k().createElement("div",{className:L()("wWcHC",i)},k().createElement(nl,{isEnabled:!!m,className:L()("_3lS9N",r),onClick:e,dataHook:"arrowL"},k().createElement(el.Z,{customSizable:!0,disableDefaultColors:!0,className:L()("qR57s",l)})),s&&k().createElement(ll,null),k().createElement(nl,{isEnabled:!!c,className:L()("_12Ao1",r),onClick:d,dataHook:"arrowR"},k().createElement(tl.Z,{customSizable:!0,disableDefaultColors:!0,className:L()("qR57s",l)})))}),s=function(e){e=e.className;return k().createElement("div",{className:L()("_34nnw",e)})};s.displayName="EmptyBackground";var cl=s,ml={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_3BHsq",image:"_2UNQ4",fade:"_7u2Et","fade-small":"_346Cb",fadeSmall:"_346Cb",blur:"_2jJ8l","subtle-blur":"_1ygyf",subtleBlur:"_1ygyf","fade-full-strong":"aOknJ",fadeFullStrong:"aOknJ"},r=function(e){var t=e.src,a=e.blur,n=e.subtleBlur,i=e.fade,r=void 0===i?"full":i,i=e.className,e=e.imageClassName;return k().createElement("div",{className:L()(ml.root,a&&ml.blur,n&&ml["subtle-blur"],r&&ml.fade,r&&ml["fade-"+r],i)},k().createElement("div",{className:L()(ml.image,e),style:{backgroundImage:"url('"+t+"')"}}))};r.displayName="BackgroundImage";var dl=r,s=function(e){var t=e.deviation,a=e.width,n=e.height,e=(0,He.E)().isFullscreen,n=(0,Br.rA)({deviation:t,width:a,height:n,allowHuge:!0});return n?k().createElement(dl,{src:n.src,className:L()(!e&&"_256S9"),imageClassName:"_2kh_b"}):k().createElement(cl,{className:L()(!e&&"_256S9")})};s.displayName="JournalStageBackground";var ul=s,vl=a(22164);r=function(e){var t=e.width,a=e.deviation,n=e.background,i=void 0===n?a.background||"default":n,e=(0,M.useContext)(y.z),a=(0,M.useContext)(Oe.Ni),n=(0,M.useContext)(Oe.bk);return"default"===i||e?k().createElement(cl,null):k().createElement(dl,{src:function(e,t,a){var n=e.darkBigUrl,i=e.darkSmallUrl,r=e.lightBigUrl,l=e.lightSmallUrl,o=e.greenBigUrl,s=void 0===o?r:o,c=void 0===(e=e.greenSmallUrl)?l:e,m=a&&1300<a;switch(t){case"green":return m?s:c;case"light":return m?r:l;default:return m?n:i}}(i,(0,vl.N)(a,n),t),fade:"small"})};r.displayName="DefaultStageBackground";var pl=r,s=function(){var e=(0,D.ES)().isFullscreen;return k().createElement(cl,{className:L()(!e&&"_1cJbj")})};s.displayName="LiteratureStageBackground";var hl=s,r=function(e){var t=e.deviation,e=(0,M.useContext)(y.z),t=(0,J.Vp)(t);return!e||t?k().createElement(cl,null):null};r.displayName="StatusStageBackground";var El=r,fl=a(97691),gl=a(27543),Nl=a(58286),s=function(e){var t,a=e.deviation,n=(0,M.useContext)(Nl.U),i=(0,M.useContext)(y.z),a=(t=n,e=a.textContent,n=a.commission,(a=a.coverImage)||(e&&"draft"===e.html.type?(e=(0,gl.B)(fl.YR,e.html.features))&&(a=e.data.deviation):n&&n.examples&&n.examples.length&&(a=n.examples[0])),a&&a.isMature&&!t?null:a&&di.Z.getLargestFullview(a));if(!a)return k().createElement(cl,{className:"_1sEZN"});a=a.src;return k().createElement(dl,{src:a,fade:!i&&"full-strong",subtleBlur:!i})};s.displayName="CommissionStageBackground";var _l=s,r=function(e){if(e.deviation.isBlocked)return k().createElement(cl,null);switch((0,J.AP)(e.deviation)){case Qe.Ml.COMMISSION:return k().createElement(_l,(0,h.__assign)({},e));case Qe.Ml.POLL:return k().createElement(cl,null);case Qe.Ml.STATUS:return k().createElement(El,(0,h.__assign)({},e));case Qe.Ml.LITERATURE:return k().createElement(hl,(0,h.__assign)({},e));case Qe.Ml.TIER:case Qe.Ml.JOURNAL:return k().createElement(ul,(0,h.__assign)({},e));default:return k().createElement(pl,(0,h.__assign)({},e))}};r.displayName="StageBackground";var s=r,bl=(0,p.connect)(function(e,t){return{background:(0,Ta.Vu)(e,t.deviation)}})(s),r=a(19592),yl=a.n(r),s=a(59130),wl=a.n(s),Cl=a(82497),xl=a(52260);function Tl(e,t,a){void 0===a&&(a=0);t=e[t];return null!=t&&parseInt(t,10)||a}var Il=a(53768),Ml=a(10011);function kl(e,t,a,n){void 0===t&&(t=!0),void 0===a&&(a=De._0.DEVIATION_ARTSTAGE),void 0===n&&(n="both");var i=(0,M.useMemo)(function(){return(0,Ml.Q)()},[]),r=(0,p.useSelector)(function(e){e=i(e,a,n);return{width:e.width||void 0,height:e.height||void 0}}),l=(0,p.useDispatch)();return function(n,t,e,a){void 0===a&&(a=300);var i=(0,M.useRef)(e=void 0===e?{}:e),r=(0,M.useState)(e),e=r[0],l=r[1],o=(0,M.useMemo)(function(){return wl()(function(){var e;n.current&&(e=function(){var e=n.current.parentElement;if(!e||"undefined"==typeof window)return{};var t=e.offsetWidth||0,a=e.offsetHeight||0,e=window.getComputedStyle(e);return{contentSize:{width:t-Tl(e,"paddingLeft")-Tl(e,"paddingRight"),height:a-Tl(e,"paddingTop")-Tl(e,"paddingBottom")},containerSize:{width:t,height:a}}}(),yl()(e,i.current)||(l(e),t(e),i.current=e))},a,{trailing:!0})},[t,a,n]);return(0,Cl.y)(n,o),(0,xl.B)(function(){o()},[o]),e}(e,(0,M.useCallback)(function(e){e=e.contentSize;e&&t&&l((0,Il.s)(a,n,e))},[n,a,l,t]),{contentSize:r})}r=function(e){var t=e.deviation,a=e.className,n=e.isZoomed,i=e.onEnterZoomMode,r=void 0===i?function(){return null}:i,l=e.onExitZoomMode,o=void 0===l?function(){return null}:l,s=(0,D.ES)().isFullscreen,i=(0,M.useRef)(null),e=kl(i,!s),l=e.contentSize,e=e.containerSize;return k().createElement(oi,{className:L()("_1bdC8",a,s&&"_17hn6")},k().createElement("div",{className:"_10wtM",ref:i},k().createElement(bl,{deviation:t,height:Nt()(e,"height"),width:Nt()(e,"width")}),k().createElement(Xr,{deviation:t,height:Nt()(l,"height"),width:Nt()(l,"width"),isZoomed:n,onEnterZoomMode:r,onExitZoomMode:o}),k().createElement(sl,{className:"_9xVr3"})))};r.displayName="DesktopArtStage";var Ll=r,s=function(e){var t=e.deviation,a=e.className,n=(0,D.ES)(),e=n.isFullscreen,n=n.isTheater;return e?k().createElement(oi,{className:L()("_1-du6","_2WHtr",a)},k().createElement("div",{className:"_2p9vl"},k().createElement(bl,{deviation:t}),k().createElement(Xr,{deviation:t})),k().createElement(sl,{className:"_1VqNv"}),k().createElement("div",{className:"_2xkZK"})):k().createElement(oi,{className:L()("_1-du6",n&&"_2YdDn",a)},k().createElement(Xr,{deviation:t}),k().createElement("div",{className:"_2NBti"},k().createElement(sl,{className:"_1VqNv"})))};s.displayName="DesktopTextualArtStage";var Dl=s,Sl=a(67230),r=function(e){var t=e.children,a=e.deviation,n=e.width,i=e.height,r=e.navigation,l=r.nextItem,o=r.prevItem,s=e.isEnabled,c=e.moveNext,m=e.movePrev,d=(0,M.useState)(0),u=d[0],v=d[1],p=(0,M.useCallback)(function(e){l?v(-e):u&&v(0)},[l,u]),h=(0,M.useCallback)(function(e){o?v(e):u&&v(0)},[o,u]),r=(0,M.useCallback)(function(e){var t=e.dir,a=e.absX;switch(t){case"Left":return void p(a);case"Right":return void h(a)}},[p,h]),e=(0,M.useCallback)(function(){l?(v(n?-n:"-100%"),c()):v(0)},[c,l,n]),d=(0,M.useCallback)(function(){o?(v(n||"100%"),m()):v(0)},[m,o,n]);if(!s)return k().createElement(k().Fragment,null,t(a));s={transform:"translateX("+u+"px)"};return k().createElement(Sl.mp,{trackMouse:!0,onSwiping:r,onSwipedLeft:e,onSwipedRight:d,className:"_1leom"},k().createElement("div",{className:"rl_Bq",style:{width:n,height:i}},k().createElement("div",{style:s,className:"_39fVP"},t(a)),o&&0<u&&k().createElement("div",{style:s,className:L()("_2b1D9","geBd_")},t(o)),l&&u<0&&k().createElement("div",{style:s,className:L()("_2b1D9","_3zB4o")},t(l))))};r.displayName="Duperswiper";var s=r,r={moveNext:il.F$,movePrev:il.VE},Zl=(0,p.connect)(function(e){return{isEnabled:(0,m.nc)(e),navigation:(0,rl.E4)(e)}},r)(s),r=function(e){var t=e.className,a=e.deviation,n=(0,M.useRef)(null),i=kl(n).containerSize,e=a.commission;return k().createElement(k().Fragment,null,k().createElement("div",{className:L()(t,"_3jEf_"),"data-hook":F.vt.DEVIATION_ART_STAGE},k().createElement("div",{className:"_34y6N",ref:n},k().createElement(Zl,{key:a.deviationId,deviation:a,height:Nt()(i,"height"),width:Nt()(i,"width")},function(e){return k().createElement(bl,{deviation:e})}))),k().createElement("div",{className:"_1Cyrp"},k().createElement("h1",{className:"i-MNk"},(0,J.UA)(a)),k().createElement("div",{className:"_28gfh"},k().createElement(Jn.Z,{points:e.pointsCost,price:(0,tn.q)(e.dollarsCost)}))))};r.displayName="CommissionMobileArtStage";var Bl=r,s=function(e){var t=e.className,a=e.deviation,n=e.isZoomed,i=e.onEnterZoomMode,r=e.onExitZoomMode,l=(0,M.useRef)(null),e=kl(l),o=e.contentSize,s=e.containerSize;return k().createElement("div",{className:L()(t,"-OuGE"),"data-hook":F.vt.DEVIATION_ART_STAGE},k().createElement("div",{className:"_2beVI",ref:l},k().createElement(Zl,{key:a.deviationId,deviation:a,height:Nt()(s,"height"),width:Nt()(s,"width")},function(e){return k().createElement(k().Fragment,null,k().createElement(bl,{deviation:e,height:Nt()(s,"height"),width:Nt()(s,"width")}),k().createElement(Xr,{deviation:e,isZoomed:n,onEnterZoomMode:i,onExitZoomMode:r,height:Nt()(o,"height"),width:Nt()(o,"width")}))})))};s.displayName="MobileArtStage";var Pl=s,r=function(e){e=e.deviation;return k().createElement("div",{className:"iAyeE","data-hook":F.vt.DEVIATION_ART_STAGE},k().createElement(bl,{deviation:e}),k().createElement(Xr,{deviation:e}),k().createElement(sl,{className:"_3qQLa"}))};r.displayName="CommissionStage";var Al=r,s=function(e){e=e.deviation;return k().createElement("div",{className:"_3J6pM"},k().createElement(bl,{deviation:e}),k().createElement("div",{className:"_2BAz-"},k().createElement(Xr,{deviation:e})),k().createElement(sl,{className:"_3sDmK"}))};s.displayName="SimpleStage";var Ol=s,r=function(e){var t=e.deviation,a=e.isOwner,n=e.className,i=e.isZoomed,r=e.onEnterZoomMode,l=e.onExitZoomMode,o=(0,M.useContext)(y.z),e=(0,J.AP)(t);if(o)return e===Qe.Ml.COMMISSION?k().createElement(Bl,{deviation:t,className:n}):k().createElement(Pl,{deviation:t,className:n,isZoomed:i,onEnterZoomMode:function(){return r(t)},onExitZoomMode:function(){return l(t)}});switch((0,J.AP)(t)){case Qe.Ml.POLL:case Qe.Ml.STATUS:return k().createElement(Ol,{deviation:t});case Qe.Ml.COMMISSION:return k().createElement(Al,{deviation:t});case Qe.Ml.TIER:case Qe.Ml.JOURNAL:case Qe.Ml.LITERATURE:return k().createElement(Dl,{deviation:t,className:n});default:return k().createElement(Ll,{deviation:t,isOwner:a,className:n,isZoomed:i,onEnterZoomMode:function(){return r(t)},onExitZoomMode:function(){return l(t)}})}};r.displayName="ArtStage";var s=r,r={onEnterZoomMode:i.Hx,onExitZoomMode:i.Gm},Fl=(0,p.connect)(function(e,t){t=t.deviation;return{isZoomed:(0,m.a0)(e),isOwner:(0,We.dr)(e,t)}},r)(s),zl=a(47348),Rl=a(94621),r=function(e){var t=e.publishedTime,a=e.isMature,n=e.className,e=(0,b.$G)().t;return a||t?k().createElement("div",{className:L()("_2BSVN",n)},t&&k().createElement("span",null,e("deviation.details.published"),": ",k().createElement(Pr.Z,{timestamp:t,showTooltip:!0})),t&&a&&k().createElement("span",null,"  |  "),a&&k().createElement("span",null,e("deviation.details.mature"))):null};r.displayName="DateAndMatureIndicator";function Hl(e,t){return k().createElement(Le.Z,{className:Ul,deviation:t.dto.deviation,width:t.width,height:t.height})}var Gl=r,Ul="_21Ckp",s=function(e){var t=e.deviation,a=e.deviation,n=a.publishedTime,i=a.isMature,r=a.commission,e=(void 0===r?{}:r).examples,r=void 0===e?[]:e,e=a.textContent,a=e&&(0,ol.Z0)(e);return k().createElement("div",{className:"_1A32m"},k().createElement("div",{className:"Cr-S2"},k().createElement(gr,{deviation:t})),!a&&k().createElement(_r.Z,{className:"_2CTj2",textContent:e,viewerKey:t.deviationId,reactViewer:zl.Z}),0<r.length&&k().createElement("div",{className:"_3otuk"},k().createElement(Rl.Z,{container:{width:780},items:r.map(function(e){var t=di.Z.getLargestFullview(e);return{id:"deviation-"+e.deviationId,width:t.width||0,height:t.height||0,deviation:e}}),renderItem:Hl,cookieDim:"width",cookieType:De._0.BROWSE})),k().createElement("div",{className:"_3J0VS"},k().createElement(Gl,{publishedTime:n,isMature:i})))};s.displayName="CommissionDetails";var Wl=s,r=function(e){var t=e.deviation,a=t.poll,t=t.publishedTime,e=e.deviation;return a?k().createElement("div",{className:"_1UX9x"},k().createElement(gr,{deviation:e,className:"_1DoAT"}),k().createElement(Gl,{publishedTime:t,isMature:!1})):null};r.displayName="PollDetails";var Vl=r,Kl={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"X0Im2","details-block":"_3JqZo",detailsBlock:"_3JqZo"},s=function(e){var t=e.deviation,a=e.deviation,e=a.textContent,a=(a.publishedTime,(0,M.useContext)(y.z)),a=(0,_t.P)("stats_on_the_right")&&!a;return e?k().createElement("div",{className:Kl.root},k().createElement("div",{className:Kl["details-block"]},k().createElement(gr,{deviation:t})),!a&&k().createElement("div",{className:Kl.stats},k().createElement(dr.Z,{deviation:t}))):null};s.displayName="StatusDetails";var jl=s,r=function(e){var t=e.license,a=void 0===t?"none":t,n=e.publishedTime,i=e.author,t=(0,b.$G)().t,e=n&&new Date(n).getFullYear(),n=(new Date).getFullYear(),n=e&&e!==n?e+" - "+n:n;return"none"===a?k().createElement(k().Fragment,null," © "+n+" ",i&&k().createElement(oe.Z,{user:i})):k().createElement("a",{rel:"license noopener noreferrer",target:"_blank",href:"http://creativecommons.org/licenses/"+a+"/3.0/"},t("deviation.details.license."+a))};r.displayName="License";var Jl=r,s=function(e){var t=e.deviation,a=e.deviation,n=a.isMature,i=a.deviationId,r=a.author,l=a.publishedTime,o=a.textContent,s=a.extended,c=void 0===s?{}:s,m=c.license,d=c.tags,u=c.journalSkinFullwidth,v=e.className,a=e.contentClassName,s=(0,M.useContext)(y.z),c=(0,f.W3)(t),e="writer"===(null==o?void 0:o.html.type),o=e&&!u,u=e&&u;return k().createElement("div",{className:L()("_2Po6X",o&&"_7U-3E",u&&"_13M9K",v,a)},s&&k().createElement(Sr,{deviation:t,withArtist:!1}),c&&k().createElement(k().Fragment,null,d&&k().createElement(kr,{key:"detailsTags-"+i,tags:d}),k().createElement("div",{className:"_3b6os"},k().createElement(Gl,{publishedTime:l,isMature:n}),k().createElement("div",{className:"_3vK4D"},k().createElement(Jl,{license:m,author:r,publishedTime:l})))))};s.displayName="Journal";var $l=s,r=function(e){var t=e.deviation,a=e.deviation,n=a.isMature,i=a.deviationId,r=a.author,l=a.publishedTime,o=a.extended,s=void 0===o?{}:o,c=s.license,a=s.description,o=s.tags,s=e.className,e=e.contentClassName,t=(0,f.W3)(t);return k().createElement("div",{className:L()("_3pE8s",s,e)},t&&k().createElement(k().Fragment,null,o&&k().createElement("div",{className:"cEamd"},k().createElement(Mr.Z,{key:"detailsTags-"+i,tags:o})),a&&k().createElement(mt.Z,{html:a,className:"_1NTIz",theme:"literature-description"}),k().createElement("div",{className:"_1r8Zi"},k().createElement(Gl,{publishedTime:l,isMature:n}),k().createElement("div",{className:"_1dtfJ"},k().createElement(Jl,{license:c,author:r,publishedTime:l})))))};r.displayName="LiteratureDetails";var ql=r,s=function(e){var t=e.deviation,a=e.deviation,n=a.isMature,i=a.author,r=a.publishedTime,l=a.extended,a=(void 0===l?{}:l).license,l=e.className,e=e.contentClassName,t=(0,f.W3)(t);return k().createElement("div",{className:L()("_1BxYn",l,e)},t&&k().createElement("div",{className:"FUDMO"},k().createElement(Gl,{publishedTime:r,isMature:n}),k().createElement("div",{className:"_3M-_d"},k().createElement(Jl,{license:a,author:i,publishedTime:r}))))};s.displayName="Tier";var Ql=s,Xl={trailing:!0},r=function(e){var t=e.buttonTextCollapsed,a=e.buttonTextExpanded,n=e.maxHeight,i=e.className,r=e.collapsedClassName,l=e.shutterBlockClassName,o=e.buttonClassName,s=e.showFade,c=e.fadeClassName,m=e.renderToggleButton,d=e.onCollapsed,u=e.onExpanded,v=e.children,p=(0,M.useRef)(null),h=(0,M.useState)(!0),E=h[0],f=h[1],g=(0,M.useState)(n),N=g[0],_=g[1],e=n<N,h=e&&E,g=(0,rr.f)(function(){var e=p.current.clientHeight;e!==N&&(_(e),f(n<e))},[n,N],300,Xl);(0,Cl.y)(p,g);g=(0,M.useCallback)(function(){f(!E),E?u&&u():d&&d()},[E,d,u]),i=L()(h&&r,i);return k().createElement("div",{className:i},k().createElement("div",{className:"xx1cS"},k().createElement("div",{className:L()("_3DX_N",l),style:{maxHeight:E?n:N}},k().createElement("div",{ref:p},v)),h&&s&&k().createElement("div",{className:L()("lLSJO",c)})),e&&(m?m({collapsed:E,onClick:g}):k().createElement("button",{className:L()(o,"_3bFLf"),onClick:g},E?t:a)))};r.displayName="CollapsibleBlock";var Yl=r,eo={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",subject:"_1tsiq","subject-title":"FrA6D",subjectTitle:"FrA6D","subject-name":"_1yrm2",subjectName:"_1yrm2"},s=function(e){var t=e.className,a=e.subjectTags,e=e.locationTag,n=(0,b.$G)().t;return a&&a.length||e?k().createElement("div",{className:L()(eo.root,t)},a&&a.map(function(e){return k().createElement("span",{key:e.name,className:eo.subject},k().createElement("span",{className:eo["subject-title"]},n("deviation.subject."+e.type)),"  ",e.user&&k().createElement(oe.Z,{user:e.user}),!e.user&&k().createElement(O.Z,{className:eo["subject-name"],href:e.url,biData:{evid:F.d4.SUBJECT_CLICK,subject_name:e.name,subject_type:e.type}},e.name))}),e&&k().createElement("span",{className:eo.subject},k().createElement("span",{className:eo["subject-title"]},n("deviation.subject.location")),"  ",k().createElement(O.Z,{className:eo["subject-name"],href:e.url,biData:{evid:F.d4.LOCATION_CLICK,location_name:e.name}},e.name))):null};s.displayName="Subjects";var to=s,r=function(e){var t=e.name,a=e.value,n=e.transPrefix,e=void 0===n?"":n,n=(0,b.$G)().t;if(!a)return null;t=n("deviation.details."+e+t.replace(" ",""),{defaultValue:t});return k().createElement("div",{className:"_2cBmW"},k().createElement("div",{className:"_23M-Q"},t),k().createElement("div",{className:"qKAQY"},a))};r.displayName="DetailItem";var ao=r;function no(e){e=null===(e=e.extended)||void 0===e?void 0:e.originalFile;return e&&e.filesize&&e.width&&e.height}s=function(e){var t=e.deviation;if(!no(t))return null;var a=t.extended.originalFile,e=a.filesize,t=a.width,a=a.height;return k().createElement(ao,{name:"itemsize",value:t+"x"+a+"px "+$a()(e)})};s.displayName="OriginalSize";var io=s,ro=a(45922),r=function(e){var t=e.deviation;return(0,_t.P)("digital_assets")?k().createElement("div",{className:"wo6u1"},k().createElement("div",{className:"EB7YH"},"Digital Asset History"),(null===(e=null===(e=null===(e=t.extended)||void 0===e?void 0:e.digitalAsset)||void 0===e?void 0:e.history)||void 0===e?void 0:e.entries)&&k().createElement("div",{role:"list"},null===(t=null===(t=null===(t=t.extended)||void 0===t?void 0:t.digitalAsset)||void 0===t?void 0:t.history)||void 0===t?void 0:t.entries.map(function(e){return k().createElement(ro.Z,{key:e.txId,item:e})}))):null};r.displayName="DasInfo";var lo=r,s=function(e){var t=e.deviation,a=(0,b.$G)().t,n=(0,_t.P)("digital_assets"),e=null!==(e=null===(e=null==t?void 0:t.extended)||void 0===e?void 0:e.exif)&&void 0!==e?e:[];return 0<e.length||no(t)?k().createElement(k().Fragment,null,n&&t.digitalAsset&&k().createElement(lo,{deviation:t}),k().createElement("div",{className:"EB7YH"},a("deviation.details.camera")),k().createElement(io,{deviation:t}),e.map(function(e){var t=e.tag,e=e.value;return k().createElement(ao,{key:t,name:t,value:e,transPrefix:"exif."})})):n&&t.digitalAsset?k().createElement(lo,{deviation:t}):null};s.displayName="DetailItemList";var oo=s,r=function(e){var t=e.deviation,a=e.deviation,n=a.deviationId,i=a.author,r=a.publishedTime,l=a.isMature,o=a.extended,s=void 0===o?{}:o,c=s.subjectTags,m=s.locationTag,d=s.tags,u=s.license,a=s.description,o=e.withStats,s=void 0===o||o,e=(0,b.$G)().t,o=(0,M.useContext)(y.z);return k().createElement(k().Fragment,null,s&&k().createElement("div",{className:"_14Pko"},k().createElement(dr.Z,{deviation:t})),d&&k().createElement("div",{className:"_7IkxH"},k().createElement(Mr.Z,{key:"detailsTags-"+n,tags:d})),k().createElement(to,{className:"wo6u1",subjectTags:c,locationTag:m}),a&&k().createElement(mt.Z,{html:a,className:"_1xirl",theme:"extended-details"}),k().createElement(Yl,{buttonTextCollapsed:e("deviation.details.more"),buttonTextExpanded:e("deviation.details.less"),maxHeight:o?120:160,buttonClassName:"_17ahb",className:"R2J3w",shutterBlockClassName:"_2nwhz",fadeClassName:"_24BpK",showFade:!0},k().createElement("div",null,k().createElement(oo,{deviation:t}))),k().createElement(Gl,{publishedTime:r,isMature:l}),k().createElement("div",{className:"xnhk0"},k().createElement(Jl,{license:u,author:i,publishedTime:r})))};r.displayName="ExtendedDetails";var so=r,s=function(e){var t=e.deviation,a=e.className,n=e.contentClassName,i=(0,f.W3)(t),e=(0,M.useContext)(y.z),e=(0,_t.P)("stats_on_the_right")&&!e;return k().createElement("div",{className:L()("_3WD5_",a,n)},k().createElement("div",{className:"_3KKGA","data-hook":F.vt.DEVIATION_META},k().createElement(gr,{className:"_4k1pe",deviation:t,showTitle:!0})),i&&k().createElement(so,{deviation:t,withStats:!e}))};s.displayName="DefaultDetails";var co=s,r=function(e){switch((0,J.AP)(e.deviation)){case Qe.Ml.COMMISSION:return k().createElement(Wl,(0,h.__assign)({},e));case Qe.Ml.POLL:return k().createElement(Vl,(0,h.__assign)({},e));case Qe.Ml.STATUS:return k().createElement(jl,(0,h.__assign)({},e));case Qe.Ml.JOURNAL:return k().createElement($l,(0,h.__assign)({},e));case Qe.Ml.LITERATURE:return k().createElement(ql,(0,h.__assign)({},e));case Qe.Ml.TIER:return k().createElement(Ql,(0,h.__assign)({},e));default:return k().createElement(co,(0,h.__assign)({},e))}};r.displayName="Details";var mo=r,s=function(e){e=e.deviation;return k().createElement(li,{deviation:e,stageContent:k().createElement(k().Fragment,null,k().createElement(Fl,{deviation:e}),k().createElement(ni,{deviation:e}),k().createElement(d,{deviation:e,actionBarType:"primary",className:"_3jdad"})),metaContent:k().createElement(mo,{contentClassName:"MeFSC",deviation:e}),withSecondaryActionBar:[Qe.Ml.JOURNAL].includes((0,J.AP)(e))})};s.displayName="DesktopDeviationPage";var uo,vo=s,po=(uo=k().Component,(0,h.__extends)(Eo,uo),Eo.prototype.render=function(){var e=this.props.deviation;return k().createElement("div",{className:"_6arOC"},k().createElement(Fl,{deviation:e}),k().createElement(ni,{deviation:e}))},Eo),ho={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_2viMA","stage-content":"_3tfqj",stageContent:"_3tfqj","journal-stage-content":"PAKAK",journalStageContent:"PAKAK","commission-stage-content":"N5Xak",commissionStageContent:"N5Xak","status-stage-content":"_2_Ahx",statusStageContent:"_2_Ahx","lit-content":"_1euF8",litContent:"_1euF8",comments:"_11Qlk",details:"ybJks",sidebar:"_3R1fl",lloader:"YcAQ8"},r=function(e){var t=e.deviation,a=(0,J.AP)(t),n=(0,f.W3)(t),i=[Qe.Ml.LITERATURE].includes(a),r=[Qe.Ml.JOURNAL].includes(a),l=a===Qe.Ml.COMMISSION,o=a===Qe.Ml.STATUS,e=a!==Qe.Ml.POLL,a=(0,Ue.V)(t).isBlockedBySubscription;return k().createElement("div",{className:ho.root},k().createElement(k().Fragment,null,k().createElement(Fl,{className:L()(e&&ho["stage-content"],r&&ho["journal-stage-content"],l&&ho["commission-stage-content"],o&&ho["status-stage-content"]),deviation:t}),k().createElement(ni,{deviation:t}),i&&k().createElement("div",{className:ho["lit-content"]},k().createElement(Sr,{deviation:t}))),k().createElement(d,{deviation:t,actionBarType:"primary",className:ho["large-popover-uplifted"]}),k().createElement(mo,{contentClassName:ho.details,deviation:t}),n?k().createElement(k().Fragment,null,!a&&k().createElement(qe,{deviation:t,className:ho.comments}),k().createElement("div",{className:ho.sidebar},k().createElement(Re,{deviation:t}))):k().createElement(Ge.Z,{className:ho.lloader,view:"llama"}))};function Eo(){return null!==uo&&uo.apply(this,arguments)||this}r.displayName="MobileDeviationPage";var fo=r,go={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"UfrZZ",sidebar:"_1YZK7","left-column":"_2Z6Tc",leftColumn:"_2Z6Tc","right-column":"_1u7OB",rightColumn:"_1u7OB",lloader:"_2F3Sl",comments:"_1gMBt",clear:"_1mSNk",stage:"S2IJ_"},s=function(e){var t=e.withSidebar,a=void 0===t||t,n=e.deviation,i=(0,M.useContext)(y.z),t=(0,f.W3)(n),e=(0,Ue.V)(n).isBlockedBySubscription;return k().createElement("div",{className:L()(go.root,a&&!i&&go.sidebar)},k().createElement("div",{className:L()(go["left-column"],go.stage)},k().createElement(Fl,{deviation:n}),k().createElement(ll,null),k().createElement(ni,{deviation:n}),k().createElement(d,{deviation:n,actionBarType:"primary",className:go["large-popover-uplifted"]}),k().createElement(Rn,null,k().createElement(mo,{deviation:n}))),a&&!i&&k().createElement(Re,{deviation:n,className:go["right-column"]}),k().createElement("div",{className:L()(go["left-column"],go.meta)},k().createElement(Rn,{supportSidebar:a},!e&&t&&k().createElement(qe,{deviation:n,className:go.comments}),!e&&!t&&k().createElement(Ge.Z,{className:go.lloader,view:"llama"}))),a&&i&&k().createElement(Re,{deviation:n,className:go["right-column"]}),a&&k().createElement("div",{className:go.clear}))};s.displayName="SimplePage";var No=s,r=function(e){var t=e.deviation,e=(0,He.E)().isTheater,a=(0,J.AP)(t)===Qe.Ml.JOURNAL&&"writer"===(null===(a=t.textContent)||void 0===a?void 0:a.html.type),n=a&&!(null!==(n=t.extended)&&void 0!==n&&n.journalSkinFullwidth),i=a&&(null===(i=t.extended)||void 0===i?void 0:i.journalSkinFullwidth),n=L()("_1NdMB",n&&"DoGVz",i&&"_2QdQn"),i=(0,M.useContext)(De.eL).width;return k().createElement(li,{className:L()(e&&"_2MzjB"),deviation:t,stageContent:k().createElement(k().Fragment,null,k().createElement(Fl,{deviation:t}),k().createElement("div",{className:n},k().createElement(ni,{deviation:t})),k().createElement(d,{deviation:t,className:"_3CTcn",actionBarType:"primary"}),k().createElement("div",{className:n},k().createElement(Sr,{deviation:t}))),metaContent:k().createElement(mo,{className:n,deviation:t}),backgroundContent:k().createElement(bl,{deviation:t,width:Math.max(i,780)}),withSecondaryActionBar:!0})};r.displayName="DesktopTextualPage";var _o=r,s=function(e){e=e.deviation;return k().createElement(li,{deviation:e,stageContent:k().createElement(k().Fragment,null,k().createElement(Fl,{deviation:e}),k().createElement(ll,null),k().createElement(ni,{deviation:e}),k().createElement(d,{deviation:e,actionBarType:"primary"})),metaContent:k().createElement(Rn,null,k().createElement(mo,{deviation:e}))})};s.displayName="DesktopStatusPage";var bo=s,yo=a(20263),wo={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_3pgq9","stage-content":"_32roA",stageContent:"_32roA","lit-content":"_3RPap",litContent:"_3RPap",details:"_3WFal",comments:"_1Fw08",sidebar:"_3PMDB","subscribe-button":"_1Ewxw",subscribeButton:"_1Ewxw","subscribers-and-stats":"_2DcfW",subscribersAndStats:"_2DcfW",lloader:"_1dpTV"},r=function(e){var t=e.deviation,a=(0,yo.s)(t),n=(0,f.W3)(t),e=t.extended,e=(void 0===e?{}:e).tags;return(0,_t.P)("member_subscriptions")?k().createElement("div",{className:wo.root},k().createElement(Fl,{className:wo["stage-content"],deviation:t}),k().createElement(ni,{deviation:t}),k().createElement(d,{deviation:t,actionBarType:"primary",className:wo["large-popover-uplifted"]}),k().createElement("div",{className:wo.details},!a&&k().createElement(ei,{className:wo["subscribe-button"],tier:t,withPrice:!0,onSubscribe:function(){return alert("subscribing")}}),k().createElement("div",{className:wo["subscribers-and-stats"]},k().createElement(Xn,null),k().createElement(dr.Z,{deviation:t,withViewCount:!1,withBadges:!1})),n?k().createElement(k().Fragment,null,e&&k().createElement(kr,{tags:e}),k().createElement(br,{className:wo["text-content"],textContent:t.textContent,deviationId:t.deviationId}),k().createElement(qe,{deviation:t,className:wo.comments}),k().createElement("div",{className:wo.sidebar},k().createElement(Re,{deviation:t}))):k().createElement(Ge.Z,{className:wo.lloader,view:"llama"}))):null};r.displayName="MobileTierPage";var Co=r,s=function(e){var t=e.deviation,e=(0,M.useContext)(De.eL).width;return(0,_t.P)("member_subscriptions")?k().createElement(li,{deviation:t,stageContent:k().createElement(k().Fragment,null,k().createElement(Fl,{deviation:t,className:"_1UCEg"}),k().createElement(ni,{deviation:t}),k().createElement(d,{deviation:t,className:"_3N48M",actionBarType:"primary"}),k().createElement("div",{className:"_9rr6o"},k().createElement(Sr,{deviation:t}))),metaContent:k().createElement(mo,{className:"_9rr6o",deviation:t}),backgroundContent:k().createElement(bl,{deviation:t,width:Math.max(e,780)})}):null};s.displayName="DesktopTierPage";var xo=s,r=function(e){var t=e.deviation,a=(0,M.useContext)(y.z),n=(0,D.ES)().isFullscreen,e=(0,J.AP)(t);if(a)return e!==Qe.Ml.TIER?k().createElement(fo,{deviation:t}):k().createElement(Co,{deviation:t});if(n)return k().createElement(po,{deviation:t});switch(e){case Qe.Ml.COMMISSION:return k().createElement(No,{deviation:t,withSidebar:!1});case Qe.Ml.STATUS:return(0,J.aJ)(t)?k().createElement(No,{deviation:t}):k().createElement(bo,{deviation:t});case Qe.Ml.POLL:return k().createElement(No,{deviation:t});case Qe.Ml.JOURNAL:case Qe.Ml.LITERATURE:return k().createElement(_o,{deviation:t});case Qe.Ml.TIER:return k().createElement(xo,{deviation:t});default:return k().createElement(vo,{deviation:t})}};r.displayName="DeviationPageContent";var To=r,Io=a(46403),Mo=a(85282),ko=a(58531),Lo=a(22951),s=function(e){return k().createElement(T.ZP,(0,h.__assign)({},e),k().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},k().createElement("path",{fillRule:"evenodd",d:"M6.722 12.5l7.778 7.778 1.945-1.944L10.61 12.5l5.834-5.833L14.5 4.722 6.722 12.5z"})))};s.displayName="ArrowLeft";var Do=s,r=function(e){var t=e.exitDuperbrowse,a=e.currentItem,n=e.isOwner,i=e.parent,r=e.biData,l=e.isSticky,o=void 0===l||l,l=e.isStuck,e=null==a?void 0:a.author;return k().createElement(Ye.Z,{className:L()("_3jJ-u","_2LlYz",o&&"_2nG2N",l&&"_1M1ch"),alignItems:"center"},i&&k().createElement(x.Z,{className:"_1gw2J",onClick:t,biData:Object.assign({evid:F.d4.BACK_TO_CLICK},r,a&&{link_url:a.url,itemid:a.deviationId,typeid:a.typeId})},k().createElement(Do,{size:T.Jh.MEDIUM})),e&&k().createElement("div",{className:"_1aadp"},k().createElement(Yi.Z,{size:32,user:e}),k().createElement("span",{className:"_2CfEc"},k().createElement(er.Z,{user:e,className:"ZvX0Y"}))),!n&&e&&k().createElement(tr.Z,{author:e,className:"_3QF1S",ghostButton:!0}))};r.displayName="MobileSubmissionDetailsHeader";var s=r,r={exitDuperbrowse:il.Kb},So=(0,p.connect)(function(e){var t=(0,rl.Cm)(e),a=!!t&&(0,We.dr)(e,t);return{parent:(0,rl.m3)(e),currentItem:t,isOwner:a}},r)(s),Zo=a(16450),Bo=a(73711),s=function(e){var t=e.deviation,a=e.environment,n=(0,M.useContext)(y.z),e=(0,Bo.C)().isInDuperbrowse;return n?e?k().createElement(Lo.Z,{marginTop:-1},function(e){return k().createElement(So,{isSticky:!0,isStuck:e,biData:{itemid:null==t?void 0:t.deviationId,typeid:(0,J.ln)(t)}})}):k().createElement(k().Fragment,null,k().createElement(Zo.ZP,{environment:a}),k().createElement(So,{isSticky:!1,biData:{itemid:null==t?void 0:t.deviationId,typeid:(0,J.ln)(t)}})):k().createElement(Zo.ZP,{environment:a})};s.displayName="DeviationPageHeader";var Po=s,Ao=a(67599),Oo=a(98648),s=function(e){var t,a,n,i,r,l,o=e.deviation,s=e.onLoad,c=e.viewMode,m=e.onFullscreenEntered,d=e.onFullscreenExited,u=e.onScreenResize,v=(0,b.$G)().t;r=(h={onFullscreenEntered:function(){return o&&m(o)},onFullscreenExited:function(){return o&&d(o)}}).onFullscreenEntered,l=h.onFullscreenExited,(0,M.useEffect)(function(){if(r||l){var e=function(){Mo.Z.fullscreenElement?r&&r():l&&l()};return Mo.Z.addEventListener("fullscreenchange",e),function(){return Mo.Z.removeEventListener("fullscreenchange",e)}}},[r,l]),(0,ko.Q)(u),t=o,a=s,n=(0,M.useRef)(),i=t&&t.deviationId,(0,M.useEffect)(function(){t&&i!==n.current&&a(t),n.current=i},[i,a,t]),(0,M.useEffect)(function(){u(window.innerWidth,window.innerHeight)},[u]);var p=(0,f.jv)((0,J.AP)(o)),e=c===ot.C.Fullscreen,h=!e,s=(0,f.GZ)(o);return k().createElement(D.KI.Provider,{value:c},k().createElement(E.q,null,k().createElement("title",null,(0,f.pz)(o,v))),s&&k().createElement(Oo.Z,{url:s}),k().createElement("main",{role:"main",className:L()("_3IBMH",e&&"_3JR7i")},h&&k().createElement(Po,null),!o&&k().createElement(Ao.Z,null),o&&k().createElement(N.zh,{value:{view:"submission",typeid:(0,J.ln)(o),itemid:o.deviationId,component:p,sectionname:"deviation"}},k().createElement(mi,{deviation:o},k().createElement(To,{deviation:o}))),h&&k().createElement(Io.Z,null)),k().createElement(wt.ZP,{wrapperClassName:L()(c===ot.C.Normal&&"_20tzY")}))};s.displayName="DeviationPage";var s=s,i={onLoad:i.au,onFullscreenEntered:i._0,onFullscreenExited:i.ut,onScreenResize:i.nH},Fo=(0,p.connect)(function(e,t){return{viewMode:(0,m.tw)(e,t.deviation)}},i)(s)},40612:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var f=a(63804),g=a.n(f),N=a(48689),_=a(86325),b=a(27741),a=function(e){var t=e.initialInputValue,a=void 0===t?"":t,n=e.isOpen,i=e.title,r=e.inputLabel,l=e.doneButtonLabel,o=e.inputWrapperClassName,s=e.extrasBeforeInput,c=e.maxLength,m=e.minLength,d=e.confirmDisabled,u=e.onInputValidate,v=e.onCancel,p=e.onDone,t=(0,N.$G)().t,e=(0,f.useState)(a),h=e[0],E=e[1],a=h!==a&&u?u(h):void 0,u=function(){return p&&p(h)};return g().createElement(b.Z,{isOpen:n,title:i,confirmDisabled:!!a||d||!!m&&h.length<m,confirmButtonLabel:l||t("popup.done"),onCancel:v,onDone:u},s,g().createElement("div",{className:o},g().createElement(_.Z,{autoFocus:!0,value:h,label:r,errorMessage:a,onChange:function(e){return E(e)},onEnter:a?void 0:u,maxLength:c})))};a.displayName="PromptModal";var n=a},22951:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var f=a(59312),g=a(63804),N=a.n(g),t=a(27196),_=a.n(t),t=a(60042),s=a.n(t),c={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",stuck:"_1eC--"},t=(0,g.forwardRef)(function(e,t){var a=e.isStuck,n=e.className,i=e.zIndex,r=e.marginTop,l=void 0===r?0:r,o=e.marginLeft,r=void 0===o?0:o,o=e.top,o=void 0===o?0:o,e=e.children;return N().createElement("div",{className:s()(c.content,a&&c.stuck,a&&n),style:{zIndex:i,marginTop:a?l:void 0,marginLeft:a?r:void 0,top:a?o:void 0},ref:t},e(a))});t.displayName="StickyContent";var b=N().memo(t),y=a(96265);function w(e){return e?e.getBoundingClientRect().height:0}a=function(e){var t=e.marginTop,r=void 0===t?0:t,a=e.marginLeft,n=void 0===a?0:a,i=e.bottomStop,l=void 0===i?0:i,o=e.usePortal,s=(0,f.__rest)(e,["marginTop","marginLeft","bottomStop","usePortal"]),c=(0,g.useRef)(null),m=(0,g.useRef)(null),t=(0,g.useState)(w(m.current)),d=t[0],u=t[1],a=(0,g.useState)(0),i=a[0],v=a[1],e=(0,g.useState)("number"==typeof n?n:0),t=e[0],p=e[1],h=(0,g.useCallback)(function(){return!!c.current&&c.current.getBoundingClientRect().top-r<=0},[r]),a=(0,g.useState)(h()),e=a[0],E=a[1],a=(0,g.useCallback)(function(e){var t=e.scrollTop,a=e.scrollHeight,n=h();E(n);var i,e=d||w(m.current);u(e),v(n&&0!==l&&(i=a-t-e-r-l)<0?i:0)},[h,d,l,r]);(0,y.y)(a),(0,g.useEffect)(function(){var e;"preserve"===n&&(e=m.current.getBoundingClientRect().left,p(e))},[n]);s=N().createElement(b,(0,f.__assign)({isStuck:e,top:i,marginTop:r,marginLeft:t,ref:m},s));return N().createElement("div",{ref:c,style:{minHeight:d}},o&&e?_().createPortal(s,document.body):s)};a.displayName="Sticky";var n=a},74421:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(59312),t=a(63804),o=a.n(t),t=a(73053),i=a.n(t),t=a(60042),s=a.n(t),c=a(48689),m=a(68661),a=function(e){var t=e.className,a=e.viewClassNames,n=e.items,i=e.activeIndex,r=e.onChange,l=(0,c.$G)().t;return o().createElement("div",{className:s()(a.root,t)},n.map(function(e){return o().createElement(m.Z,{key:e.index,className:s()(a.tab,e.index===i&&a["active-tab"]),onClick:function(){return r(e.index)},biData:e.biData,"data-hook":e.dataHook},e.label||l(e.labelTransKey||""),e.extras)}))};a.displayName="Tabs";var r=a,l={"site-header-height":"54px",siteHeaderHeight:"54px","site-header-height-mobile":"60px",siteHeaderHeightMobile:"60px","system-notification-height":"66px",systemNotificationHeight:"66px","system-notification-width":"600px",systemNotificationWidth:"600px","system-notification-mobile-height":"85px",systemNotificationMobileHeight:"85px","system-notification-mobile-width":"100%",systemNotificationMobileWidth:"100%",forceTheaterBreakpoint:"1250px",sidebarWidth:"780px",duperPaddleWidth:"200px",root:"_2xq-V",tab:"_1XRqF","active-tab":"_1615E",activeTab:"_1615E"},a=function(e){return o().createElement(r,(0,n.__assign)({},e,{viewClassNames:i()(l,"root","tab","active-tab")}))};a.displayName="FormTabs";var d=a},58531:function(e,t,a){"use strict";a.d(t,{Q:function(){return i}});var n=a(63804);function i(t,a){void 0===a&&(a=!1),(0,n.useEffect)(function(){function e(){t(window.innerWidth,window.innerHeight)}return a&&e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[t,a])}},13545:function(e,t,a){"use strict";function n(e){var t,a,n,i,r,l,o,s,c,m,d,u,v,p,h,E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=[],g=0,N=void 0,_=void 0;if(isNaN(e))throw new TypeError("Invalid number");return a=!0===E.bits,d=!0===E.unix,t=E.base||2,m=void 0!==E.round?E.round:d?1:2,l=void 0!==E.locale?E.locale:"",o=E.localeOptions||{},u=void 0!==E.separator?E.separator:"",v=void 0!==E.spacer?E.spacer:d?"":" ",h=E.symbols||{},p=2===t&&E.standard||"jedec",c=E.output||"string",i=!0===E.fullform,r=E.fullforms instanceof Array?E.fullforms:[],N=void 0!==E.exponent?E.exponent:-1,n=2<t?1e3:1024,(s=(_=Number(e))<0)&&(_=-_),8<(N=(-1===N||isNaN(N))&&(N=Math.floor(Math.log(_)/Math.log(n)))<0?0:N)&&(N=8),"exponent"===c?N:(0===_?(f[0]=0,f[1]=d?"":y[p][a?"bits":"bytes"][N]):(g=_/(2===t?Math.pow(2,10*N):Math.pow(1e3,N)),a&&(g*=8)>=n&&N<8&&(g/=n,N++),f[0]=Number(g.toFixed(0<N?m:0)),f[0]===n&&N<8&&void 0===E.exponent&&(f[0]=1,N++),f[1]=10===t&&1===N?a?"kb":"kB":y[p][a?"bits":"bytes"][N],d&&(f[1]="jedec"===p?f[1].charAt(0):0<N?f[1].replace(/B$/,""):f[1],b.test(f[1])&&(f[0]=Math.floor(f[0]),f[1]=""))),s&&(f[0]=-f[0]),f[1]=h[f[1]]||f[1],!0===l?f[0]=f[0].toLocaleString():0<l.length?f[0]=f[0].toLocaleString(l,o):0<u.length&&(f[0]=f[0].toString().replace(".",u)),"array"===c?f:(i&&(f[1]=r[N]||w[p][N]+(a?"bit":"byte")+(1===f[0]?"":"s")),"object"===c?{value:f[0],symbol:f[1]}:f.join(v)))}var b,y,w;"undefined"!=typeof window||a.g,b=/^(b|B)$/,y={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},w={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n.partial=function(t){return function(e){return n(e,t)}},e.exports=n},67230:function(e,t,a){"use strict";a.d(t,{mp:function(){return h},QS:function(){return i}});var n=a(63804),o=a.n(n),t=a(23615),n=a.n(t);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},m={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},d="mousemove",u="mouseup";function v(e,t){if(0===t)return e;t=Math.PI/180*t;return[e[0]*Math.cos(t)+e[1]*Math.sin(t),e[1]*Math.cos(t)-e[0]*Math.sin(t)]}function s(e,t){function n(n){n.touches&&1<n.touches.length||e(function(e,t){t.trackMouse&&(document.addEventListener(d,r),document.addEventListener(u,o));var a=n.touches?n.touches[0]:n,t=v([a.clientX,a.clientY],t.rotationAngle);return c({},e,m,{eventData:{initial:[].concat(t),first:!0},xy:t,start:n.timeStamp||0})})}function i(a){if(a&&a.addEventListener){var e=[["touchstart",n],["touchmove",r],["touchend",l]];return e.forEach(function(e){var t=e[0],e=e[1];return a.addEventListener(t,e)}),function(){return e.forEach(function(e){var t=e[0],e=e[1];return a.removeEventListener(t,e)})}}}var r=function(s){e(function(e,t){if(!e.xy[0]||!e.xy[1]||s.touches&&1<s.touches.length)return e;var a=s.touches?s.touches[0]:s,n=v([a.clientX,a.clientY],t.rotationAngle),i=n[0],r=n[1],l=e.xy[0]-i,o=e.xy[1]-r,a=Math.abs(l),n=Math.abs(o),i=(s.timeStamp||0)-e.start,r=Math.sqrt(a*a+n*n)/(i||1);if(a<t.delta&&n<t.delta&&!e.swiping)return e;i=n<a?0<l?"Left":"Right":0<o?"Up":"Down",o=c({},e.eventData,{event:s,absX:a,absY:n,deltaX:l,deltaY:o,velocity:r,dir:i});t.onSwiping&&t.onSwiping(o);r=!1;return(r=t.onSwiping||t.onSwiped||t["onSwiped"+i]?!0:r)&&t.preventDefaultTouchmoveEvent&&t.trackTouch&&s.cancelable&&s.preventDefault(),c({},e,{eventData:c({},o,{first:!1}),swiping:!0})})},l=function(n){e(function(e,t){var a;return e.swiping&&(a=c({},e.eventData,{event:n}),t.onSwiped&&t.onSwiped(a),t["onSwiped"+a.dir]&&t["onSwiped"+a.dir](a)),c({},e,m,{eventData:a})})},a=function(){document.removeEventListener(d,r),document.removeEventListener(u,o)},o=function(e){a(),l(e)},s={ref:function(n){null!==n&&e(function(e,t){if(e.el===n)return e;var a={};return e.el&&e.el!==n&&e.cleanUpTouch&&(e.cleanUpTouch(),a.cleanUpTouch=null),t.trackTouch&&n&&(a.cleanUpTouch=i(n)),c({},e,{el:n},a)})}};return t.trackMouse&&(s.onMouseDown=n),[s,i]}function p(e,t,a){var n={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),n.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(n.cleanUpTouch=a(e.el)),c({},e,n)}function i(e){var t=e.trackMouse,a=o().useRef(c({},m,{type:"hook"})),n=o().useRef();n.current=c({},r,e);var i=o().useMemo(function(){return s(function(e){return a.current=e(a.current,n.current)},{trackMouse:t})},[t]),e=i[0],i=i[1];return a.current=p(a.current,n.current,i),e}var l,h=(l=o().PureComponent,a=l,(t=E).prototype=Object.create(a.prototype),(t.prototype.constructor=t).__proto__=a,E.prototype.render=function(){var e=this.props,t=e.className,a=e.style,n=e.nodeName,i=void 0===n?"div":n,r=e.innerRef,n=e.children,e=e.trackMouse,e=s(this._set,{trackMouse:e}),l=e[0],e=e[1];this.transientState=p(this.transientState,this.props,e);e=r?function(e){return r(e),l.ref(e)}:l.ref;return o().createElement(i,c({},l,{className:t,style:a,ref:e}),n)},E);function E(e){var t;return(t=l.call(this,e)||this)._set=function(e){t.transientState=e(t.transientState,t.props)},t.transientState=c({},m,{type:"class"}),t}h.propTypes={onSwiped:n().func,onSwiping:n().func,onSwipedUp:n().func,onSwipedRight:n().func,onSwipedDown:n().func,onSwipedLeft:n().func,delta:n().number,preventDefaultTouchmoveEvent:n().bool,nodeName:n().string,trackMouse:n().bool,trackTouch:n().bool,innerRef:n().func,rotationAngle:n().number},h.defaultProps=r}}]);

!function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o={};r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,n){"use strict";function r(e){return i[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}t.__esModule=!0,t.extend=o,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return s.test(e)?e.replace(a,r):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=o({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},a=/[&<>"'`=]/g,s=/[&<>"'`=]/,u=Object.prototype.toString;t.toString=u;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===u.call(e)};t.isArray=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=n(10),n=r({},(n&&n.__esModule?n:{default:n}).default,n={api:{host:"https://seguro.marca.com/ueregistro",version:"v1"},iframe:{version:"v3",host:"https://seguro.marca.com",origin_domain:".marca.com"},portalId:2});t.default=n},function(e,t,n){"use strict";function a(e,t){var n=t&&t.loc,r=void 0,t=void 0;n&&(e+=" - "+(r=n.start.line)+":"+(t=n.start.column));for(var o=Error.prototype.constructor.call(this,e),i=0;i<s.length;i++)this[s[i]]=o[s[i]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{n&&(this.lineNumber=r,Object.defineProperty?Object.defineProperty(this,"column",{value:t,enumerable:!0}):this.column=t)}catch(e){}}t.__esModule=!0;var s=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(i,[{key:"emit",value:function(e,t){e=this.events[e];e&&e.forEach(function(e){e.call(null,t)})}},{key:"subscribe",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter(function(e){return t!==e})}}},{key:"unsubscribe",value:function(e,t){if(!this.events[e])return!1;for(var n=0,r=this.events[e];n<r.length;++n)if(r[n]===t)return r.splice(n,1),!0;return!1}}]),i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=r||this,this.events={},r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){e.exports=function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o={};return r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){var e,t=(n=(e=window,t=document,n=t.documentElement,t=t.body,{w:e.innerWidth||n.clientWidth||t.clientWidth,h:e.innerHeight||n.clientHeight||t.clientHeight})).w>f.offsetWidth?parseInt((n.w-f.offsetWidth)/2):0,n=n.h>f.offsetHeight?parseInt((n.h-f.offsetHeight)/2):0;f.style.left=t+"px",f.style.top=n+"px"}function o(){return v}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=null,h=null,p=!0,v=!1,i="onorientationchange"in window?"orientationchange":"resize",m={},y=function(){var e=document.createElement("div");return e.className="cerrar",e.title="Cerrar",e},a=function(e,t,n,r){return"function"==typeof n&&(e.removeEventListener?(e.removeEventListener(t,n,r),!0):!!e.detachEvent&&(e.detachEvent("on"+t,n),!0))},s=function(){f&&o&&r()},u=function(e){if(m[e])for(var t=m[e].length,n=0;n<t;++n)try{m[e][n]()}catch(e){}},g=function(){return!!(p&&f&&v)&&(v=!1,a(window,i,s,!1),document.body.removeChild(f),f=null,document.body.classList.remove("disabled-vscroll"),h&&(document.body.removeChild(h),h=null),u("close"),!0)},l={open:function(e){var t,n,r,o,i,a,s,u,l,c;return!(v||"object"!=(void 0===e?"undefined":d(e))||("content"==(s="string"==typeof e.type?e.type:"iframe")&&(u="string"==typeof e.innerHTML?e.innerHTML:""),"iframe"==s&&""===(o="string"==typeof e.url?e.url:"")||(i="string"==typeof e.title?e.title:"",a="string"==typeof e.className?e.className:"",p="boolean"!=typeof e.close||e.close,t="boolean"!=typeof e.backdrop||e.backdrop,n="string"==typeof e.shadowClassName?e.shadowClassName:"",c="number"==typeof e.closeTimeOut?e.closeTimeOut:0,r=o,e=i,o=a,i=p,a=s,s=u,u=c,c=null,(f=document.createElement("section")).className="lightbox"+(o?" "+o:""),f.style.display="block",e&&((o=document.createElement("h1")).innerHTML=e,f.appendChild(o),o=null),i&&((i=y()).onclick=g,f.appendChild(i),0!==u&&(l=setTimeout(function(){g(),clearTimeout(l)},u)),i=null,document.onkeydown=function(e){27==(e=e||window.event).keyCode&&g()}),"iframe"==a&&((c=document.createElement("iframe")).src=r),"content"==a&&((c=document.createElement("div")).innerHTML=s,c=c.firstChild),c&&f.appendChild(c),document.body.appendChild(f),document.body.classList.add("disabled-vscroll"),c=n,(n=document.createElement("div")).className="lightbox_shadow"+(c?" "+c:""),h=document.body.insertBefore(n,f),t&&(h.onclick=g),v=!0,m={},0)))},close:g,isOpen:o,addCallback:function(e,t){"function"==typeof t&&(m[e]||(m[e]=[]),m[e].push(t))}};t.default=l}])},function(e,t,n){e.exports=n(14).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=o;var i=n(0),a=r(n(2)),s=n(15),u=n(23),l=r(n(25));t.VERSION="4.0.11",t.COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"},o.prototype={constructor:o,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===i.toString.call(e))i.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};n=l.default.log;t.log=n,t.createFrame=i.createFrame,t.logger=l.default},function(e,t,n){"use strict";function r(e){try{e()}catch(e){console.error(e)}}function o(){var e;for(s=!0;e=a.shift();)r(e)}function i(){document.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i),o()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e instanceof Function&&(s?r(e):a.push(e))};var a=[],s=!1;"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(o):(document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n(9)),i=r(n(12)),a=r(n(1)),s=r(n(7)),u=(r(n(42)),function(e,t,n){return void 0===e._data&&(e._data={}),void 0===n?e._data[t]:e._data[t]=n});(0,s.default)(function(){var e;!0!==u(document,"loginProxyEnabled")&&(u(document,"loginProxyEnabled",!0),e=a.default.binding.container,[].slice.apply(document.querySelectorAll(e)).map(function(e){new o.default(document);var t=e.dataset.csp;new i.default(e,t)}))})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e},i=r(n(1)),a=r(n(3)),u=r(n(4)),o=(o(l,[{key:"loginAction",value:function(e){var t="&";e.detail&&e.detail.csp&&(t="&csp="+e.detail.csp+"&");e=encodeURIComponent(window.location.href);window.location.href=i.default.iframe.host+"/registro/"+i.default.iframe.version+"/?view=login"+t+"url_redirect="+e}},{key:"logoutAction",value:function(){u.default.open({type:"iframe",url:i.default.iframe.host+"/registro/"+i.default.iframe.version+"/?view=logout",title:"Cerrando sesiÃ³n",className:"inicio-sesion",closable:!0,backdrop:!0})}},{key:"registryAction",value:function(e){var t="&";e.detail&&e.detail.csp&&(t="&csp="+e.detail.csp+"&");e=encodeURIComponent(window.location.href);window.location.href=i.default.iframe.host+"/registro/"+i.default.iframe.version+"/?view=signup"+t+"url_redirect="+e}},{key:"grantAccess",value:function(e){var t="&";e.detail&&e.detail.csp?(t="&csp="+e.detail.csp+"&",e=encodeURIComponent(window.location.href),window.location.href=i.default.iframe.host+"/registro/"+i.default.iframe.version+"/?view=completeData"+t+"url_redirect="+e+"&logged=on"):console.error("csp needed")}},{key:"doable",value:function(e,t){if(!t.data||!this.registerActions.hasOwnProperty(e))throw new Error("invalid message");this.registerActions[e](t.data)}},{key:"readMessage",value:function(e){if(new RegExp(i.default.iframe.origin_domain).test(e.origin))try{var t=JSON.parse(e.data);if(t.origin&&"registro"==t.origin){if(!t.action)throw new Error("invalid action"+t.action);this.doable(t.action,t),"analytics"!=t.action&&u.default.close()}}catch(e){}}},{key:"logged",value:function(){var e=new CustomEvent("login",{bubbles:!0});this.node.dispatchEvent(e)}},{key:"loggedOut",value:function(){var e=new CustomEvent("logout",{bubbles:!0});this.node.dispatchEvent(e)}},{key:"registerError",value:function(e){console.debug(e)}},{key:"setAnalytic",value:function(e){window.s_omniture=JSON.parse(atob(e.s_omniture)),s.t()}}]),l);function l(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,l),this.node=e,this.emitter=new a.default,this.fnLogin=this.loginAction.bind(this),this.fnLogout=this.logoutAction.bind(this),this.fnRegistry=this.registryAction.bind(this),this.fnGrantAccess=this.grantAccess.bind(this),this.fnMessage=this.readMessage.bind(this),this.node.addEventListener("REGLogin",this.fnLogin),this.node.addEventListener("REGLogout",this.fnLogout),this.node.addEventListener("REGRegistry",this.fnRegistry),this.node.addEventListener("REGGrantAccess",this.fnGrantAccess),window.addEventListener("message",this.fnMessage),this.registerActions={logged:this.logged.bind(this),loggedOut:this.loggedOut.bind(this),error:this.registerError.bind(this),analytics:this.setAnalytic.bind(this)}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=n(11),n=r({},(n&&n.__esModule?n:{default:n}).default,n={cookie:{http:"REGMARCA",https:"REGMARCA",forceUpdate:"REGMARCAACTU"},css:{activePanelClass:"user-info-open"},defaultAvatar:"https://e00-marca.uecdn.es/registro/v2/images/avatar/avatar.svg"});t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={binding:{container:".js-ueUserPanel",loginBtn:".js-loginClick",logoutBtn:".js-logOutBtn",registryBtn:".js-registryClick",myAccountBtn:".js-myAcountBtn",userPanelBtn:".js-userPanelBtn",userPanelCloseBtn:".js-userPanelCloseBtn"},endPoints:{user:"usuarios",userData:"obtencion-datos-personales",validate:"validacion",validateAndGetData:"validacion-usuario",userDataType:2},localStore:{jwt:{keyName:"uejwt"},validation:{expires:36e5,keyName:"validate"},user:{keyName:"profile"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e},i=r(n(1)),a=r(n(13)),s=r(n(30)),u=r(n(3)),n=(r(n(4)),n(31)),l=r(n),o=(o(c,[{key:"showHidePanel",value:function(e){e&&e.preventDefault();e=this.node.querySelector(".info-usuario");null!==e&&(e.previousElementSibling.setAttribute("aria-expanded",!e.classList.contains(i.default.css.activePanelClass)),e.classList.toggle(i.default.css.activePanelClass))}},{key:"loginRequest",value:function(e){e&&e.preventDefault();e=new CustomEvent("REGLogin",{bubbles:!0,detail:{csp:this.csp}});this.node.dispatchEvent(e)}},{key:"logoutRequest",value:function(e){e&&e.preventDefault();e=new CustomEvent("REGLogout",{bubbles:!0,detail:{csp:this.csp}});this.node.dispatchEvent(e)}},{key:"registryRequest",value:function(){var e=new CustomEvent("REGRegistry",{bubbles:!0,detail:{csp:this.csp}});this.node.dispatchEvent(e)}},{key:"showUserData",value:function(e){e&&e.preventDefault(),this.showHidePanel();e=encodeURIComponent(window.location.href);window.location.href=i.default.iframe.host+"/registro/"+i.default.iframe.version+"/?view=userArea&url_redirect="+e}},{key:"binding",value:function(){var e=this.node.querySelector(i.default.binding.loginBtn);null!==e&&e.addEventListener("click",this.loginRequest.bind(this));var t=this.node.querySelector(i.default.binding.logoutBtn);null!==t&&t.addEventListener("click",this.logoutRequest.bind(this));e=this.node.querySelector(i.default.binding.registryBtn);null!==e&&e.addEventListener("click",this.registryRequest.bind(this));t=this.node.querySelector(i.default.binding.myAccountBtn);null!==t&&t.addEventListener("click",this.showUserData.bind(this));e=this.node.querySelector(i.default.binding.userPanelBtn);null!==e&&e.addEventListener("click",this.showHidePanel.bind(this));t=this.node.querySelector(i.default.binding.userPanelCloseBtn);null!==e&&t.addEventListener("click",this.showHidePanel.bind(this))}},{key:"render",value:function(){var e=(0,a.default)(this);1==this.layout&&(e=(0,s.default)(this)),this.node.innerHTML=e,this.binding()}}]),c);function c(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),this.node=e,this.csp=t,this.active=!1,this.header=document.getElementsByClassName("js-header-energize"),this.fnRender=this.render.bind(this);t=document.querySelector(".js-header-energize");this.layout=!(!t||!t.dataset.layout||"minified"!=t.dataset.layout),this.emitter=new u.default,this.emitter.subscribe("logged",this.fnRender),this.emitter.subscribe("loggedOut",this.fnRender),this.user=new l.default,this.user.avatar_medium=i.default.defaultAvatar}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){n=n(5);e.exports=(n.default||n).template({1:function(e,t,n,r,o){return"    <a title='Login' class='tools-corporative-link js-loginClick' href='#'>\n        <span>Iniciar sesi&oacute;n</span>\n        <i class=\"icon-login\"></i>\n    </a>\n"},3:function(e,t,n,r,o){var i=e.lambda,a=e.escapeExpression;return'<a class=\'user-name js-userPanelBtn\' aria-haspopup="true" aria-expanded="false" aria-controls="toolbar" aria-label="Usuario:" tabindex="0" href=\'#\'>\n    <img class=\'\' src=\''+a(i(null!=(e=null!=t?t.user:t)?e.avatar:e,t))+"' alt='"+a(i(null!=(e=null!=t?t.user:t)?e.nick:e,t))+"'>\n</a>\n<div id='toolbar' class='info-usuario user-info'>\n    <a class=\"cerrar js-userPanelCloseBtn\" href=\"#\">Cerrar</a>\n    <a class=\"user-name active\">\n        <img class='' src='"+a(i(null!=(e=null!=t?t.user:t)?e.avatar:e,t))+"' alt='"+a(i(null!=(e=null!=t?t.user:t)?e.nick:e,t))+"'>\n    </a>\n    <ul>\n        <li class='my-account'>\n            <a class=\"js-myAcountBtn\" href='#'>Mi cuenta</a>\n        </li>\n        <li class='log-out'>\n            <a class=\"js-logOutBtn\" href='#'>Cerrar sesi&oacute;n</a>\n        </li>\n    </ul>\n</div>\n<style>\n.lightbox.inicio-sesion {\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    margin: 0;\n    padding: 0;\n    background: #fff;\n}\n.lightbox.inicio-sesion .cerrar {\n    display: none;\n}\n.lightbox.inicio-sesion h1 {\n    clip: initial;\n    width: 100%;\n    height: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    margin-top: -80px;\n    background: white;\n    font-family: \"Source Sans Pro\",Arial,sans-serif,helvetica;\n    font-size: 22px;\n}\n</style>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=e.lambda,a=n.blockHelperMissing;return(null!=(n=a.call(t,i(null!=(n=null!=t?t.user:t)?n.logged:n,t),{name:"user.logged",hash:{},fn:e.noop,inverse:e.program(1,o,0),data:o}))?n:"")+(null!=(n=a.call(t,i(null!=(n=null!=t?t.user:t)?n.logged:n,t),{name:"user.logged",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?n:"")},useData:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=s.default,t.Exception=u.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}t.__esModule=!0;var a=o(n(6)),s=r(n(26)),u=r(n(2)),l=o(n(0)),c=o(n(27)),d=r(n(28)),n=i();n.create=i,d.default(n),n.default=n,t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),i.default(e),a.default(e),s.default(e),u.default(e),l.default(e),c.default(e)};var o=r(n(16)),i=r(n(17)),a=r(n(18)),s=r(n(19)),u=r(n(20)),l=r(n(21)),c=r(n(22))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0);t.default=function(o){o.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,r=t.fn;return!0===e?r(this):!1===e||null==e?n(this):i.isArray(e)?0<e.length?(t.ids&&(t.ids=[t.name]),o.helpers.each(e,t)):n(this):(t.data&&t.ids&&((n=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.name),t={data:n}),r(e,t))})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var f=n(0),n=n(2),h=n&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("each",function(r,e){function t(e,t,n){s&&(s.key=e,s.index=t,s.first=0===t,s.last=!!n,u&&(s.contextPath=u+e)),a+=o(r[e],{data:s,blockParams:f.blockParams([r[e],e],[u+e,null])})}if(!e)throw new h.default("Must pass iterator to #each");var o=e.fn,n=e.inverse,i=0,a="",s=void 0,u=void 0;if(e.data&&e.ids&&(u=f.appendContextPath(e.data.contextPath,e.ids[0])+"."),f.isFunction(r)&&(r=r.call(this)),e.data&&(s=f.createFrame(e.data)),r&&"object"==typeof r)if(f.isArray(r))for(var l=r.length;i<l;i++)i in r&&t(i,i,i===r.length-1);else{var c,d=void 0;for(c in r)r.hasOwnProperty(c)&&(void 0!==d&&t(d,i-1),d=c,i++);void 0!==d&&t(d,i-1,!0)}return a=0===i?n(this):a})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var n=n(2),r=n&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0);t.default=function(n){n.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(o){o.registerHelper("log",function(){for(var e=[void 0],t=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var r=1;null!=t.hash.level?r=t.hash.level:t.data&&null!=t.data.level&&(r=t.data.level),e[0]=r,o.log.apply(o,e)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=n(0);t.default=function(e){e.registerHelper("with",function(e,t){o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:o.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var n=n(24),r=n&&n.__esModule?n:{default:n}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(0);t.default=function(e){e.registerDecorator("inline",function(r,o,i,e){var t=r;return o.partials||(o.partials={},t=function(e,t){var n=i.partials;i.partials=a.extend({},n,o.partials);t=r(e,t);return i.partials=n,t}),o.partials[e.args[0]]=e.fn,t})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){var t;return e="string"==typeof e?0<=(t=r.indexOf(o.methodMap,e.toLowerCase()))?t:parseInt(e,10):e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){e=o.methodMap[e];console[e]||(e="log");for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function d(r,e,o,i,t,a,s){function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=s;return!s||e==s[0]||e===r.nullContext&&null===s[0]||(n=[e].concat(s)),o(r,e,r.helpers,r.partials,t.data||i,a&&[t.blockParams].concat(a),n)}return(n=f(o,n,r,s,i,a)).program=e,n.depth=s?s.length:0,n.blockParams=t||0,n}function a(){return""}function f(e,t,n,r,o,i){return e.decorator&&(t=e.decorator(t,e={},n,r&&r[0],o,i,r),h.extend(t,e)),t}t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(t<n){n=v.REVISION_CHANGES[n],t=v.REVISION_CHANGES[t];throw new p.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+t+").")}throw new p.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(u,s){function l(e){function t(e){return""+u.main(c,e,c.helpers,c.partials,i,s,a)}var n,r,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o.data;l._setup(o),!o.partial&&u.useData&&(n=e,(r=i)&&"root"in r||((r=r?v.createFrame(r):{}).root=n),i=r);var a=void 0,s=u.useBlockParams?[]:void 0;return u.useDepths&&(a=o.depths?e!=o.depths[0]?[e].concat(o.depths):o.depths:[e]),(t=f(u.main,t,c,o.depths||[],i,s))(e,o)}if(!s)throw new p.default("No environment passed to template");if(!u||!u.main)throw new p.default("Unknown template object: "+typeof u);u.main.decorator=u.main_d,s.VM.checkRevision(u.compiler);var c={strict:function(e,t){if(!(t in e))throw new p.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:function(e,t,n){n.hash&&(t=h.extend({},t,n.hash),n.ids&&(n.ids[0]=!0)),e=s.VM.resolvePartial.call(this,e,t,n);var r=s.VM.invokePartial.call(this,e,t,n);if(null==r&&s.compile&&(n.partials[n.name]=s.compile(e,u.compilerOptions,s),r=n.partials[n.name](t,n)),null==r)throw new p.default("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var o=r.split("\n"),i=0,a=o.length;i<a&&(o[i]||i+1!==a);i++)o[i]=n.indent+o[i];r=o.join("\n")}return r},fn:function(e){var t=u[e];return t.decorator=u[e+"_d"],t},programs:[],program:function(e,t,n,r,o){var i=this.programs[e],a=this.fn(e);return i=t||o||r||n?d(this,e,a,t,n,r,o):i||(this.programs[e]=d(this,e,a))},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return n=e&&t&&e!==t?h.extend({},t,e):n},nullContext:Object.seal({}),noop:s.VM.noop,compilerInfo:u.compiler};return l.isTop=!0,l._setup=function(e){e.partial?(c.helpers=e.helpers,c.partials=e.partials,c.decorators=e.decorators):(c.helpers=c.merge(e.helpers,s.helpers),u.usePartial&&(c.partials=c.merge(e.partials,s.partials)),(u.usePartial||u.useDecorators)&&(c.decorators=c.merge(e.decorators,s.decorators)))},l._child=function(e,t,n,r){if(u.useBlockParams&&!n)throw new p.default("must pass block params");if(u.useDepths&&!r)throw new p.default("must pass parent depths");return d(c,e,u[e],t,0,n,r)},l},t.wrapProgram=d,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,r){var o=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var i=void 0;if(r.fn&&r.fn!==a&&function(){r.data=v.createFrame(r.data);var n=r.fn;i=r.data["partial-block"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.data=v.createFrame(t.data),t.data["partial-block"]=o,n(e,t)},n.partials&&(r.partials=h.extend({},r.partials,n.partials))}(),void 0===(e=void 0===e&&i?i:e))throw new p.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)},t.noop=a;var h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),t=n(2),p=t&&t.__esModule?t:{default:t},v=n(6)},function(e,t,n){"use strict";!function(r){t.__esModule=!0,t.default=function(e){var t=void 0!==r?r:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}.call(t,n(29))},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n=n(5);e.exports=(n.default||n).template({1:function(e,t,n,r,o){return'    <a href="#" class="js-loginClick">\n        <span class="hidden-content">Iniciar sesi&oacute;n</span>\n        <svg role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g stroke-width="1.5">\n                <path d="M11.955 4.705a3.249 3.249 0 0 0-3.25 3.25 3.249 3.249 0 0 0 3.25 3.25 3.249 3.249 0 0 0 3.25-3.25 3.249 3.249 0 0 0-3.25-3.25zM4.705 19.205h14.5v-1.25c0-1.661-3.968-3.25-7.25-3.25-3.283 0-7.25 1.589-7.25 3.25v1.25z"></path>\n            </g>\n        </svg>\n    </a>\n'},3:function(e,t,n,r,o){var i=e.lambda,a=e.escapeExpression;return"<a title='"+a(i(null!=(e=null!=t?t.user:t)?e.nick:e,t))+"' class='user-name js-userPanelBtn'>\n    <img class='' src='"+a(i(null!=(e=null!=t?t.user:t)?e.avatar:e,t))+"' alt='"+a(i(null!=(e=null!=t?t.user:t)?e.nick:e,t))+"'>\n</a>\n<div id='toolbar' class='info-usuario user-info'>\n    <a title=\"\" class=\"cerrar js-userPanelCloseBtn\">Cerrar</a>\n    <a title=\"\" class=\"user-name active\">\n        <img class='' src='"+a(i(null!=(e=null!=t?t.user:t)?e.avatar:e,t))+"' alt='"+a(i(null!=(e=null!=t?t.user:t)?e.nick:e,t))+"'>\n    </a>\n    <ul>\n        <li class='my-account'>\n            <a class=\"js-myAcountBtn\" href='#'>Mi cuenta</a>\n        </li>\n        <li class='log-out'>\n            <a class=\"js-logOutBtn\" href='#'>Cerrar sesi&oacute;n</a>\n        </li>\n    </ul>\n</div>\n<style>\n.lightbox.inicio-sesion {\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    margin: 0;\n    padding: 0;\n    background: #fff;\n}\n.lightbox.inicio-sesion .cerrar {\n    display: none;\n}\n.lightbox.inicio-sesion h1 {\n    clip: initial;\n    width: 100%;\n    height: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    margin-top: -80px;\n    background: white;\n    font-family: \"Source Sans Pro\",Arial,sans-serif,helvetica;\n    font-size: 22px;\n}\n</style>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=e.lambda,a=n.blockHelperMissing;return(null!=(n=a.call(t,i(null!=(n=null!=t?t.user:t)?n.logged:n,t),{name:"user.logged",hash:{},fn:e.noop,inverse:e.program(1,o,0),data:o}))?n:"")+(null!=(n=a.call(t,i(null!=(n=null!=t?t.user:t)?n.logged:n,t),{name:"user.logged",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?n:"")},useData:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e},a=r(n(1)),s=r(n(3)),u=r(n(32)),l=r(n(38)),c=r(n(39)),d=r(n(41)),o=(o(f,[{key:"bindEvents",value:function(){document.addEventListener("login",this.run.bind(this)),document.addEventListener("logout",this.logout.bind(this)),document.addEventListener("userDataModified",this.refresh.bind(this))}},{key:"clearRunTimeout",value:function(){this.runTimeout&&(clearTimeout(this.runTimeout),this.runTimeout=null)}},{key:"getCookieValidity",value:function(){return this.cookieManager.isValid(this.cookieName)}},{key:"getData",value:function(){var t=this;return this.getLocalData().then(function(e){return e.isLogged&&(e.isExpired||e.forceUpdate)?t.requestData().then(t.setLocalData.bind(t)).then(t.getLocalData.bind(t)).catch(console.error):e}).catch(console.error)}},{key:"getLocalData",value:function(){var t=this,e=this.getCookieValidity(),n=[e];return e&&(n=n.concat([this.getMaxAge(),this.jwtManager.get(),this.storageManager.get("profile"),this.getForceUpdate()])),Promise.all(n).then(function(e){return t.normalizeData.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}).catch(console.error)}},{key:"getMaxAge",value:function(){return this.storageManager.get(a.default.localStore.validation.keyName).then(function(e){var t=void 0;if("number"!=typeof e)try{t=parseInt(e)}catch(e){t=0,console.warn("Unexpected expiration value:",e)}return isNaN(t)&&(t=0),t=Math.max(e,0),Math.max(t-Date.now(),0)}).catch(console.error)}},{key:"getForceUpdate",value:function(){var e=this.cookieManager.getCookie(this.forceUpdateCookieName),e="true"===e||!0===e;return e&&this.cookieManager.removeCookie(this.forceUpdateCookieName),e}},{key:"logout",value:function(){this.cookieManager.removeCookie(this.cookieName),this.run()}},{key:"normalizeData",value:function(e,t,n,r,o){return{isLogged:e="boolean"==typeof e&&e,maxAge:t="number"!=typeof t||isNaN(t)?0:Math.max(t,0),jwt:n=n||"",userInfo:r=i({nick:"",avatar:""},r||{}),isExpired:0===t,forceUpdate:o=o||!1}}},{key:"notify",value:function(e){this.notifyLoggedUser(e),this.emitter.emit(e?"logged":"loggedOut")}},{key:"notifyLoggedUser",value:function(e){e=new CustomEvent("loggedUser",{bubbles:!0,detail:{logged:e}});document.dispatchEvent(e)}},{key:"rateLimit",value:function(e,t,n,r){var o=this;this.rateLimitTimers[e]&&(clearTimeout(this.rateLimitTimers[e]),this.rateLimitTimers[e]=null),"function"==typeof n&&(t=setTimeout(function(){r?n.apply(r):n(),o.rateLimitTimers[e]=null},t),this.rateLimitTimers[e]=t)}},{key:"refresh",value:function(){this.storageManager.delete(a.default.localStore.validation.keyName).then(this.run.bind(this))}},{key:"requestData",value:function(){var i=this;if(!(5<++this.requestAttempts))return new Promise(function(t,r){var e=a.default.endPoints.user+"/"+a.default.endPoints.validateAndGetData+"/"+a.default.portalId,n=i.cookieManager.getCookie(i.cookieName),o={p1:[{nombre:i.cookieName,valor:encodeURIComponent(n)}]};i.rateLimitResolves.push(t),i.rateLimit("@ueLogin-post",i.requestDelay,function(){i.requestDelay=i.requestDelay*i.requestDelay,i.api.post(e,o).then(function(t){var e=i.rateLimitResolves;switch(i.rateLimitResolves=[],t.status){case"OK":if(!t.data)throw new Error("[UeLogin] Data should be truly but it is not.");return t.data.isLogged=!0,e.forEach(function(e){return e(t.data)}),t.data;case"NOK":return console.warn("[UeLogin] Login rejected: ",t.data&&t.data.descripcion),e.forEach(function(e){return e(null)}),null;default:var n="[UeLogin] Unexpected request response status code.";throw r(n),new Error(n)}}).catch(function(e){console.error(e),t(void 0)})},i)})}},{key:"removeLocalData",value:function(){var e=this.cookieManager.removeCookie(this.cookieName),t=this.jwtManager.remove(),n=this.storageManager.delete(a.default.localStore.validation.keyName),r=this.storageManager.delete(a.default.localStore.user.keyName);return Promise.all([e,t,n,r]).catch(console.error)}},{key:"run",value:function(){return this.clearRunTimeout(),this.getData().then(this.update.bind(this)).catch(console.error)}},{key:"setLocalData",value:function(e){switch(e){case void 0:return;case null:return this.removeLocalData();default:var t=a.default.localStore.validation.expires,n=Date.now()+t,r={nick:e&&e.nick||"",avatar:e&&e.url_avatar||""},t=this.storageManager.set(a.default.localStore.validation.keyName,n),n=this.jwtManager.set(e&&e.JWT||""),r=this.storageManager.set(a.default.localStore.user.keyName,r);return Promise.all([t,n,r]).catch(console.error)}}},{key:"setRunTimeout",value:function(e){var t;"number"!=typeof e||0===e||5<++this.timeoutAttempts||(t=a.default.localStore.validation.expires,t=0<e?Math.min(e,t):t,this.runTimeout=setTimeout(this.run.bind(this),t))}},{key:"setUserInfo",value:function(e,t){t&&(this.nick=t.nick,this.avatar=t.avatar),this.logged=e}},{key:"update",value:function(e){e&&(e.isLogged&&e.maxAge&&!e.isExpired&&this.setRunTimeout(e.maxAge),"boolean"!=typeof e.isLogged||e.isLogged||this.removeLocalData()),this.setUserInfo(e&&e.isLogged,e&&e.userInfo),this.notify(e&&e.isLogged)}}]),f);function f(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.constructor.instance)return this.constructor.instance;(this.constructor.instance=this).api=new u.default,this.emitter=new s.default,this.storageManager=new c.default,this.cookieManager=new l.default,this.jwtManager=new d.default,this.avatar="",this.logged=!1,this.nick="",this.cookieName=a.default.cookie[location.protocol.replace(":","")],this.forceUpdateCookieName=a.default.cookie.forceUpdate||"novalueavailable",this.runTimeout=null,this.timeoutAttempts=0,this.requestAttempts=0,this.requestDelay=10,this.rateLimitTimers=[],this.rateLimitResolves=[],this.run().then(this.bindEvents.bind(this))}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e},i=r(n(33)),a=r(n(34)),s=r(n(1)),u=void 0,o=(o(l,[{key:"get",value:function(e,t){e=this.baseUrl+"/"+e;e+="?"+a.default.stringify(t);return i.default.get(e,{mode:"cors"}).then(this.status).then(this.json).then(function(e){return e}).catch(function(e){return console.error("Request failed",e),Promise.reject(e)})}},{key:"post",value:function(e,t){e=""+this.baseUrl+e;return i.default.post(e,{headers:{"Content-type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(t)}).then(this.status).then(this.json).then(function(e){return e}).catch(function(e){return console.error("Request failed",e),Promise.reject(e)})}},{key:"status",value:function(e){return 200<=e.status&&e.status<300?Promise.resolve(e):Promise.reject("Response status not valid: "+e.status)}},{key:"json",value:function(e){return e.json()}}]),l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),void 0!==u?u:(this.baseUrl=s.default.api.host+"/"+s.default.api.version+"/",u=this)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){e.exports=function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o={};return r.m=n,r.c=o,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n=n(3);t.default=n.ueFetch},function(e,t,n){"use strict";!function(e){function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return e="string"!=typeof e?String(e):e}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function s(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function t(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function n(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(v&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(h&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y&&v&&b(e))this._bodyArrayBuffer=n(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=n(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(t)}),this.text=function(){var e,t,n=s(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=u(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e,t){var n,r=(t=t||{}).body;if(e instanceof c){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=(n=t.method||this.method||"GET",e=n.toUpperCase(),-1<k.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function f(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}var h,p,v,m,y,g,b,w,k,_;e.fetch||(h="URLSearchParams"in e,p="Symbol"in e&&"iterator"in Symbol,v="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),m="FormData"in e,(y="ArrayBuffer"in e)&&(g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&-1<g.indexOf(Object.prototype.toString.call(e))}),a.prototype.append=function(e,t){e=r(e),t=o(t);var n=this.map[e];this.map[e]=n?n+","+t:t},a.prototype.delete=function(e){delete this.map[r(e)]},a.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},a.prototype.set=function(e,t){this.map[r(e)]=o(t)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),i(n)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},a.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),i(n)},p&&(a.prototype[Symbol.iterator]=a.prototype.entries),k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},l.call(c.prototype),l.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e},_=[301,302,303,307,308],f.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=c,e.Response=f,e.fetch=function(n,i){return new Promise(function(r,e){var t=new c(n,i),o=new XMLHttpRequest;o.onload=function(){var n,e={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",n=new a,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),n.append(e,t))}),n)};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new f(t,e))},o.onerror=function(){e(new TypeError("Network request failed"))},o.ontimeout=function(){e(new TypeError("Network request failed"))},o.open(t.method,t.url,!0),"include"===t.credentials?o.withCredentials=!0:"omit"===t.credentials&&(o.withCredentials=!1),"responseType"in o&&v&&(o.responseType="blob"),t.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ueFetch=void 0;n=n(0);n&&n.__esModule,Response.prototype.textIso=function(){return Response.prototype.arrayBuffer.apply(this,arguments).then(function(e){return String.fromCharCode.apply(null,new Uint8Array(e))})},t.ueFetch=Object.assign.apply(Object,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(["get","post"].map(function(t){return r=function(e){return fetch(e,Object.assign(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{method:t}))},(n=t)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e;var e,n,r})))},function(e,t,n){n(0),n(2),e.exports=n(1)}])},function(e,t,n){"use strict";function a(e,t){return t.encode?(t.strict?i:encodeURIComponent)(e):e}function r(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function o(e,t){var n=function(e){var r;switch(e.arrayFormat){case"index":return function(e,t,n){r=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),r?(void 0===n[e]&&(n[e]={}),n[e][r[1]]=t):n[e]=t};case"bracket":return function(e,t,n){return r=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),r?void 0===n[e]?void(n[e]=[t]):void(n[e]=[].concat(n[e],t)):void(n[e]=t)};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=s({arrayFormat:"none"},t)),r=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),e=t.shift(),t=void 0===(t=0<t.length?t.join("="):void 0)?null:u(t);n(u(e),t,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}var i=n(35),s=n(36),u=n(37);t.extract=r,t.parse=o,t.stringify=function(r,o){!1===(o=s({encode:!0,strict:!0,arrayFormat:"none"},o)).sort&&(o.sort=function(){});var i=function(r){switch(r.arrayFormat){case"index":return function(e,t,n){return(null===t?[a(e,r),"[",n,"]"]:[a(e,r),"[",a(n,r),"]=",a(t,r)]).join("")};case"bracket":return function(e,t){return null===t?a(e,r):[a(e,r),"[]=",a(t,r)].join("")};default:return function(e,t){return null===t?a(e,r):[a(e,r),"=",a(t,r)].join("")}}}(o);return r?Object.keys(r).sort(o.sort).map(function(t){var e=r[t];if(void 0===e)return"";if(null===e)return a(t,o);if(Array.isArray(e)){var n=[];return e.slice().forEach(function(e){void 0!==e&&n.push(i(t,e,n.length))}),n.join("&")}return a(t,o)+"="+a(e,o)}).filter(function(e){return 0<e.length}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:o(r(e),t)}}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var i in n=Object(arguments[o]))l.call(n,i)&&(r[i]=n[i]);if(u)for(var a=u(n),s=0;s<a.length;s++)c.call(n,a[s])&&(r[a[s]]=n[a[s]])}return r}},function(e,t,n){"use strict";function s(t){try{return decodeURIComponent(t)}catch(e){for(var n=t.match(o),r=1;r<n.length;r++)n=(t=function e(t,n){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;var r=t.slice(0,n=n||1),n=t.slice(n);return Array.prototype.concat.call([],e(r),e(n))}(n,r).join("")).match(o);return t}}var o=new RegExp("%[a-f0-9]{2}","gi"),u=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},n=u.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=u.exec(e)}t["%C2"]="ï¿½";for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(i,[{key:"isValid",value:function(e){if(navigator.cookieEnabled){var t=new RegExp("[0-9a-zA-Z]+-(?:[a-zA-Z0-9+/]{4})*(?:|(?:[a-zA-Z0-9+/]{3}=)|(?:[a-zA-Z0-9+/]{2}==)|(?:[a-zA-Z0-9+/]{1}===))$"),e=this.getCookie(e);return t.test(unescape(e))}return!1}},{key:"getCookie",value:function(e){return navigator.cookieEnabled&&(this.cookie=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))),this.cookie}},{key:"removeCookie",value:function(e){var t=!1;return navigator.cookieEnabled&&this.getCookie(e)&&(document.cookie=e+"=; Path=/;Domain="+this.domain+";Max-Age=0",t=!0),t}}]),i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r||(this.domain=document.domain.replace(new RegExp(document.domain.split(".").shift()),""),this.cookie=null,r=this),r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e},n=n(40),o=n&&n.__esModule?n:{default:n},i=null,r=(r(a,[{key:"checkIndexDbSupport",value:function(){"indexedDB"in window?this.store=o.default:console.debug("This browser doesn't support IndexedDB")}},{key:"get",value:function(e){var r=this;return new Promise(function(t){var n;null===r.store?t(null):(n=null,r.store.get(e).then(function(e){t(n=void 0!==e?e:n)}).catch(function(e){console.error("Store error",e)}))})}},{key:"set",value:function(t,n){var r=this;return new Promise(function(e){null===r.store?e({}):r.store.set(t,n).then(function(){e()}).catch(function(e){console.error("Store error",e)})})}},{key:"delete",value:function(t){var n=this;return new Promise(function(e){null===n.store?e({}):n.store.delete(t).then(function(){e()}).catch(function(e){console.error("Store error",e)})})}},{key:"remove",value:function(){return this.store.clear().catch(function(e){console.error("Store error",e)})}}]),a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i||(this.store=null,this.checkIndexDbSupport(),i=this),i}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=r},function(r,o,e){var i;!function(){"use strict";function e(o,i){return(t=t||new Promise(function(e,t){var n=indexedDB.open("keyval-store",1);n.onerror=function(){t(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore("keyval")},n.onsuccess=function(){e(n.result)}})).then(function(r){return new Promise(function(e,t){var n=r.transaction("keyval",o);n.oncomplete=function(){e()},n.onabort=n.onerror=function(){t(n.error)},i(n.objectStore("keyval"))})})}var t,n={get:function(t){var n;return e("readonly",function(e){n=e.get(t)}).then(function(){return n.result})},set:function(t,n){return e("readwrite",function(e){e.put(n,t)})},delete:function(t){return e("readwrite",function(e){e.delete(t)})},clear:function(){return e("readwrite",function(e){e.clear()})},keys:function(){var t=[];return e("readonly",function(e){(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(function(){return t})}};void 0!==r&&r.exports?r.exports=n:void 0!==(i=function(){return n}.apply(o,[]))&&(r.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},n=n(1),o=n&&n.__esModule?n:{default:n},r=(r(i,[{key:"get",value:function(){return window.localStorage&&window.localStorage.getItem(o.default.localStore.jwt.keyName)}},{key:"set",value:function(e){window.localStorage&&window.localStorage.setItem(o.default.localStore.jwt.keyName,e||"")}},{key:"remove",value:function(){window.localStorage&&window.localStorage.getItem(o.default.localStore.jwt.keyName)&&window.localStorage.removeItem(o.default.localStore.jwt.keyName)}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=r},function(e,t,n){"use strict";var r,n=n(7),n=n&&n.__esModule?n:{default:n},o=!1,i="";document.addEventListener("loggedUser",function(e){r=e.detail.logged}),document.addEventListener("REGLogin",function(){i=window.location.href});function a(e){if(!(e instanceof HTMLElement))return!1;this.reload=function(e){e==window.location.href?window.location.reload():window.location.href=e},this.loginHandle=function(){r=!0,o?this.reload(i):this.disable()},this.logoutHandle=function(){r=!1,o||(o=!0,i=window.location.href),this.enable()},this.enable=function(){e.classList.remove("no-visible")},this.disable=function(){e.classList.add("no-visible")},this.init=function(){e._data&&e._data.ueButtonForPremium||(e._data={},e._data.ueButtonForPremium=!0,null!=r&&(r?this.loginHandle():this.logoutHandle()),e.addEventListener("click",function(e){!0!==r&&(e&&e.preventDefault(),e=new CustomEvent("REGLogin",{bubbles:!0}),this.dispatchEvent(e))}),document.addEventListener("login",this.loginHandle.bind(this)),document.addEventListener("logout",this.logoutHandle.bind(this)),document.addEventListener("loggedUser",function(e){e.detail.logged?this.loginHandle():this.logoutHandle()}.bind(this)))},this.init()}(0,n.default)(function(){new a(document.querySelector(".js-button-premium")),window.document.addEventListener("nc-contentLoaded",function(e){e=e.detail.nIndex,e=document.querySelector('body > main.js_navContinua[data-ue-navindex="'+e+'"]');e&&new a(e.querySelector(".js-button-premium"))})})}]);

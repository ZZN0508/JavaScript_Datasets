define("modules/navigation",["jquery","modules/helpers/browserHelper"],function(e,t){var o=".d3-o-nav__wrap",s=".d3-o-nav__logo",r=".d3-o-nav__search",d="d3-o-search--is-open",l="d3-o-hamburger--is-active",c=".d3-o-nav__hamburger",v="d3-o-nav--is-open",i="d3-o-nav__more-is-clicked",g=".d3-o-search__input",f=".d3-o-search__open-btn",u=".d3-o-search__close-btn",h="d3-o-nav--is-sticky",p="nfl-has-sticky-nav",a="d3-o-nav__has-secondary-nav",_="d3-o-nav__has-secondary-nav-with-ad",m="nfl-u-disable--scrolling",b=e("body"),y=e("html");return{$navigation:e(),options:{onSearchClick:function(i){return function(n){var a=e(n.target);(a=a.is("button")?a:a.parents("button")).is(f)||a.closest(f).length?i.$navigation.hasClass(d)||(n.preventDefault(),i.$navigation.addClass(d).find(g).focus()):(a.is(u)||a.closest(u).length)&&(i.$navigation.removeClass(d),i.$navigation.find(f).focus()),i.$navigation.hasClass(d)?a.parents(r).on("keyup.nav.search",function(n){27===n.which&&a.parents(r).find(u).trigger("click")}):a.parents(r).off("keyup.nav.search")}},onHamburgerClick:function(i){return function(n){n.preventDefault();var a=e(n.target);(a=a.closest(c).length?a.closest(c):a).toggleClass(l).attr("aria-expanded",a.hasClass(l)),i.$navigation.toggleClass(v),i.preventBodyScroll(i),a.hasClass(l)?(a.parents(o).on("keyup.nav.hamburguer",function(n){27===n.which&&a.trigger("click.nav.hamburger")}),a.parents(o).on("keydown.nav.hamburguer",function(a){var i,t;9===a.which&&(i=e(document.activeElement),t=e(this).find(".d3-o-nav__item:visible"),requestAnimationFrame(function(){var n;a.shiftKey?i.is(s)&&(t.last().find("a").focus(),a.preventDefault()):(n=i.is("a")?i.parent(".d3-o-nav__item"):i,t.index(n)===t.length-1&&(e(s).focus(),a.preventDefault()))}))})):a.parents(o).off("keyup.nav.hamburguer").off("keydown.nav.hamburguer")}},onDropdownTriggerClick:function(a){return function(n){n.preventDefault();n=e(n.target);(n=!n.is('a[data-value="dropdown_trigger"]')?n.closest('a[data-value="dropdown_trigger"]'):n).toggleClass(i).attr("aria-expanded",n.hasClass(i)),a.$navigation.find(".d3-o-nav__dropdown").toggleClass(v)}},onScroll:function(a){return function(){var n=a.getStartOffset(a);a.addStickyClass(a,e(window).scrollTop(),n),requestAnimationFrame(a.options.onScroll(a))}}},addStickyClass:function(n,a,i){i<=a?(n.$navigation.addClass(h),b.addClass(p)):(n.$navigation.removeClass(h),b.removeClass(p))},getStartOffset:function(n){var a=n.$navigation.offset().top,i=n.$navigation.prevAll().first();return i.length&&(a=i.height()+i.offset().top),a+=n.$navigation.height(),void 0===n.$navigation.data("startOffset")&&n.$navigation.data("startOffset",a),n.$navigation.data("startOffset")},addActionRelatedLinkToPrimaryNavigation:function(n){var a=n.$navigation.find(".d3-o-nav--action-related--mobile"),i=a.find(".d3-o-list li");i.addClass("d3-o-nav__item--action-related");var t=n.$navigation.find(".d3-o-nav__item--has-submenu");t.length?i.insertBefore(t):(t=n.$navigation.find(".d3-o-nav--primary").children(".d3-o-nav__list").find(".d3-o-nav__item:last"),i.insertAfter(t)),a.remove()},checkSecondaryNavigation:function(n){n.hasClass(a)&&b.addClass("nfl-has-secondary-nav"),n.hasClass(_)&&b.addClass("nfl-has-secondary-nav--width-ad")},preventBodyScroll:function(n){y.toggleClass(m),b.toggleClass(m)},checkMenuItemsDeviceVisibility:function(n){n.find('a[data-custom-properties*="devicevisibility"]').each(function(){var n,a=e(this).attr("data-custom-properties"),i=JSON.parse(a.toLowerCase());i.devicevisibility&&(n=i.devicevisibility.split("|"),a=t.isTabletIOS(),i=t.isMobile(),(a&&-1<n.indexOf("ipad")||i&&-1<n.indexOf("mobile"))&&e(this).css("display","block"))})},initScroll:function(n){return function(){n.options.onScroll(n)()}},initByElement:function(n){var a=this,n=e(n);(a.$navigation=n).find(".d3-o-search__close-btn, .d3-o-search__open-btn").on("click.nav.search",a.options.onSearchClick(a)),n.find(c).on("click.nav.hamburger",a.options.onHamburgerClick(a)),n.find('nav li a[data-value="dropdown_trigger"]').on("click.nav.dropdowntrigger",a.options.onDropdownTriggerClick(a)),window.googletag&&window.googletag.pubadsReady?(window.googletag.pubads().addEventListener("slotOnload",function(n){a.initScroll(a)()}),e(window).on("load.nav",function(){a.initScroll(a)()})):a.initScroll(a)(),a.addActionRelatedLinkToPrimaryNavigation(a),a.checkSecondaryNavigation(n),a.checkMenuItemsDeviceVisibility(n)}}});

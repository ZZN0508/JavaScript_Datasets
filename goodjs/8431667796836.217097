"function"!=typeof window.DIL&&(window.DIL=function(s,e){var l,g,m,u,r,c,h,i,a,t,n,o,f,p,y,d,I,S,b,v,_,D,O=[];s!==Object(s)&&(s={}),g=s.partner,m=s.containerNSID,u=!!s.disableDestinationPublishingIframe,r=s.iframeAkamaiHTTPS,c=s.mappings,h=s.uuidCookie,i=!0===s.enableErrorReporting,a=s.visitorService,t=s.declaredId,n=!0===s.removeFinishedScriptsAndCallbacks,o=!0===s.delayAllUntilWindowLoad,f=!0===s.disableIDSyncs,F=void 0===s.secureDataCollection||!0===s.secureDataCollection,p=!0===s.useCORSOnly,y=!0===s.disableScriptAttachment,d=!0===s.disableDefaultRequest,I=s.afterResultForDefaultRequest,S=s.dpIframeSrc,b=!0===s.testCORS,v=!0===s.useJSONPOnly,_=s.visitorConstructor,D=!0===s.disableCORS,i&&DIL.errorModule.activate();var C=!0===window._dil_unit_tests;if((l=e)&&O.push(l+""),!g||"string"!=typeof g)return l="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:l,filename:"dil.js"}),Error(l);if(l="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!m&&"number"!=typeof m||(m=parseInt(m,10),!isNaN(m)&&0<=m&&(l="")),l&&(m=0,O.push(l),l=""),(L=DIL.getDil(g,m))instanceof DIL&&L.api.getPartner()===g&&L.api.getContainerNSID()===m)return L;if(!(this instanceof DIL))return new DIL(s,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+g+" and containerNSID = "+m);DIL.registerDil(this,g,m);var L,P,T={IS_HTTPS:F||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC",MILLIS_PER_DAY:864e5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(g)+"_"+m,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP",HAS_JSON_STRINGIFY:window.JSON===Object(window.JSON)&&"function"==typeof window.JSON.stringify},E={stuffed:{}},R={},w={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:m+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2e3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var t,s,r,i,n=this;if("function"==typeof e&&"function"==typeof e.getInstance){if(a!==Object(a)||!(t=a.namespace)||"string"!=typeof t)return this.releaseType="no namespace",void this.releaseRequests();if((s=e.getInstance(t,{idSyncContainerID:m}))===Object(s)&&s instanceof e&&"function"==typeof s.isAllowed&&"function"==typeof s.getMarketingCloudVisitorID&&"function"==typeof s.getCustomerIDs&&"function"==typeof s.isOptedOut)return this.VisitorAPI=e,s.isAllowed()?(this.instance=s,r=function(e){"VisitorAPI"!==n.releaseType&&(n.mid=e,n.releaseType="VisitorAPI",n.releaseRequests())},"string"==typeof(i=s.getMarketingCloudVisitorID(r))&&i.length?void r(i):void setTimeout(function(){"VisitorAPI"!==n.releaseType&&(n.releaseType="timeout",n.releaseRequests())},this.getLoadTimeout())):(this.releaseType="VisitorAPI not allowed",void this.releaseRequests());this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(e){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0,w.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=M.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,s,r="",i=[],n=[];for(t in e)e.hasOwnProperty(t)&&(n[0]=t,s=e[t],s===Object(s)&&(n[1]=s.id||"",n[2]=s.authState||0,i.push(n),n=[]));if(n=i.length)for(e=0;e<n;e++)r+="&d_cid_ic="+q.encodeAndBuildRequest(i[e],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,w.registerRequest()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var s=M.isPopulatedString,r=encodeURIComponent;if(e===Object(e)&&s(t)){var i=e.dpid,n=e.dpuuid,e=null;if(s(i)&&s(n))return e=r(i)+"$"+r(n),!0===this.declaredIdCombos[e]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[e]=!0,this.declaredId[t]={dpid:i,dpuuid:n},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,s=encodeURIComponent,r="";return null!==e?r="&d_dpid="+s(e.dpid)+"&d_dpuuid="+s(e.dpuuid):null!==t&&(r="&d_dpid="+s(t.dpid)+"&d_dpuuid="+s(t.dpuuid)),r}},registerRequest:function(e){var t=this.firingQueue;e===Object(e)&&t.push(e),this.firing||!t.length||o&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(this.adms.isOptedOutCallbackCalled=!1,(e=t.shift()).src=e.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),M.isPopulatedString(e.corsPostData)&&(e.corsPostData=e.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),j.fireRequest(e),this.firstRequestHasFired||"script"!==e.tag&&"cors"!==e.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(_||window.Visitor)},requestRemoval:function(e){if(!n)return"removeFinishedScriptsAndCallbacks is not boolean true";var t,s,r=this.toRemove;if(e===Object(e)&&(t=e.script,s=e.callbackName,(t===Object(t)&&"SCRIPT"===t.nodeName||"no script created"===t)&&"string"==typeof s&&s.length&&r.push(e)),this.readyToRemove&&r.length){t=(s=r.shift()).script,s=s.callbackName,"no script created"!==t?(e=t.src,t.parentNode.removeChild(t)):e=t,window[s]=null;try{delete window[s]}catch(e){}return this.removed.push({scriptSrc:e,callbackName:s}),DIL.variables.scriptsRemoved.push(e),DIL.variables.callbacksRemoved.push(s),this.requestRemoval()}return"requestRemoval() processed"}},A={THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:"destination_publishing_iframe_"+g+"_"+m,url:(L=function(){var e="http://fast.",t="?d_nsid="+m+"#"+encodeURIComponent(document.location.href);return"string"==typeof S&&S.length?S+t:(e=T.IS_HTTPS?!0===r?"https://fast.":"https://":e)+g+".demdex.net/dest5.html"+t})(),onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return 3<=t.length?t[0]+"//"+t[2]:(O.push("getIframeHost: url is malformed: "+e),e)}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:T.POST_MESSAGE_ENABLED?null:100,ibsDeleted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function e(){(r=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=s.id,r.style.cssText="display: none; width: 0; height: 0;",r.src=s.url,s.newIframeCreated=!0,t(),document.body.appendChild(r)}function t(){q.addListener(r,"load",function(){r.className="aamIframeLoaded",s.iframeHasLoaded=!0,s.requestToProcess()})}var s=this,r=document.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=r,this.requestToProcess())):e(),this.iframe=r},requestToProcess:function(e,t){function s(){i.jsonForComparison.push(e),i.jsonWaiting.push([e,t])}var r,i=this,n=w.adms.instance;if(e===Object(e)&&n===Object(n)&&n.idSyncContainerID===m&&(A.ibsDeleted.push(e.ibs),delete e.ibs),e&&!M.isEmptyObject(e))if(T.HAS_JSON_STRINGIFY)if(n=JSON.stringify(e.ibs||[]),r=JSON.stringify(e.dests||[]),this.jsonForComparison.length){for(var a,o=!1,d=0,c=this.jsonForComparison.length;d<c;d++)if(a=this.jsonForComparison[d],n===JSON.stringify(a.ibs||[])&&r===JSON.stringify(a.dests||[])){o=!0;break}o?this.jsonDuplicates.push(e):s()}else s();else s();(this.receivedThirdPartyCookiesNotification||!T.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length&&(n=this.jsonWaiting.shift(),!1===this.newIframeCreated&&delete n[0].ibs,this.process(n[0],n[1]),this.requestToProcess()),this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){i.messageSendingInterval=T.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(e){var t,s,r;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(e=0;e<s;e++)(r=t[e]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e,t){var s,r,i,n,a,o,d=encodeURIComponent;if(t===Object(t)&&(o=q.encodeAndBuildRequest(["",t.dpid||"",t.dpuuid||""],",")),(s=e.dests)&&s instanceof Array&&(r=s.length))for(i=0;i<r;i++)n=s[i],a=[d("dests"),d(n.id||""),d(n.y||""),d(n.c||"")],this.addMessage(a.join("|"));if((s=e.ibs)&&s instanceof Array&&(r=s.length))for(i=0;i<r;i++)n=s[i],a=[d("ibs"),d(n.id||""),d(n.tag||""),q.encodeAndBuildRequest(n.url||[],","),d(n.ttl||""),"",o,n.fireURLSync?"true":"false"],n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,a.join("|")));this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,s){var r,i,n=(s="syncOnPage"===s)?T.FIRST_PARTY_SYNCS_ON_PAGE:T.FIRST_PARTY_SYNCS,a=this.getOnPageSyncData(n),o=Math.ceil((new Date).getTime()/T.MILLIS_PER_DAY);a?(a=a.split("*"),r=(i=this.pruneSyncData(a,e.id,o)).dataPresent,i=i.dataValid,r&&i||this.fireSync(s,e,t,a,n,o)):this.fireSync(s,e,t,a=[],n,o)},getOnPageSyncData:function(e){var t=w.adms.instance;return t&&"function"==typeof t.idSyncGetOnPageSyncInfo?t.idSyncGetOnPageSyncInfo():q.getDilCookieField(e)},pruneSyncData:function(e,t,s){var r,i,n,a=!1,o=!1;if(e instanceof Array)for(i=0;i<e.length;i++)r=e[i],n=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(a=!0,s<n?o=!0:(e.splice(i,1),i--)):n<=s&&(e.splice(i,1),i--);return{dataPresent:a,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,s,r,i,n){var a,c=this;if(e){if("img"===t.tag)for(e=t.url,s=T.IS_HTTPS?"https:":"http:",r=0,a=e.length;r<a;r++){var o=e[r],d=/^\/\//.test(o),l=new Image;q.addListener(l,"load",function(n,a,o,d){return function(){c.onPagePixels[n]=null;var e=c.getOnPageSyncData(o),t=[];if(e)for(var s,r=0,i=(e=e.split("*")).length;r<i;r++)(s=e[r]).match("^"+a.id+"-")||t.push(s);c.setSyncTrackingData(t,a,o,d)}}(this.onPagePixels.length,t,i,n)),l.src=(d?s:"")+o,this.onPagePixels.push(l)}}else this.addMessage(s),this.setSyncTrackingData(r,t,i,n)},addMessage:function(e){var t=(t=encodeURIComponent)(i?"---destpub-debug---":"---destpub---");this.messages.push((T.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,s,r){e.push(t.id+"-"+(r+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),q.setDilCookieField(s,e.join("*"))},sendMessages:function(){var e,t=this;this.messages.length?T.POST_MESSAGE_ENABLED?(e=encodeURIComponent("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){DIL.xd.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))}},k={traits:function(e){return M.isValidPdata(e)&&(R.sids instanceof Array||(R.sids=[]),q.extendArray(R.sids,e)),this},pixels:function(e){return M.isValidPdata(e)&&(R.pdata instanceof Array||(R.pdata=[]),q.extendArray(R.pdata,e)),this},logs:function(e){return M.isValidLogdata(e)&&(R.logdata!==Object(R.logdata)&&(R.logdata={}),q.extendObject(R.logdata,e)),this},customQueryParams:function(e){return M.isEmptyObject(e)||q.extendObject(R,e,w.reservedKeys),this},signals:function(e,t){var s,r=e;if(!M.isEmptyObject(r)){if(t&&"string"==typeof t)for(s in r={},e)e.hasOwnProperty(s)&&(r[t+s]=e[s]);q.extendObject(R,r,w.reservedKeys)}return this},declaredId:function(e){return w.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(R.callback=e),this},afterResult:function(e){return"function"==typeof e&&(R.postCallbackFn=e),this},useImageRequest:function(){return R.useImageRequest=!0,this},clearData:function(){return R={},this},submit:function(){return j.submitRequest(R),R={},this},getPartner:function(){return g},getContainerNSID:function(){return m},getEventLog:function(){return O},getState:function(){var e={},t={};return q.extendObject(e,w,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0}),q.extendObject(t,A,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:s,pendingRequest:R,otherRequestInfo:e,destinationPublishingInfo:t}},idSync:function(e){if(f)return"Error: id syncs have been disabled";if(e!==Object(e)||"string"!=typeof e.dpid||!e.dpid.length)return"Error: config or config.dpid is empty";if("string"!=typeof e.url||!e.url.length)return"Error: config.url is empty";var t,s=e.url,r=e.minutesToLive,i=encodeURIComponent,n=A,s=s.replace(/^https:/,"").replace(/^http:/,"");if(void 0===r)r=20160;else if(r=parseInt(r,10),isNaN(r)||r<=0)return"Error: config.minutesToLive needs to be a positive number";return t=q.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),e=["ibs",i(e.dpid),"img",i(s),r,"",t],n.addMessage(e.join("|")),w.firstRequestHasFired&&n.requestToProcess(),"Successfully queued"},aamIdSync:function(e){return f?"Error: id syncs have been disabled":e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,this.idSync(e)):"Error: config or config.dpuuid is empty"},passData:function(e){return M.isEmptyObject(e)?"Error: json is empty or not an object":(A.ibsDeleted.push(e.ibs),delete e.ibs,j.defaultCallback(e),e)},getPlatformParams:function(){return w.platformParams},getEventCallConfigParams:function(){var e,t=w,s=t.modStatsParams,r=t.platformParams;if(!s){for(e in s={},r)r.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(s[e.replace(/^d_/,"")]=r[e]);t.modStatsParams=s}return s}},j={corsMetadata:(P="none",e=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest||new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?P="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(e=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(e=!1)),{corsType:P,corsCookiesEnabled:e}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return w.registerRequest(j.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,s,r,i,n,a=w,o=e.callback,d="img";if(!M.isEmptyObject(c))for(r in c)c.hasOwnProperty(r)&&(i=c[r],null!=i&&""!==i&&r in e&&!(i in e||i in w.reservedKeys)&&(n=e[r],null!=n&&""!==n&&(e[i]=n)));return M.isValidPdata(e.sids)||(e.sids=[]),M.isValidPdata(e.pdata)||(e.pdata=[]),M.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=q.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),a.useJSONP=!0!==e.useImageRequest,a.useJSONP&&(d="script",t=a.callbackPrefix+"_"+m+"_"+(new Date).getTime()),a=this.makeRequestSrcData(e,t),{tag:d=(!v||p)&&(s=this.getCORSInstance())?"cors":d,src:a.src,corsSrc:a.corsSrc,internalCallbackName:t,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:s,corsPostData:a.corsPostData}},defaultCallback:function(e,t){var s,r,i,n,a,o,d,c;if(A.processSyncOnPage(e),(s=e.stuff)&&s instanceof Array&&(r=s.length))for(i=0;i<r;i++)(c=s[i])&&c===Object(c)&&(n=c.cn,a=c.cv,void 0!==(o=c.ttl)&&""!==o||(o=Math.floor(q.getMaxCookieExpiresInMinutes()/60/24)),d=c.dmn||"."+document.domain.replace(/^www\./,""),c=c.type,n&&(a||"number"==typeof a)&&("var"!==c&&(o=parseInt(o,10))&&!isNaN(o)&&q.setCookie(n,a,1440*o,"/",d,!1),E.stuffed[n]=a));s=e.uuid,M.isPopulatedString(s)&&!M.isEmptyObject(h)&&("string"==typeof(r=h.path)&&r.length||(r="/"),i=parseInt(h.days,10),isNaN(i)&&(i=100),q.setCookie(h.name||"aam_did",s,1440*i,r,h.domain||"."+document.domain.replace(/^www\./,""),!0===h.secure)),u||w.abortRequests||A.requestToProcess(e,t)},makeRequestSrcData:function(e,t){e.sids=M.removeEmptyArrayValues(e.sids||[]),e.pdata=M.removeEmptyArrayValues(e.pdata||[]);var s=w,r=s.platformParams,i=q.encodeAndBuildRequest(e.sids,","),n=q.encodeAndBuildRequest(e.pdata,","),a=(e.logdataArray||[]).join("&");delete e.logdataArray;var o,d,c,l,u=T.IS_HTTPS?"https://":"http://",h=s.declaredId.getDeclaredIdQueryString(),f=s.adms.instance?s.adms.getCustomerIDsQueryString(s.adms.getCustomerIDs()):"",p=[];for(o in e)if(!(o in s.reservedKeys)&&e.hasOwnProperty(o))if(d=e[o],o=encodeURIComponent(o),d instanceof Array)for(c=0,l=d.length;c<l;c++)p.push(o+"="+encodeURIComponent(d[c]));else p.push(o+"="+encodeURIComponent(d));return p=p.length?"&"+p.join("&"):"",i="d_nsid="+r.d_nsid+h+f+(i.length?"&d_sid="+i:"")+(n.length?"&d_px="+n:"")+(a.length?"&d_ld="+encodeURIComponent(a):""),r="&d_rtbd="+r.d_rtbd+"&d_jsonv="+r.d_jsonv+"&d_dst="+r.d_dst,n=s=(u=u+g+".demdex.net/event")+"?"+i+(s.useJSONP?r+"&d_cb="+(t||""):"")+p,2048<s.length&&(s=s.substring(0,2048).substring(0,s.lastIndexOf("&"))),{corsSrc:u+"?"+(b?"testcors=1&d_nsid="+m+"&":"")+"_ts="+(new Date).getTime(),src:s,originalSrc:n,corsPostData:i+r+p,isDeclaredIdCall:""!==h}},fireRequest:function(e){var t;"img"===e.tag?this.fireImage(e):(t={dpid:(t=(t=w.declaredId).declaredId.request||t.declaredId.init||{}).dpid||"",dpuuid:t.dpuuid||""},"script"===e.tag?this.fireScript(e,t):"cors"===e.tag&&this.fireCORS(e,t))},fireImage:function(t){var e,s,r=w;r.abortRequests||(r.firing=!0,e=new Image(0,0),r.sent.push(t),e.onload=function(){r.firing=!1,r.fired.push(t),r.num_of_img_responses++,r.registerRequest()},s=function(e){l="imgAbortOrErrorHandler received the event of type "+e.type,O.push(l),r.abortRequests=!0,r.firing=!1,r.errored.push(t),r.num_of_img_errors++,r.registerRequest()},e.addEventListener?(e.addEventListener("error",s,!1),e.addEventListener("abort",s,!1)):e.attachEvent&&(e.attachEvent("onerror",s),e.attachEvent("onabort",s)),e.src=t.src)},fireScript:function(s,r){var e,i,t=this,n=w,a=s.src,o=s.postCallbackFn,d="function"==typeof o,c=s.internalCallbackName;n.abortRequests||(n.firing=!0,window[c]=function(e){try{e!==Object(e)&&(e={}),f&&(A.ibsDeleted.push(e.ibs),delete e.ibs);var t=s.callbackFn;n.firing=!1,n.fired.push(s),n.num_of_jsonp_responses++,t(e,r),d&&o(e,r)}catch(e){e.message="DIL jsonp callback caught error with message "+e.message,l=e.message,O.push(l),e.filename=e.filename||"dil.js",e.partner=g,DIL.errorModule.handleError(e);try{t({error:e.name+"|"+e.message},r),d&&o({error:e.name+"|"+e.message},r)}catch(e){}}finally{n.requestRemoval({script:i,callbackName:c}),n.registerRequest()}},y||p?(n.firing=!1,n.requestRemoval({script:"no script created",callbackName:c})):((i=document.createElement("script")).addEventListener&&i.addEventListener("error",function(e){n.requestRemoval({script:i,callbackName:c}),l="jsonp script tag error listener received the event of type "+e.type+" with src "+a,t.handleScriptError(l,s)},!1),i.type="text/javascript",i.src=a,(e=DIL.variables.scriptNodeList[0]).parentNode.insertBefore(i,e)),n.sent.push(s),n.declaredId.declaredId.request=null)},fireCORS:function(s,r){var i=this,n=w,e=this.corsMetadata.corsType,t=s.corsSrc,a=s.corsInstance,o=s.corsPostData,d=s.postCallbackFn,c="function"==typeof d;if(!n.abortRequests&&!D){n.firing=!0;try{a.open("post",t,!0),"XMLHttpRequest"===e&&(a.withCredentials=!0,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var e;try{if((e=JSON.parse(this.responseText))!==Object(e)){i.handleCORSError(s,r,"Response is not JSON");break e}}catch(e){i.handleCORSError(s,r,"Error parsing response as JSON");break e}f&&(A.ibsDeleted.push(e.ibs),delete e.ibs);try{var t=s.callbackFn;n.firing=!1,n.fired.push(s),n.num_of_cors_responses++,t(e,r),c&&d(e,r)}catch(e){e.message="DIL handleCORSResponse caught error with message "+e.message,l=e.message,O.push(l),e.filename=e.filename||"dil.js",e.partner=g,DIL.errorModule.handleError(e);try{t({error:e.name+"|"+e.message},r),c&&d({error:e.name+"|"+e.message},r)}catch(e){}}finally{n.registerRequest()}}}),a.onerror=function(){i.handleCORSError(s,r,"onerror")},a.ontimeout=function(){i.handleCORSError(s,r,"ontimeout")},a.send(o)}catch(e){this.handleCORSError(s,r,"try-catch")}n.sent.push(s),n.declaredId.declaredId.request=null}},handleCORSError:function(e,t,s){w.num_of_cors_errors++,w.corsErrorSources.push(s),"ontimeout"===s||p||(e.tag="script",this.fireScript(e,t))},handleScriptError:function(e,t){w.num_of_jsonp_errors++,this.handleRequestError(e,t)},handleRequestError:function(e,t){var s=w;O.push(e),s.abortRequests=!0,s.firing=!1,s.errored.push(t),s.registerRequest()}},M={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){for(var t,s=0,r=e.length,i=[],s=0;s<r;s++)null!=(t=e[s])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},q={addListener:document.addEventListener?function(e,t,s){e.addEventListener(t,function(e){"function"==typeof s&&s(e)},!1)}:document.attachEvent?function(e,t,s){e.attachEvent("on"+t,function(e){"function"==typeof s&&s(e)})}:void 0,convertObjectToKeyValuePairs:function(e,t,s){var r,i,n=[];for(r in t=t||"=",e)e.hasOwnProperty(r)&&(i=e[r],null!=i&&""!==i&&n.push(r+t+(s?encodeURIComponent(i):i)));return n},encodeAndBuildRequest:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},map:function(e,t){if(Array.prototype.map)return e.map(t);if(null==e)throw new TypeError;var s=Object(e),r=s.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=Array(r),n=0;n<r;n++)n in s&&(i[n]=t.call(t,s[n],n,s));return i},filter:function(e,t){if(Array.prototype.filter)return e.filter(t);if(null==e)throw new TypeError;var s=Object(e),r=s.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i,n=[],a=0;a<r;a++)a in s&&(i=s[a],t.call(t,i,a,s)&&n.push(i));return n},getCookie:function(e){e+="=";for(var t,s=document.cookie.split(";"),r=0,i=s.length;r<i;r++){for(t=s[r];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(e))return decodeURIComponent(t.substring(e.length,t.length))}return null},setCookie:function(e,t,s,r,i,n){var a=new Date;s&&(s*=6e4),document.cookie=e+"="+encodeURIComponent(t)+(s?";expires="+new Date(a.getTime()+s).toUTCString():"")+(r?";path="+r:"")+(i?";domain="+i:"")+(n?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,s){if(e!==Object(e)||t!==Object(t))return!1;for(var r in t)!t.hasOwnProperty(r)||!M.isEmptyObject(s)&&r in s||(e[r]=t[r]);return!0},getMaxCookieExpiresInMinutes:function(){return(new Date(T.COOKIE_MAX_EXPIRATION_DATE).getTime()-(new Date).getTime())/1e3/60},getCookieField:function(e,t){var s=this.getCookie(e),r=decodeURIComponent;if("string"==typeof s)for(var i=0,n=(s=s.split("|")).length-1;i<n;i++)if(r(s[i])===t)return r(s[i+1]);return null},getDilCookieField:function(e){return this.getCookieField(T.DIL_COOKIE_NAME,e)},setCookieField:function(e,t,s){var r=this.getCookie(e),i=!1;if(t=(n=encodeURIComponent)(t),s=n(s),"string"==typeof r){for(var n=0,a=(r=r.split("|")).length-1;n<a;n++)if(r[n]===t){r[n+1]=s,i=!0;break}i||(r[n=r.length]=t,r[n+1]=s)}else r=[t,s];this.setCookie(e,r.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},setDilCookieField:function(e,t){return this.setCookieField(T.DIL_COOKIE_NAME,e,t)},getDomain:function(e){if(e=!e&&window.location?window.location.hostname:e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),s=t.length-1,r=s-1;if(1<s&&t[s].length<=2&&(2===t[s-1].length||",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+t[s]+",")<0)&&r--,0<r)for(e="";r<=s;)e=t[s]+(e?".":"")+e,s--}return e}};"error"===g&&0===m&&q.addListener(window,"load",function(){DIL.windowLoaded=!0});function N(){x||(x=!0,w.registerRequest(),V(),u||w.abortRequests||A.attachIframe(),w.readyToRemove=!0,w.requestRemoval())}var x=!1,V=function(){u||setTimeout(function(){d||w.firstRequestHasFired||("function"==typeof I?k.afterResult(I):k).submit()},DIL.constants.TIME_TO_DEFAULT_REQUEST)},F=document;if("error"!==g&&(DIL.windowLoaded?N():"complete"!==F.readyState&&"loaded"!==F.readyState?q.addListener(window,"load",function(){DIL.windowLoaded=!0,N()}):(DIL.windowLoaded=!0,N())),"error"!==g)try{DIL.xd.receiveMessage(function(e){A.receiveMessage(e.data)},A.getIframeHost(A.url))}catch(e){}w.declaredId.setDeclaredId(t,"init"),w.processVisitorAPI(),this.api=k,this.getStuffedVariable=function(e){var t=E.stuffed[e];return t=!t&&"number"!=typeof t&&!(t=q.getCookie(e))&&"number"!=typeof t?"":t},this.validators=M,this.helpers=q,this.constants=T,this.log=O,C&&(this.pendingRequest=R,this.requestController=w,this.setDestinationPublishingUrl=L,this.destinationPublishing=A,this.requestProcs=j,this.variables=E,this.callWindowLoadFunctions=N)},function(){var e,t=document;null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",e=function(){t.removeEventListener("DOMContentLoaded",e,!1),t.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(e){if(e===Object(e))for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"6.10",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(e){this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,s){(t=t+"$"+s)in this.dils||(this.dils[t]=e)},getDil:function(e,t){var s;return(s=(e="string"!=typeof e?"":e)+"$"+(t=t||0))in this.dils?this.dils[s]:Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,s){return(t=this.getDil(t,s))instanceof this?t.getStuffedVariable(e):""},xd:{postMessage:function(e,t,s){t&&(window.postMessage?s.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(s.location=t.replace(/#.*$/,"")+"#"+ +new Date+"1&"+e))},receiveMessage:function(t,s){var e;try{window.postMessage&&(t&&(e=function(e){if("string"==typeof s&&e.origin!==s||"[object Function]"===Object.prototype.toString.call(s)&&!1===s(e.origin))return!1;t(e)}),window.addEventListener?window[t?"addEventListener":"removeEventListener"]("message",e,!1):window[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(e){}}}}),DIL.errorModule=function(){var r=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),i={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},n=!1;return{activate:function(){n=!0},handleError:function(e){if(!n)return"DIL error module has not been activated";var t=(e=e!==Object(e)?{}:e).name?(e.name+"").toLowerCase():"",s=[];return e={name:t,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""},s.push(t in i?i[t]:i.noerrortypedefined),r.api.pixels(s).logs(e).useImageRequest().submit(),"DIL error report sent"},pixelMap:i}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(e,t,s){var r="";return t=t||"Error caught in DIL module/submodule: ",e===Object(e)?r=t+(e.message||"err has no message"):(r=t+"err is not a valid object",e={}),e.message=r,s instanceof DIL&&(e.partner=s.api.getPartner()),DIL.errorModule.handleError(e),this.errorMessage=r}}}),DIL.tools.getSearchReferrer=function(e,t){var s,r=DIL.getDil("error"),i=DIL.tools.decomposeURI(e||document.referrer),n="",e={queryParam:"q"};return(n=r.helpers.filter([t===Object(t)?t:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(e){return!(!e.hasOwnProperty("hostPattern")||!i.hostname.match(e.hostPattern))}).shift())?{valid:!0,name:i.hostname,keywords:(r.helpers.extendObject(e,n),s=e.queryPattern?(n=(""+i.search).match(e.queryPattern))?n[1]:"":i.uriParams[e.queryParam],decodeURIComponent(s||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}},DIL.tools.decomposeURI=function(e){var t,s=DIL.getDil("error"),r=document.createElement("a");return r.href=e||document.referrer,{hash:r.hash,host:r.host.split(":").shift(),hostname:r.hostname,href:r.href,pathname:r.pathname.replace(/^\//,""),protocol:r.protocol,search:r.search,uriParams:(t={},r=r.search.replace(/^(\/|\?)?|\/$/g,""),s.helpers.map(r.split("&"),function(e){e=e.split("="),t[e.shift()]=e.shift()}),t)}},DIL.tools.getMetaTags=function(){for(var e,t,s,r={},i=document.getElementsByTagName("meta"),n=0,a=arguments.length;n<a;n++)if(null!==(t=arguments[n]))for(e=0;e<i.length;e++)if((s=i[e]).name===t){r[t]=s.content;break}return r},DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(e,t,s,r){try{function d(e){return i.message=e,DIL.errorModule.handleError(i),e}var c=this,i={name:"DIL Site Catalyst Module Error"};return(this.options=r===Object(r)?r:{},this.dil=null,t instanceof DIL)?(this.dil=t,i.partner=t.api.getPartner(),e!==Object(e)?d("siteCatalystReportingSuite is not an object"):(window.AppMeasurement_Module_DIL=e.m_DIL=function(e){var t="function"==typeof e.m_i?e.m_i("DIL"):this;if(t!==Object(t))return d("m is not an object");t.trackVars=c.constructTrackVars(s),t.d=0,t.s=e,t._t=function(){var e,t,s,r=","+this.trackVars+",",i=this.s,n=[],a={},o=!1;if(i!==Object(i))return d("Error in m._t function: s is not an object");if(this.d){if("function"==typeof i.foreachVar)i.foreachVar(function(e,t){void 0!==t&&(a[e]=t,o=!0)},this.trackVars);else{if(!(i.va_t instanceof Array))return d("Error in m._t function: s.va_t is not an array");if(i.lightProfileID?(e=i.lightTrackVars)&&(e=","+e+","+i.vl_mr+","):(i.pe||i.linkType)&&(e=i.linkTrackVars,i.pe&&(t=i.pe.substring(0,1).toUpperCase()+i.pe.substring(1),i[t]&&(e=i[t].trackVars)),e=e&&","+e+","+i.vl_l+","+i.vl_l2+","),e){for(t=0,s=e.split(",");t<s.length;t++)0<=r.indexOf(","+s[t]+",")&&n.push(s[t]);n.length&&(r=","+n.join(",")+",")}for(n=0,t=i.va_t.length;n<t;n++)e=i.va_t[n],0<=r.indexOf(","+e+",")&&void 0!==i[e]&&null!==i[e]&&""!==i[e]&&(a[e]=i[e],o=!0)}(o=c.includeContextData(i,a).store_populated?!0:o)&&this.d.api.signals(a,"c_").submit()}}},e.loadModule("DIL"),e.DIL.d=t,i.message||"DIL.modules.siteCatalyst.init() completed with no errors")):d("dilInstance is not a valid instance of DIL")}catch(e){return this.handle(e,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(e){var t,s,r,i,n,a=[];if(e===Object(e)){if((t=e.names)instanceof Array&&(r=t.length))for(s=0;s<r;s++)"string"==typeof(i=t[s])&&i.length&&a.push(i);if((e=e.iteratedNames)instanceof Array&&(r=e.length))for(s=0;s<r;s++)if((t=e[s])===Object(t)&&(i=t.name,n=parseInt(t.maxIndex,10),"string"==typeof i&&i.length&&!isNaN(n)&&0<=n))for(t=0;t<=n;t++)a.push(i+t);if(a.length)return a.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(e,t){var s={},r=!1;if(e.contextData===Object(e.contextData)){var i,n,a,o,d=e.contextData,c=this.options.replaceContextDataPeriodsWith,l=this.options.filterFromContextVariables,u={};if("string"==typeof c&&c.length||(c="_"),l instanceof Array)for(i=0,n=l.length;i<n;i++)a=l[i],this.dil.validators.isPopulatedString(a)&&(u[a]=!0);for(o in d)!d.hasOwnProperty(o)||u[o]||!(l=d[o])&&"number"!=typeof l||(o=("contextData."+o).replace(/\./g,c),t[o]=l,r=!0)}return s.store_populated=r,s}},DIL.modules.GA={submitUniversalAnalytics:function(e,t,s){try{var r,i,n,a,o=e.getAll()[0],d=o[s||"b"].data.keys;for(e={},r=0,i=d.length;r<i;r++)n=d[r],void 0===(a=o.get(n))||"function"==typeof a||a===Object(a)||/^_/.test(n)||/^&/.test(n)||(e[n]=a);return t.api.signals(e,"c_").submit(),e}catch(e){return"Caught error with message: "+e.message}},dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(e,t,s){try{this.tv=this.arr=this.dil=null,this.errorMessage="",this.signals={},this.hasSignals=!1;var r={name:"DIL GA Module Error"},i="";t instanceof DIL?(this.dil=t,r.partner=this.dil.api.getPartner()):(i="dilInstance is not a valid instance of DIL",r.message=i,DIL.errorModule.handleError(r)),e instanceof Array&&e.length?this.arr=e:(i="gaArray is not an array or is empty",r.message=i,DIL.errorModule.handleError(r)),this.tv=this.constructTrackVars(s),this.errorMessage=i}catch(e){this.handle(e,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(e){var t,s,r,i,n=[];if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){for(i={},t=0,s=(r=this.defaultTrackVars).length;t<s;t++)i[r[t]]=!0;this.defaultTrackVarsObj=i}else i=this.defaultTrackVarsObj;if(e===Object(e)){if((e=e.names)instanceof Array&&(s=e.length))for(t=0;t<s;t++)"string"==typeof(r=e[t])&&r.length&&r in i&&n.push(r);if(n.length)return n}return this.defaultTrackVars},constructGAObj:function(e){for(var t,s,r={},i=0,n=(e=e instanceof Array?e:this.arr).length;i<n;i++)(t=e[i])instanceof Array&&t.length&&(s=e[i],(t=[])instanceof Array&&s instanceof Array&&Array.prototype.push.apply(t,s),"string"==typeof(s=t.shift())&&s.length&&(r[s]instanceof Array||(r[s]=[]),r[s].push(t)));return r},addToSignals:function(e,t){return"string"==typeof e&&""!==e&&null!=t&&""!==t&&(this.signals[e]instanceof Array||(this.signals[e]=[]),this.signals[e].push(t),this.hasSignals=!0)},constructSignals:function(){for(var e,t,s,r,i=this.constructGAObj(),n={_setAccount:function(e){this.addToSignals("c_accountId",e)},_setCustomVar:function(e,t,s){"string"==typeof t&&t.length&&this.addToSignals("c_"+t,s)},_addItem:function(e,t,s,r,i,n){this.addToSignals("c_itemOrderId",e),this.addToSignals("c_itemSku",t),this.addToSignals("c_itemName",s),this.addToSignals("c_itemCategory",r),this.addToSignals("c_itemPrice",i),this.addToSignals("c_itemQuantity",n)},_addTrans:function(e,t,s,r,i,n,a,o){this.addToSignals("c_transOrderId",e),this.addToSignals("c_transAffiliation",t),this.addToSignals("c_transTotal",s),this.addToSignals("c_transTax",r),this.addToSignals("c_transShipping",i),this.addToSignals("c_transCity",n),this.addToSignals("c_transState",a),this.addToSignals("c_transCountry",o)},_trackSocial:function(e,t,s,r){this.addToSignals("c_socialNetwork",e),this.addToSignals("c_socialAction",t),this.addToSignals("c_socialTarget",s),this.addToSignals("c_socialPagePath",r)}},a=this.tv,o=0,d=a.length;o<d;o++)if(e=a[o],i.hasOwnProperty(e)&&n.hasOwnProperty(e)&&(r=i[e])instanceof Array)for(t=0,s=r.length;t<s;t++)n[e].apply(this,r[t])},submit:function(){try{return""!==this.errorMessage?this.errorMessage:(this.constructSignals(),this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present")}catch(e){return this.handle(e,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(e,t,s){try{this.callback=this.dil=null,this.errorMessage="",e instanceof DIL?(this.dil=e,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(t)?t:"aam_ga",this.delimiter=this.v(s)?s:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(e){this.handle(e,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(e){var t,s,r,i,n,a=!1,o=1;if(e===Object(e)&&(t=e.stuff)&&t instanceof Array&&(s=t.length))for(e=0;e<s;e++)if((r=t[e])&&r===Object(r)&&(i=r.cn,n=r.cv,i===this.cookieName&&this.v(n))){a=!0;break}if(a){for(t=n.split(this.delimiter),void 0===window._gaq&&(window._gaq=[]),r=window._gaq,e=0,s=t.length;e<s&&(n=(a=t[e].split("="))[0],a=a[1],this.v(n)&&this.v(a)&&r.push(["_setCustomVar",o++,n,a,1]),!(o>this.LIMIT));e++);this.errorMessage=1<o?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"==typeof this.callback)return this.callback()},submit:function(){try{var t=this;return""!==this.errorMessage?this.errorMessage:(this.dil.api.afterResult(function(e){t.process(e)}).submit(),"DIL.modules.GA.Stuffer.submit() successful")}catch(e){return this.handle(e,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}},DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(e,t,s){try{this.dil=null,this.errorMessage="",this.calledBack=!1,this.optionals=s===Object(s)?s:{},s={name:"DIL Peer39 Module Error"};var r=[],i="";this.isSecurePageButNotEnabled(document.location.protocol)&&(i="Module has not been enabled for a secure page",r.push(i),s.message=i,DIL.errorModule.handleError(s)),t instanceof DIL?(this.dil=t,s.partner=this.dil.api.getPartner()):(i="dilInstance is not a valid instance of DIL",r.push(i),s.message=i,DIL.errorModule.handleError(s)),"string"==typeof e&&e.length?this.aid=e:(i="aid is not a string or is empty",r.push(i),s.message=i,DIL.errorModule.handleError(s)),this.errorMessage=r.join("\n")}catch(e){this.handle(e,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(e){return"https:"===e&&!0!==this.optionals.enableHTTPS},constructSignals:function(){var t=this,e=this.constructScript(),s=DIL.variables.scriptNodeList[0];return window["afterFinished_"+this.aid]=function(){try{var e=t.processData(p39_KVP_Short("c_p","|").split("|"));e.hasSignals&&t.dil.api.signals(e.signals).submit()}catch(e){}finally{t.calledBack=!0,"function"==typeof t.optionals.afterResult&&t.optionals.afterResult()}},s.parentNode.insertBefore(e,s),this.scriptsSent.push(e),"Request sent to Peer39"},processData:function(e){var t,s,r,i,n={},a=!1;if(this.returnedData.push(e),e instanceof Array)for(t=0,s=e.length;t<s;t++)i=(r=e[t].split("="))[0],r=r[1],i&&isFinite(r)&&!isNaN(parseInt(r,10))&&(n[i]instanceof Array||(n[i]=[]),n[i].push(r),a=!0);return{hasSignals:a,signals:n}},constructScript:function(){var e=document.createElement("script"),t=(r=this.optionals).scriptId,s=r.scriptSrc,r=r.scriptParams;return e.id="string"==typeof t&&t.length?t:"peer39ScriptLoader",e.type="text/javascript","string"==typeof s&&s.length?e.src=s:(e.src=document.location.protocol+"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"==typeof r&&r.length&&(e.src+="?"+r)),e},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(e){return this.handle(e,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};var msobject,mscomDil=DIL.create({partner:"mscom",containerNSID:0,secureDataCollection:!1,disableDefaultRequest:!0,visitorService:{namespace:"EA76ADE95776D2EC7F000101@AdobeOrg"}}),meta=document.getElementsByTagName("meta");for(index=0;index<meta.length;++index)meta[index].name&&(met_name=meta[index].name,met_value=meta[index].content,-1<met_name.indexOf("ms.")&&(msobject=new Object,met_name="c_"+met_name,msobject[met_name]=met_value,mscomDil.api.signals(msobject,"")));mscomDil.api.submit();

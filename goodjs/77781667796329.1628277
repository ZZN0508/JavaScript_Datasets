!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/router"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@enterprise/shared/core",["exports","@angular/core","@angular/common","@angular/router","@angular/common/http","rxjs","rxjs/operators","@angular/platform-browser"],t):t(((e=e||self).enterprise=e.enterprise||{},e.enterprise.shared=e.enterprise.shared||{},e.enterprise.shared.core={}),e.ng.core,e.ng.common,e.ng.router,e.ng.common.http,e.rxjs,e.rxjs.operators,e.ng.platformBrowser)}(this,function(r,i,c,o,a,s,p,l){"use strict";function u(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(u(e[i],t,n).source);return new RegExp("(?:"+r.join("|")+")",y(n))}(e,t,n):(t=t,w(d(e,n=n),t,n))}var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},e=d,t=g,h=w,m=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(e,t){for(var n=[],r=0,i=0,o="",a=t&&t.delimiter||"/",s=t&&t.delimiters||"./",c=!1;null!==(u=m.exec(e));){var p,l,u,f,h=u[0],d=u[1],g=u.index;o+=e.slice(i,g),i=g+h.length,d?(o+=d[1],c=!0):(p="",l=e[i],f=u[2],g=u[3],h=u[4],d=u[5],!c&&o.length&&(u=o.length-1,-1<s.indexOf(o[u])&&(p=o[u],o=o.slice(0,u))),o&&(n.push(o),o="",c=!1),n.push({name:f||r++,prefix:p,delimiter:f=p||a,optional:"?"===d||"*"===d,repeat:"+"===d||"*"===d,partial:""!==p&&void 0!==l&&l!==p,pattern:(h=g||h)?h.replace(/([=!:$/()])/g,"\\$1"):"[^"+v(f)+"]+?"}))}return(o||i<e.length)&&n.push(o+e.substr(i)),n}function g(p){for(var l=new Array(p.length),e=0;e<p.length;e++)"object"==typeof p[e]&&(l[e]=new RegExp("^(?:"+p[e].pattern+")$"));return function(e,t){for(var n="",r=t&&t.encode||encodeURIComponent,i=0;i<p.length;i++){var o=p[i];if("string"!=typeof o){var a,s=e?e[o.name]:void 0;if(Array.isArray(s)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===s.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var c=0;c<s.length;c++){if(a=r(s[c],o),!l[i].test(a))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');n+=(0===c?o.prefix:o.delimiter)+a}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"));o.partial&&(n+=o.prefix)}else{if(a=r(String(s),o),!l[i].test(a))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+a+'"');n+=o.prefix+a}}else n+=o}return n}}function v(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function y(e){return e&&e.sensitive?"":"i"}function w(e,t,n){for(var r=(n=n||{}).strict,i=!1!==n.start,o=!1!==n.end,a=v(n.delimiter||"/"),s=n.delimiters||"./",c=[].concat(n.endsWith||[]).map(v).concat("$").join("|"),p=i?"^":"",l=0===e.length,u=0;u<e.length;u++){var f,h=e[u];"string"==typeof h?(p+=v(h),l=u===e.length-1&&-1<s.indexOf(h[h.length-1])):(f=h.repeat?"(?:"+h.pattern+")(?:"+v(h.delimiter)+"(?:"+h.pattern+"))*":h.pattern,t&&t.push(h),p+=h.optional?h.partial?v(h.prefix)+"("+f+")?":"(?:"+v(h.prefix)+"("+f+"))?":v(h.prefix)+"("+f+")")}return o?(r||(p+="(?:"+a+")?"),p+="$"===c?"$":"(?="+c+")"):(r||(p+="(?:"+a+"(?="+c+"))?"),l||(p+="(?="+a+"|"+c+")")),new RegExp(p,y(n))}u.parse=e,u.compile=function(e,t){return g(d(e,t))},u.tokensToFunction=t,u.tokensToRegExp=h;var C=/~/,b=/~[01]/g;function S(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function I(e){return C.test(e)?e.replace(b,S):e}function P(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function j(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var n=(t=P(t)).length;if(1===n)return e;for(var r=1;r<n;){if(e=e[I(t[r++])],n===r)return e;if("object"!=typeof e)return}}function x(e,t,n){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=P(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){for(var r,i,o=1,a=t.length;o<a&&(r=I(t[o++]),i=o<a,void 0===e[r]&&(Array.isArray(e)&&"-"===r&&(r=e.length),i&&(e[r]=""!==t[o]&&t[o]<1/0||"-"===t[o]?[]:{})),i);)e=e[r];var s=e[r];return void 0===n?delete e[r]:e[r]=n,s}(e,t,n)}var A={get:j,set:x,compile:function(e){var n=P(e);return{get:function(e){return j(e,n)},set:function(e,t){return x(e,n,t)}}}};function E(e,t){1&e&&i.ÉµÉµelement(0,"bre-cms-component",3),2&e&&(e=i.ÉµÉµnextContext().$implicit,i.ÉµÉµproperty("configuration",e))}function M(e,t){1&e&&i.ÉµÉµelement(0,"bre-container",3),2&e&&(e=i.ÉµÉµnextContext().$implicit,i.ÉµÉµproperty("configuration",e))}function T(e,t){1&e&&(i.ÉµÉµelementContainerStart(0,1),i.ÉµÉµtemplate(1,E,1,1,"bre-cms-component",2),i.ÉµÉµtemplate(2,M,1,1,"bre-container",2),i.ÉµÉµelementContainerEnd()),2&e&&(i.ÉµÉµproperty("ngSwitch",t.$implicit.type),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngSwitchCase","COMPONENT"),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngSwitchCase","CONTAINER_COMPONENT"))}function k(e,t){1&e&&i.ÉµÉµelement(0,"bre-base-component",3),2&e&&i.ÉµÉµproperty("configuration",t.$implicit)}function R(e,t){1&e&&(i.ÉµÉµelementContainerStart(0),i.ÉµÉµtemplate(1,k,1,1,"bre-base-component",2),i.ÉµÉµelementContainerEnd()),2&e&&(e=i.ÉµÉµnextContext(),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngForOf",null==e.configuration?null:e.configuration.components))}function O(e,t){1&e&&(i.ÉµÉµelementStart(0,"div",6),i.ÉµÉµelement(1,"bre-base-component",3),i.ÉµÉµelementEnd()),2&e&&(t=t.$implicit,i.ÉµÉµadvance(1),i.ÉµÉµproperty("configuration",t))}function _(e,t){1&e&&(i.ÉµÉµelementStart(0,"div",4),i.ÉµÉµtemplate(1,O,2,1,"div",5),i.ÉµÉµelementEnd()),2&e&&(e=i.ÉµÉµnextContext(),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngForOf",null==e.configuration?null:e.configuration.components))}function L(e,t){}var D=["buttonElm"];function U(e,t){1&e&&i.ÉµÉµelement(0,"bre-base-component",2),2&e&&(e=i.ÉµÉµnextContext(),i.ÉµÉµproperty("configuration",e.configuration)("renderComponent",e.renderComponent))}function N(e,t){1&e&&i.ÉµÉµelement(0,"bre-container",6),2&e&&(e=i.ÉµÉµnextContext(2),i.ÉµÉµproperty("configuration",e.configuration))}function F(e,t){1&e&&i.ÉµÉµelement(0,"bre-base-component",6),2&e&&(e=i.ÉµÉµnextContext(2),i.ÉµÉµproperty("configuration",e.configuration))}function q(e,t){1&e&&i.ÉµÉµelement(0,"bre-cms-component",6),2&e&&(e=i.ÉµÉµnextContext(2),i.ÉµÉµproperty("configuration",e.configuration))}function G(e,t){1&e&&(i.ÉµÉµelementContainerStart(0,3),i.ÉµÉµtemplate(1,N,1,1,"bre-container",4),i.ÉµÉµtemplate(2,F,1,1,"bre-base-component",4),i.ÉµÉµtemplate(3,q,1,1,"bre-cms-component",5),i.ÉµÉµelementContainerEnd()),2&e&&(e=i.ÉµÉµnextContext(),i.ÉµÉµproperty("ngSwitch",null==e.configuration?null:e.configuration.type),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngSwitchCase","CONTAINER_COMPONENT"),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngSwitchCase","CONTAINER_ITEM_COMPONENT"))}function B(e){return e.scheme+"://"+e.hostname+":"+e.port}function z(e,t,n){this.path=e,this.preview=t,this.query=n}var V,$,H=(Z.prototype.getApiUrls=function(){return this.apiUrls},Z.prototype.setApiUrls=function(e){var t;this.apiUrls=(t=this.apiUrls,(e=e=void 0===e?{}:e)&&e.preview&&(t.preview=f({},t.preview,e.preview)),e&&e.live&&(t.live=f({},t.live,e.live)),t.preview.baseUrl=B(t.preview),t.live.baseUrl=B(t.live),t),this.compilePathRegExp(this.apiUrls)},Z.prototype.compilePathRegExp=function(e){var t;this.compiledPathRegexp={regexpKeys:t=[],regexp:u((""!==e.live.contextPath?"/:contextPath("+e.live.contextPath+")?":"")+"/:previewPrefix("+e.live.previewPrefix+")?"+(""!==e.live.channelPath?"/:channelPath("+e.live.channelPath+")?":"")+"/:pathInfo*",t)}},Z.prototype.getCompiledPathRegexp=function(){return this.compiledPathRegexp},Z),K=(n($=J,bt=V=H),$.prototype=null===bt?Object.create(bt):(Y.prototype=bt.prototype,new Y),J.ctorParameters=function(){return[]},J.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new J},token:J,providedIn:"root"}),J.Éµfac=function(e){return new(e||J)},J.Éµprov=i.ÉµÉµdefineInjectable({token:J,factory:function(e){return J.Éµfac(e)},providedIn:"root"}),J),W=(Q.prototype.getComponentMappings=function(){return this.componentMappings},Q.prototype.setComponentMappings=function(e){this.componentMappings=e},Q.ctorParameters=function(){return[]},Q.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new Q},token:Q,providedIn:"root"}),Q.Éµfac=function(e){return new(e||Q)},Q.Éµprov=i.ÉµÉµdefineInjectable({token:Q,factory:function(e){return Q.Éµfac(e)},providedIn:"root"}),Q);function Q(){this.componentMappings={}}function J(){return V.call(this)||this}function Y(){this.constructor=$}function Z(){var e;this.apiUrls=((e={live:{scheme:"http",hostname:"localhost",port:8080,baseUrl:"http://localhost:8080",contextPath:"site",channelPath:"",previewPrefix:"_cmsinternal",apiPath:"resourceapi",apiComponentRenderingUrlSuffix:"_hn:type=component-rendering&_hn:ref="}}).preview=Object.assign({},e.live),e)}var X=new i.InjectionToken("request"),ee=(te.prototype.getDebugging=function(){return this.debugging},te.prototype.setDebugging=function(e){this.debugging=e},te.prototype.isPreviewRequest=function(){return this.requestContext.preview},te.prototype.getPath=function(){return this.requestContext.path},te.prototype.getQuery=function(){return this.requestContext.query},te.prototype.parseUrlPath=function(e){var t,n,r="";c.isPlatformBrowser(this.platformId)&&(r=void 0===(t=(window&&window.location||{}).hostname)?"":t),(c.isPlatformWorkerApp(this.platformId)||c.isPlatformWorkerUi(this.platformId))&&(r=void 0===(n=(self&&self.location||{}).hostname)?"":n),c.isPlatformServer(this.platformId)&&(r=void 0===(n=(this.request||{}).hostname)?"":n),this.parseRequest({hostname:r,path:e})},te.prototype.parseRequest=function(e){var t,n,r,i,o,a=this.apiUrlsService.getApiUrls(),s=this.apiUrlsService.getCompiledPathRegexp();this.requestContext=(t=e,n=s,r=a,i=this.debugging,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t.path.split("?",2),2),e=o[1],s=void 0===e?"":e,a=n.regexp.exec(o[0]),e=function(e,t){if(e){t=t.findIndex(function(e){return"pathInfo"===e.name});return void 0!==e[t+1]?e[t+1]:""}return""}(a,n.regexpKeys),o=t,r=r,a=a,n=n.regexpKeys,r=function(e){var t=e.indexOf("?");if(-1!==t){t=e.substring(t);if(-1!==t.indexOf("?bloomreach-preview=true")||-1!==t.indexOf("&bloomreach-preview=true"))return!0}return!1}(o.path)||void 0!==a[n.findIndex(function(e){return"previewPrefix"===e.name})+1]||o.hostname&&(o=o.hostname.split(":",1)[0],r.live.hostname!==r.preview.hostname&&o===r.preview.hostname),i&&(console.log("### SDK debugging ### parsing URL-path '%s'",t.path),console.log("### SDK debugging ### parsed path is '%s'",e),console.log("### SDK debugging ### preview mode is %s",r)),new z(e,r,s))},te.ctorParameters=function(){return[{type:K},{type:void 0,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[X]}]}]},te.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new te(i.ÉµÉµinject(K),i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(X,8))},token:te,providedIn:"root"}),te.Éµfac=function(e){return new(e||te)(i.ÉµÉµinject(K),i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(X,8))},te.Éµprov=i.ÉµÉµdefineInjectable({token:te,factory:function(e){return te.Éµfac(e)},providedIn:"root"}),te);function te(e,t,n){this.apiUrlsService=e,this.platformId=t,this.request=n,this.debugging=!1}function ne(e,t){return t.reduce(function(e,t){return e&&"undefined"!==e[t]?e[t]:null},e)}function re(e,t,n,r){if(e&&n&&!e.classList.contains(r))try{e.insertAdjacentHTML(t,""+n),e.classList.add(r)}catch(e){console.log("Error creating HTML comment: "+e+", for data: "+n)}}function ie(e){e&&console.log("### SDK debugging ### creating CMS overlay")}var oe=(me.prototype.fetchPageModel=function(){var t=this,e=this.buildApiUrl();return this.http.get(e,this.httpGetOptions).pipe(p.tap(function(e){t.setPageModel(e)}),p.catchError(this.handleError("fetchPageModel",void 0)))},me.prototype.processPageModel=function(){var e,t,n,r,i;this.pageModel&&(e=this.requestContextService.isPreviewRequest(),i=this.requestContextService.getDebugging(),t=this.pageModel.page,n=this.channelManagerApi,r=e,i=i,function(e){if(r&&ne(e,["_meta","endNodeSpan",0])){var t=document.getElementById("hst-page-meta-data");t?t.innerHTML="":((t=document.createElement("div")).id="hst-page-meta-data",t.style.display="none;",document.body.appendChild(t));for(var n=0;n<e._meta.endNodeSpan.length;n++)t.insertAdjacentHTML("beforeend",e._meta.endNodeSpan[n].data)}}(t),n&&(n.createOverlay(),ie(i)))},me.prototype.getPageModel=function(){return this.pageModel},me.prototype.setPageModel=function(e){return this.pageModel=e,this.pageModelSubject.next(e),this.pageModelSubject.asObservable()},me.prototype.getPageModelSubject=function(){return this.pageModelSubject},me.prototype.setChannelManagerApi=function(e){this.channelManagerApi=e},me.prototype.updateComponent=function(r,e){var i=this,t=this.requestContextService.getDebugging();o=e,t&&(console.log("### SDK debugging ### component update triggered for '%s' with properties:",r),console.dir(o));var n,o=(n=e,Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")),e=this.buildApiUrl(r);return this.http.post(e,o,this.httpPostOptions).pipe(p.tap(function(e){var t,n;i.requestContextService.isPreviewRequest(),i.setPageModel((t=e,n=i.pageModel,void 0!==(e=function e(t,n,r,i){var o,a;for(a in t)if(t.hasOwnProperty(a))if("object"==typeof t[a]){if(void 0!==(o=e(t[a],n,t,a)))return o}else if("id"===a&&t.id===n)return{parent:r,idx:i}}(n,r,null,null))&&(t.page&&(e.parent[e.idx]=t.page),t.content&&(n.content||(n.content={}),Object.assign(n.content,t.content))),n))}),p.catchError(this.handleError("updateComponent",void 0)))},me.prototype.getContentViaReference=function(e){return t=this.pageModel,e?A.get(t,e):null;var t},me.prototype.buildApiUrl=function(e){return t=this.apiUrlsService.getApiUrls(),n=this.requestContextService.isPreviewRequest(),r=this.requestContextService.getPath(),i=this.requestContextService.getQuery(),o=n?t.preview:t.live,a=o.baseUrl,""!==o.contextPath&&(a+="/"+o.contextPath),n&&""!==o.previewPrefix&&(a+="/"+o.previewPrefix),""!==o.channelPath&&(a+="/"+o.channelPath),a+="/"+o.apiPath,r&&(a+="/"+r),e&&(o=e,r=t,a=-1!==(t=a).indexOf("?")?t+"&"+r.preview.apiComponentRenderingUrlSuffix+o:t+"?"+r.preview.apiComponentRenderingUrlSuffix+o),i&&(a+=(a.includes("?")?"&":"?")+i),a;var t,n,r,i,o,a},me.prototype.handleError=function(t,n){return void 0===t&&(t="operation"),function(e){return console.log(t+" failed: "+e.message),console.log(e),s.of(n)}},me.ctorParameters=function(){return[{type:K},{type:ee},{type:a.HttpClient}]},me.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new me(i.ÉµÉµinject(K),i.ÉµÉµinject(ee),i.ÉµÉµinject(a.HttpClient))},token:me,providedIn:"root"}),me.Éµfac=function(e){return new(e||me)(i.ÉµÉµinject(K),i.ÉµÉµinject(ee),i.ÉµÉµinject(a.HttpClient))},me.Éµprov=i.ÉµÉµdefineInjectable({token:me,factory:function(e){return me.Éµfac(e)},providedIn:"root"}),me),ae=(ge.prototype.getImageUrl=function(e,t){void 0===t&&(t=null);var n,r,i=this.pageModelService.getPageModel(),o=this.apiUrlsService.getApiUrls();return n=e,e=t,t=i,i=this.requestContextService.isPreviewRequest(),o=o,ne(n=(n=(n=n.$ref||void 0)?A.get(t,n):void 0)&&e&&n[e]?n[e]:n,["_links","site","href"])&&((r=n._links.site.href).match("^https?://")||(r=(i?o.preview:o.live).baseUrl+n._links.site.href)),r},ge.prototype.getImageUrlByPath=function(e,t){return function(e,t,n,r){n=n?r.preview:r.live,r=n.baseUrl;return n.contextPath&&(r+="/"+n.contextPath),r+="/binaries",t&&(r+="/"+t),r+e}(e,t,this.requestContextService.isPreviewRequest(),this.apiUrlsService.getApiUrls())},ge.ctorParameters=function(){return[{type:K},{type:ee},{type:oe}]},ge.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new ge(i.ÉµÉµinject(K),i.ÉµÉµinject(ee),i.ÉµÉµinject(oe))},token:ge,providedIn:"root"}),ge.Éµfac=function(e){return new(e||ge)(i.ÉµÉµinject(K),i.ÉµÉµinject(ee),i.ÉµÉµinject(oe))},ge.Éµprov=i.ÉµÉµdefineInjectable({token:ge,factory:function(e){return ge.Éµfac(e)},providedIn:"root"}),ge),se=(de.propDecorators={configuration:[{type:i.Input}]},de.Éµfac=function(e){return new(e||de)},de.Éµcmp=i.ÉµÉµdefineComponent({type:de,selectors:[["bre-cms-component"]],inputs:{configuration:"configuration"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"configuration",4,"ngSwitchCase"],[3,"configuration"]],template:function(e,t){1&e&&i.ÉµÉµtemplate(0,T,3,3,"ng-container",0),2&e&&i.ÉµÉµproperty("ngForOf",null==t.configuration?null:t.configuration.components)},directives:function(){return[c.NgForOf,c.NgSwitch,c.NgSwitchCase,de,ce]},styles:[""]}),de),ce=(he.prototype.ngOnInit=function(){this.preview=this.requestContextService.isPreviewRequest(),this.addCmsMetaData(this.preview)},he.prototype.addCmsMetaData=function(e){var t,n;t=this.elementRef.nativeElement,n=this.configuration,e&&(re(t,"afterbegin",ne(n,["_meta","beginNodeSpan",0,"data"]),"cms-begin-comment-added"),re(t,"beforeend",ne(n,["_meta","endNodeSpan",0,"data"]),"cms-end-comment-added"))},he.ctorParameters=function(){return[{type:i.ElementRef},{type:ee}]},he.propDecorators={configuration:[{type:i.Input}]},he.Éµfac=function(e){return new(e||he)(i.ÉµÉµdirectiveInject(i.ElementRef),i.ÉµÉµdirectiveInject(ee))},he.Éµcmp=i.ÉµÉµdefineComponent({type:he,selectors:[["bre-container"]],inputs:{configuration:"configuration"},decls:2,vars:2,consts:[[4,"ngIf"],["class","hst-container",4,"ngIf"],[3,"configuration",4,"ngFor","ngForOf"],[3,"configuration"],[1,"hst-container"],["class","hst-container-item",4,"ngFor","ngForOf"],[1,"hst-container-item"]],template:function(e,t){1&e&&(i.ÉµÉµtemplate(0,R,2,1,"ng-container",0),i.ÉµÉµtemplate(1,_,2,1,"div",1)),2&e&&(i.ÉµÉµproperty("ngIf",!t.preview),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngIf",t.preview))},directives:function(){return[c.NgIf,c.NgForOf,we]},styles:[""]}),he),pe=(fe.ctorParameters=function(){return[{type:i.ViewContainerRef}]},fe.Éµfac=function(e){return new(e||fe)(i.ÉµÉµdirectiveInject(i.ViewContainerRef))},fe.Éµdir=i.ÉµÉµdefineDirective({type:fe,selectors:[["","base-component",""]]}),fe),le=(ue.propDecorators={configuration:[{type:i.Input}],content:[{type:i.Input}]},ue.Éµfac=function(e){return new(e||ue)},ue.Éµcmp=i.ÉµÉµdefineComponent({type:ue,selectors:[["bre-undefined"]],inputs:{configuration:"configuration",content:"content"},decls:4,vars:1,template:function(e,t){1&e&&(i.ÉµÉµelementStart(0,"p"),i.ÉµÉµtext(1),i.ÉµÉµelementStart(2,"strong"),i.ÉµÉµtext(3,"not defined"),i.ÉµÉµelementEnd(),i.ÉµÉµelementEnd()),2&e&&(i.ÉµÉµadvance(1),i.ÉµÉµtextInterpolate1(" Component ",null==t.configuration?null:t.configuration.label," "))},styles:[""]}),ue);function ue(){}function fe(e){this.viewContainerRef=e}function he(e,t){this.elementRef=e,this.requestContextService=t,this.preview=!1}function de(){}function ge(e,t,n){this.apiUrlsService=e,this.requestContextService=t,this.pageModelService=n}function me(e,t,n){var r=this;this.apiUrlsService=e,this.requestContextService=t,this.http=n,this.pageModelSubject=new s.BehaviorSubject(this.pageModel),this.httpGetOptions={withCredentials:!0},this.httpPostOptions={withCredentials:!0,headers:new a.HttpHeaders({"Content-Type":"application/x-www-form-urlencoded"})},this.pageModelSubject.subscribe(function(){return r.processPageModel()})}function ve(r,e){return e&&e.page?r?function(e){for(var t=r.split("/"),n=e.page;n&&n.components&&0<n.components.length;)if((n=function(e,t){var n,r;try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}}}(Object.keys(t.components)),o=i.next();!o.done;o=i.next()){var a=t.components[o.value];if(e===a.name||"*"===e)return a}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}(t.shift(),n))&&0===t.length)return n;return null}(e):e.page:null}function ye(e,t,n){return t||(e&&e.label?(e=e.label)in(n=n)?n[e]:null:null)}var we=(ke.prototype.ngOnChanges=function(e){e.configuration.currentValue&&!e.configuration.previousValue&&this.createComponent()},ke.prototype.createComponent=function(){var e=this.componentMappingsService.getComponentMappings(),e=(e=ye(this.configuration,this.renderComponent,e))||le;this.addCmsMetaData();e=this.componentFactoryResolver.resolveComponentFactory(e);this.baseComponent.viewContainerRef.createComponent(e).instance.configuration=this.configuration},ke.prototype.addCmsMetaData=function(){var e=this.requestContextService.isPreviewRequest(),t=this.elementRef.nativeElement,n=this.configuration;e&&(re(t,"beforebegin",ne(n,["_meta","beginNodeSpan",0,"data"]),"cms-begin-comment-added"),re(t,"afterend",ne(n,["_meta","endNodeSpan",0,"data"]),"cms-end-comment-added"))},ke.ctorParameters=function(){return[{type:i.ComponentFactoryResolver},{type:W},{type:i.ElementRef},{type:ee}]},ke.propDecorators={configuration:[{type:i.Input}],renderComponent:[{type:i.Input}],baseComponent:[{type:i.ViewChild,args:[pe,{static:!0}]}]},ke.Éµfac=function(e){return new(e||ke)(i.ÉµÉµdirectiveInject(i.ComponentFactoryResolver),i.ÉµÉµdirectiveInject(W),i.ÉµÉµdirectiveInject(i.ElementRef),i.ÉµÉµdirectiveInject(ee))},ke.Éµcmp=i.ÉµÉµdefineComponent({type:ke,selectors:[["bre-base-component"]],viewQuery:function(e,t){var n;1&e&&i.ÉµÉµstaticViewQuery(pe,!0),2&e&&i.ÉµÉµqueryRefresh(n=i.ÉµÉµloadQuery())&&(t.baseComponent=n.first)},inputs:{configuration:"configuration",renderComponent:"renderComponent"},features:[i.ÉµÉµNgOnChangesFeature],decls:1,vars:0,consts:[["base-component",""]],template:function(e,t){1&e&&i.ÉµÉµtemplate(0,L,0,0,"ng-template",0)},directives:[pe],styles:[""]}),ke),Ce=(Te.prototype.ngOnInit=function(){this.getContent()},Te.prototype.getContent=function(){var e=ne(this.configuration,["models","document","$ref"]);e&&(this.content=this.pageModelService.getContentViaReference(e))},Te.prototype.getImageUrl=function(e){return this.imageUrlService.getImageUrl(e)},Te.ctorParameters=function(){return[{type:ae},{type:oe}]},Te.propDecorators={configuration:[{type:i.Input}]},Te.Éµfac=function(e){return new(e||Te)(i.ÉµÉµdirectiveInject(ae),i.ÉµÉµdirectiveInject(oe))},Te.Éµcmp=i.ÉµÉµdefineComponent({type:Te,selectors:[["bre-single-content-component"]],inputs:{configuration:"configuration"},decls:2,vars:0,template:function(e,t){1&e&&(i.ÉµÉµelementStart(0,"p"),i.ÉµÉµtext(1," content-component works!\n"),i.ÉµÉµelementEnd())},styles:[""]}),Te),be=(Me.prototype.ngOnInit=function(){this.addCmsMetaData()},Me.prototype.addCmsMetaData=function(){this.requestContextService.isPreviewRequest()&&re(this.buttonElm.nativeElement,"afterbegin",ne(this.configuration,["_meta","beginNodeSpan",0,"data"]),"cms-begin-comment-added")},Me.ctorParameters=function(){return[{type:ee}]},Me.propDecorators={configuration:[{type:i.Input}],buttonElm:[{type:i.ViewChild,args:["buttonElm",{static:!0}]}]},Me.Éµfac=function(e){return new(e||Me)(i.ÉµÉµdirectiveInject(ee))},Me.Éµcmp=i.ÉµÉµdefineComponent({type:Me,selectors:[["bre-cms-edit-button"]],viewQuery:function(e,t){var n;1&e&&i.ÉµÉµstaticViewQuery(D,!0),2&e&&i.ÉµÉµqueryRefresh(n=i.ÉµÉµloadQuery())&&(t.buttonElm=n.first)},inputs:{configuration:"configuration"},decls:3,vars:0,consts:[[2,"position","relative"],["buttonElm",""]],template:function(e,t){1&e&&(i.ÉµÉµelementStart(0,"div",0),i.ÉµÉµelement(1,"span",null,1),i.ÉµÉµelementEnd())},styles:[""]}),Me),Se=(Ee.prototype.ngOnInit=function(){this.configuration?this.detectChanges():this.getPageModel()},Ee.prototype.getPageModel=function(){var t=this;this.pageModelService.getPageModelSubject().subscribe(function(e){e&&(t.configuration=ve(t.path,e),t.detectChanges())})},Ee.prototype.detectChanges=function(){this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()},Ee.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:oe}]},Ee.propDecorators={path:[{type:i.Input}],renderComponent:[{type:i.Input}],configuration:[{type:i.Input}]},Ee.Éµfac=function(e){return new(e||Ee)(i.ÉµÉµdirectiveInject(i.ChangeDetectorRef),i.ÉµÉµdirectiveInject(oe))},Ee.Éµcmp=i.ÉµÉµdefineComponent({type:Ee,selectors:[["bre-render-cms-component"]],inputs:{path:"path",renderComponent:"renderComponent",configuration:"configuration"},decls:2,vars:2,consts:[[3,"configuration","renderComponent",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"configuration","renderComponent"],[3,"ngSwitch"],[3,"configuration",4,"ngSwitchCase"],[3,"configuration",4,"ngSwitchDefault"],[3,"configuration"]],template:function(e,t){1&e&&(i.ÉµÉµtemplate(0,U,1,2,"bre-base-component",0),i.ÉµÉµtemplate(1,G,4,3,"ng-container",1)),2&e&&(i.ÉµÉµproperty("ngIf",t.renderComponent),i.ÉµÉµadvance(1),i.ÉµÉµproperty("ngIf",!t.renderComponent))},directives:[c.NgIf,we,c.NgSwitch,c.NgSwitchCase,c.NgSwitchDefault,ce,se],styles:[""]}),Ee),Ie=(Ae.prototype.initialize=function(e){var t=void 0===e?{}:e,e=t.initializePageModel,e=void 0===e||e,t=t.initializeRouterEvents,t=void 0===t||t;if(this.initializeCmsIntegration(),e&&this.initializePageModel(),t)return this.initializeRouterEvents()},Ae.prototype.initializeCmsIntegration=function(){c.isPlatformBrowser(this.platformId)&&"undefined"!=typeof window&&(window.SPA={init:this.onCmsInitialization,renderComponent:this.onComponentUpdate})},Ae.prototype.initializePageModel=function(){var e=this,t=this.transferState&&l.makeStateKey("pageModel"),n=!c.isPlatformServer(this.platformId)&&this.transferState&&this.transferState.hasKey(t);(n?this.pageModelService.setPageModel(this.transferState.get(t,null)):this.pageModelService.fetchPageModel()).pipe(p.first()).subscribe(function(){n&&e.transferState.remove(t)}),c.isPlatformServer(this.platformId)&&this.transferState&&this.transferState.onSerialize(t,function(){return e.pageModelService.pageModel})},Ae.prototype.initializeRouterEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof o.NavigationEnd&&(t.requestContextService.parseUrlPath(e.url),t.initializePageModel())})},Ae.prototype.onCmsInitialization=function(e){var t=this.requestContextService.getDebugging();this.pageModelService.setChannelManagerApi(e),this.pageModelService.getPageModel()&&(e.createOverlay(),ie(t))},Ae.prototype.onComponentUpdate=function(e,t){this.pageModelService.updateComponent(e,t).subscribe()},Ae.ctorParameters=function(){return[{type:oe},{type:ee},{type:o.Router},{type:void 0,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]},{type:l.TransferState,decorators:[{type:i.Optional},{type:i.Inject,args:[l.TransferState]}]}]},Ae.ngInjectableDef=i.ÉµÉµdefineInjectable({factory:function(){return new Ae(i.ÉµÉµinject(oe),i.ÉµÉµinject(ee),i.ÉµÉµinject(o.Router),i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(l.TransferState,8))},token:Ae,providedIn:"root"}),Ae.Éµfac=function(e){return new(e||Ae)(i.ÉµÉµinject(oe),i.ÉµÉµinject(ee),i.ÉµÉµinject(o.Router),i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(l.TransferState,8))},Ae.Éµprov=i.ÉµÉµdefineInjectable({token:Ae,factory:function(e){return Ae.Éµfac(e)},providedIn:"root"}),Ae),Pe=(xe.forRoot=function(){return{ngModule:xe,providers:[K,W,ae,Ie,oe,ee]}},xe.Éµmod=i.ÉµÉµdefineNgModule({type:xe}),xe.Éµinj=i.ÉµÉµdefineInjector({factory:function(e){return new(e||xe)},imports:[[c.CommonModule,o.RouterModule]]}),xe),je=function(e,t){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function xe(){}function Ae(e,t,n,r,i){this.pageModelService=e,this.requestContextService=t,this.router=n,this.platformId=r,this.transferState=i,this.onCmsInitialization=this.onCmsInitialization.bind(this),this.onComponentUpdate=this.onComponentUpdate.bind(this)}function Ee(e,t){this.changeDetectorRef=e,this.pageModelService=t}function Me(e){this.requestContextService=e}function Te(e,t){this.imageUrlService=e,this.pageModelService=t}function ke(e,t,n,r){this.componentFactoryResolver=e,this.componentMappingsService=t,this.elementRef=n,this.requestContextService=r}function Re(e,t){function n(){this.constructor=e}je(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _e(e,a,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((c=c.apply(e,a||[])).next())})}function Le(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function De(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ue(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(De(arguments[t]));return e}var Ne=new i.InjectionToken("cmsConfigToken"),Fe=(We.prototype.isCacheValid=function(e){return null==e||(new Date).getTime()<=e},We.prototype.get=function(e){var t=this.storage.get(e);if(t&&this.storage.has(e)&&this.isCacheValid(t.expiration))return t.value;this.delete(e)},We.prototype.has=function(e){var t=this.storage.get(e);return!!(t&&this.storage.has(e)&&this.isCacheValid(t.expiration))||(this.delete(e),!1)},We.prototype.set=function(e,t){this.storage.set(e,{expiration:this.cacheLimit?(new Date).getTime()+this.cacheLimit:null,value:t})},We.prototype.delete=function(e){this.storage.delete(e)},We),qe=["credit-cards","small-business/credit-cards","bank","commercial","military","relief","auto-financing","small-business-bank"],Ge=(Ke.prototype.setCustomAttribute=function(e,t){var n;this.isBrowser?this.newRelic.setCustomAttribute(e,t):this.isServer&&(n=this.sanitize(e),"string"==typeof(e=t)&&(e=this.sanitize(t)),(t=this.document.createElement("script")).setAttribute("type","text/javascript"),t.innerHTML='window.newrelic.setCustomAttribute("'+n+'", "'+e+'");',(e=this.document.getElementById("new-relic-init"))&&e.insertAdjacentElement("afterend",t))},Ke.prototype.setPageViewName=function(e,t){this.newRelic.setPageViewName(e,t)},Ke.prototype.noticeError=function(e,t){this.newRelic.noticeError(e,t)},Ke.prototype.sanitize=function(e){return e.replace(/\"/g,"&#34;").replace(/\''/g,"&#39;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")},Ke.Éµfac=function(e){return new(e||Ke)(i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(c.DOCUMENT))},Ke.Éµprov=i.ÉµÉµdefineInjectable({token:Ke,factory:Ke.Éµfac,providedIn:"root"}),Ke),Be=/^(\/site\/)(?!_cmsinternal\/)/,ze=(He.prototype.fileExists=function(e){var n=this;if(this.headCache.has(e))return this.headCache.get(e);var t=new Promise(function(t){n.httpClient.head(e,{observe:"response"}).toPromise().then(function(e){t(200===e.status)}).catch(function(e){n.newrelic.noticeError(e),t(!1)}).finally(function(){n.headCache.delete(e)})});return this.headCache.set(e,t),t},He.prototype.removeHomepageChannelFromUrl=function(e){var t=this.extractRelativePath(e);return this.formatPath(t).startsWith("site/homepage")?e.replace("homepage/",""):e},He.prototype.extractHashFragmentAndQueryParams=function(e){return e.split(/[?#]/)[0]},He.prototype.hasMatchingHost=function(e){return!this.isValidUrl(e)||e.includes(this.document.location.host)},He.prototype.extractRelativePath=function(e){var t;return e=this.isValidUrl(e=void 0===e?"":e)&&(t=e.split(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/))[4]===this.document.location.host?[t[5],t[6],t[8]].filter(Boolean).join(""):e},He.prototype.isValidUrl=function(e){return/^(https?:\/\/)|([a-z\d]\.)+[a-z]{2,}/i.test(e)},He.prototype.stripLeadingAndTrailingSlash=function(e){return e.replace(/^\/|\/$/g,"")},He.prototype.convertUrlToPathToJson=function(e){var t=this.formatPath(e),n="",r=-1===t.indexOf("/");this.cmsInternalRegExp.test(t)&&(n="_cmsinternal/",t=t.replace(this.cmsInternalRegExp,""));e=this.removePreviewSuffix(t.split("/")[0]),t=r?"root":t.split("/").splice(1).join("/");return this.cmsConfig.useCache?"/assets/shell/page_models/"+e+"/resourceapi/"+t+".json":this.cmsConfig.live.scheme+"://"+this.cmsConfig.live.hostname+":"+this.cmsConfig.live.port+"/site/"+n+e+"/resourceapi/"+t},He.prototype.formatPath=function(e){e=this.extractHashFragmentAndQueryParams(e);return this.stripLeadingAndTrailingSlash(e)},He.prototype.removeInternalPrefix=function(e){var t=this.extractRelativePath(e);return Be.test(t)?t.substring(5):e},He.prototype.removePreviewSuffix=function(e){var t=this.cmsConfig.live.previewSuffix;if(void 0!==t&&0===t.length)return e;var n=this.extractRelativePath(e);return n.startsWith("/"+this.cmsConfig.live.channelPath)?n.replace(t,""):e},He.prototype.isException=function(e){var e=this.extractRelativePath(e),e=this.removeInternalPrefix(e),t=this.formatPath(e);return qe.some(function(e){return t.startsWith(e)})},He.prototype.isInternalLink=function(n){return _e(this,void 0,void 0,function(){var t;return Le(this,function(e){switch(e.label){case 0:return n&&this.hasMatchingHost(n)?(t=this.extractRelativePath(n),this.isException(t)?[2,!1]:Be.test(t)?[2,!0]:(t=this.convertUrlToPathToJson(t),[4,this.fileExists(t)])):[3,2];case 1:if(e.sent())return[2,!0];e.label=2;case 2:return[2,!1]}})})},He.Éµfac=function(e){return new(e||He)(i.ÉµÉµinject(c.DOCUMENT),i.ÉµÉµinject(Ne),i.ÉµÉµinject(a.HttpClient),i.ÉµÉµinject(Ge))},He.Éµprov=i.ÉµÉµdefineInjectable({token:He,factory:He.Éµfac}),He),Ve=($e.prototype.fetchRouteData=function(e,t,n,r){var i=this,o=e,t=r?(t.live=t.live||{},e="/"===(e=this.internalLinkService.extractHashFragmentAndQueryParams(e))||e==="/"+t.live.channelPath+"/"?"/root.json":e.replace("/"+t.live.channelPath+"/","/").replace(/\/$/,"")+".json",{live:{scheme:this.document.location.protocol.replace(":",""),hostname:this.document.location.hostname,port:parseInt(this.document.location.port)||443,channelPath:t.live.channelPath,contextPath:t.live.contextPath}}):t;if(this.apiUrlsService.setApiUrls(t),this.requestContextService.parseUrlPath(e),this.componentMappingsService.setComponentMappings(n),this.initializeSdkService.initialize({initializePageModel:!1,initializeRouterEvents:!1}),r&&this.contentCache.has(o)){n=this.contentCache.get(o);return this.pageModelService.setPageModel(n),Promise.resolve(ve("",n))}return this.pageModelService.fetchPageModel().toPromise().then(function(e){return e=i.updateAssetsPaths(r,i.apiUrlsService.getApiUrls(),e),i.contentCache.set(o,e),ve("",e)})},$e.prototype.updateAssetsPaths=function(e,t,n){if(!this.isBrowser||e||this.document.location.origin===t.live.baseUrl)return n;n=(n=JSON.stringify(n)).replace(/("|')\/site\/binaries\//gi,"$1"+t.live.baseUrl+"/site/binaries/"),n=JSON.parse(n);return this.pageModelService.setPageModel(n),n},$e.Éµfac=function(e){return new(e||$e)(i.ÉµÉµinject(Ie),i.ÉµÉµinject(K),i.ÉµÉµinject(ee),i.ÉµÉµinject(W),i.ÉµÉµinject(oe),i.ÉµÉµinject(ze),i.ÉµÉµinject(c.DOCUMENT),i.ÉµÉµinject(i.PLATFORM_ID))},$e.Éµprov=i.ÉµÉµdefineInjectable({token:$e,factory:$e.Éµfac,providedIn:"root"}),$e);function $e(e,t,n,r,i,o,a,s){this.initializeSdkService=e,this.apiUrlsService=t,this.requestContextService=n,this.componentMappingsService=r,this.pageModelService=i,this.internalLinkService=o,this.document=a,this.platformId=s,this.contentCache=new Fe,this.isBrowser=c.isPlatformBrowser(this.platformId)}function He(e,t,n,r){this.document=e,this.cmsConfig=t,this.httpClient=n,this.newrelic=r,this.headCache=new Fe,this.cmsInternalRegExp=/^site\/_cmsinternal\//}function Ke(e,t){this.platformId=e,this.document=t,this.isBrowser=c.isPlatformBrowser(this.platformId),this.isServer=c.isPlatformServer(this.platformId),this.newRelic={setCustomAttribute:function(){},setPageViewName:function(){},noticeError:function(){}},this.isBrowser&&window.newrelic&&(this.newRelic=window.newrelic)}function We(e){this.cacheLimit=e=void 0===e?null:e,this.storage=new Map}function Qe(e,t,n){return void 0===n&&(n=null),t.reduce(function(e,t){return e&&e[t]?e[t]:n},e)}var Je=(Object.defineProperty(Xe.prototype,"countryCode",{get:function(){return Qe(this.geoVars,["country_code"],"us").toLowerCase()},enumerable:!0,configurable:!0}),Xe.Éµfac=function(e){return new(e||Xe)(i.ÉµÉµinject(i.PLATFORM_ID))},Xe.Éµprov=i.ÉµÉµdefineInjectable({token:Xe,factory:Xe.Éµfac,providedIn:"root"}),Xe),Ye=(Object.defineProperty(Ze.prototype,"recipe",{get:function(){return this._recipe},set:function(e){this.newrelic.setCustomAttribute("componentTests",e||""),this._recipe=e},enumerable:!0,configurable:!0}),Ze.prototype.executeComponentLevelTests=function(e,t){if(this.recipe="",this.componentLevelTestAvailable(t)){var n=this.filterInvalidTests(this.getComponentList(e),t);return this.componentTests=t,this.recipe=this.generateComponentRecipe(n),this.applyComponentTests(e,n)}return e},Ze.prototype.applyComponentTests=function(r,e){var i=this,o=this.getComponentList(r);return e.filter(function(e){return!i.isControl(e)}).forEach(function(e){var t=i.findComponentByName(o,e.name),n=i.findAlternate(o,e.name,e.variant),n=i.constructComponent(t,n);i.getComponentList(r)[i.getIndex(o,e.name)]=n}),r},Ze.prototype.getIndex=function(e,t){return e.findIndex(function(e){return e.name===t})},Ze.prototype.getComponentList=function(e){e=((null==e?void 0:e.components)||[]).find(function(e){return"CONTAINER_COMPONENT"===e.type}),e=(null==e?void 0:e.components)||[];return e.length||console.warn("Page model components not found"),e},Ze.prototype.filterInvalidTests=function(n,e){var r=this;return e.reduce(function(e,t){return r.isControl(t)||r.findAlternate(n,t.name,t.variant)?Ue(e,[t]):e},[])},Ze.prototype.isControl=function(e){return"control"===e.variant},Ze.prototype.findAlternate=function(e,t,n){return Qe(this.findComponentByName(e,t),["models","alternates"],[]).find(function(e){return e.characteristicValue===n})},Ze.prototype.findComponentByName=function(e,t){return e.find(function(e){return e.name===t})},Ze.prototype.componentLevelTestAvailable=function(e){return e&&0<e.length&&!this.requestContextService.isPreviewRequest()},Ze.prototype.findComponentTest=function(e,t){return e.find(function(e){return e.name===t})},Ze.prototype.constructComponent=function(e,t){t={models:Oe({},this.updateContentRefs(t)),_meta:{params:t,paramsInfo:Oe(Oe({},this.updateParamsInfo(t)),{variantID:t.variantId})}};return Object.assign({},e,t)},Ze.prototype.generateComponentRecipe=function(e){return e.map(function(e){return e.meta+"%"+e.name+"%"+e.variant}).join("|")},Ze.prototype.updateParamsInfo=function(e){return Object.entries(e).reduce(function(e,t){var n=De(t,2),t=n[0],n=n[1];if("off"===n)e[t]=!1;else if("on"===n)e[t]=!0;else{if("document"===t)return e;e[t]=n}return e},{})},Ze.prototype.updateContentRefs=function(e){var r=this;return Object.entries(e).reduce(function(e,t){var n=De(t,2),t=n[0],n=n[1];return e[t]=["document","contentList","list","featuredArticle"].includes(t)?Oe(Oe({},n),r.updateContentRefs(r.pageModelService.getContentViaReference(n.$ref))):"documents"===t&&n?n.reduce(function(e,t){return e.push(Oe(Oe({},t),r.pageModelService.getContentViaReference(t.$ref))),e},[]):n,e},{})},Ze.Éµfac=function(e){return new(e||Ze)(i.ÉµÉµinject(ee),i.ÉµÉµinject(oe),i.ÉµÉµinject(Ge))},Ze.Éµprov=i.ÉµÉµdefineInjectable({token:Ze,factory:Ze.Éµfac,providedIn:"root"}),Ze);function Ze(e,t,n){this.requestContextService=e,this.pageModelService=t,this.newrelic=n,this._recipe=null,this.componentTests=null}function Xe(e){this.platformId=e,this.isBrowser=c.isPlatformBrowser(e),this.geoVars=this.isBrowser?Qe(window,["c1GeoVars","geoInfo"],{}):{}}(St=r.GtagActionEnum||(r.GtagActionEnum={})).PageView="page_view",St.Conversion="conversion",St.ConversionIntent="conversion_intent",St.DownloadClick="download_click",St.NavigationClick="navigation_click",St.CtaClick="cta_click",St.ApplicationStart="application_start",St.ApplicationStepView="application_step_view",St.ApplicationSubmitAttempt="application_submit_attempt",St.ApplicationSubmitFailure="application_submit_failure",St.ApplicationSubmitComplete="application_submit_complete",St.EmailLink="email_link",St.PhoneLink="social_link",St.SocialLink="social_link",St.ExternalLink="external_link",St.SiteSearch="site_search",St.RegistrationAttempt="registration_attempt",St.RegistrationFailure="registration_failure",St.RegistrationComplete="registration_complete",St.LoginAttempt="login_attempt",St.LoginFail="login_fail",St.LoginComplete="login_complete",St.SocialShare="social_share",St.AppStoreLinkClick="app_store_link_click",St.Error404="404_error",St.FormStart="form_start",St.FormComplete="form_complete",(It=r.GtagEventCategoryEnum||(r.GtagEventCategoryEnum={})).Download="download",It.Navigation="navigation",It.ConversionIntent="conversion intent",It.Application="application",It.ExternalLink="external link",It.SiteSearch="site search",It.Registration="registration",It.Login="login",It.Error="error",It.Form="form",It.Cta="cta",(Ut=r.GtagEventNameEnum||(r.GtagEventNameEnum={})).Conversion="GA Event - Conversion Intent",Ut.ConversionIntent="conversion_GA Event - Conversion Intent",Ut.DownloadClick="GA Event - Download Click",Ut.NavigationClick="GA Event - Navigation Click",Ut.CtaClick="GA Event - CTA Click",Ut.ApplicationSubmit="GA Event - Application Submit",Ut.EmailLink="GA Event - External Email Link Click",Ut.PhoneLink="GA Event - External Phone Link Click",Ut.SocialLink="GA Event - External Social Link Click",Ut.ExternalLink="GA Event - External General Link Click",Ut.SiteSearch="GA Event - Site Search",Ut.Registration="GA Event - Registration",Ut.Login="GA Event - Login",Ut.SocialShare="GA Event - Social Share Link",Ut.AppStoreLinkClick="GA Event - Conversion Intent",Ut.Error404="GA Event - 404 Error Page View",Ut.Form="GA Event - Forms",(kt=r.GtagEventActionEnum||(r.GtagEventActionEnum={})).ApplicationStart="start",kt.ApplicationAttempt="submit attempt",kt.ApplicationComplete="submit complete",kt.EmailLink="email link",kt.PhoneLink="phone link",kt.SocialLink="social link",kt.GeneralLink="general link",kt.RegistrationAttempt="attempt",kt.RegistrationComplete="complete",kt.LoginAttempt="attempt",kt.LoginComplete="complete",kt.SocialShare="social share intent",kt.AppStoreLink="app store link",kt.FormStart="start",kt.FormComplete="complete",kt.Error404="error 404",(e=r.GtagEventLabelEnum||(r.GtagEventLabelEnum={})).Registration="username registration",e.Login="username login",(t=r.ResponsiveSizes||(r.ResponsiveSizes={}))[t.ExtraSmall=368]="ExtraSmall",t[t.Small=599]="Small",t[t.Medium=767]="Medium",t[t.MediumLarge=1024]="MediumLarge",t[t.Large=1199]="Large",t[t.ExtraLarge=1919]="ExtraLarge",t[t.LargeDisplay=9999]="LargeDisplay";var et={environment:"prod"};function tt(e){return function(){return e.load()}}var nt=(lt.prototype.getEnvironment=function(){return this.environment},lt.prototype.load=function(){var t=this;if(this.isProduction())return this.environment=et,Promise.resolve();var e=c.isPlatformServer(this.platformId)||-1===window.location.hostname.indexOf("chariotwcmspa")?"/":"";return this.http.get(e+"assets/shell/environments/environment.qa.json").toPromise().then(function(e){t.environment=e})},lt.prototype.isProduction=function(){return c.isPlatformServer(this.platformId)?this.nodeIsProduction:/www[\w\d]*\.capitalone\.com/i.test(this.document.location.hostname)},lt.prototype.getAppVersionId=function(){return this.document.body.getAttribute("data-build-sha")},lt.Éµfac=function(e){return new(e||lt)(i.ÉµÉµinject(c.DOCUMENT),i.ÉµÉµinject(a.HttpClient),i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject("nodeIsProduction",8))},lt.Éµprov=i.ÉµÉµdefineInjectable({token:lt,factory:lt.Éµfac,providedIn:"root"}),lt),rt=(pt.prototype.addPageViewData=function(e){var t,n;return this.isBrowser&&(t=e.gtag||{},n=Date.now(),t.action=r.GtagActionEnum.PageView,t.domain_userid=this.getCookie("C1_UDID")||void 0,t.full_referrer=this.document.referrer,t.full_url=this.document.location.toString(),t.ga_client_id=this.getGaId()||void 0,t.language=e.taxonomy.language,t.responsive_breakpoint=this.getViewportSize(),t.site_version=this.getCommitSha(),t.user_agent_string=navigator.userAgent,t.user_timezone_timestamp=new Date(n).toString(),t.user_timezone_offset=this.getOffset(new Date(n)),e.gtag=t),e},pt.prototype.getGaId=function(){var e=this.getCookie("_ga");if(e)return e.split(".").slice(2).join(".")},pt.prototype.getCommitSha=function(){return this.environmentService.getAppVersionId()||void 0},pt.prototype.getViewportSize=function(){var e=this.document.documentElement.clientWidth;return e<=r.ResponsiveSizes.ExtraSmall?"extra small":e<=r.ResponsiveSizes.Small?"small":e<=r.ResponsiveSizes.Medium?"medium":e<=r.ResponsiveSizes.MediumLarge?"medium large":e<=r.ResponsiveSizes.Large?"large":e<=r.ResponsiveSizes.ExtraLarge?"extra large":"large display"},pt.prototype.getOffset=function(e){e=e.getTimezoneOffset()/60;return(0<e?"-":"+")+e.toFixed(0).toString()},pt.prototype.getCookie=function(t){var e=this.document.cookie.split("; ").find(function(e){return e.startsWith(t+"=")});if(e)return e.split("=")[1]},pt.Éµfac=function(e){return new(e||pt)(i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(c.DOCUMENT),i.ÉµÉµinject(nt))},pt.Éµprov=i.ÉµÉµdefineInjectable({token:pt,factory:pt.Éµfac,providedIn:"root"}),pt),it=new i.InjectionToken("appOwnerToken"),ot=(Object.defineProperty(ct.prototype,"component",{get:function(){return this._component},set:function(e){this._component=e},enumerable:!0,configurable:!0}),ct.prototype.createMetadata=function(e,t,n){n=this.taxonomyAndContext(e,t,n),n=this.gaService.addPageViewData(n);return this.publishMetadata("trackAnalytics",n)},ct.prototype.createTaxonomyObj=function(e){return Oe(Oe({},this.getLevelFields(e)),{country:this.geoVarsService.countryCode,language:e&&e.language?e.language:"english",system:"portal_compass"})},ct.prototype.getLevelFields=function(e){var t=this.strippedPathname.split("/"),n={level1:this.appOwner||"enterprise",level2:t[0]||"",level3:this.isArticle?"article":"composed",level4:""};return 1<t.length&&(n.level4=t[t.length-1]),(e=e||{}).level1=e.level1||n.level1,e.level2=e.level2||n.level2,e.level3=e.level3||n.level3,e.level4=e.level4||n.level4,e},Object.defineProperty(ct.prototype,"strippedPathname",{get:function(){return this.isBrowser?window.location.pathname.replace(/^\/|\/$/g,""):""},enumerable:!0,configurable:!0}),Object.defineProperty(ct.prototype,"isArticle",{get:function(){return"article"===Qe(this.component,["routeData","name"])},enumerable:!0,configurable:!0}),ct.prototype.taxonomyAndContext=function(e,t,n){var r="";e&&""!==e.deviceInfo.type&&(r=e.deviceInfo.type);r={taxonomy:this.createTaxonomyObj(t),deviceType:r};this.comTestService.recipe&&(r.componentLevelTest=this.comTestService.recipe),null!==n&&(r.spContexts=[{schema:"iglu:com.capitalone.snowplow/page_metadata/jsonschema/1-0-0",data:n}]);n=this.parseKmInfo();return r.akamaiTest=this.getAdobeTestData(),r.altCustId=this.getAltCustId(n),r.kmInfo=this.getKmInfo(n),r},ct.prototype.parseKmInfo=function(){var e;return(e=this.isBrowser?window.localStorage.kmInfo:e)?JSON.parse(e):{}},ct.prototype.getKmInfo=function(e){return Qe(e,["info"],[]).join("_")},ct.prototype.getAltCustId=function(e){return Qe(e,["umk"],"")},ct.prototype.getAdobeTestData=function(){return window.siteTestData?window.siteTestData.reduce(function(e,t){return e.push(t.campaign+":"+t.campaignId+":"+t.experience+":"+t.experienceId),e},[]).join("|"):""},ct.prototype.publishMetadata=function(e,t){try{return this.isBrowser&&window.publisherFW.publishEvent(e,t),{error:"metadata",detail:{name:e,eventData:t}}}catch(e){return{error:"Error publishing to siteCatalyst ",detail:e}}},ct.prototype.publishClickTrackingData=function(e,t){try{var n;this.isBrowser&&(n=Object.values(this.pageLevelFields).filter(function(e){return""!==e}).join(":"),t.name=n+":"+t.name,window.publisherFW.publishEvent(e,t))}catch(e){}},ct.prototype.getMetadataFields=function(e,t){return void 0===t&&(t=null),this.pageLevelFields={level1:Qe(e,["level1"],""),level2:Qe(e,["level2"],""),level3:Qe(e,["level3"],""),level4:Qe(e,["level4"],""),level5:Qe(e,["level5"],"")},{levelFields:Oe(Oe({},this.pageLevelFields),{language:Qe(e,["language"],"english")}),contextFields:this.getContextData(t)}},ct.prototype.getContextData=function(e){return null===e?e:{strategyAbstractedCode:this.getMetaInfo("strategy",e.metadata),intentAbstractedCode:this.getMetaInfo("intent",e.metadata),categoryAbstractedCode:this.buildCompositeFields("primaryCategory","secondaryCategory",e.metadata),topicAbstractedCode:this.buildCompositeFields("primaryTopics","secondaryTopics",e.metadata),contentTypeAbstractedCode:this.getMetaInfo("contentType",e.metadata),audienceAbstractedCode:this.getMetaInfo("audience",e.metadata),producerAbstractedCode:this.getMetaInfo("producer",e.metadata),productAbstractedCode:this.getMetaInfo("product",e.metadata),author:e.author?"true":"N/A",keyword:e.metaKeywords?"true":"N/A",useKeyword:e.keywordDriven?"true":"N/A"}},ct.prototype.buildCompositeFields=function(e,t,n){e=this.getMetaInfo(e,n);return""!==this.getMetaInfo(t,n)&&(e+="|"+this.getMetaInfo(t,n)),e},ct.prototype.getMetaInfo=function(r,e){var i=this,o="";return e.forEach(function(e,t,n){e.key===r&&null!==e.value&&e.value.forEach(function(e){o+=e.code+"|"}),o=i.removeStringEndPipe(o)}),o},ct.prototype.removeStringEndPipe=function(e){for(var t=e.length-1;0<=t&&"|"===e.slice(-1);t--)e=e.substring(0,e.length-1);return e},ct.prototype.videoPlayerStateChange=function(e){},ct.prototype.videoPlayerNavigateAway=function(e){},ct.Éµfac=function(e){return new(e||ct)(i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(Je),i.ÉµÉµinject(Ye),i.ÉµÉµinject(rt),i.ÉµÉµinject(it,8))},ct.Éµprov=i.ÉµÉµdefineInjectable({token:ct,factory:ct.Éµfac}),ct),at=(st.Éµprov=i.ÉµÉµdefineInjectable({token:st,factory:st.Éµfac=function(e){return new(e||st)}}),st);function st(){}function ct(e,t,n,r,i){void 0===i&&(i=""),this.platformId=e,this.geoVarsService=t,this.comTestService=n,this.gaService=r,this.appOwner=i,this.isBrowser=c.isPlatformBrowser(this.platformId)}function pt(e,t,n){this.platformId=e,this.document=t,this.environmentService=n,this.isBrowser=c.isPlatformBrowser(this.platformId)}function lt(e,t,n,r){this.document=e,this.http=t,this.platformId=n,this.nodeIsProduction=r,this.environment={environment:""}}(h=r.ScEventName||(r.ScEventName={})).clickTracking="clickTracking",h.trackAnalytics="trackAnalytics",h.initMarketing="initMarketing";var ut,ft,ht=(Re(Tt,ft=o.DefaultUrlSerializer),Tt.prototype.serialize=function(e){var t=ft.prototype.serialize.call(this,e),e=-1<t.indexOf("?")?"?":"#",t=t.split(e);return"/"!==t[0]&&(t[0]+="/"),t.join(e)},Tt),dt=new i.InjectionToken("componentMappings"),gt={loading:!1,offers:null},mt=(Mt.prototype.getAndApplyOffers=function(n){return _e(this,void 0,void 0,function(){var t;return Le(this,function(e){switch(e.label){case 0:return[4,this.getPageOffers(n)];case 1:return t=e.sent(),this.isBrowser&&this.document.getElementsByTagName&&this.document.getElementsByTagName("content-wrapper")[0].classList.remove("min-height"),null===t||null===this.adobeTarget||(this.adobeTarget.applyOffer({mbox:"target-global-mbox",offer:t}),this.clearGlobalData()),[2]}})})},Mt.prototype.getTestUrl=function(n){return _e(this,void 0,void 0,function(){var t;return Le(this,function(e){switch(e.label){case 0:return[4,this.getPageOffers(n)];case 1:return[2,(t=e.sent())?this.getUrl(t,n):n]}})})},Mt.prototype.getComponentTests=function(r){return _e(this,void 0,void 0,function(){var t,n;return Le(this,function(e){switch(e.label){case 0:return[4,this.getPageOffers(r)];case 1:return(t=e.sent())?(t=t.filter(function(e){return"setJson"===e.action}),t=t&&t.length?t[0].content.filter(function(e){return e.componentLevelTest}):[],n=new Set,[2,t.flatMap(function(e){return e.componentLevelTest&&e.componentLevelTest.length?e.componentLevelTest.filter(function(e){return!n.has(e.name)&&(n.add(e.name),!0)}):[]})]):[2,[]]}})})},Mt.prototype.getPageOffers=function(e){return this.pageUrl!==e&&(this.pageUrl=e,this.pageOffers=this.getOffers()),this.pageOffers},Mt.prototype.getOffers=function(){var r=this;return this.adobeTarget?new Promise(function(t,e){var n=window._sequoia&&window._sequoia.target?window._sequoia.target:gt;n.loading?(window.addEventListener("targetResolved",function(){t(n.offers)}),window.addEventListener("targetRejected",function(){r.newrelic.noticeError("Adobe Target fetching data rejected"),t(null)})):n.offers?t(n.offers):r.adobeTarget.getOffer({mbox:"target-global-mbox",success:function(e){t(e)},timeout:2e3,error:function(){r.newrelic.noticeError("Adobe Target GetOffer failed"),t(null)}})}):(this.newrelic.noticeError("Adobe Target SDK not loaded"),Promise.resolve(null))},Mt.prototype.getUrl=function(e,t){var n=ze.prototype.extractHashFragmentAndQueryParams(t),e=e.filter(function(e){return"setJson"===e.action}),e=e&&e.length?e[0].content.filter(function(e){return e.sequoia}):null,e=e&&e.length?e[0].sequoia:null,e=e&&e.page?e.page:null,n=e&&e[n]||"";return this.isTestUrl(n)?n:t},Mt.prototype.isTestUrl=function(e){return e.startsWith("/tests/")||e.startsWith("/article-tests/")},Mt.prototype.clearGlobalData=function(){window._sequoia.target=gt},Mt.prototype.enableTests=function(){var e=this.document.location;return"localhost"!==e.hostname||"localhost"===e.hostname&&0<e.search.indexOf("at_preview_token")},Mt.Éµfac=function(e){return new(e||Mt)(i.ÉµÉµinject(i.PLATFORM_ID),i.ÉµÉµinject(c.DOCUMENT),i.ÉµÉµinject(Ge))},Mt.Éµprov=i.ÉµÉµdefineInjectable({token:Mt,factory:Mt.Éµfac,providedIn:"root"}),Mt),vt=(Et.prototype.resolve=function(a,s){return _e(this,void 0,void 0,function(){var t,n,r,i,o=this;return Le(this,function(e){switch(e.label){case 0:return t=a.params["content-channel"]||a.parent&&a.parent.params["content-channel"],this.cmsConfig.live&&t&&(this.cmsConfig.live.channelPath=t+(this.cmsConfig.useCache?"":this.cmsConfig.live.previewSuffix)),this.cmsConfig.preview&&t&&(this.cmsConfig.preview.channelPath=t+(this.cmsConfig.useCache?"":this.cmsConfig.preview.previewSuffix)),[4,this.targetService.getTestUrl(s.url)];case 1:return n=e.sent(),[4,this.targetService.getComponentTests(s.url)];case 2:return r=e.sent(),n=this.removeChannelForPreview(n,this.cmsConfig),i=Object.assign.apply(Object,Ue([{}],this.componentMappings)),[4,this.cmsSdkService.fetchRouteData(n,this.cmsConfig,i,!!this.cmsConfig.useCache).catch(function(e){console.error("Failed to fetch route data",e),o.newrelic.noticeError(e),o.router.navigateByUrl("/page-not-found/")})];case 3:return i=e.sent(),this.sendMetadataToNR(s,n),[2,this.componentTestService.executeComponentLevelTests(i,r)]}})})},Et.prototype.sendMetadataToNR=function(e,t){this.newrelic.setPageViewName(e.url,this.document.location.origin),this.newrelic.setCustomAttribute("channel",this.cmsConfig.live?this.cmsConfig.live.channelPath:""),this.newrelic.setCustomAttribute("variantUrl",t)},Et.prototype.removeChannelForPreview=function(e,t){return e&&t.live&&t.live.channelPath&&t.live.previewSuffix&&(t="/"+t.live.channelPath.replace(t.live.previewSuffix,"")+"/",e.startsWith(t)&&(e=e.substring(t.length-1))),e},Et.Éµfac=function(e){return new(e||Et)(i.ÉµÉµinject(Ve),i.ÉµÉµinject(mt),i.ÉµÉµinject(Ne),i.ÉµÉµinject(dt),i.ÉµÉµinject(o.Router),i.ÉµÉµinject(Ye),i.ÉµÉµinject(Ge),i.ÉµÉµinject(c.DOCUMENT))},Et.Éµprov=i.ÉµÉµdefineInjectable({token:Et,factory:Et.Éµfac}),Et),yt=(At.prototype.resolve=function(e,n){return _e(this,void 0,void 0,function(){var t=this;return Le(this,function(e){return[2,this.router.events.pipe(p.first(function(e){return e instanceof o.NavigationEnd})).subscribe(function(){return t.adobeTargetService.getAndApplyOffers(n.url)})]})})},At.Éµfac=function(e){return new(e||At)(i.ÉµÉµinject(mt),i.ÉµÉµinject(o.Router))},At.Éµprov=i.ÉµÉµdefineInjectable({token:At,factory:At.Éµfac}),At),wt=new i.InjectionToken("LobName"),Ct={bank:"bank","cap-one-tech":"tech",commercial:"enterprise","content-only":"enterprise",homepage:"enterprise","learn-grow":"enterprise",military:"enterprise",relief:"enterprise",card:"card"},bt=(xt.forRoot=function(){return{ngModule:xt,providers:[ze,{provide:o.UrlSerializer,useClass:ht},{provide:i.APP_INITIALIZER,useFactory:tt,deps:[nt],multi:!0}]}},xt.forLOB=function(e){return{ngModule:xt,providers:[Ve,vt,yt,ze,{provide:at,useClass:ot},{provide:wt,useValue:e},{provide:it,useValue:Ct[e]||"enterprise"}]}},xt.Éµmod=i.ÉµÉµdefineNgModule({type:xt}),xt.Éµinj=i.ÉµÉµdefineInjector({factory:function(e){return new(e||xt)}}),xt),St=(jt.prototype.getFilteredTiles=function(e){return this.filterArray(e,this.getOriginalTileArray())},jt.prototype.getTopicArray=function(){return this.topicArray},jt.prototype.setTopicArray=function(e){this.topicArray=e},jt.prototype.getOriginalTileArray=function(){return this.originalTileArray},jt.prototype.setOriginalTileArray=function(e){this.originalTileArray=e},jt.prototype.filterArray=function(e,t){var r=this;return this.newTileArray=[],t.forEach(function(n){e.forEach(function(t){n.primaryTopics.forEach(function(e){e===t&&(-1<r.newTileArray.indexOf(n)||r.newTileArray.push(n))})})}),this.newTileArray},jt.prototype.getNewTileSet=function(e,t,n){this.tileArrayLength=Math.min(e.length,10);for(var r,i=this.tileArrayLength-1;0<=i;i--)t[e[i].hippoIdentifier]&&(r=e[i],e.splice(i,1),e.length<9?e.push(r):e.splice(n?10:14,0,r));return e},jt.Éµprov=i.ÉµÉµdefineInjectable({token:jt,factory:jt.Éµfac=function(e){return new(e||jt)},providedIn:"root"}),jt),It=(Pt.prototype.getTopicLabel=function(e){if(!e)return"";e=e.split("/"),e=e[e.length-2].replace(/-/g," ").toLowerCase()||"";return e=-1!==["tech innovation","privacy security"].indexOf(e)?e.replace(" "," & "):e},Pt.prototype.getTopicUrl=function(e){if(!e)return e;e=e.split("/");return e.length<4?e.join("/")+"/":e.slice(0,-1).join("/")+"/"},Pt.Éµprov=i.ÉµÉµdefineInjectable({token:Pt,factory:Pt.Éµfac=function(e){return new(e||Pt)},providedIn:"root"}),Pt);function Pt(){}function jt(){this.tileArrayLength=10}function xt(){}function At(e,t){this.adobeTargetService=e,this.router=t}function Et(e,t,n,r,i,o,a,s){this.cmsSdkService=e,this.targetService=t,this.cmsConfig=n,this.componentMappings=r,this.router=i,this.componentTestService=o,this.newrelic=a,this.document=s}function Mt(e,t,n){this.platformId=e,this.document=t,this.newrelic=n,this.isBrowser=c.isPlatformBrowser(this.platformId),this.testData=this.isBrowser?s.fromEvent(this.document,"siteTestDataReady").pipe(p.map(function(e){return e.detail.siteTestData})):s.never(),this.adobeTarget=this.isBrowser&&this.enableTests()&&window.adobe?adobe.target:null,this.pageUrl="",this.pageOffers=new Promise(function(){}),this.isBrowser&&!this.enableTests()&&console.log("Adobe Target disabled for localhost. Add query string \"at_preview_token\" to enable. In chrome dev console location.search += 'at_preview_token'")}function Tt(){return null!==ft&&ft.apply(this,arguments)||this}(Ut=ut=ut||{}).left="grv-row--sm-start",Ut.center="grv-row--sm-center",Ut.right="grv-row--sm-end";var kt=(Lt.prototype.getGrvAlignmentClass=function(e){return e&&ut.hasOwnProperty(e)?this.getGravityAlignmentClass(e):ut.left},Lt.prototype.getGravityAlignmentClass=function(e){return ut[e]},Lt.Éµprov=i.ÉµÉµdefineInjectable({token:Lt,factory:Lt.Éµfac=function(e){return new(e||Lt)},providedIn:"root"}),Lt),Rt={},e=(_t.prototype.setValue=function(e,t){Rt[e]=t},_t.prototype.getValue=function(e){return Rt[e]},_t.Éµprov=i.ÉµÉµdefineInjectable({token:_t,factory:_t.Éµfac=function(e){return new(e||_t)},providedIn:"root"}),_t),t=(Ot.prototype.sendAlert=function(e){this.actionAlertSource.next(e)},Ot.prototype.toggleTopicPageFilterClass=function(){!1===this.topicPageFilterState.getValue()?this.topicPageFilterState.next(!0):this.topicPageFilterState.next(!1)},Ot.prototype.filterArraySend=function(e){this.filterArrayObserver.next(e)},Ot.Éµprov=i.ÉµÉµdefineInjectable({token:Ot,factory:Ot.Éµfac=function(e){return new(e||Ot)},providedIn:"root"}),Ot);function Ot(){this.actionAlertSource=new s.Subject,this.topicPageFilterState=new s.BehaviorSubject(!1),this.filterArrayObserver=new s.Subject,this.actionAlert$=this.actionAlertSource.asObservable(),this.topicPageFilterState$=this.topicPageFilterState.asObservable(),this.filterArray$=this.filterArrayObserver.asObservable()}function _t(){}function Lt(){}(h=r.DataSource||(r.DataSource={})).Cookie="Cookie",h.LocalStorage="LocalStorage",h.SessionStorage="SessionStorage",h.Service="Service",h.Static="Static",(Ut=r.FetchOnError||(r.FetchOnError={})).NotFound="NotFound",Ut.Silent="Silent";var Dt,h=(Ft.prototype.addComponentRef=function(e){this.videoComponentRefs.push(e)},Object.defineProperty(Ft.prototype,"isScriptInjected",{get:function(){return this._isScriptInjected},set:function(e){this._isScriptInjected=e},enumerable:!0,configurable:!0}),Ft.prototype.insertIframes=function(){var e=this;this.isServer||(window.yt?this.createYouTubePlayer():window.onYouTubeIframeAPIReady=function(){e.createYouTubePlayer()})},Ft.prototype.createYouTubePlayer=function(){this.isServer||this.videoComponentRefs.forEach(function(e){e=e.getPlayerConfig();e&&(window["player-"+e.videoId]=new window.YT.Player(e.videoId,e))})},Ft.Éµfac=function(e){return new(e||Ft)(i.ÉµÉµinject(i.PLATFORM_ID))},Ft.Éµprov=i.ÉµÉµdefineInjectable({token:Ft,factory:Ft.Éµfac,providedIn:"root"}),Ft),Ut=(Re(Nt,Dt=i.ErrorHandler),Nt.prototype.handleError=function(e){this.newRelic.noticeError(this.getErrorMessage(e),Oe({},e)),Dt.prototype.handleError.call(this,e)},Nt.prototype.getErrorMessage=function(e){if("object"!=typeof e||null===e)return e;var t=["rejection","message"],n=Object.keys(e).find(function(e){return t.includes(e)});return n?e[n]:e},Nt.Éµfac=function(e){return new(e||Nt)(i.ÉµÉµinject(Ge))},Nt.Éµprov=i.ÉµÉµdefineInjectable({token:Nt,factory:Nt.Éµfac,providedIn:"root"}),Nt);function Nt(e){var t=Dt.call(this)||this;return t.newRelic=e,t}function Ft(e){this.platformId=e,this.videoComponentRefs=[],this._isScriptInjected=!1,this.isServer=c.isPlatformServer(this.platformId)}r.AdobeTargetArticleTestFolder="/article-tests/",r.AdobeTargetResolverService=yt,r.AdobeTargetService=mt,r.AdobeTargetTestFolder="/tests/",r.AnalyticsInterface=at,r.AnalyticsService=ot,r.ApiUrlsService=K,r.AppOwner=it,r.ArticleGridUtilityService=St,r.BaseApiUrlsService=H,r.BaseComponentComponent=we,r.BloomreachExperienceNgSdkModule=Pe,r.CmsConfigToken=Ne,r.CmsEditButtonComponent=be,r.CmsSdkService=Ve,r.ComponentMappingsService=W,r.ComponentMappingsToken=dt,r.ComponentObserverService=t,r.ComponentTestService=Ye,r.CustomErrorHandler=Ut,r.EnterpriseCoreModule=bt,r.EnvironmentService=nt,r.GaService=rt,r.GeographicalDataService=Je,r.GrvMapService=kt,r.ImageUrlService=ae,r.InitializeSdkService=Ie,r.InternalLinkService=ze,r.LinkUtilityService=It,r.LobName=wt,r.MemoryCache=Fe,r.NewRelicService=Ge,r.PageDataService=e,r.PageModelService=oe,r.REQUEST=X,r.RenderCmsComponent=Se,r.RequestContext=z,r.RequestContextService=ee,r.RouteDataResolverService=vt,r.SingleContentComponent=Ce,r.TrailingSlashUrlSerializer=ht,r.VideoHelperService=h,r.getComponentConfiguration=ve,r.getCtaText=function(e){return null!=e&&{article:"Read More",audio:"Listen Now",video:"Watch Now"}[e]||"Read More"},r.getFormattedArticleTime=function(e,t){var n={article:"min read",video:"min video",audio:"min listen"};return e&&t&&n[t]&&t?e+" "+n[t]:e||""},r.getMappedComponent=ye,r.getNestedObject=ne,r.nestedObject=Qe,r.parseMetaData=function(e){var n={};return Array.isArray(e)&&e.forEach(function(e){var t=void 0===e?{}:e,e=t.key,t=t.value;Array.isArray(t)&&(n[e]=t[0].name)}),n},r.siteCmsRegExp=Be,r.Éµa=se,r.Éµb=ce,r.Éµc=pe,r.Éµd=le,Object.defineProperty(r,"__esModule",{value:!0})});

(this.$WP=this.$WP||[]).push(["UhC_bI",(e,t)=>{"use strict";var r,a,n,i,s,o=(e,t)=>{e.withScope(r=>{Object.entries(t.tags).forEach(([e,t])=>{r.setTag(e,t)}),t.extraData&&Object.entries(t.extraData).forEach(([e,t])=>{r.setExtra(e,t)}),e.captureException(t.error)})},l=!1,c=10,u=null,g=({drsInfo:e},r,{version:a,domainName:n},i="tripadvisor-web-app")=>Promise.all([t("xJD91H"),t("a3FWKi")]).then(([t,s])=>{if(!l){l=!0;var g,_=`https://sentry@${n}/SentryProxy`;g=/\.dev(-[a-z]+)?\.tripadvisor(-preview)?\./.test(n)?"webml":/(hare(-[a-z]+)?|\.qa)\.tripadvisor(-preview)?\./.test(n)?"hare":"live";var p={dsn:_,release:a,environment:g,includePaths:["rutabaga_cyclone"],integrations:[new s.CaptureConsole({levels:["error"]})],beforeSend:e=>(c===Math.ceil(5)&&null===u&&(u=setTimeout(()=>{c=10,u=null},6e4)),0===c?null:(c--,e&&e.exception&&e.exception.values&&e.exception.values.forEach(e=>{e&&e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.forEach(e=>{e&&e.filename&&e.filename.includes("t1.tacdn.com")&&(e.filename=e.filename.replace(/session_id(.*)(?=&)/,"session_id=STRIPPED_BY_SENTRY"))})}),e))};t.init(p),t.configureScope(t=>{t.setTag("hostName",n),t.setTag("runMode","production"),t.setTag("environment",g),t.setTag("logger","jsDefault"),t.setExtra("drsInfo",e),t.setExtra("sentryProject",i)}),"undefined"!=typeof __PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__.forEach(e=>{o(t,{error:1===e.length&&"object"==typeof e[0]?e[0]:new Error(e.join(" ")),tags:{logger:"commonLogging"}})}),__PRE_SENTRY_ERRORS__=null}return t.configureScope(e=>{e.setTag("page",r)}),t}),_=({installer:e,fallbackPageName:t,project:o="tripadvisor-web-app"}={})=>{var l=e||g,c=s.useContext(r),[u]=s.useContext(a),_=s.useContext(n),p=s.useRef({status:"uninitialized"});s.useEffect(()=>{"uninitialized"===p.current.status?p.current={status:"initializing",done:new Promise(e=>{i(()=>requestIdleCallback(()=>{l(c,u.page||t,_,o).then(()=>{e(),p.current={status:"initialized"}})}))})}:"initializing"===p.current.status?p.current={status:"initializing",done:p.current.done.then(()=>l(c,u.page,_,o))}:l(c,u.page,_,o)},[c,u,_,l,t,o])},p=e=>(_(e),null);return[()=>{e({LOGGER_COMMON_LOGGING:"commonLogging",Sentry:p,installSentry:g,sendSentryRequest:o,useSentry:_})},[e=>(r=e.Debug,a=e.Route,n=e.Environment),e=>i=e.requestTTICallback,e=>s=e]]},["2R4xv2","6NeHQy","cDcdfi"]]);
(this.$WP=this.$WP||[]).push(["jb_4W2",(e,t)=>{"use strict";var f,k,a,g,y,h,r,n,v,l,P=([e,t])=>"string"==typeof t||"number"==typeof t?[[e,""+t]]:"boolean"==typeof t?[[e,t?"true":"false"]]:[],w=(e,t)=>{switch(t.type){case"startLoadingMoniker":return{monikers:[...e.monikers,t.payload],loaded:e.loaded};case"finishLoadingMoniker":return e.loaded.add(t.payload),{monikers:e.monikers,loaded:e.loaded};default:throw new Error("Attempted to dispatch an action with a type that does not exist")}},o=({config:i,children:e})=>{var[l,u]=f.useReducer(w,{monikers:[],loaded:new WeakSet}),[{path:s},{uid:d}]=f.useContext(h),{locale:{code:c},domainName:p}=f.useContext(r),o=f.useRef(new Set),m=f.useRef(0),t=f.useCallback(e=>{m.current++;var t="string"==typeof e?e:e.type,a="string"==typeof e?{}:e.payload,r=(null==i?void 0:i.servlet)||null,n=(null==i?void 0:i.fullPageUrl)||`https://${p}${s}`,l=document.referrer||null,e=document.title||null,e=[...Object.entries(a),["servlet",r],["fullPageUrl",n],["path","/Unknown"!==s?s:null],["puid",d],["referringUrl",l],["pageTitle",e],["localeTag",c],["pixelType",t],["lithium",!i]].flatMap(P),o="/PageMoniker?"+new URLSearchParams(e).toString();k(()=>{u({type:"startLoadingMoniker",payload:[d,t,o]})})},[i,p,s,d,c]);return f.useEffect(()=>()=>{o.current.forEach(e=>a(e))},[]),f.createElement(f.Fragment,null,f.createElement(n.Provider,{value:t},f.createElement(v,null,e)),l.monikers.map((r,e)=>{var[t,a,n]=r;return l.loaded.has(r)&&t!==d?null:f.createElement(y,{"data-moniker-type":a,className:"_15gGlX5W",src:n,title:"PageMoniker",key:`${e}${n}`,onLoad:e=>{u({type:"finishLoadingMoniker",payload:r});var t=e.currentTarget.contentWindow,a=g(e=>{t.postMessage("TimeToInteractive:"+(e||"null"),"*"),o.current.delete(a)});o.current.add(a)}})}))},i=t=>{var a=f.useContext(n);return f.useCallback(()=>new Promise(e=>{a?a(t,e):e(null)}),[a,t])},u=(e,t=!0)=>{var[,{uid:a}]=f.useContext(h),r=i({type:"PAGEVIEW",payload:e||{}}),n=f.useRef(r);f.useEffect(()=>{n.current=r},[r]),f.useEffect(()=>{t&&!l.has(a)&&(n.current(),l.add(a))},[a,t])};return[()=>{n=f.createContext(null),v=f.memo(({children:e})=>e),l=new Set,e({MonikerConfiguration:o,usePageViewMoniker:u,usePixelCallback:i})},[e=>f=e,e=>k=e.enqueue,e=>(a=e.cancelTTICallback,g=e.requestTTICallback),e=>y=e.Pixel,e=>(h=e.Route,r=e.Environment)]]},["cDcdfi","lMO0v3","6NeHQy","m5ZZFI","2R4xv2"]]);

(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"9Jvu":function(e,a){e.exports={borderRadiusForSmallElements:3,borderRadiusForLargeElements:6,standardBoxShadow:"0 0 15px 0 rgba(0, 0, 0, 0.5)"}},AqyC:function(e,a,t){"use strict";var n=t("lSNA"),r=t.n(n),n=t("DzJC"),s=t.n(n),l=t("q1tI"),o=t.n(l),c=t("llw0"),i=t("HS+D"),m=t("Jq/n"),d=t("YHZ/"),p=t("zoQI"),n=t("y4uf"),u=t("bzyq");class b extends l.Component{constructor(){super(...arguments),r()(this,"state",{scrollPosition:0,containerWidth:0,scrollWidth:0}),r()(this,"scrollContainerRef",Object(l.createRef)()),r()(this,"onScroll",s()(()=>{var e=this.scrollContainerRef.current?Math.max(this.scrollContainerRef.current.scrollLeft,0):0;this.setState({scrollPosition:e})},33.333333333333336)),r()(this,"scrollChildrenDidChange",s()(()=>{var e=null===(e=this.scrollContainerRef.current)||void 0===e?void 0:e.scrollWidth;void 0!==e&&this.setState({scrollWidth:e})},250)),r()(this,"onResize",()=>{var e,a,t;this.setState({containerWidth:null===(e=this.scrollContainerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth,scrollWidth:null===(a=this.scrollContainerRef)||void 0===a||null===(t=a.current)||void 0===t?void 0:t.scrollWidth})}),r()(this,"scrollLeft",()=>{this.scroll(!1)}),r()(this,"scrollRight",()=>{this.scroll(!0)}),r()(this,"scroll",e=>{var a=this.scrollContainerRef.current,t=this.props,n=t.itemWidth,r=t.visibleWidth,t=this.state.containerWidth;a&&(t=Math.min(r,t)/n,t=Math.round(t/2),e=Math.max(t,1)*(e?1:-1),a.scrollBy({left:n*e,behavior:"smooth"}))})}componentDidMount(){var e=this.scrollContainerRef.current;i.b.on("resize",this.onResize),this.setState({scrollWidth:(null==e?void 0:e.scrollWidth)||0,containerWidth:null==e?void 0:e.clientWidth}),e&&(this.mutationObserver=new MutationObserver(this.scrollChildrenDidChange),this.mutationObserver.observe(e,{childList:!0,subtree:!0}))}componentWillUnmount(){var e;i.b.off("resize",this.onResize),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.scrollChildrenDidChange.cancel(),this.onScroll.cancel()}render(){var e=this.props,a=e.children,t=e.visibleWidth,n=e.className,r=e.itemWidth,s=e.appContext._t,l=this.state,i=l.scrollPosition,e=l.containerWidth,l=l.scrollWidth,t="calc((100% - ".concat(t,"px) / 2)"),n=Object(m.a)([n,u.a.carouselWrapper]);return o.a.createElement("div",{className:n},o.a.createElement("div",{className:u.a.scrollContainer,onScroll:this.onScroll,ref:this.scrollContainerRef},o.a.createElement(c.a.Provider,{value:{window:this.calculateWindowBasedOnScroll(i),scrollContainerRef:this.scrollContainerRef}},o.a.createElement("div",{style:{paddingLeft:t}}),a,o.a.createElement("div",{style:{paddingRight:t}}),o.a.createElement(p.a,{className:Object(m.a)({[u.a.arrow]:!0,[u.a.hidden]:i<r/2}),style:{left:0,paddingLeft:t},label:s("Scroll carousel left"),onClick:this.scrollLeft},o.a.createElement(d.d,{size:{height:40,width:40}})),o.a.createElement(p.a,{className:Object(m.a)({[u.a.arrow]:!0,[u.a.hidden]:l<=i+e}),style:{right:0,paddingRight:t},label:s("Scroll carousel right"),onClick:this.scrollRight},o.a.createElement(d.a,{size:{height:40,width:40}})))))}calculateWindowBasedOnScroll(e){for(var a=this.props,t=a.visibleWidth,n=a.itemWidth,a=t+e,t=e/n,e=Math.floor(t),t=Math.min(1.5*(1-(t-e)),1),n=a/n,r=Math.floor(n),s={[e]:{opacity:t},[r]:{opacity:Math.min(1.5*(n-r),1)}},l=e+1;l<r;l+=1)s[l]={opacity:1};return s}}a.a=Object(n.d)(b)},Emes:function(e,a,t){"use strict";function n(e){var a=e.width,t=e.endpointApiRequest,n=e.getObjectsFromResponse,r=e.getInitialPage,s=e.onPagination,l=e.getNextLink,i=e.setRefreshCallback,o=e.onTagClick,c=e.getTagRenderInfo,m=Object(d.useCallback)((e,a)=>{var t,n=e.backgroundImage,r=e.backgroundColor,s=e.tagName,e=e.links;return p.a.createElement(f.a,{index:a,key:s},p.a.createElement("div",{className:k.a.tagChicletCarouselItem},p.a.createElement(O.a,{tagName:s,className:k.a.tagChicletLink,onClick:()=>o(s),toOverride:null==e||null===(t=e.tap)||void 0===t?void 0:t.href},p.a.createElement("div",{className:k.a.tagChicletWrapper,style:n?{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("'.concat(n,'")'),backgroundSize:"cover",backgroundPosition:"center"}:r?{backgroundColor:r}:void 0},p.a.createElement("span",null,s)))))},[o]);return p.a.createElement(E.a,{visibleWidth:a,className:k.a.tags,itemWidth:w},p.a.createElement(C.a.Consumer,null,e=>{e=e.scrollContainerRef;return p.a.createElement(N.a,{endpointApiRequest:t,getObjectsFromResponse:n,getInitialPage:r,direction:v.a.Right,onPagination:s,getNextLink:l,scrollContainer:e.current,loader:I},e=>{var a=e.objects,e=e.refresh;return null==i||i(e),a.map((e,a)=>m(c(e),a))})}))}var r=t("pVnL"),s=t.n(r),l=t("lSNA"),i=t.n(l),d=t("q1tI"),p=t.n(d),o=t("s5E+"),c=t("goXf"),m=t("xlgu"),u=t("vN+2"),b=t.n(u),r=t("y4uf"),h=t("4S20"),g=t("M3r2"),v=t("fMdv"),E=t("AqyC"),C=t("llw0"),f=t("JR12"),N=t("uaYK"),l=t("yBJ7"),O=t("3QcM"),u=t("Dcbp"),j=t.n(u),k=t("z4Nh"),w=u.tagCarouselTagWidth+u.tagCarouselTagSpacing,I=p.a.createElement("div",{className:k.a.tagCarouselLoader},p.a.createElement(l.b,{centerOrientation:l.a.HorizontalAndVertical}));class y extends d.Component{constructor(){super(...arguments),i()(this,"renderFollowedTagsCarouselContent",e=>{e=e.width;return p.a.createElement(n,{width:e,endpointApiRequest:void 0,onTagClick:b.a,getObjectsFromResponse:this.getTagsFromResponse,getNextLink:this.getNextLink,getInitialPage:this.getInitialContent,getTagRenderInfo:this.getTagRenderInfo})}),i()(this,"getInitialContent",()=>{var e=this.props.timelineObject,a=e.elements,e=e.links;return{objects:a,nextLink:null==e?void 0:e.next}}),i()(this,"getTagsFromResponse",e=>e.response.timeline.elements),i()(this,"getNextLink",e=>{var a,t,e=e.response;return null==e||null===(a=e.timeline)||void 0===a||null===(t=a.links)||void 0===t?void 0:t.next}),i()(this,"getTagRenderInfo",e=>e)}render(){return p.a.createElement(g.a,null,e=>e.isMobile?p.a.createElement(h.b,null,this.renderFollowedTagsCarouselContent):this.renderFollowedTagsCarouselContent({width:j.a.postWidth}))}}var x=Object(r.d)(y),S=t("Foz7");class T extends d.Component{constructor(){super(...arguments),i()(this,"logWarningInConsole",()=>{var e=this.props.timelineObject;return e&&"production"===c.a.Development&&(0===e.elements.length?console.warn("Unsupported unknown carousel timeline object type with ID ".concat(e.id)):console.warn('Unsupported carousel timeline object type "'.concat(e.elements[0].objectType,'" with ID ').concat(e.id))),null})}render(){var e=this.props.timelineObject;return Object(o.q)(e)?p.a.createElement(m.a,s()({},this.props,{timelineObject:e})):Object(o.u)(e)?p.a.createElement(x,s()({},this.props,{timelineObject:e})):Object(o.C)(e)?p.a.createElement(S.a,s()({},this.props,{useFadingCarousel:!0,timelineObject:e})):(this.logWarningInConsole(),null)}}a.a=Object(r.d)(T)},Foz7:function(e,a,t){"use strict";t.d(a,"a",function(){return O});var n=t("lSNA"),r=t.n(n),s=t("q1tI"),l=t.n(s),i=t("g2Yl"),o=t("VXYR"),c=t("3QcM"),m=t("aE2t"),a=t("y4uf"),d=t("GcYn"),n=t("Dcbp"),p=t.n(n),u=t("OJTr");class b extends s.Component{constructor(){super(...arguments),r()(this,"renderChicletContent",(e,a)=>{var t=e.objectData.backgroundImage,n=this.props,e=n.tagName,n=n.appContext._c;return t?l.a.createElement("div",{className:u.a.tagImage,key:a},l.a.createElement(o.b,{imageResponse:[{url:t,width:p.a.tagCardImageWidth,height:p.a.tagCardImageWidth*p.a.tagCardImageSizeRatio}],isSquare:!1,altText:n("Alt text for a tag's image. Placeholder is the untranslated tag text.","#%1$s",e),sizes:"".concat(2*p.a.tagCardImageWidth,"px")})):null}),r()(this,"logUserClickedOnTagCard",()=>this.props.appContext.logEvent({eventName:i.b.ClickedOnTagCard,eventDetails:{tag:this.props.tagName}}))}render(){var e=this.props,a=e.tagName,t=e.posts,n=e.backgroundColor,r=e.borderColor,e=Object(d.c)(n);return l.a.createElement("div",{className:u.a.tagCard,style:{backgroundColor:n,borderColor:r}},l.a.createElement(c.a,{tagName:a,onClick:this.logUserClickedOnTagCard},l.a.createElement("div",{className:u.a.tagCardTitle,style:{color:e}},l.a.createElement("span",null,"#",a)),l.a.createElement("div",{className:u.a.tagCardPosts},t.slice(0,2).map(this.renderChicletContent))),l.a.createElement(m.a,{tag:a,isFollowed:!1,pageName:i.d.TAGGED,className:u.a.followButton,extraStyles:{backgroundColor:e,color:n}}))}}var h=Object(a.d)(b),g=t("yBJ7"),v=t("4S20"),E=t("AqyC"),C=t("JR12"),f=t("Jq/n"),N=t("Y8ks");class O extends s.Component{constructor(){super(...arguments),r()(this,"renderTagCards",t=>{var e;return null===(e=this.props.timelineObject)||void 0===e?void 0:e.elements.map((e,a)=>l.a.createElement("div",{className:N.a.tagCardCarouselItem,key:e.id},t?l.a.createElement(C.a,{index:a},l.a.createElement(h,e)):l.a.createElement(h,e)))})}render(){var e=this.props,a=e.timelineObject,t=e.useLoader,e=e.useFadingCarousel;return l.a.createElement("div",{className:Object(f.a)({[N.a.tagCardCarouselContainer]:!0,[N.a.nonScrollingCarousel]:!e})},t&&!a?l.a.createElement(g.b,{centerOrientation:g.a.HorizontalAndVertical}):e?l.a.createElement(v.b,null,e=>{e=e.width;return l.a.createElement(E.a,{itemWidth:140,visibleWidth:e-2*p.a.mobileTimelineHeaderMargin},this.renderTagCards(!0))}):this.renderTagCards())}}r()(O,"defaultProps",{useLoader:!0})},JR12:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),s=t("llw0");class l extends n.Component{shouldComponentUpdate(){return!1}render(){return this.props.children}}a.a=e=>{var a=e.className,t=e.index,n=e.children;return r.a.createElement(s.a.Consumer,null,e=>{e=e.window,e=e[t]?e[t].opacity:0;return r.a.createElement("div",{style:{opacity:e},className:a},r.a.createElement(l,null,n))})}},VrQg:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var l,n=t("3tO9"),i=t.n(n),n=t("q1tI"),o=t.n(n),c=t("Jq/n"),m=t("zoQI"),n=t("fSeh"),d=t.n(n),p=t("r/7E"),u=t("ixRK"),b=t("Uif1"),h=t("p/m3");(t=l=l||{}).Info="info",t.Success="success",t.Warning="warning",t.Error="error";var g=(e,a)=>o.a.cloneElement(e,{fill:a});a.b=e=>{var a=e.theme,t=e.title,n=e.message,r=e.wrapperClassName,s=e.firstAction,e=e.secondAction;return o.a.createElement("div",{style:i()({},(e=>{switch(e){case l.Success:return{background:d.a.glassGreen15};case l.Warning:return{background:d.a.betamaxOrange15};case l.Error:return{background:d.a.rokrRed15};default:l.Info;return{background:d.a.dreamcastBlue15}}})(a)),className:Object(c.a)([h.a.alert,r])},o.a.createElement("div",{className:h.a.icon},(e=>{switch(e){case l.Success:return g(o.a.createElement(u.a,null),d.a.glassGreen);case l.Warning:return g(o.a.createElement(b.a,null),d.a.betamaxOrange);case l.Error:return g(o.a.createElement(b.a,null),d.a.rokrRed);default:l.Info;return g(o.a.createElement(p.a,null),d.a.dreamcastBlue)}})(a)),o.a.createElement("div",{className:h.a.details},t&&o.a.createElement("label",{className:h.a.title},t),o.a.createElement("label",{className:h.a.message},n),s&&o.a.createElement("div",{className:h.a.actions},o.a.createElement(m.a,{label:s[0],onClick:s[1]},o.a.createElement("h2",{className:h.a.action},s[0])),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{className:h.a.seperator},"•"),o.a.createElement(m.a,{label:e[0],onClick:e[1]},o.a.createElement("h2",{className:h.a.action},e[0]))))))}},aE2t:function(e,a,t){"use strict";var n=t("J4zp"),h=t.n(n),g=t("q1tI"),v=t.n(g),r=t("Ty5D"),E=t("M40m"),C=t("ofoP"),f=t("y4uf"),N=t("zoQI"),O=t("Jq/n"),j=t("Qtnd"),n=t("wzEd"),k=t("e5Mu"),t=e=>{var a=e.tag,t=e.className,n=e.pageName,r=e.location,s=e.isFollowed,l=e.extraStyles,i=Object(f.c)(),o=i._t,c=i.apiFetch,m=i.isLoggedIn,d=Object(g.useState)(),p=h()(d,2),e=p[0],u=p[1],b=Object(g.useMemo)(()=>Object(j.a)(c),[f.a]);Object(g.useEffect)(()=>{void 0!==s?u(s):m&&b.isFollowingTag(a).fetch(e=>{e=e.response.following;return u(e)})},[m,a,s]);i=Object(g.useCallback)(()=>b.followTag(a,n).fetch(()=>u(!0)),[a]),d=Object(g.useCallback)(()=>b.unfollowTag(a,n).fetch(()=>u(!1)),[a]),p=o("Follow");return m&&void 0===e?null:e?v.a.createElement(N.a,{wrapperClassName:Object(O.a)([k.a.button,t]),className:k.a.unfollowButton,onClick:d,label:o("Unfollow this tag"),style:l},o("Unfollow")):v.a.createElement(N.a,{wrapperClassName:Object(O.a)([k.a.button,t]),className:k.a.followButton,onClick:i,label:o("Follow this tag"),style:l},m?p:v.a.createElement("a",{href:Object(C.j)({formToShow:E.a.Register},{redirect_to:r.pathname})},p))},r=Object(r.o)(t);Object(n.a)(r,"".concat(t.name,"WithRouter")),a.a=r},afBf:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),n=t("fSeh"),t=t("s2Hx"),r=Object(t.c)(r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11z","fill-opacity":"0.1"}),r.a.createElement("path",{d:"M12 18a1 1 0 01-1-1v-6a1 1 0 112 0v6a1 1 0 01-1 1z M12 8a1 1 0 110-2 1 1 0 010 2z"})));r.defaultProps={size:{width:24,height:24},fill:n.white},a.a=r},dT4H:function(e,a,t){"use strict";var n=t("pVnL"),r=t.n(n),n=t("QILm"),s=t.n(n),n=t("q1tI"),l=t.n(n),i=t("55Ip"),o=t("Jq/n"),c=t("5obZ");a.a=e=>{var a=e.children,t=e.className,n=e.wrapperClassName,e=s()(e,["children","className","wrapperClassName"]);return l.a.createElement(i.Link,r()({className:Object(o.a)([c.a.link,n])},e),l.a.createElement("span",{className:Object(o.a)([c.a.linkInner,t]),tabIndex:-1},a))}},llw0:function(e,a,t){"use strict";t=t("q1tI"),t=Object(t.createContext)({window:{},scrollContainerRef:Object(t.createRef)()});a.a=t},"r/7E":function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),n=t("fSeh"),t=t("s2Hx"),r=Object(t.c)(r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm0-5a1 1 0 01-1-1v-6a1 1 0 112 0v6a1 1 0 01-1 1zm0-10a1 1 0 110-2 1 1 0 010 2z"})));r.defaultProps={size:{width:24,height:24},fill:n.white},a.a=r},rqSm:function(e,a,t){"use strict";t.d(a,"b",function(){return Pa});var n,r=t("lSNA"),s=t.n(r),l=t("Y+p1"),i=t.n(l),C=t("q1tI"),f=t.n(C),u=t("s5E+"),o=t("pCNn"),c=t("apQO"),m=t("VULT"),d=t("aRuQ"),r=t("pVnL"),b=t.n(r),N=t("g2Yl"),p=t("x2UA");(l=n=n||{}).Image="image",l.Video="video";var h=t("aJ4X"),g=t("PXvT"),v=t("78v1"),E=t("wWh2"),O=t("A4z9"),r=t("cTEG"),j=t("y4uf"),k=t("Dcbp"),w=t.n(k),l=t("9Jvu"),I=t.n(l),y=t("fSeh"),x=t.n(y),S=t("Jq/n"),T=t("xP2J"),R=["ad.doubleclick.net"];class D extends C.Component{constructor(){super(...arguments),s()(this,"getVideoCrossOrigin",e=>{e=e?new URL(e).hostname:"";if(!(-1<R.indexOf(e)))return"anonymous"}),s()(this,"renderVideoTakeover",e=>{var a=this.props.timelineObject,t=a.text,n=a.sponsoredDayVideoDisableAutoLooping,r=a.sponsoredDayVideoDisableSound,s=e.height,l=e.width,i=e.url,e={height:s,width:l,url:i};return f.a.createElement(f.a.Fragment,null,this.renderCTALinkContent(f.a.createElement("div",{className:T.a.videoWrapper,style:{paddingBottom:"".concat(s/l*100,"%")}},f.a.createElement("div",{className:T.a.videoInnerWrapper},f.a.createElement(E.a,{media:e,minHeight:s/l*100,hasNoMaxUndockedHeight:!0,isVideoSponsoredDay:!0,disableAutolooping:n,soundDisabled:r,useViewabilityTracker:!0,timelineObject:a,playerStyle:{borderRadius:I.a.borderRadiusForSmallElements},videoElementProps:{crossOrigin:this.getVideoCrossOrigin(i)}}))),this.logClickOnBanner),this.renderCTALinkContent(f.a.createElement("div",{className:T.a.ctaButton},t),this.logClickOnButton,T.a.videoCTA),this.renderSponsoredIndicator())}),s()(this,"renderImageTakeover",e=>{var a=this.props.timelineObject.text,t=!a||0===a.trim().length,a=f.a.createElement(f.a.Fragment,null,f.a.createElement(h.a,{imageResponse:e,sizes:"(max-width: ".concat(w.a.phoneResponsiveMaxBreakpoint,"px) 100vw, ").concat(w.a.postWidth,"px"),className:Object(S.a)({[T.a.takeoverBannerImage]:!0,[T.a.noText]:t})}),!t&&f.a.createElement("span",{className:T.a.takeoverText},a," ",f.a.createElement(v.a,{size:{width:12,height:12}})));return f.a.createElement("div",{className:T.a.takeoverBanner,style:{paddingBottom:"40%"}},this.renderCTALinkContent(a,this.logClickOnBanner,T.a.destinationLink),this.renderSponsoredIndicator())}),s()(this,"renderCTALinkContent",(e,a,t)=>{var n=this.props.timelineObject,r=n.sponsoredDayClickthrough,n=n.blog,t={children:e,onClick:a,className:t};return r&&n?f.a.createElement(g.a,b()({blogName:n.name,blog:n,showBlogCard:!1},t)):f.a.createElement("a",b()({href:this.getDestinationLink(),target:"_blank",rel:"noopener"},t))}),s()(this,"renderSponsoredIndicator",()=>{var e=this.props.timelineObject,a=e.displayType,e=e.sponsoredBadgeUrl;return a===p.a.Sponsored&&f.a.createElement("div",{className:T.a.sponsoredIndicator},f.a.createElement(O.a,{link:e,color:x.a.white}))}),s()(this,"logClickOnBanner",()=>{this.logClick(N.b.Click)}),s()(this,"logClickOnButton",()=>this.logClick(N.b.ClickThrough)),s()(this,"logClick",e=>{var a=this.props,t=a.timelineObject.placementId;(0,a.appContext.logEvent)({eventName:e,eventDetails:{placement_id:t}})}),s()(this,"getDestinationLink",()=>{var e,a;return null===(e=this.props.timelineObject.links)||void 0===e||null===(a=e.destination)||void 0===a?void 0:a.href})}render(){var e=this.props.timelineObject.assets;if(!e||!this.getDestinationLink())return null;var a=e.reduce((e,a)=>{switch(a.type){case n.Video:e.videoAsset=a;break;case n.Image:e.imageAssets.push(a)}return e},{imageAssets:[]}),e=a.videoAsset,a=a.imageAssets;return e?this.renderVideoTakeover(e):!!a.length&&this.renderImageTakeover(a)}}var l=Object(j.d)(D),A=Object(r.a)(l),L=t("Kiv0"),B=t("nP2J"),P=e=>{var a=e.timelineObject,e=a.lineColor,a=a.labelContentBlock,e={borderColor:e};return f.a.createElement("div",{className:B.a.hrWithLabel},f.a.createElement("div",{className:B.a.lineChunk,style:e}),f.a.createElement("div",{className:B.a.text},Object(L.a)(a.text,a.formatting)),f.a.createElement("div",{className:B.a.lineChunk,style:e}))},W=t("Emes"),M=t("goXf"),l=t("vN+2"),z=t.n(l),q=t("QPbL"),_=t("yk2S"),l=t("o56e"),F=t("yvvX"),H=t("zoQI"),G=t("RoGk");class V extends C.Component{constructor(){super(...arguments),s()(this,"renderOption",(e,a,t,n)=>{var r=e.text,s=e.displayType,l=e.link,i=l.type,o=l.href,c={className:Object(S.a)({[G.a.option]:!0,[G.a.selected]:s===u.a.Selected,[G.a.discreet]:s===u.a.Discreet}),key:r,label:r},m={};t&&a&&(m.backgroundColor=s===u.a.Selected?n:a,m.color=s===u.a.Selected?a:n);var d=null,p=()=>{this.onActionClick(i,e)};switch(i){case q.a.Web:d=f.a.createElement("a",b()({},c,{href:o,target:"_blank",rel:"noopener",onClick:p,style:m}),r);break;case q.a.Action:d=f.a.createElement(H.a,b()({},c,{style:m,onClick:p}),r)}return d}),s()(this,"getDismissOnClick",e=>e.onTap===u.b.Dismiss?this.dismiss:z.a),s()(this,"dismiss",e=>{var a=this.props,t=a.timelineObject,n=a.timelineContext.onRemoveTimelineObject,a=a.toastContext.toggleToast;null==n||n({id:t.id}),null!=e&&e.response&&(null==a||a(e.response.message))}),s()(this,"onActionClick",(e,a)=>{var t=Object(F.a)(this.props.timelineObject),n=this.props.appContext.apiFetch;switch(this.logOptionEvent(a.onTap===u.b.Dismiss,a.text,null==t?void 0:t.bannerId),e){case q.a.Web:this.getDismissOnClick(a)();break;case q.a.Action:var r=Object(_.a)(a.link,n,this.getDismissOnClick(a));r&&r()}}),s()(this,"logOptionEvent",(e,a,t)=>{this.props.appContext.logEvent({eventName:N.b.BannerActionClick,eventDetails:{is_dismiss:e,action_label:a,banner_id:t}})})}render(){var e=this.props.timelineObject,a=Object(F.a)(e);if(!a)return null;var t=a.title,e={};return a.backgroundColor&&a.textColor&&(e.backgroundColor=a.backgroundColor,e.color=a.textColor),f.a.createElement("div",{className:G.a.announcement,style:e},f.a.createElement("h3",{className:G.a.title},t),this.renderOptions())}renderOptions(){var e=this.props.timelineObject,a=Object(F.a)(e),e=a.options,t=a.buttonColor,n=a.backgroundColor,r=a.textColor;return e&&0!==e.length?f.a.createElement("div",{className:G.a.options},e.map(e=>this.renderOption(e,t,n,r))):null}}var l=Object(l.b)(V,{appContext:!0,toastContext:!0,timelineContext:!0}),J=Object(r.a)(l),U=t("w7rC"),Y=t("Gt/x"),Q=t("X9Ig"),X=t("AfAo"),Z=t("afBf"),K=t("a+rT"),$=t("ghwC"),ee=t("nA7Y"),ae=t("vSkO"),te=t("8/Xn"),ne=t("10K7"),re=t("suNO"),se=e=>{var a=e.subscriberInfo,t=a.planOwner,n=a.blogName,a=e.showRefundRequest,e=Object(j.c)()._c,r=Object(ne.b)().openConversationWindow;return f.a.createElement("div",{className:re.a.meatballMenu},f.a.createElement(ae.a,{linkTo:Object(te.a)({peeprBlogname:n}),keepDropdownOpenAfterClick:!1,className:Object(S.a)([re.a.meatballItem]),key:"View blog"},e("Menu item to view the blog","View Blog")),f.a.createElement(ae.a,{onClick:()=>{r({selectedBlogName:t,otherParticipantName:n})},keepDropdownOpenAfterClick:!0,className:Object(S.a)([re.a.meatballItem]),key:"Message"},e("Menu item to message blog","Message")),a&&f.a.createElement(ae.a,{keepDropdownOpenAfterClick:!0,className:Object(S.a)([re.a.meatballItem,re.a.orange]),key:"View refund"},e("Menu item to view refund request","View refund request")))},le=t("rKD4"),ie=t("rmi/"),oe=e=>{var a=e.subscriberInfo,t=e.subscriberInfo,n=t.avatar,r=t.blogName,s=t.subscription,l=e.showRefundRequest,t=Object(j.c)(),e=t._getLocaleDateString,t=t._getPriceInCurrency;return f.a.createElement("div",{className:ie.a.subscriber},f.a.createElement("div",{className:ie.a.member},f.a.createElement(Y.a,{className:ie.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.radarAvatarSize}),f.a.createElement("span",{className:ie.a.blogName},r)),f.a.createElement("span",{className:ie.a.date},(r=s.startTime,e(new Date(1e3*r),le.a.Notes))),f.a.createElement("span",{className:ie.a.price},(e=s.price,r=s.currencyCode,s=s.periodAbbreviation,t=Object(K.a)(e,r,t),"".concat(t,"/").concat(s))),f.a.createElement("div",{className:ie.a.actions},l&&f.a.createElement("div",{className:ie.a.warning},f.a.createElement(Z.a,{fill:x.a.paletteOrange})),f.a.createElement($.a,{type:ee.c.Click,render:()=>f.a.createElement(se,{subscriberInfo:a,showRefundRequest:l}),position:ee.b.BottomEnd,width:"216px",height:"auto",isChromeless:!0},f.a.createElement(H.a,{wrapperClassName:ie.a.more},f.a.createElement(X.b,{fill:x.a.paletteGray65})))))},ce=(e,a)=>{var t=e.price,n=e.currencyCode,e=e.periodAbbreviation,a=Object(K.a)(t,n,a);return"".concat(a,"/").concat(e)},me=(e,a)=>pe(e,e=>e.nextBillingTime,a),de=(e,a)=>pe(e,e=>e.endTime,a),pe=(e,a,t)=>{e=a(e);return e?t(new Date(1e3*e),le.a.Notes):""},ue=t("OPDf"),be=t("xbNx"),he=e=>{var a=e.subscriberInfo,t=e.subscriberInfo,n=t.avatar,r=t.blogName,e=t.subscription,t=Object(j.c)()._getLocaleDateString;return f.a.createElement("div",{className:be.a.subscriber},f.a.createElement("div",{className:be.a.member},f.a.createElement(Y.a,{className:be.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.radarAvatarSize}),f.a.createElement("span",{className:be.a.blogName},r)),f.a.createElement("span",{className:be.a.inactiveSince},de(e,t)),f.a.createElement("span",{className:be.a.inactiveStatus},(e=e.status)===U.d.Cancelled?f.a.createElement(ue.d,null,"Cancelled"):e===U.d.OnHold?f.a.createElement(ue.d,null,"On-Hold"):f.a.createElement(ue.d,null,"Expired")),f.a.createElement("div",{className:be.a.actions},f.a.createElement($.a,{type:ee.c.Click,render:()=>f.a.createElement(se,{subscriberInfo:a,showRefundRequest:!1}),position:ee.b.BottomEnd,width:"216px",height:"auto",isChromeless:!0},f.a.createElement(H.a,{wrapperClassName:be.a.more},f.a.createElement(X.b,{fill:x.a.paletteGray65})))))},ge=e=>{var a=e.timelineObject,e=a.subscription.status;return e===U.d.Active||e===U.d.Pending||e===U.d.PendingCancel?f.a.createElement(oe,{subscriberInfo:a,showRefundRequest:!1}):f.a.createElement(he,{subscriberInfo:a})},ve=t("hpQ+"),Ee=t("YQ2m"),Ce=t("mTM8"),fe=t("kDNp"),Ne=e=>{var a=e.location,t=void 0===a?Ce.a.DASHBOARD:a,n=e.currentAd,r=e.supplyOpportunityInstanceId,a=e.streamPosition,e=e.presentationStyle;return f.a.createElement("div",{className:fe.a.instreamAd},n&&!Object(u.n)(n)&&f.a.createElement(ve.a,{postState:o.l.Published,showsFollowButton:!1,showsSponsored:!0,isAd:!0,isFollowingPoster:!1,isFollowingReblogger:!1}),f.a.createElement(Ee.a,{location:t,streamPosition:a,ad:n,supplyOpportunityInstanceId:r,presentationStyle:e}))},Oe=t("N0nZ"),je=t("VXYR"),ke=t("kgkf"),we=Object(j.d)(e=>{var a=e.timelineObject,t=a.text,n=a.iconUrl,r=a.links,s=a.placementId,l=e.appContext.logEvent,e=Object(C.useCallback)(()=>{l({eventName:N.b.Click,eventDetails:{placement_id:s}})},[l,s]),n=n?[{url:n,height:64,width:64}]:null;return f.a.createElement("a",{className:ke.a.answerTimeBanner,href:null===(r=r.destination)||void 0===r?void 0:r.href,target:"_blank",rel:"noopener",onClick:e},f.a.createElement("div",{className:ke.a.leftContent},n&&f.a.createElement("figure",{className:ke.a.image},f.a.createElement(je.c,{sizes:"25px",imageResponse:n,isSquare:!0})),f.a.createElement("div",{className:ke.a.description},t)),f.a.createElement("div",{className:ke.a.caret},f.a.createElement(v.a,{fill:x.a.paletteTransparentWhite65,size:{height:13,width:13}})))}),Ie=t("8ADl"),ye=t("M3r2"),xe=t("wwNl"),Se=t("tkOR"),Te=e=>{e=e.timelineObject.text;return f.a.createElement("div",{className:Se.a.titleObject},e)},l=t("J4zp"),Re=t.n(l),l=t("3tO9"),De=t.n(l),Ae=t("Ty5D"),Le=t("f5aO"),Be=t("5kYl"),Pe=e=>{var a=e.ctaCard,t=e.onActionClick,n=e.isDoingAction,r=void 0!==n&&n,n=!(null===(e=a.image)||void 0===e||!e.response),e=(null===(e=a.image)||void 0===e?void 0:e.textPosition)||u.c.Middle;return f.a.createElement("div",{className:Be.a.ctaCard},f.a.createElement("div",{className:Object(S.a)({[Be.a.ctaContent]:!0,[Be.a.withImage]:n,[Be.a.textPositionTop]:e===u.c.Top,[Be.a.textPositionMiddle]:e===u.c.Middle,[Be.a.textPositionBottom]:e===u.c.Bottom})},(null===(e=a.image)||void 0===e?void 0:e.response)&&f.a.createElement(je.b,{imageResponse:a.image.response,altText:a.text,sizes:""}),f.a.createElement("p",{className:Be.a.text},a.text)),f.a.createElement(H.a,{disabled:r,className:Be.a.ctaAction,onClick:t,wrapperClassName:Be.a.button},a.buttonText))},We=t("gf0f"),Me=t("pL70"),ze=e=>{var e=e.timelineObject,a=e.campaignName,t=e.dismissal,n=e.elements,r=e.id,e=Object(C.useState)(!1),e=Re()(e,2),s=e[0],l=e[1],e=Object(C.useState)(0),e=Re()(e,2),i=e[0],o=e[1],e=Object(j.c)(),c=e.logEvent,m=e.apiFetch,d=Object(We.b)().onRemoveTimelineObject,p=()=>n[i],u=e=>{c({eventName:N.b.TimeLineCTAClick,eventDetails:{is_dismissal:e,campaign_name:a,card_index:i}})},b=()=>d({id:r}),h=()=>{var e,a=p().action;u(!1),a?a.type===q.a.Web?(e=t.options[0],g(e.link,v)):g(a,E):E()},g=(e,a)=>{l(!0),Object(_.a)(e,m,a)()},v=()=>{var e=p().action.href,a=Object(Ae.k)();e&&a.push(e)},E=()=>{n.length===i+1?b():(l(!1),o(i+1))};return f.a.createElement("div",{className:Me.a.callToAction},n.map((e,a)=>f.a.createElement("div",{className:Object(S.a)({[Me.a.visible]:a===i,[Me.a.cardWrapper]:!0}),key:a},f.a.createElement(Pe,{isDoingAction:s,ctaCard:e,onActionClick:h}))),f.a.createElement(H.a,{disabled:s,className:Me.a.dismissalButton,onClick:()=>{var e=((e,a)=>{a=De()(De()({},e.bodyParams),{},{cardIndex:a.toString()});return De()(De()({},e),{},{bodyParams:a})})(t.options[0].link,i);u(!0),g(e,b)}},f.a.createElement(Le.a,{fill:y.paletteTransparentWhite13})))},qe=t("YHZ/"),_e=t("sXvw"),Fe=e=>{var a=e.onShowDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,l=Object(j.c)(),e=l._t,i=l._getPriceInCurrency,o=l._getLocaleDateString,t=Object(C.useCallback)(e=>ce(e,i),[s]),l=Object(C.useCallback)(e=>me(e,o),[s]);return f.a.createElement("div",{className:_e.a.subscription},f.a.createElement("div",{className:_e.a.member},f.a.createElement(Y.a,{className:_e.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:_e.a.blogName},r)),f.a.createElement("span",{className:_e.a.price},t(s)),f.a.createElement("span",{className:_e.a.date},l(s)),f.a.createElement("div",{className:_e.a.actions},f.a.createElement(H.a,{wrapperClassName:_e.a.more,label:e("show details"),onClick:a},f.a.createElement(qe.c,{fill:x.a.paletteGray65}))))},He=t("o7iY"),Ge=t("saDi"),Ve=t("Qtnd"),l=t("yXPU"),Je=t.n(l),l=t("o0o1"),Ue=t.n(l),Ye=t("/XX3"),Qe=t("dT4H"),Xe=t("51n6"),l=t("s2Hx"),l=Object(l.c)(f.a.createElement("svg",{viewBox:"0 0 24 24"},f.a.createElement("path",{fillRule:"evenodd",d:"M12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10ZM12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"}),f.a.createElement("path",{d:"M18.9605 19.8453C17.9304 17.7165 15.3098 16 11.9999 16C8.69001 16 6.06937 17.7165 5.03927 19.8453C5.07197 19.8707 5.1177 19.8997 5.17827 19.9263C5.28092 19.9713 5.4051 20 5.5388 20H18.461C18.5947 20 18.7189 19.9713 18.8215 19.9263C18.8821 19.8997 18.9278 19.8707 18.9605 19.8453ZM20.8172 19.0936C21.5113 20.5981 20.1178 22 18.461 22H5.5388C3.88195 22 2.48844 20.5981 3.18254 19.0936C4.55799 16.1123 7.98721 14 11.9999 14C16.0126 14 19.4418 16.1123 20.8172 19.0936Z"})));l.defaultProps={size:{width:24,height:24},fill:y.white};var Ze=l,Ke=t("SsS/"),$e=e=>{var a,t=e.onHideDetails,n=e.subscriptionInfo,r=n.avatar,s=n.blogName,e=Object(j.c)(),n=e._t,l=e.getUserInfo,i=Object(ne.b)().openConversationWindow,e=(a=Je()(Ue.a.mark(function e(){var a;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:a=e.sent,a=Object(Xe.a)(a.blogs),i({selectedBlogName:null==a?void 0:a.name,otherParticipantName:s});case 5:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)});return f.a.createElement("div",{className:Ke.a.subscription},f.a.createElement("div",{className:Ke.a.creatorInfo},f.a.createElement("div",{className:Ke.a.creator},f.a.createElement(Y.a,{className:Ke.a.avatar,avatarShape:Q.a.Square,imageResponse:r,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:Ke.a.blogName},s)),f.a.createElement("div",{className:Ke.a.actions},f.a.createElement(Qe.a,{key:"View blog",to:Object(te.a)({peeprBlogname:s}),wrapperClassName:Ke.a.btn,className:Ke.a.btnLayout},f.a.createElement(Ze,{fill:x.a.paletteAccent}),f.a.createElement("span",null,f.a.createElement(ue.d,{comment:"View blog"},"Profile"))),f.a.createElement(H.a,{wrapperClassName:Ke.a.btn,className:Ke.a.btnLayout,label:n("Start conversation"),onClick:e},f.a.createElement(Ye.a,{filled:!1,emptyIconFillColor:x.a.paletteAccent}),f.a.createElement("span",null,f.a.createElement(ue.d,{comment:"Start conversation"},"Message")))),f.a.createElement(H.a,{label:n("hide details"),wrapperClassName:Ke.a.action,onClick:t},f.a.createElement(qe.b,{fill:x.a.paletteGray65}))))},ea=t("+Li2"),aa=e=>{var a=e.subscriptionInfo.subscription,e=Object(j.c)()._getPriceInCurrency;return f.a.createElement("div",{className:ea.a.planInfo},f.a.createElement("div",{className:ea.a.planLabel},f.a.createElement(ue.d,{comment:"plan label"},"Plan/schedule")),f.a.createElement("div",{className:ea.a.planDetails},ce(a,e)))},ta=t("Zuqm"),na=t("sbvv"),ra=t("aCRw"),sa=t("EilA"),la=t("y42H"),ia=t("jEaf"),oa=t("IWAn"),ca=e=>{var a=e.onDismiss,t=e.onCancelClick,n=e.memberPerks,r=e.blogName,s=e.subscription,l=Object(j.c)(),e=l._t,l=l._getLocaleDateString;return f.a.createElement(ra.a,{centerContent:!0,onGlassClick:a},f.a.createElement(sa.c,{disable:sa.d}),f.a.createElement(la.b,{className:oa.a.container,title:e("Now wait just a minute"),body:f.a.createElement("div",null,e("Are you sure you want to stop supporting %1$s? You'll miss out on exclusive content plus...",r),f.a.createElement("div",{className:oa.a.perkContainer},null==n?void 0:n.map((e,a)=>f.a.createElement("span",{className:oa.a.perkPill,key:a},f.a.createElement(ia.a,{className:oa.a.pill},e))))),buttons:[{text:e("Nevermind"),onClick:a,buttonStyle:la.a.Confirm},{text:e("Cancel subscription"),onClick:t,buttonStyle:la.a.Cancel}],footer:f.a.createElement("div",{className:oa.a.footer},e("Your subscription will still be active until the end of your current billing period. Cancellation will be effective on %1$s.",me(s,l)))}))},ma=e=>{var a=e.onHideDetails,t=e.subscriptionInfo,n=Object(C.useState)(!1),r=Re()(n,2),s=r[0],l=r[1],e=Object(C.useState)([]),n=Re()(e,2),r=n[0],i=n[1],o=Object(j.c)().apiFetch,e=Object(C.useCallback)(()=>{Object(Ve.a)(o).unsubscribeToBlogMembership(t.blogName).fetch(()=>{l(!1),window.location.reload()})},[t.blogName]);Object(C.useEffect)(()=>{Object(Ve.a)(o).getBlogInfo(t.blogName,Object(na.b)([Ge.c.subscriptionPlan])).fetch(e=>{var a,t,e=e.response;i((null==e||null===(a=e.blog)||void 0===a||null===(t=a.subscriptionPlan)||void 0===t?void 0:t.memberPerks)||[])})},[]);n=Object(C.useCallback)(()=>{l(!s)},[s]);return f.a.createElement("div",{className:ta.a.subscription},f.a.createElement($e,{subscriptionInfo:t,onHideDetails:a}),f.a.createElement(aa,{subscriptionInfo:t}),f.a.createElement("div",{className:ta.a.refundInfo},f.a.createElement("div",{className:ta.a.refundLabel},f.a.createElement(ue.d,{comment:"support label"},"Contact Support")),f.a.createElement("div",{className:ta.a.actionGroup},f.a.createElement("div",{className:ta.a.refund},f.a.createElement(ue.d,{comment:"contact support link",components:{refundLink:f.a.createElement("a",{href:"https://tumblr.com/help",target:"_blank"})}},"If you have a question or concern regarding an unauthorised payment [refundLink]contact our Support team[/refundLink] for more help.")),s&&f.a.createElement("div",{className:ta.a.cancellationContainer},f.a.createElement(ca,{memberPerks:r,subscription:t.subscription,onDismiss:n,onCancelClick:e,blogName:t.blogName})),f.a.createElement(He.c,{className:ta.a.cancelBtn,wrapperClassName:ta.a.cancel,textColor:x.a.paletteGray80,backgroundColor:x.a.paletteGray13,theme:He.b.Border,onClick:n},f.a.createElement(ue.d,{comment:"Cancellation button"},"Cancel subscription")))))},da=e=>{var a=e.subscriptionInfo,t=Object(C.useState)(!1),e=Re()(t,2),t=e[0],n=e[1];return t?f.a.createElement(ma,{subscriptionInfo:a,onHideDetails:()=>{n(!1)}}):f.a.createElement(Fe,{subscriptionInfo:a,onShowDetails:()=>{n(!0)}})},pa=t("3nO1"),ua=e=>{var a=e.onShowDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,e=Object(j.c)(),t=e._t,l=e._getLocaleDateString,e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"cancellation effective date",params:{date:de(e,l)}},"Cancellation effective [date]"),[s]);return f.a.createElement("div",{className:pa.a.subscription},f.a.createElement("div",{className:pa.a.member},f.a.createElement(Y.a,{className:pa.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:pa.a.blogName},r)),f.a.createElement("span",{className:pa.a.cancelationMessage},e(s)),f.a.createElement("div",{className:pa.a.actions},f.a.createElement(H.a,{wrapperClassName:pa.a.expand,label:t("show details"),onClick:a},f.a.createElement(qe.c,{fill:x.a.paletteGray65}))))},ba=t("VrQg"),ha=t("wXs7"),ga=e=>{var a=e.onHideDetails,t=e.subscriptionInfo.subscription,n=e.subscriptionInfo,r=Object(j.c)(),e=r._t,r=r._getLocaleDateString;return f.a.createElement("div",{className:ha.a.subscription},f.a.createElement($e,{subscriptionInfo:n,onHideDetails:a}),f.a.createElement(aa,{subscriptionInfo:n}),f.a.createElement("div",{className:ha.a.refundInfo},f.a.createElement("div",{className:ha.a.refundLabel},f.a.createElement(ue.d,{comment:"support label"},"Contact Support")),f.a.createElement("div",{className:ha.a.refund},f.a.createElement(ue.d,{comment:"Request refund link",components:{refundLink:f.a.createElement("a",{href:"https://tumblr.com/help",target:"_blank"})}},"If you have a question or concern regarding an unauthorised payment [refundLink]contact our Support team[/refundLink] for more help."))),f.a.createElement("div",null,f.a.createElement(ba.b,{wrapperClassName:ha.a.cancellationInfo,theme:ba.a.Info,title:e("This subscription has been cancelled"),message:f.a.createElement(ue.d,{comment:"Cancellation message",params:{date:de(t,r)},components:{bold:f.a.createElement("strong",null)}},"Your subscription will still be active until the end of your current billing period. Cancellation will be effective on [bold][date][/bold].")})))},va=e=>{var a=e.subscriptionInfo,t=Object(C.useState)(!1),e=Re()(t,2),t=e[0],n=e[1];return t?f.a.createElement(ga,{subscriptionInfo:a,onHideDetails:()=>{n(!1)}}):f.a.createElement(ua,{subscriptionInfo:a,onShowDetails:()=>{n(!0)}})},Ea=t("svja"),Ca=t("r/7E"),fa=e=>{var a=e.onShowDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,e=Object(j.c)(),t=e._t,l=e._getLocaleDateString,e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"on-hold effective date",params:{date:de(e,l)}},"On-Hold since [date]"),[s]);return f.a.createElement("div",{className:Ea.a.subscription},f.a.createElement("div",{className:Ea.a.member},f.a.createElement(Y.a,{className:Ea.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:Ea.a.blogName},r)),f.a.createElement("span",{className:Ea.a.date},e(s)),f.a.createElement("div",{className:Ea.a.actions},f.a.createElement("div",{className:Ea.a.warning},f.a.createElement(Ca.a,{fill:x.a.paletteOrange})),f.a.createElement(H.a,{wrapperClassName:Ea.a.expand,label:t("show details"),onClick:a},f.a.createElement(qe.c,{fill:x.a.paletteGray65}))))},Na=t("cu0S"),Oa=e=>{var a=e.onHideDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,e=Object(j.c)(),t=e._t,l=e._getLocaleDateString,e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"on-hold effective date",params:{date:de(e,l)}},"On-Hold since [date]"),[s]);return f.a.createElement("div",{className:Na.a.subscription},f.a.createElement("div",{className:Na.a.creator},f.a.createElement("div",{className:Na.a.member},f.a.createElement(Y.a,{className:Na.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:Na.a.blogName},r)),f.a.createElement("span",{className:Na.a.date},e(s)),f.a.createElement("div",{className:Na.a.actions},f.a.createElement(H.a,{wrapperClassName:Na.a.expand,label:t("hide details"),onClick:a},f.a.createElement(qe.b,{fill:x.a.paletteGray65})))),f.a.createElement("span",null,f.a.createElement(ba.b,{wrapperClassName:Na.a.cancellationInfo,theme:ba.a.Warning,message:t("This subscription has been placed on-hold due to a payment issue. Please check your payment information.")})))},ja=e=>{var a=e.subscriptionInfo,t=Object(C.useState)(!1),e=Re()(t,2),t=e[0],n=e[1];return t?f.a.createElement(Oa,{subscriptionInfo:a,onHideDetails:()=>{n(!1)}}):f.a.createElement(fa,{subscriptionInfo:a,onShowDetails:()=>{n(!0)}})},ka=t("cPwh"),wa=e=>{var a=e.onShowDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,e=Object(j.c)(),t=e._t,l=e._getLocaleDateString,e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"expired on date",params:{date:de(e,l)}},"Expired [date]"),[s]);return f.a.createElement("div",{className:ka.a.subscription},f.a.createElement("div",{className:ka.a.member},f.a.createElement(Y.a,{className:ka.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:ka.a.blogName},r)),f.a.createElement("span",{className:ka.a.date},e(s)),f.a.createElement("div",{className:ka.a.actions},f.a.createElement("div",{className:ka.a.warning},f.a.createElement(Ca.a,{fill:x.a.paletteOrange})),f.a.createElement(H.a,{wrapperClassName:ka.a.expand,label:t("show details"),onClick:a},f.a.createElement(qe.c,{fill:x.a.paletteGray65}))))},Ia=t("7JGi"),ya=e=>{var a=e.onHideDetails,t=e.subscriptionInfo,n=t.avatar,r=t.blogName,s=t.subscription,e=Object(j.c)(),t=e._t,l=e._getLocaleDateString,e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"expired date",params:{date:de(e,l)}},"Expired [date]"),[s]);return f.a.createElement("div",{className:Ia.a.subscription},f.a.createElement("div",{className:Ia.a.creator},f.a.createElement("div",{className:Ia.a.member},f.a.createElement(Y.a,{className:Ia.a.avatar,avatarShape:Q.a.Square,imageResponse:n,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:Ia.a.blogName},r)),f.a.createElement("span",{className:Ia.a.date},e(s)),f.a.createElement("div",{className:Ia.a.actions},f.a.createElement(H.a,{wrapperClassName:Ia.a.expand,label:t("hide details"),onClick:a},f.a.createElement(qe.b,{fill:x.a.paletteGray65})))),f.a.createElement("span",null,f.a.createElement(ba.b,{wrapperClassName:Ia.a.cancellationInfo,theme:ba.a.Warning,message:t("This subscription has been placed on-hold due to a payment issue. Please check your payment information."),firstAction:["update payment method",z.a]})))},xa=e=>{var a=e.subscriptionInfo,t=Object(C.useState)(!1),e=Re()(t,2),t=e[0],n=e[1];return t?f.a.createElement(ya,{subscriptionInfo:a,onHideDetails:()=>{n(!1)}}):f.a.createElement(wa,{subscriptionInfo:a,onShowDetails:()=>{n(!0)}})},Sa=t("N7Wd"),Ta=t("2jAC"),Ra=t("Qv8g"),Da=t("BOIM"),Aa=e=>{var a=e.subscriptionInfo,t=a.avatar,n=a.blogName,r=a.subscription,e=Object(j.c)(),s=e._getLocaleDateString,l=e._t,i=e.apiFetch,o=Object(Ta.b)().toggleToast,a=Object(C.useState)(!1),e=Re()(a,2),a=e[0],c=e[1],e=Object(C.useCallback)(e=>f.a.createElement(ue.d,{comment:"cancelled on date",params:{date:de(e,s)}},"Cancelled [date]"),[r]);return f.a.createElement("div",{className:Da.a.subscription},f.a.createElement("div",{className:Da.a.member},f.a.createElement(Y.a,{className:Da.a.avatar,avatarShape:Q.a.Square,imageResponse:t,dimension:k.subscriptionAvatarSize}),f.a.createElement("span",{className:Da.a.blogName},n)),f.a.createElement("span",{className:Da.a.date},e(r)),f.a.createElement("div",{className:Da.a.actions},f.a.createElement(He.c,{textColor:x.a.paletteGray80,backgroundColor:x.a.paletteGray13,theme:He.b.Border,onClick:()=>{c(!0),Object(Ra.a)(i,n,U.c.Month,window.location.host).fetch(e=>{e=e.response;window.location.assign(e.url)}).catch(()=>{c(!1),o(l("Something went wrong. Please try again."),Sa.a.Error)})},disabled:a},f.a.createElement(ue.d,{comment:"Renew subscription button"},"Renew subscription"))))},La=e=>{var a=e.timelineObject,e=a.subscription.status;return e===U.d.Active||e===U.d.Pending?f.a.createElement(da,{subscriptionInfo:a}):e===U.d.PendingCancel?f.a.createElement(va,{subscriptionInfo:a}):e===U.d.OnHold?f.a.createElement(ja,{subscriptionInfo:a}):e===U.d.Cancelled?f.a.createElement(Aa,{subscriptionInfo:a}):f.a.createElement(xa,{subscriptionInfo:a})},Ba=t("kItG"),Pa=()=>3;class Wa extends C.Component{constructor(){super(...arguments),s()(this,"state",{hasErrored:!1}),s()(this,"assignRef",e=>this.ref=e),s()(this,"getPresentationStyle",e=>{var a=this.props,t=a.presentationStyle,a=a.displayMode;return t||(a===u.f.Masonry?c.a.masonry:e===xe.a.Desktop?c.a.desktop:c.a.mobile)}),s()(this,"toggleExpanded",()=>{this.props.toggleExpandedInGrid&&this.props.toggleExpandedInGrid(this.props.timelineObject,Pa())})}shouldComponentUpdate(e,a){return!i()(e,this.props)||a.hasErrored!==this.state.hasErrored}componentDidCatch(e){this.setState({hasErrored:!0});var a=this.props.timelineObject,t=a.id,a=a.objectType,t="[TimelineObject error: object type ".concat(a," with ID ").concat(t,"] ").concat(e.message);window.dispatchEvent(new ErrorEvent("error",{error:e,message:t}))}render(){if(this.state.hasErrored)return null;var e=this.props,a=e.timelineObject,e=e.displayMode;return Object(u.A)(a)&&a.isNsfw&&!a.blog.isMember?null:e!==u.f.Grid?(u.f.List,this.renderInList()):this.renderInGrid()}renderInList(e){var a=this.props.timelineObject;if(a.isExpandedInGrid&&!e)return null;var t=Object(u.A)(a)||Object(u.s)(a)?Object(S.a)({[Ba.a.sortDragDropTarget]:a.queuedState===o.i.Queued,[Ba.a.listTimelineObject]:!0,[Ba.a.animateOut]:a.animateOut,[Ba.a.masonryTimelineObject]:this.props.displayMode===u.f.Masonry}):Object(u.o)(a)?Object(S.a)({[Ba.a.listTimelineObject]:!0,[Ba.a.animateOut]:a.animateOut}):Object(u.x)(a)?Object(S.a)([Ba.a.listTimelineObject,Ba.a.paywallTimelineObject]):Ba.a.listTimelineObject,e=this.renderObjectInList();return e&&f.a.createElement("div",{ref:this.assignRef,className:t,tabIndex:-1,"data-id":Object(u.A)(a)?a.id:void 0},f.a.createElement("div",{className:Ba.a.listTimelineObjectInner,tabIndex:-1},e))}renderObjectInList(){var e=this.props,a=e.timelineObject,t=e.displayMode,e=e.appContext.features;return a.displayType===p.a.Sponsored&&(a.adInstanceCreationTime=Date.now()),Object(u.A)(a)&&!Object(u.n)(a)?f.a.createElement(ye.a,null,e=>{e=e.device;return f.a.createElement(m.a,{presentationStyle:this.getPresentationStyle(e),timelineObject:a})}):Object(u.s)(a)?f.a.createElement(W.a,{timelineObject:a,displayMode:t}):Object(u.v)(a)?f.a.createElement(P,{timelineObject:a}):Object(u.D)(a)?f.a.createElement(Te,{timelineObject:a}):Object(u.B)(a)?f.a.createElement(A,{timelineObject:a}):Object(u.o)(a)?f.a.createElement(J,{timelineObject:a}):Object(u.r)(a)?f.a.createElement(ze,{timelineObject:a}):Object(u.y)(a)?f.a.createElement(ge,{timelineObject:a}):Object(u.z)(a)?f.a.createElement(La,{timelineObject:a}):(Object(u.h)(a)||Object(u.n)(a))&&e.redpopMoneyballAds?f.a.createElement(ye.a,null,e=>{var r=e.device;return f.a.createElement(Oe.a,{isInstream:!0,timelineObject:a,supplyProviderId:Ce.a.DASHBOARD},e=>{var a=e.ad,t=e.supplyOpportunityInstanceId,n=e.location,e=e.streamPosition;return f.a.createElement("div",{className:Ba.a.listTimelineObject},f.a.createElement(Ne,{currentAd:a,supplyOpportunityInstanceId:t,location:n,streamPosition:e,presentationStyle:this.getPresentationStyle(r)}))})}):Object(u.w)(a)?f.a.createElement(we,{timelineObject:a}):Object(u.p)(a)?f.a.createElement(Ie.a,{timelineObject:a}):("production"===M.a.Development&&console.warn('Unsupported timeline object type "'.concat(a.objectType,'" with ID ').concat(a.id)),null)}renderInGrid(){var e=this.props,a=e.timelineObject,t=e.appContext._t,e="calc(".concat(100/Pa(),"% - 2px)");return Object(u.A)(a)?a.isExpandedInGrid?f.a.createElement("div",{className:Ba.a.expandedGridObjectContainer},this.renderInList(!0)):f.a.createElement("div",{className:Ba.a.gridTimelineObject,ref:this.assignRef,style:{width:e}},f.a.createElement(d.a,{tabIndex:-1,timelineObject:a,className:Ba.a.postInGrid}),f.a.createElement("button",{className:Ba.a.gridObjectExpandCover,"aria-label":t("Expand"),onClick:this.toggleExpanded},f.a.createElement("div",{className:Ba.a.gridObjectExpandCoverInner,tabIndex:-1},f.a.createElement("div",{className:Object(S.a)({[Ba.a.expandedCover]:!0,[Ba.a.expandedCoverIsExpanded]:a.hasExpandedVersionBelowIt})})))):null}}s()(Wa,"defaultProps",{displayMode:u.f.List}),a.a=Object(j.e)(Wa)},xlgu:function(e,a,t){"use strict";var n=t("lSNA"),r=t.n(n),s=t("q1tI"),l=t.n(s),i=t("s5E+"),o=t("saDi"),c=t("fMdv"),m=t("9oo1"),d=t("w2aY"),p=t("4S20"),u=t("AqyC"),b=t("llw0"),h=t("JR12"),g=t("uaYK"),v=t("/pt9"),E=t("yBJ7"),C=t("y4uf"),n=t("Dcbp"),f=t.n(n),N=t("TsN0");class O extends s.Component{constructor(){super(...arguments),r()(this,"renderVertical",()=>l.a.createElement("div",{className:N.a.desktopContainer},this.renderTitle(),l.a.createElement(m.a,{title:this.getTitle(),rowTheme:d.b.Dark,getInitialContent:this.getInitialBlogsContent,getContentFromResponse:this.getContentFromResponse,dismissAllLabel:this.props.appContext._t("Show more blogs")}))),r()(this,"renderHorizontal",()=>{var a=f.a.timelineMasonryPostWidth+f.a.timelineMasonryPostSpacing;return l.a.createElement(p.b,null,e=>{e=e.width;return l.a.createElement(l.a.Fragment,null,this.renderTitle(),l.a.createElement(u.a,{className:N.a.blogCarousel,visibleWidth:e,itemWidth:a},l.a.createElement(b.a.Consumer,null,this.renderHorizontalCarouselContent)))})}),r()(this,"renderHorizontalCarouselContent",e=>{e=e.scrollContainerRef;return l.a.createElement(g.a,{getInitialPage:this.getInitialContent,getObjectsFromResponse:this.getBlogsFromResponse,getNextLink:this.getBlogsNextLink,direction:c.a.Right,scrollContainer:e.current,loader:l.a.createElement("div",{className:N.a.blogCarouselLoader},l.a.createElement(E.b,{centerOrientation:E.a.HorizontalAndVertical}))},this.renderHorizontalPaginatorChildren)}),r()(this,"renderHorizontalPaginatorChildren",e=>{e=e.objects;return l.a.createElement(l.a.Fragment,null,e.map((e,a)=>l.a.createElement(h.a,{index:a,key:"".concat(e.name,"-").concat(a)},l.a.createElement("div",{className:N.a.blogCardWrapper},l.a.createElement(v.b,{blogName:e.name,blog:Object(o.e)(e),posts:e.posts})))))}),r()(this,"renderTitle",()=>{var e=this.getTitle();return e&&l.a.createElement("div",{className:N.a.title},e)}),r()(this,"getTitle",()=>{var e,a;return(null===(e=this.props.timelineObject)||void 0===e||null===(a=e.display)||void 0===a?void 0:a.title)||""}),r()(this,"getInitialContent",()=>{var e=this.props.timelineObject,a=e.elements,e=e.links;return{objects:this.transformCarouselElementsToBlogs(a),nextLink:null==e?void 0:e.next}}),r()(this,"getInitialBlogsContent",()=>{var e=this.props.timelineObject,a=e.elements,e=e.links;return{blogs:this.transformCarouselElementsToBlogs(a),nextLink:null==e?void 0:e.next}}),r()(this,"getContentFromResponse",e=>({blogs:this.getBlogsFromResponse(e),nextLink:this.getBlogsNextLink(e)})),r()(this,"getBlogsNextLink",e=>{var a;return null===(e=e.response.timeline)||void 0===e||null===(a=e.links)||void 0===a?void 0:a.next}),r()(this,"getBlogsFromResponse",e=>{var e=e.response;return this.transformCarouselElementsToBlogs(null===(e=e.timeline)||void 0===e?void 0:e.elements)}),r()(this,"transformCarouselElementsToBlogs",e=>e.reduce((e,a)=>{a=a.resources;return a&&e.push(...a),e},[]))}render(){return this.props.displayMode===i.f.List?this.renderHorizontal():this.renderVertical()}}a.a=Object(C.d)(O)}}]);

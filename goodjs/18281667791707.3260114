var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.searchbox={loaded:!0,run:!1}),B.define("caret",function(){return _i_("4ab:50a5d6aa"),_r_({getPosition:function(e){var t;return _i_("4ab:1399bc4f"),e?document.selection?(e.focus(),(t=document.selection.createRange()).moveStart("character",-e.value.length),_r_(t.text.length)):e.selectionStart||0===e.selectionStart?_r_(e.selectionStart):_r_(0):_r_()},setPosition:function(e,t){var i;if(_i_("4ab:536e7091"),!e)return _r_();document.selection?(e.focus(),(i=document.selection.createRange()).moveStart("character",-e.value.length),i.moveStart("character",t),i.moveEnd("character",0),i.select()):!e.selectionStart&&0!==e.selectionStart||(e.selectionStart=t,e.selectionEnd=t,e.focus()),_r_()},setSelection:function(e,t,i){var n;if(_i_("4ab:b3966198"),!e)return _r_();document.selection?(e.focus(),(n=document.selection.createRange()).moveStart("character",-e.value.length),n.moveStart("character",t),n.moveEnd("character",i-t),n.select()):!e.selectionStart&&0!==e.selectionStart||(e.selectionStart=t,e.selectionEnd=i,e.focus()),_r_()},getSelectionLength:function(e){var t;return _i_("4ab:735a2def"),e?document.selection?(e.focus(),t=document.selection.createRange(),_r_(t.text.length||0)):e.selectionStart||0===e.selectionStart?_r_(e.selectionEnd-e.selectionStart):_r_(0):_r_()}})}),B.define("click-out",function(e,t,i){"use strict";_i_("4ab:fff452bb");var s={},n=!1;function a(e){_i_("4ab:ad210c4a");var t,i=Object.keys(s),n={},a=!1;if(i.length)for(t=e.target||e.srcElement;t&&(i.forEach(function(e){_i_("4ab:efe0fbc1"),s[e].element===t&&(n[e]=!0,1==i.length&&(a=!0)),_r_()}),!a);)t=t.parentNode;i.forEach(function(e){_i_("4ab:bf144444"),!n[e]&&s[e]&&(s[e].callback.call(!1),o(e)),_r_()}),_r_()}function o(e){_i_("4ab:e16b90f5"),s[e]&&delete s[e],_r_()}t.addMonitor=function(e,t){_i_("4ab:4eea37e7"),_i_("4ab:c17566ca"),n||(n=!0,document.documentElement.addEventListener?document.documentElement.addEventListener("click",a):document.documentElement.attachEvent&&document.documentElement.attachEvent("onclick",a)),_r_();var i=Math.random();return"string"==typeof e.jquery&&(e=e[0]),setTimeout(function(){_i_("4ab:9952e084"),s[i]={element:e,callback:t},_r_()},4),_r_(i)},t.removeMonitor=o,t.forceClickOut=function(){_i_("4ab:d4e2fa88"),Object.keys(s).forEach(function(e){_i_("4ab:ffe354e3"),s[e].callback.call(!1),o(e),_r_()}),_r_()},_r_()}),B.define("deny-focus",function(e,t,i){"use strict";return _i_("4ab:c105dfa2"),_r_({_focusAttributes:{tabindex:-1,"aria-hidden":!0},_denyFocusOn:[],_get:function(t){return _i_("4ab:49251ead"),_r_(this._denyFocusOn.filter(function(e){return _i_("4ab:5bd98b23"),e.el===t?_r_(!0):_r_(!1)})[0])},_add:function(e){_i_("4ab:3560760b");var t=this._getFocusableElements(e),t={el:e,focusable:t,focusableOriginalAttributes:this._buildAttributesObject(t)};return this._denyFocusOn.push(t),_r_(t)},_update:function(e){_i_("4ab:3e71e8fe");var t=this._getFocusableElements(e.el);e.focusable=t,e.focusableOriginalAttributes=this._buildAttributesObject(t),_r_()},_buildAttributesObject:function(e){return _i_("4ab:9f219c08"),_r_(e.map(function(t){_i_("4ab:48092da2");var i={};return Object.keys(this._focusAttributes).forEach(function(e){_i_("4ab:42b3beef"),i[e]=t.getAttribute(e),_r_()}),_r_(i)}.bind(this)))},_getFocusableElements:function(e){_i_("4ab:5fdb8c82");e=e.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]");return _r_(Array.prototype.slice.call(e))},deny:function(e){if(_i_("4ab:71875e1f"),!e||!e instanceof Node)return console.log("Please provide a valid DOMElement to deny focus for"),_r_(!1);var t=this._get(e);t?this._update(t):t=this._add(e),t.focusable.forEach(function(t){_i_("4ab:ead5a0b7"),Object.keys(this._focusAttributes).forEach(function(e){_i_("4ab:f3a3f028"),t.setAttribute(e,this._focusAttributes[e]),_r_()}.bind(this)),_r_()}.bind(this)),_r_()},allow:function(e){if(_i_("4ab:1c780576"),!e||!e instanceof Node)return console.log("Please provide a valid DOMElement to deny focus for"),_r_(!1);var n=this._get(e);return n?(n.focusable.forEach(function(t,e){_i_("4ab:79cd96c7");var i=n.focusableOriginalAttributes[e];Object.keys(i).forEach(function(e){_i_("4ab:6f949722"),null==i[e]?t.removeAttribute(e):t.setAttribute(e,i[e]),_r_()}),_r_()}),_r_(!0)):_r_(!1)}})}),B.define("keycodes",[],function(){"use strict";function e(e,t){_i_("4ab:83a52ba4");for(var i=[],n=0;n<=t-e;n++)i.push(e+n);return _r_(i)}function n(e,t){return _i_("4ab:768b926a"),Array.isArray(a[e])&&-1!==a[e].indexOf(t)||a[e]===t?_r_(!0):_r_(!1)}function i(e,t){return _i_("4ab:bf671d22"),_r_(n(t,e))}_i_("4ab:f9eca8dd");var a=function(e){_i_("4ab:0fefaabc");var i=65;return _r_("abcdefghijklmnopqrstuvwxyz".split("").reduce(function(e,t){return _i_("4ab:d3ccc5bc"),e[t]=i++,_r_(e)},e))}(a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,delete:46,navigation:[9].concat(e(33,40)),deletion:[8,46],arrow:e(37,40),number:e(48,57).concat(e(96,105)),alphabetic:e(65,90),modifier:e(16,18)}),s={getTypes:function(t){_i_("4ab:ad5c6319");var i=[];return Object.keys(a).forEach(function(e){_i_("4ab:8fc15c2d"),n(e,t)&&i.push(e),_r_()}),_r_(i)},isKeycodeType:i};return Object.keys(a).forEach(function(t){var e;_i_("4ab:484ba84e"),s["is"+(e=t,_i_("4ab:2984a907"),_r_(e.slice(0,1).toUpperCase()+e.slice(1)))]=function(e){return _i_("4ab:4209f82c"),_r_(i(e,t))},_r_()}),_r_(s)}),B.define("read-data-options",function(e,t,i){_i_("4ab:b2e7a21d"),i.exports=function(a,s){_i_("4ab:9b133c1b");var o={};return a.jquery&&(a=a[0]),Object.keys(s).forEach(function(e){_i_("4ab:dcce8877");var t=s[e],i="data-"+e,n=null;if("string"==typeof(t="function"==typeof t?{type:t}:t).name&&(i="data-"+t.name),!a.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}if(n=a.getAttribute(i),t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}o[e]=n,_r_()}),_r_(o)},_r_()}),B.define("calendar-base",function(e,t,i){function p(e){_i_("4ab:eadb8bc9"),this.startDate=(e=e||{}).startDate,this.endDate=e.endDate,this.siblingMonths=e.siblingMonths,this.weekNumbers=e.weekNumbers,this.weekStart=e.weekStart,void 0===this.weekStart&&(this.weekStart=0),_r_()}_i_("4ab:75a1be19"),p.prototype.getCalendar=function(e,t){_i_("4ab:af5a1508");var i=new Date(Date.UTC(e,t,1,0,0,0,0));e=i.getUTCFullYear(),t=i.getUTCMonth();for(var n,a,s,o,r=[],_=i.getUTCDay(),l=-(7-this.weekStart+_)%7,d=p.daysInMonth(e,t),i=(d-l)%7,h=p.daysInMonth(e,t-1),c=l,u=d-c+(0!=i?7-i:0)+l,f=null;c<u;)n=((c<1?7+c:c)+_)%7,(a=(a=c+1)<1||d<a?!!this.siblingMonths&&(a<1?(o=e,(s=t-1)<0&&(s=11,o--),a=h+a):d<a&&(o=e,11<(s=t+1)&&(s=0,o++),a=c-d+1),{day:a,weekDay:n,month:s,year:o,siblingMonth:!0}):{day:a,weekDay:n,month:t,year:e})&&this.weekNumbers&&(null===f?f=p.calculateWeekNumber(a):1==n&&52==f?f=1:1==n&&f++,a.weekNumber=f),a&&this.startDate&&(a.selected=this.isDateSelected(a)),r.push(a),c++;return _r_(r)},p.prototype.isDateSelected=function(e){return _i_("4ab:15796b9b"),(e.year!=this.startDate.year||e.month!=this.startDate.month||e.day!=this.startDate.day)&&(!this.endDate||e.year==this.startDate.year&&e.month==this.startDate.month&&e.day<this.startDate.day||e.year==this.endDate.year&&e.month==this.endDate.month&&e.day>this.endDate.day||e.year==this.startDate.year&&e.month<this.startDate.month||e.year==this.endDate.year&&e.month>this.endDate.month||e.year<this.startDate.year||e.year>this.endDate.year)?_r_(!1):_r_(!0)},p.prototype.setStartDate=function(e){_i_("4ab:b46bd485"),this.startDate=e,_r_()},p.prototype.setEndDate=function(e){_i_("4ab:5e5b3f69"),this.endDate=e,_r_()},p.prototype.setDate=p.prototype.setStartDate,p.diff=function(e,t){return _i_("4ab:bd7e1bb7"),e=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),t=new Date(Date.UTC(t.year,t.month,t.day,0,0,0,0)),_r_(Math.ceil((e.getTime()-t.getTime())/864e5))},p.interval=function(e,t){return _i_("4ab:5f59974d"),_r_(Math.abs(p.diff(e,t))+1)},p.compare=function(e,t){if(_i_("4ab:93d77961"),"object"!=typeof e||"object"!=typeof t||null===e||null===t)throw new TypeError("dates must be objects");return e.year<t.year?_r_(-1):e.year>t.year?_r_(1):e.month<t.month?_r_(-1):e.month>t.month?_r_(1):e.day<t.day?_r_(-1):e.day>t.day?_r_(1):_r_(0)},p.daysInMonth=function(e,t){return _i_("4ab:d478bc66"),_r_(new Date(e,t+1,0).getDate())},p.isLeapYear=function(e){return _i_("4ab:7e93f3c0"),_r_(e%4==0&&e%100!=0||e%400==0)},p.calculateWeekNumber=function(e){_i_("4ab:7a7ad21e");var t=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),e=new Date(t.valueOf()),t=(t.getUTCDay()+6)%7;e.setUTCDate(e.getUTCDate()-t+3);t=e.valueOf();return e.setUTCMonth(0,1),4!=e.getUTCDay()&&e.setUTCMonth(0,1+(4-e.getUTCDay()+7)%7),_r_(1+Math.ceil((t-e)/6048e5))},i.exports={Calendar:p},_r_()}),B.define("morphdom",function(e,t,i){_i_("4ab:e2c86c4b"),function(e){_i_("4ab:ab944764"),"object"==typeof t&&void 0!==i?i.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).morphdom=e(),_r_()}(function(){var D;_i_("4ab:6ef9ef9c");var e={exports:{}},t="undefined"!=typeof document?document.body||document.createElement("div"):{};function E(e){for(var t in _i_("4ab:ace7a10f"),e)if(e.hasOwnProperty(t))return _r_(!1);return _r_(!0)}var $=t.hasAttributeNS?function(e,t,i){return _i_("4ab:eade7059"),_r_(e.hasAttributeNS(t,i))}:t.hasAttribute?function(e,t,i){return _i_("4ab:48b626c7"),_r_(e.hasAttribute(i))}:function(e,t,i){return _i_("4ab:b1b897cf"),_r_(!!e.getAttributeNode(i))},S={OPTION:function(e,t){_i_("4ab:766a26cf"),e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected",""),_r_()},INPUT:function(e,t){_i_("4ab:8ce9f1cf"),e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),$(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"),_r_()},TEXTAREA:function(e,t){_i_("4ab:fafa0a75");t=t.value;e.value!==t&&(e.value=t),e.firstChild&&e.firstChild.nodeValue!==t&&(e.firstChild.nodeValue=t),_r_()}};function F(){}function N(e,t){return _i_("4ab:ee20f945"),_r_(e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI)}function j(e){return _i_("4ab:dc0a4ac8"),_r_(e.id)}return e.exports=function(e,t,i){_i_("4ab:af448acf"),i=i||{},"string"==typeof t&&("#document"===e.nodeName||"HTML"===e.nodeName?(l=t,(t=document.createElement("html")).innerHTML=l):(d=t,_i_("4ab:6e64c2c2"),!D&&document.createRange&&(D=document.createRange()).selectNode(document.body),D&&D.createContextualFragment?r=D.createContextualFragment(d):(r=document.createElement("body")).innerHTML=d,t=_r_(r.childNodes[0])));var p={},b={},m=i.getNodeKey||j,g=i.onBeforeNodeAdded||F,M=i.onNodeAdded||F,v=i.onBeforeElUpdated||F,y=i.onElUpdated||F,n=i.onBeforeNodeDiscarded||F,s=i.onNodeDiscarded||F,B=i.onBeforeElChildrenUpdated||F,a=!0===i.childrenOnly,C=[];function o(e){if(_i_("4ab:5e13d614"),1===e.nodeType)for(var t=e.firstChild;t;)m(t)||(s(t),o(t)),t=t.nextSibling;_r_()}function k(e,t,i){if(_i_("4ab:f34545d8"),!1===n(e))return _r_();t.removeChild(e),i?m(e)||(s(e),o(e)):function e(t,i){_i_("4ab:17cb2e51");var n=m(t);if(n?p[n]=t:i||s(t),1===t.nodeType)for(var a=t.firstChild;a;)e(a,i||n),a=a.nextSibling;_r_()}(e),_r_()}function x(e,t,i,n){_i_("4ab:cb66c668");var a=m(t);if(a&&delete p[a],!n){if(!1===v(e,t))return _r_();if(function(e,t){_i_("4ab:3c17c39e");for(var i,n,a,s,o=t.attributes,r=o.length-1;0<=r;r--)n=(i=o[r]).name,s=i.value,((a=i.namespaceURI)?(n=i.localName||n,e.getAttributeNS(a,n)):e.getAttribute(n))!==s&&(a?("xmlns"===i.prefix&&(n=i.name),e.setAttributeNS(a,n,s)):e.setAttribute(n,s));for(r=(o=e.attributes).length-1;0<=r;r--)!1!==(i=o[r]).specified&&(n=i.name,a=i.namespaceURI,$(t,a,a?n=i.localName||n:n)||e.removeAttributeNode(i));_r_()}(e,t),y(e),!1===B(e,t))return _r_()}if("TEXTAREA"!==e.nodeName){var s,o,r,_,l=t.firstChild,d=e.firstChild;e:for(;l;){for(o=l.nextSibling,s=m(l);d;){var h=m(d),c=d.nextSibling;if(!i&&h&&(_=b[h]))_.parentNode.replaceChild(d,_),x(d,_,i),d=c;else{var u=d.nodeType;if(u===l.nodeType){var f=!1;if(1===u?(f=N(d,l)&&(!h&&!s||s===h)?!0:f)&&x(d,l,i):3!==u&&8!=u||(f=!0,d.nodeValue=l.nodeValue),f){l=o,d=c;continue e}}k(d,e,i),d=c}}s&&((r=p[s])?(x(r,l,!0),l=r):b[s]=l),!1!==g(l)&&(e.appendChild(l),M(l)),1===l.nodeType&&(s||l.firstChild)&&C.push(l),l=o,d=c}for(;d;)c=d.nextSibling,k(d,e,i),d=c}n=S[e.nodeName];n&&n(e,t),_r_()}var r,_=e,l=_.nodeType,d=t.nodeType;if(!a)if(1===l)1===d?N(e,t)||(s(e),_=function(e,t){_i_("4ab:6593b9e4");for(var i=e.firstChild;i;){var n=i.nextSibling;t.appendChild(i),i=n}return _r_(t)}(e,(r=t.nodeName,i=t.namespaceURI,_i_("4ab:b9ab9e43"),_r_(i&&"http://www.w3.org/1999/xhtml"!==i?document.createElementNS(i,r):document.createElement(r))))):_=t;else if(3===l||8===l){if(d===l)return _.nodeValue=t.nodeValue,_r_(_);_=t}if(_===t)s(e);else{x(_,t,!1,a);function h(e){_i_("4ab:07e8f038");for(var t=e.firstChild;t;){var i=t.nextSibling,n=m(t);if(n){n=p[n];if(n&&N(t,n)){if(t.parentNode.replaceChild(n,t),x(n,t,!0),t=i,E(p))return _r_(!1);continue}}1===t.nodeType&&h(t),t=i}_r_()}var c,u;if(!E(p))e:for(;C.length;)for(var f=C,C=[],w=0;w<f.length;w++)if(!1===h(f[w]))break e;for(c in p)p.hasOwnProperty(c)&&(u=p[c],s(u),o(u))}return!a&&_!==e&&e.parentNode&&e.parentNode.replaceChild(_,e),_r_(_)},_r_(e.exports)}),_r_()}),booking.browserStorageHandler=function(_,l,d){_i_("4ab:a11e61ce");var h=!1;try{(h=!(!_.localStorage||!_.sessionStorage))&&_.localStorage.setItem("btest","1")}catch(e){h=!1}var n={_readCookie:function(e){_i_("4ab:51d0b270");var t={};try{"undefined"!=typeof JSON&&(t=JSON.parse(d.cookie(e))||{})}catch(e){}return _r_(t)},_modifySingleValue:function(e,t,i,n,a){if(_i_("4ab:22c7266b"),!t||!i)return _r_(!1);if(h&&!a){var s="session"===e?_.sessionStorage:_.localStorage;if("delete"===t)s.removeItem(i);else try{s.setItem(i,n)}catch(e){}}else{var o,r;"session"===e?o="bs":(o="b",r=30),s=this._readCookie(o),"delete"===t?delete s[i]:s[i]=n,s=d.isEmptyObject(s)?null:JSON.stringify(s),d.cookie(o,s,{expires:r,path:"/",domain:l.b_domain_end})}_r_()},_getValue:function(e,t,i){if(_i_("4ab:f1ea0118"),!t)return _r_(void 0);if(!h||i)return i=this._readCookie("session"===e?"bs":"b"),_r_(i[t]);e="session"===e?_.sessionStorage:_.localStorage;return _r_(e.getItem(t))}};return _r_({addSessionValue:function(e,t,i){return _i_("4ab:b380b492"),_r_(n._modifySingleValue("session","add",e,t,i))},deleteSessionValue:function(e,t){return _i_("4ab:d61f09c2"),_r_(n._modifySingleValue("session","delete",e,void 0,t))},getSessionValue:function(e,t){return _i_("4ab:d6b8f5d6"),_r_(n._getValue("session",e,t))},addPermanentValue:function(e,t,i){return _i_("4ab:fe0aaa49"),_r_(n._modifySingleValue("permanent","add",e,t,i))},deletePermanentValue:function(e,t){return _i_("4ab:99a942db"),_r_(n._modifySingleValue("permanent","delete",e,void 0,t))},getPermanentValue:function(e,t){return _i_("4ab:07d7aebb"),_r_(n._getValue("permanent",e,t))},isLocalStorageSupported:function(){return _i_("4ab:1bca3a3a"),_r_(h)}})}(window,(document,booking.env),window.jQuery),booking.define&&booking.define("browser-storage-handler",booking.browserStorageHandler),B.define("search/modules/flags",function(e,t,i){_i_("4ab:5add769b"),i.exports={parse:function(e){_i_("4ab:67450727");var a={};if("string"!=typeof e)throw new TypeError("First argument must be a string");return""===(e=e.trim())||e.split(/\s+/).forEach(function(e){_i_("4ab:77d12fd8");var t=e,i=!0,n=e.indexOf(":");-1!==n&&(t=e.substr(0,n),n=i=!(i=e.substr(n+1))?0:i,_i_("4ab:cf893a7a"),_r_(!isNaN(parseFloat(n))&&isFinite(n))&&(i=parseInt(i,10))),a[t]=i,_r_()}),_r_(a)}},_r_()}),B.define("search/modules/search-date",function(e,t,i){_i_("4ab:11f50899");var n=e("calendar-base").Calendar;function a(e){_i_("4ab:4575f3c6"),this.year=null,this.month=null,this.day=null,this.complete=!1,"number"==typeof e.year&&(this.year=e.year),"number"==typeof e.month&&(this.month=e.month),"number"==typeof e.day&&(this.day=e.day),null!==this.month&&(this.month<0?this.month=0:11<this.month&&(this.month=11)),null!==this.day&&(this.day<0?this.day=0:this.day>s(this.year,this.month)&&(this.day=s(this.year,this.month))),this.complete=null!==this.year&&null!==this.month&&null!==this.day,_r_()}function s(e,t){return _i_("4ab:1b292207"),_r_("number"==typeof e&&"number"==typeof t?n.daysInMonth(e,t):3==t||5==t||8==t||10==t?30:1==t?29:31)}a.prototype={toString:function(){if(_i_("4ab:f1f54d20"),!this.complete)return _r_("");var e=this.month+1;return _r_(this.year+"-"+(e<10?"0":"")+e+"-"+(this.day<10?"0":"")+this.day)},toNative:function(){return _i_("4ab:7bbffa6e"),this.complete?_r_(new Date(Date.UTC(this.year,this.month,this.day,0,0,0,0))):_r_(new Date(NaN))},valueOf:function(){return _i_("4ab:c9d65c1a"),_r_(this.toNative().valueOf())}},a.create=function(e){var t;if(_i_("4ab:52ce28b2"),"object"!=typeof(e="string"==typeof e&&3==(t=e.split("-")).length?{year:parseInt(t[0],10),month:parseInt(t[1],10)-1,day:parseInt(t[2],10)}:e)||null===e)throw new TypeError("date must be an object");return _r_(new a(e))},a.createFromString=function(e){if(_i_("4ab:97e2ad54"),"string"!=typeof e)throw new TypeError("dateString must be a string");e=e.split(/-/g),e={year:parseInt(e[0],10),month:parseInt(e[1],10)-1,day:parseInt(e[2],10)};return _r_(a.create(e))},a.createFlexible=function(e){if(_i_("4ab:2760f620"),"object"!=typeof e||null===e)throw new TypeError("date must be an object");if("number"!=typeof e.year||"number"!=typeof e.month||"number"!=typeof e.day)throw new TypeError("invalid date");var t=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0));return e={year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate()},_r_(a.create(e))},a.isStrictlyValid=function(e){_i_("4ab:8ee76032");var t=a.create(e);return _r_(e.year===t.year&&e.month===t.month&&e.day===t.day)},a.compare=function(e,t){if(_i_("4ab:ef4f5cae"),!(e instanceof a&&t instanceof a))throw new TypeError("dates must be an instance of SearchDate");return e.year<t.year?_r_(-1):e.year>t.year?_r_(1):e.month<t.month?_r_(-1):e.month>t.month?_r_(1):e.day<t.day?_r_(-1):e.day>t.day?_r_(1):_r_(0)},i.exports={SearchDate:a},_r_()}),B.define("component/autocomplete-core",function(e,t,i){_i_("4ab:62e893cf");var n=e("jquery"),a=e("component"),s=e("read-data-options");i.exports=a.extend({init:function(){_i_("4ab:bebc96f6"),this.highlightedIndex=-1,this.isDeletion=!1,this.items=[],this.keyDownCount=0,this.keysDown={},this.listHeight=0,this.listVisible=!1,this.preventBlurClose=!1,this.selectedIndex=-1,this.selectedValue=null,this.valueBuffer=null,this.clickOutController=e("click-out"),this.clickOutMonitorId=null,this.highlightClass="-highlighted",this.$input=this.$el.find('[data-input=""]'),this.input=this.$input[0],this.$list=this.$el.find('[data-list=""]'),this.$items=n("[data-list-item]",this.$list),this.optionsSpec=this.optionsSpec||{},this.optionsSpec=n.extend(this.optionsSpec,{openFocus:{name:"open-focus",type:Boolean},highlightFirst:{name:"highlight-first",type:Boolean},forceHighlight:{name:"highlight-force",type:Boolean},focusOnItemSelect:{name:"focus-on-item-select",type:Boolean}}),this.options=s(this.$el,this.optionsSpec),this.supportsInputEvent=this.input&&"oninput"in this.input,this.addInputEventListeners(),this.addListEventListeners(),this.addItemsEventListeners(),this.calculateListHeight(),this.$input.attr("autocomplete","off"),_r_()},addInputEventListeners:function(){_i_("4ab:ddce441a");var e=this.$input.component("keyboard");e.on("keydown:Escape",this.inputEscape.bind(this)),e.on("keydown:ArrowUp",this.inputArrowUp.bind(this)),e.on("keydown:ArrowDown",this.inputArrowDown.bind(this)),e.on("keydown:Enter",this.inputEnter.bind(this)),e.on("keydown:Tab",this.inputTab.bind(this)),this.$input.on("click",this.inputClick.bind(this)),this.$input.focus(this.inputFocus.bind(this)),this.$input.blur(this.inputBlur.bind(this)),this.$input.keydown(this.inputKeyDown.bind(this)),this.$input.bind("input",this.inputInput.bind(this)),this.$input.keyup(this.inputKeyUp.bind(this)),_r_()},addListEventListeners:function(){_i_("4ab:16de6562"),this.$list.mousedown(this.listMouseDown.bind(this)),this.$list.mouseup(this.listMouseUp.bind(this)),this.$list.on("click",'[data-list-item=""]',this.listItemClick.bind(this)),_r_()},addItemsEventListeners:function(){_i_("4ab:7a96b5f0"),this.$items.click(this.listItemClick.bind(this)),_r_()},addClickOutEventListener:function(){_i_("4ab:578e273f"),this.clickOutMonitorId=this.clickOutController.addMonitor(this.el,this.clickOut.bind(this)),_r_()},removeClickOutEventListener:function(){_i_("4ab:be8a451d"),this.clickOutController.removeMonitor(this.clickOutMonitorId),_r_()},calculateListHeight:function(){_i_("4ab:69d19d36"),this.listHeight=this.$list.outerHeight(),_r_()},inputClick:function(e){},inputFocus:function(e){_i_("4ab:50598299"),this.options.openFocus&&(this.listShow(),this.autocomplete({fromFocus:!0})),_r_()},inputBlur:function(e){_i_("4ab:bb9f2bdf"),setTimeout(this.inputBlurSync.bind(this),4),_r_()},inputBlurSync:function(){_i_("4ab:1be76dc3"),!this.preventBlurClose&&this.listVisible&&(this.highlightReset(),this.reset()),_r_()},inputKeyDown:function(e){_i_("4ab:4b6b6451");var t=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,e=8==e.which||46==e.which;this.isDeletion=e,this.taintedKeyDown=t,_r_()},inputInput:function(e){_i_("4ab:ae080a97"),this.autocomplete(),_r_()},inputKeyUp:function(e){_i_("4ab:6eb2190a");var t=this.taintedKeyDown||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||16<=e.which&&e.which<=18||91==e.which,i=32==e.which||48<=e.which,e=37<=e.which&&e.which<=40;t||((e||i)&&this.listShow(),!this.isDeletion&&!i||this.supportsInputEvent||this.autocomplete(),i&&this.keyDownCount++),_r_()},inputEscape:function(e){_i_("4ab:a63e3a5c"),this.listVisible&&(e.originalEvent.preventDefault(),this.highlightReset(),this.reset()),_r_()},inputArrowUp:function(e){_i_("4ab:71605c6e"),e.originalEvent.preventDefault(),this.listVisible?this.highlightPrevious():this.listShow(),_r_()},inputArrowDown:function(e){_i_("4ab:b3fa5988"),e.originalEvent.preventDefault(),this.listVisible?this.highlightNext():this.listShow(),_r_()},inputEnter:function(e){_i_("4ab:0c057b22"),this.listVisible&&-1!=this.highlightedIndex&&(e.originalEvent.preventDefault(),this.choose(this.highlightedIndex)),_r_()},inputTab:function(e){_i_("4ab:80ac1b01"),this.inputEnter.apply(this,arguments),_r_()},listItemClick:function(e){_i_("4ab:afab041c");e=n(e.currentTarget);this.options.focusOnItemSelect&&this.input.focus(),this.choose(e.data("i")),_r_()},listMouseDown:function(e){_i_("4ab:9568a986"),this.preventBlurClose=!0,_r_()},listMouseUp:function(e){_i_("4ab:d660fe51"),this.preventBlurClose=!1,_r_()},clickOut:function(){_i_("4ab:095cbd45"),this.listVisible&&(this.highlightReset(),this.reset()),_r_()},setValue:function(e){_i_("4ab:9ee5cf87"),this.input.value=e,_r_()},listShow:function(){_i_("4ab:7f0b6848"),this.listVisible||this._loading||(this.$list.addClass("-visible"),this.listVisible=!0,this.addClickOutEventListener(),this.$list[0].scrollTop=1,setTimeout(function(){_i_("4ab:e08d76c5"),this.$list[0].scrollTop=0,_r_()}.bind(this),10)),_r_()},listHide:function(){_i_("4ab:44a78ebb"),this.listVisible&&(this.$list.removeClass("-visible"),this.resetFlags(),this.removeClickOutEventListener()),_r_()},highlightPrevious:function(){_i_("4ab:5af5b819");for(var e=this.highlightedIndex;-1==e?e=this.items.length-1:e--,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightNext:function(){_i_("4ab:57b7aad5");for(var e=this.highlightedIndex;e==this.items.length-1?e=-1:e++,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightFromNavigation:function(e,t,i){var n,a;_i_("4ab:1de2a5d2"),-1!=this.highlightedIndex&&!t||(this.valueBuffer=this.input.value),-1==e?this.highlightReset({preserveFocus:!0}):this.supportsInputEvent&&(this.valueBuffer&&0==this.items[e].valueLowerCase.indexOf(this.valueBuffer.toLowerCase())?(n=this.valueBuffer.length,a=this.items[e].value.length,t=this.valueBuffer+this.items[e].value.substring(n),this.input.value==t||i||this.setValue(t),this.input.setSelectionRange?this.input.setSelectionRange(a,a):this.input.createTextRange?((t=this.input.createTextRange()).collapse(!0),t.moveStart("character",n),t.moveEnd("character",a),t.select()):void 0!==this.input.selectionStart&&(this.input.selectionStart=n,this.input.selectionEnd=a)):i||(this.setValue(this.items[e].value),this.fixIEFocusLoss())),this.highlight(e),_r_()},highlightFromAutocomplete:function(){_i_("4ab:fe992877");var e=this.input.value,t=this.getListFirstIndex();-1!==t&&this.options.highlightFirst&&!this.isDeletion&&e&&0===this.items[t].valueLowerCase.indexOf(e.toLowerCase())||this.options.forceHighlight?this.highlightFromNavigation(t,!0):this.highlight(-1),_r_()},highlight:function(e){_i_("4ab:afe25219"),this.listShow(),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),-1!=e&&this.$items.eq(e).addClass(this.highlightClass),this.highlightedIndex=e,this.highlightScroll(),_r_()},highlightReset:function(e){_i_("4ab:1ee32de1"),e=e||{},null===this.valueBuffer||e.preserveInputValue||(this.setValue(this.valueBuffer),e.preserveFocus&&this.fixIEFocusLoss()),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.highlightedIndex=-1,_r_()},highlightScroll:function(){_i_("4ab:9a9e1dd1");var e,t,i=!1,n=this.$list[0].scrollTop;-1!=this.highlightedIndex?(e=(1==(t=this.$items.eq(this.highlightedIndex)).length&&t.position().top)+n)+(t=t.outerHeight())>this.listHeight+n?i=e+t-this.listHeight:e<n&&(i=e):i=0,!1!==i&&i!=n&&(this.$list[0].scrollTop=i),_r_()},getListLength:function(){return _i_("4ab:257516ce"),_r_(this.items.length)},getListFirstIndex:function(){return _i_("4ab:bd23caef"),0===this.items.length?_r_(-1):_r_(0)},autocomplete:function(){_i_("4ab:26e661c0"),this.postAutocomplete(),_r_()},postAutocomplete:function(){_i_("4ab:b9fe1f74"),this.listShow(),this.calculateListHeight(),this.highlightFromAutocomplete(),_r_()},choose:function(e){_i_("4ab:6ae9c094"),this.selectedIndex=e,B.env.fe_s_prprtyt?this.selectedValue=this.items[e].valueWithPropertyType||this.items[e].value:this.selectedValue=this.items[e].value,this.setValue(this.selectedValue),this.reset(),_r_()},reset:function(e){_i_("4ab:a458ad8e"),e=e||{},-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.listHide(),e.hard&&(this.resetFlags(),this.selectedIndex=-1,this.selectedValue=null,this.setValue("")),_r_()},resetFlags:function(){_i_("4ab:ad386500"),this.highlightedIndex=-1,this.isDeletion=!1,this.keyDownCount=0,this.keysDown={},this.listVisible=!1,this.preventBlurClose=!1,this.valueBuffer=null,_r_()},fixIEFocusLoss:function(){var e;_i_("4ab:0430c723"),this.input.createTextRange&&((e=this.input.createTextRange()).moveStart("character",this.input.value.length),e.collapse(),e.select()),_r_()}}),_r_()}),B.define("component/core/input-placeholder",function(e,t,i){"use strict";_i_("4ab:4f7a488e");var n=e("component"),a=e("read-data-options");return _r_(n.extend({init:function(){if(_i_("4ab:da9a7aaa"),this.browserSupported())return _r_();this.options=a(this.$el,{placeholderClass:{name:"placeholder-class",type:String},placeholderColor:{name:"placeholder-color",type:String,defaultValue:"#7C90A6"}});var e="input, textarea",t=this.$el.find(e);(t=this.$el.is(e)?t.add(this.$el):t).filter(function(e,t){return _i_("4ab:bbabec74"),_r_(!!$(t).attr("placeholder"))}).each(function(e,t){_i_("4ab:c0314b00"),this.setupPlaceholder($(t)),_r_()}.bind(this)),_r_()},browserSupported:function(){_i_("4ab:b8571c30");var e=$('input[type="text"]')[0]||$('<input type="text">')[0];return _r_(!!("placeholder"in e))},setupPlaceholder:function(e){_i_("4ab:04be5dbd");var t=$("<label />").text(e.attr("placeholder")).css({width:e.width()+"px",height:e.height()+"px",paddingTop:e.css("padding-top"),paddingLeft:e.css("padding-left"),paddingRight:e.css("padding-right"),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),color:this.options.placeholderColor,overflow:"hidden",cursor:"text",position:"absolute"});this.options.placeholderClass&&t.addClass(this.options.placeholderClass),t.insertBefore(e),t.click(function(){_i_("4ab:8b3ebc9a"),e.focus(),_r_()}),e.focus(function(){_i_("4ab:d2d65377"),t.hide(),_r_()}).blur(function(){_i_("4ab:9fa6d3f0"),t[e.val().length?"hide":"show"](),_r_()}),e.get(0)===document.activeElement?e.triggerHandler("focus"):e.triggerHandler("blur"),_r_()}}))}),B.define("component/keyboard",function(e,t,i){_i_("4ab:d840ae1d");var n=e("component"),a=e("event-emitter"),s={8:"Backspace",46:"Delete",9:"Tab",13:"Enter",32:"Space",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};function o(i,n){return _i_("4ab:c305199b"),_r_(function(e){_i_("4ab:89331456");var t="";e.which&&void 0!==s[e.which.toString()]&&(e.originalEvent.altKey&&(t+=":alt"),e.originalEvent.ctrlKey&&(t+=":ctrl"),e.originalEvent.metaKey&&(t+=":meta"),e.originalEvent.shiftKey&&(t+=":shift"),t+=":"+s[e.which],i.trigger(n+t,{keys:n+t,originalEvent:e})),_r_()})}i.exports=n.extend({init:function(){_i_("4ab:70caa689"),a.extend(this),this.$el.bind("keydown",o(this,"keydown")).bind("keyup",o(this,"keyup")),_r_()}}),_r_()}),B.define("component/tooltip-loc",function(e,t,i){"use strict";_i_("4ab:0e7aa0e2");var n=e("component"),s=e("jquery");i.exports=n.extend({DEFAULTS:{template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",alignment:"center",trigger:"hover focus",animation:"true"},init:function(){_i_("4ab:4b79859f"),this._buildOptions(),this._createTooltip(),this._attachEvents(),this.$el.trigger("ready.B.tooltip",[this.$tip]),_r_()},_buildOptions:function(){_i_("4ab:2003d6d2"),this.options=s.extend({},this.DEFAULTS,this.$el.data()),this.options.intangible="intangible"in this.options,this.options.target&&(this.options.target=s(this.options.target).first()),this.options.content||(this.options.content=this.options.title||this.el.title),_r_()},_createTooltip:function(){_i_("4ab:f0d24a5f");var e="tooltip-"+this.options.placement+" tooltip-align-"+this.options.alignment;this.options.extraClass&&(e=e+" "+this.options.extraClass),"true"===this.options.animation&&(e+=" tooltip-animate"),this.$tip=s(this.options.template),this.$tip.addClass(e),this._attachContent(),this.$tip.appendTo(s("body")),this.$el.trigger("inserted.B.tooltip",[this.$tip]),_r_()},_attachContent:function(){_i_("4ab:edb36e3b");var e=this.$tip.find(".tooltip-inner");this.options.target?e.append(this.options.target.clone()):(this.options.target=[],e.text(this.options.content)),_r_()},_positionTooltip:function(){_i_("4ab:55a3c39d"),this._defineAlignmentVars(),this._placeTooltip(),this._alignTooltip(),this.$tip.css({left:this.left,top:this.top,right:"auto"}),_r_()},_defineAlignmentVars:function(){_i_("4ab:ba6d432e"),this.elOffset=this.$el.offset(),this.position="left",this.dimension="outerWidth",this.options.placement.match(/top|bottom/)&&(this.position="top",this.dimension="outerHeight"),_r_()},_accountForRTL:function(e){return _i_("4ab:3680d328"),B.env.rtl?_r_("left"===e?"right":"right"===e?"left":e):_r_(e)},_placeTooltip:function(){_i_("4ab:eefd1cb5");var e=this._accountForRTL(this.position),t=this.dimension;this._accountForRTL(this.options.placement)===e?this[e]=this.elOffset[e]-this.$tip[t]():this[e]=this.elOffset[e]+this.$el[t](),_r_()},_alignTooltip:function(){var e,t;switch(_i_("4ab:d3b34b71"),t="left"===this.position?(e="top","outerHeight"):(e="left","outerWidth"),this._accountForRTL(this.options.alignment)){case e:this[e]=this.elOffset[e];break;case"center":this[e]=this.$el[t]()/2+this.elOffset[e]-this.$tip[t]()/2;break;default:this[e]=this.elOffset[e]+this.$el[t]()-this.$tip[t]()}_r_()},_attachEvents:function(){if(_i_("4ab:f9224418"),this.options.trigger.match(/manual/))return _r_();var e,t,i=this.options.trigger.split(" "),n=i.length,a=this.$el.add(this.$tip);for(this.options.intangible&&(a=this.$el);n--;)"click"===(e=i[n])?this.$el.on("click",s.proxy(this.toggle,this)):(t="hover"==e?"mouseleave":"focusout",a.on("hover"==e?"mouseenter":"focusin",s.proxy(this.show,this)),a.on(t,s.proxy(this.hide,this)));_r_()},_trackTransitionEnd:function(t){_i_("4ab:7d5873ec");var i=this.$el;this.$tip.one("transitionend",function(e){_i_("4ab:a241ca33"),i.trigger(t,[this]),_r_()}),_r_()},show:function(){_i_("4ab:1e6fbd16"),this.$el.trigger("show.B.tooltip",[this.$tip]),this._trackTransitionEnd("shown.B.tooltip"),this.$el.attr("aria-describedby",this.el.id),this._positionTooltip(),this.$tip.addClass("on").removeClass("off"),_r_()},hide:function(){_i_("4ab:0ab21ba6"),this.$el.trigger("hide.B.tooltip",[this.$tip]),this._trackTransitionEnd("hidden.B.tooltip"),this.$el.removeAttr("aria-describedby"),this.$tip.removeClass("on").addClass("off"),_r_()},toggle:function(){_i_("4ab:1e6fe6da"),this.$tip.is(".on")?this.hide():this.show(),_r_()}}),_r_()}),B.define("component/search/destination/input-placeholder",function(e,t,i){_i_("4ab:edea91f1");var n=B.require("component/core/input-placeholder"),a=e("search/searchbox/model");return _r_(n.extend({init:function(){_i_("4ab:95a0ca80"),this.model=a.getInstance(this.$el.data("sb-id")),n.prototype.init.apply(this,arguments),_r_()}}))}),B.define("component/search/destination/input",function(e,t,i){"use strict";_i_("4ab:4dc2582c"),booking.jstmpl("search_destination_autocomplete_results",function(){_i_("4ab:cf72e739");var u,f=["\n        ","\n\n    ","\n\t","\n       \n\n        ",'\n            <li\n                class="',"c-autocomplete__item sb-autocomplete__item ","sb-autocomplete__item--cjk "," ",'"\n                >\n                <div class="sb-autocomplete__section-title-wrapper">\n                    <div class="sb-autocomplete__section-title">\n                        ','\n                            <i class="bicon bicon-','"></i>\n                        ',"\n                        <span>","</span>\n                    </div>\n                </div>\n            </li>\n        ",'\n        <li\n            class="',"c-autocomplete__item sb-autocomplete__item sb-autocomplete__item-with_photo sb-autocomplete__item__item--elipsis ","sb-autocomplete__item--icon_revamp ","sb-autocomplete__item--airport ","sb-autocomplete__item--city ","sb-autocomplete__item--country ","sb-autocomplete__item--district ","sb-autocomplete__item--hotel ","sb-autocomplete__item--landmark ","sb-autocomplete__item--region ","sb-autocomplete__item--theme ","sb-autocomplete__item--with-title ","sb-autocomplete__item--with-two-lines ","sb-autocomplete__item--regioncity ","sb-autocomplete__item--theme-expanded ","first_theme ","1","smaller_theme_wrapper ","sb-autocomplete__item--tabbed ","sb-autocomplete__item--single-line ",'"\n            role="option"\n            data-list-item\n            data-i="','"\n            data-value="','"\n            ','\n                data-label="',"\n            >","",'<span class="sb-autocomplete--photo">',"24","streamline/bed","iconset/bed","</span>","streamline/sports_snowboard","iconset/skiing","22","streamline/landmark","iconset/landmark","streamline/transport_airplane_depart","iconset/airplane","streamline/geo_pin","iconset/geo_pin",'<img alt="','" src="','" class="sb-autocomplete--photo">','<span class="idr-filter-flag">\n                            <img class="sb-autocomplete--photo" src="','" alt="','" valign="middle"/>\n                        </span>','<span class="sb-autocomplete--photo"></span>','<div class="',"sb_passion_highlight_wrapper smaller_theme ",'">\n                        <p class="sb_passion_highlight_inner">',"</strong>\n                        </p>\n                    </div>",'<span class="searchbox__region__subcity__item">',",",'<span class="sb-autocomplete__badge sb-autocomplete__badge--popular">',"/private/search_top_50_badge/name",'<span class="airport-code">',"/private/ss_uni_search_ac_landmark_type_district/name","/destinationtype/{dest_type}/name",'<span class="search_hl_name">',"&nbsp;(",")","&nbsp;â€¢&nbsp;",'<span class="sb-autocomplete__bf-badge">',"<br>","&nbsp;&mdash;&nbsp;",",&nbsp;",'<span class="sb-autocomplete__item__extra">','<span class="sb-autocomplete__item__highlight">',"<span>","</li>\n\t","\n\n\t",'\n\t\t<li class="sb-autocomplete__google"></li>\n\t',"\n","\n    "],p=["total_index","results","lc","section_title_class","section_title_icon","section_title","fe_icon_revamp","dest_type","search_config","group_config","flags","is_first_theme","is_disputed","labels","show_destination_type_label","index","value","label","cc1","b_country_name","photo_uri","fe_xpi_show_flights","flags_markup","b_region_city_endorsements","iata","search_destination_type_translated","accomodation_type_txt","landmark_type_str","search_propertytype_destination","property_in_label","black_friday_item","additional_label","fe_items_are_multiline","label_blocks","highlighted","text","label_highlighted","is_powered_by_google"];return _r_(function(h){_i_("4ab:72458c1e");var e="",c=this.fn,e=function(e){if(_i_("4ab:cee7a643"),c.MD(p[1])){e+=f[1],c.MN("index",0),e+=f[2],c.MN(p[0],c.F.entities(c.MI(c.array_length(c.MB(p[1])))-c.MI(1))),e+=f[2];var t=c.MC(p[1])||[];h.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(h[0]=t[i-1],e+=f[3],c.MJ(c.MB(p[5]))&&(e+=f[4],e+=f[5],c.MJ(/zh|xt|ja|ko/.test(c.MB(p[2])))&&(e+=f[6]),c.MD(p[3])&&(e+=[c.F.entities(c.MC(p[3])),f[7]].join("")),e+=f[8],c.MD(p[4])&&(e+=[f[9],c.MC(p[4]),f[10]].join("")),e+=[f[11],c.MC(p[5]),f[12]].join("")),e+=f[13],e+=f[14],c.MD(p[6])&&(e+=f[15]),c.MJ(/zh|xt|ja|ko/.test(c.MB(p[2])))&&(e+=f[6]),c.MJ(c.MB(p[7])+""=="airport")?e+=f[16]:c.MJ(c.MB(p[7])+""=="city")?e+=f[17]:c.MJ(c.MB(p[7])+""=="country")?e+=f[18]:c.MJ(c.MB(p[7])+""=="district")?e+=f[19]:c.MJ(c.MB(p[7])+""=="hotel")?e+=f[20]:c.MJ(c.MB(p[7])+""=="landmark")?e+=f[21]:c.MJ(c.MB(p[7])+""=="region")?e+=f[22]:c.MJ(c.MB(p[7])+""=="theme")?e+=f[23]:e+=f[18],c.MD(p[5])&&(e+=f[24]),c.MJ(c.MB(p[8]))&&c.MJ(c.MB(p[9]))&&(e+=f[25]),c.MJ(c.MB(p[10]))&&c.MJ(c.MC(p[10]).is_region_city)&&(e+=f[26]),c.MJ(c.MB(p[7])+""=="theme")&&(e+=f[27],c.MD(p[11])||(e+=f[28],c.MN(p[11],f[29])),e+=f[30]),c.MJ(c.MB(p[10]))&&c.MJ(c.MC(p[10]).tabbed)&&(e+=f[31]),c.MJ(c.MB(p[12]))&&c.MJ(c.track_experiment_stage("UBKeJAEUELMeNSBRe",2)),(c.MJ(c.MB(p[12]))||c.MK(c.MB(p[7])&&c.MB(p[14])))&&(c.MK(c.MB(p[13]))||c.MJ(1==c.array_length(c.MB(p[13]))))&&(e+=f[32]),e+=[f[33],c.MC(p[15]),f[34],c.F.entities(c.MC(p[16])),f[35]].join(""),c.MD(p[17])&&(e+=[f[36],c.F.html(c.MC(p[17])),f[35]].join("")),e+=f[37],e+=f[38],c.MD(p[6])?(e+=f[38],c.MJ(c.MB(p[7])+""=="hotel")?(e+=f[39],c.MJ(c.track_experiment("bLTQHUYaBVDEZREUELMdXC"))?e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[41],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join(""):e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[42],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join("")):c.MJ(c.MC(p[10]).ski_item)&&c.MJ(c.MB(p[7])+""=="landmark")?(e+=f[39],c.MJ(c.track_experiment("bLTQHUYaBVDEZREUELMdXC"))?e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[44],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join(""):e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[45],width:f[46]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join("")):c.MJ(c.MB(p[7])+""=="landmark")?(e+=f[39],c.MJ(c.track_experiment("bLTQHUYaBVDEZREUELMdXC"))?e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[47],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join(""):e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[48],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join("")):c.MJ(c.MB(p[7])+""=="airport")?(e+=f[39],c.MJ(c.track_experiment("bLTQHUYaBVDEZREUELMdXC"))?e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[49],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join(""):e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[50],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join("")):(e+=f[39],c.MJ(c.track_experiment("bLTQHUYaBVDEZREUELMdXC"))?e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[51],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join(""):e+=[f[38],(h.unshift({color:"#6B6B6B",height:f[40],name:f[52],width:f[40]}),u=c.HELPER("icon",h[0]),h.shift(),u),f[38]].join("")),e+=f[43]):(e+=f[38],c.MJ(c.MG((c.MC(p[10])||{}).ski_item_replace_image))?e+=[f[53],c.F.html(c.MC(p[17])),f[54],c.STATIC_HOSTNAME("/static/img/ski/ski.png",0,0,0,0),f[55]].join(""):(c.MD(p[20])?(e+=f[38],c.MJ(c.track_experiment("ABZFUCdHcWIEAC"))?e+=[f[56],c.STATIC_HOSTNAME("/static/img/flags/128/"+c.MB(p[18])+".png",0,0,0,0),f[57],c.F.html(c.MC(p[19])),f[58]].join(""):e+=[f[53],c.F.html(c.MC(p[17])),f[54],c.STATIC_HOSTNAME(c.MB(p[20]),0,0,0,0),f[55]].join("")):(e+=f[38],c.MK(c.MB(p[21]))&&(e+=f[59])),e+=f[38])),e+=f[38],e+=f[38],c.MJ(c.MB(p[7])+""=="theme"))e+=f[60],e+=f[61],e+=[f[62],c.F.entities(c.MC(p[17])),f[63]].join("");else{e+=f[38];var a="";if(a+=f[38],c.MD(p[23])){a+=f[38];var s,o=i,r=t,_=n,l=s,t=c.MC(p[23])||[];for(h.unshift({endorsement:null}),i=1,n=t.length;i<=n;i++)h[0].endorsement=s=t[i-1],a+=[f[64],c.F.entities(s)].join(""),c.MJ(i!=t.length)&&(a+=f[65]),a+=f[43];h.shift(),i=o,t=r,n=_,s=l,a+=f[38]}if(a+=f[38],c.MJ(c.MC(p[10]).popular)&&(a+=[f[66],c.F.entities(c.ME(f[67],c.MB,c.MN,null)),f[43]].join("")),a+=f[38],c.MN(p[22],a),e+=f[38],c.MJ(c.MB(p[24]))&&c.MJ(c.MB(p[21]))&&(e+=[f[68],c.MC(p[24]),f[43]].join("")),e+=f[38],c.MJ(c.MB(p[13]))&&c.MJ(c.MB(p[32]))){e+=f[38],c.MK(c.MB(p[12]))&&c.MJ(c.MB(p[7]))&&c.MJ(c.MB(p[14]))&&(e+=f[38],c.MJ(c.MB(p[26]))&&c.MJ(c.array_length(c.MB(p[26])))?(e+=f[38],c.MN(p[25],(c.MC(p[26])||[])[0])):c.MJ(c.MB(p[7])+""=="district")?(e+=f[38],c.MN(p[25],c.ME(f[69],c.MB,c.MN,null))):c.MJ(c.MB(p[7])+""=="landmark")?(e+=f[38],c.MN(p[25],c.MC(p[27]))):(e+=f[38],c.MN(p[25],c.ME(f[70],c.MB,c.MN,null))),e+=f[38],e+=f[38]),e+=f[38],a="",a+=f[38];var d,o=i,r=t,_=n,l=d;for(t=c.MC(p[13])||[],h.unshift({fe_ae_label:null}),i=1,n=t.length;i<=n;i++)h[0].fe_ae_label=d=t[i-1],a+=f[38],c.MJ(1==i)?(a+=[f[71],c.F.entities((d||{}).text),f[38]].join(""),c.MJ(c.MG((d||{}).match))&&(a+=[f[72],c.F.entities((d||{}).match),f[73]].join("")),a+=f[38],c.MJ(c.MB(p[29]))&&(a+=f[74],c.MD(p[30])?a+=[f[75],c.MC(p[29]),f[43]].join(""):a+=[f[38],c.MC(p[29]),f[38]].join(""),a+=f[38]),a+=[f[43],c.MC(p[22]),f[76]].join(""),c.MD(p[25])&&(a+=[f[38],c.MC(p[25]),f[38]].join("")),a+=f[38]):c.MK(c.MJ(d.type+""=="state"))&&(a+=f[38],c.MJ(2==i)&&(a+=f[38],c.MD(p[25])&&(a+=f[77]),a+=f[38]),a+=f[38],c.MJ(2<i)&&(a+=f[78]),a+=[f[38],c.F.entities((d||{}).text),f[38]].join("")),a+=f[38];h.shift(),i=o,t=r,n=_,d=l,a+=f[38],c.MD(p[31])&&(a+=[f[79],c.MC(p[31]),f[43]].join("")),a+=f[38],c.MN(p[28],a),e+=f[38]}else{if(e+=f[38],a="",a+=f[38],c.MD(p[33])){for(a+=f[38],o=i,r=t,_=n,t=c.MC(p[33])||[],h.unshift(null),i=1,n=t.length;i<=n;i++)h[0]=t[i-1],a+=f[38],c.MD(p[34])&&(a+=f[80]),a+=[f[38],c.F.entities(c.MC(p[35])),f[38]].join(""),c.MD(p[34])&&(a+=f[43]),a+=f[38];h.shift(),i=o,t=r,n=_,a+=f[38]}else c.MD(p[36])?a+=[f[38],c.MC(p[36]),f[38]].join(""):c.MD(p[17])&&(a+=[f[38],c.F.entities(c.MC(p[17])),f[38]].join(""));a+=f[38],c.MD(p[31])&&(a+=[f[79],c.F.entities(c.MC(p[31])),f[43]].join("")),a+=f[38],c.MN(p[28],a),e+=f[38]}e+=[f[81],c.MC(p[28]),f[43]].join(""),c.MJ(c.MB(p[13]))&&c.MJ(c.MB(p[32]))||(e+=[f[38],c.MC(p[22]),f[38]].join("")),e+=f[38]}e+=f[38],c.MN("index",c.MI(c.MB(p[15]))+c.MI(1)),e+=f[38],e+=f[82]}h.shift(),e+=f[83],c.MD(p[37])&&(e+=f[84]),e+=f[85]}return e+=f[85],_r_(e)}(e+=f[0]);return e+=f[86],_r_(e)})}()),booking.jstmpl("search_destination_autocomplete_loading",function(){_i_("4ab:82995877");var l=["\n        ",'\n\n<ul class="c-autocomplete__list sb-autocomplete__list sb-autocomplete__list--loading">\n\t','\n\t\t<li class="c-autocomplete__item sb-autocomplete__item sb-autocomplete__item--city">\n\t\t\t','\n\t\t\t\t<span class="sb-autocomplete__item-placeholder-text js-placeholder-text"></span>\n\t\t\t',"\n\t\t</li>\n\t","\n</ul>\n","\n    "],d=["fe_sb_autocomplete_loading_items"];return _r_(function(r){_i_("4ab:d9585df0");var e="",_=this.fn,e=function(e){_i_("4ab:2cc1f6cd"),_.MN("fe_sb_autocomplete_loading_items",5),e+=l[1];var t=_.seq(1,_.MB(d[0]))||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++){r[0]=t[i-1],e+=l[2];var a=i,s=t,o=n,t=_.seq(1,3)||[];for(r.unshift(null),i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=l[3];r.shift(),i=a,t=s,n=o,e+=l[4]}return r.shift(),_r_(e+=l[5])}(e+=l[0]);return _r_(e+=l[6])})}());var n=e("jquery"),a=e("component/autocomplete-core"),s=e("search/searchbox/model"),o=e("search/searchbox/analytics"),r=e("search/searchbox/events");i.exports=a.extend({init:function(){_i_("4ab:e263b5e8"),this.optionsSpec={delay:{name:"delay",type:Number,defaultValue:300},modelId:{name:"sb-id",type:String,required:!0},filterDestType:{name:"filter-dest-type",type:String},gpf:{name:"gpf",type:Boolean},gpOnly:{name:"gp-only",type:Boolean},minLength:{name:"minlength",type:Number,defaultValue:2},focusOnLoad:{name:"focus-on-load",type:Boolean},focusOnTyping:{name:"focus-on-typing",type:Boolean},isSticky:{name:"is-sticky",type:Boolean},required:{name:"required",type:Boolean},isOrigin:{name:"origin",type:Boolean},collapseACSingleAirport:{name:"collapse-ac-single-airport",type:Boolean},flags:{name:"flags",type:String,defaultValue:""}},n.extend(this.optionsSpec,this.extendOptions()),this.$errors=this.$el.find("[data-error-id]"),this.$clear=this.$el.find('[data-clear=""]'),this.$searchbox=this.$el.closest(".sb-searchbox__outer"),this.isA11yMessageReading=!1,this.$searchbox.length?this.$skiInput=this.$searchbox.find('input[name="is_ski_area"]'):this.$skiInput=n('form#frm input[name="is_ski_area"]'),this.$skiInput.length||(this.$el.after('<input type="hidden" name="is_ski_area" value="0">'),this.$skiInput=n('input[name="is_ski_area"]')),a.prototype.init.apply(this,arguments),this.model=s.getInstance(this.options.modelId),this.groupName=this.options.isOrigin?"origin":"destination",this.model.use(this.groupName),this.model.use("dates"),this.model.updateFlags(this.options.flags),this.inputUntouched=!0,this.model.on("change",this.modelChange.bind(this)),this.model.on("validation",this.modelValidation.bind(this)),this.destinationModel=this.options.isOrigin?this.model.origin:this.model.destination,this.options.isOrigin&&this.destinationModel.configure({groupName:"origin"}),this.options.required&&this.destinationModel.configure({validate:!0}),this.options.gpOnly&&this.destinationModel.configurePredictions({gpo:1}),this.options.gpf&&this.destinationModel.configure({gpf:1}),this.options.filterDestType&&this.destinationModel.configurePredictions({dest_type:this.options.filterDestType}),this.options.focusOnLoad&&this.focusOnLoad(),this.options.focusOnTyping&&this.options.isSticky&&(this.stickyController=e("search/searchbox/searchbox-sticky-controller").getController()),this.options.focusOnTyping&&this.enableFocusOnTyping(),this.$errors.filter(".-visible").length&&(this.destinationModel.valid=!1),this.templateResults=B.jstmpl("search_destination_autocomplete_results"),this.toggleClear(),this.modelInit(),this.renderLoadingElement(),window.history&&window.history.replaceState&&-1!==window.location.href.indexOf("errorc_searchstring_not_found=ss")&&window.history.replaceState(null,document.title,window.location.href.replace("errorc_searchstring_not_found=ss","")),_r_()},addInputEventListeners:function(){_i_("4ab:24e521ff"),a.prototype.addInputEventListeners.apply(this,arguments),this.$clear.length&&this.$clear.on("click",this.clearClick.bind(this)),_r_()},renderLoadingElement:function(){_i_("4ab:cc2eea09"),this.shouldShowLoadingState=!0,this.$loading=n(B.jstmpl("search_destination_autocomplete_loading").render({})),this.$loading.find(".js-placeholder-text").each(function(){_i_("4ab:c89d5b36"),n(this).width(65+parseInt(65*Math.random(),10)),_r_()}),this.$loading.insertAfter(this.$list),_r_()},showLoading:function(){_i_("4ab:96c0c99b"),this.shouldShowLoadingState&&(a.prototype.listHide.apply(this),this.$loading.addClass("-visible")),_r_()},hideLoading:function(){_i_("4ab:57a3a0b0"),this.shouldShowLoadingState&&this.$loading.removeClass("-visible"),_r_()},modelInit:function(){_i_("4ab:1c0c0ee5");var e={ss:this.input.value};this.destinationModel.init(e),_r_()},modelChange:function(e){var t;_i_("4ab:b5cbe522"),e&&e.group&&e.group==this.groupName&&((t=this.destinationModel.get()).ss==this.input.value||this.isDeletion||(t.ss_modified&&B.env.fe_s_prprtyt?this.setValue(t.ss_modified):this.setValue(t.ss)),e.onlyCurrentCountry&&(this.$input.focus(),this.autocomplete()),this.inputUntouched=!1),_r_()},modelValidation:function(e){_i_("4ab:c7ade742"),e&&e.group==this.groupName&&(this.$errors.filter(".-visible").removeClass("-visible"),this.destinationModel.valid||(this.$el.find("#destination__error").addClass("-visible"),this.$errors.filter('[data-error-id="'+this.destinationModel.validationError+'"]').addClass("-visible"),o.send("[error] destination: "+this.destinationModel.validationError))),_r_()},inputClick:function(){_i_("4ab:69819494"),(""===this.input.value||this.inputUntouched)&&this.model.getFlag("on_click_suggestions")?this.showSuggestions():""===this.input.value&&(this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions"))&&this.showPopularNearbySuggestions(),a.prototype.inputClick.apply(this,arguments),_r_()},inputInput:function(){_i_("4ab:3ce47b6a"),this.isVisibleCalendar()&&this.hideCalendar();var e=this.input.value;this.destinationModel.setSearchString(e),this.inputUntouched=!1,this.metaMatchesOptionIsActive=!1,a.prototype.inputInput.apply(this,arguments),_r_()},inputKeyUp:function(e){_i_("4ab:3219e728"),a.prototype.inputKeyUp.apply(this,arguments),_r_()},inputBlur:function(){_i_("4ab:1cb9e383"),clearTimeout(this.timer),this.destinationModel.abortPredictions(),this.hideLoading();var e=this.destinationModel.get().ss_raw;e&&(e=e.split(/\s+/).length,o.sendOnce("[interaction] autocomplete tokens typed ["+e+"]")),0===this.input.value.length&&this.model.getFlag("clear_input_on_click")&&this.input.value!==this.$input.data("cached-value")&&(this.input.value=this.$input.data("cached-value")||""),this.metaMatchesOptionIsActive&&this.metaMatchesOptionValue&&this.setValue(this.metaMatchesOptionValue),a.prototype.inputBlur.apply(this,arguments),this.suggestionsLocked=!1,_r_()},inputFocus:function(){return _i_("4ab:e2028d97"),this.metaMatchesOptionIsActive&&(this.metaMatchesOptionValue=this.input.value,this.setValue(this.metaMatchesOptionValue.split("â€¢").join(""))),_r_(a.prototype.inputFocus.apply(this,arguments))},inputEnter:function(e){_i_("4ab:4cf5fa63"),o.send("[interaction] search input pressed enter"),a.prototype.inputEnter.apply(this,arguments),_r_()},onAutocompleteSearchStart:function(){_i_("4ab:93941720"),r.emit(r.SEARCHBOX_AUTOCOMPLETE_TRIGGERED),_r_()},clearClick:function(e){_i_("4ab:8ef3f742"),e.preventDefault(),this.reset({hard:!0}),this.input.focus(),_r_()},setValue:function(e){_i_("4ab:121e7d07"),a.prototype.setValue.apply(this,arguments),this.toggleClear(),_r_()},toggleClear:function(){_i_("4ab:a49552f4"),this.$clear.length&&this.$clear.toggleClass("-visible",""!==this.input.value),"index"===B.env.b_action&&"www"===B.env.b_site_type&&""!==this.input.value&&B.et.stage("bLESfPMPSXPPESHBZSTHe",1),_r_()},listShow:function(){_i_("4ab:61285da5"),this.results&&this.results.filter(function(e){return _i_("4ab:f93bb592"),_r_(e.photo_uri||e.isPopularNearby)}).length?this.$list.addClass("sb-autocomplete__list-with_photos"):this.$list.removeClass("sb-autocomplete__list-with_photos"),(0<this.items.length&&this.input.value.length>=this.options.minLength||0<this.items.length&&(this.model.getFlag("on_click_suggestions")||this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions")))&&a.prototype.listShow.apply(this,arguments),_r_()},autocomplete:function(e){_i_("4ab:f77e05de"),e=e||{},this.highlightReset({preserveInputValue:!0}),clearTimeout(this.timer),this.destinationModel.abortPredictions(),this.hideLoading(),this.toggleClear(),e.fromFocus||(this.isDeletion?this.destinationModel.reset():this.postAutocomplete(),this.input.value.length>=this.options.minLength&&(this._loading=!0),this.timer=setTimeout(function(){_i_("4ab:a9af8f9c"),this.input.value.length>=this.options.minLength&&(this.showLoading(),this.destinationModel.getPredictions(this.query(),this.render.bind(this)),this.onAutocompleteSearchStart()),_r_()}.bind(this),this.options.delay)),_r_()},query:function(){return _i_("4ab:2a33cf36"),_r_(this.input.value)},extendOptions:function(){return _i_("4ab:306d554b"),_r_({})},render:function(e,t){_i_("4ab:4148171b"),this.results=[],this.items=[],this.$items=n({}),this.on_click_suggestion=!1,this.hideLoading(),!e&&this.model.getFlag("on_click_suggestions_track")&&t.on_click_suggestion&&(this.on_click_suggestion=!0),this._loading=!1,!e||"service-booking-no-results"!=e.toString()&&-1===e.toString().indexOf("ZERO_RESULTS")||o.send("[context] autocomplete zero results search"),!e&&Array.isArray(t.results)?(o.send("[context] autocomplete suggestions ["+t.results.length+"]"),t.is_powered_by_google&&o.send("[context] autocomplete google place search"),B.env.fe_s_prprtyt&&t.results.map(function(e){_i_("4ab:69cfb297");var t,i=e.meta_matches;i&&0<i.length&&(t=!1,e.property_in_label=e.meta_matches.map(function(e){return _i_("4ab:3cab0d47"),"blackfriday19_deals_upsorter"===e.id&&(t=!0),_r_(e.text)}).join(" â€¢ "),e.black_friday_item=t,e.property_in_id=e.meta_matches[0].id,e.isMetaMatchesItem=!0),e.flags&&"landmark"===e.dest_type&&e.flags.ski_item&&!e.property_in_label&&(e.fe_valueWithoutPropertyType=!0,e.property_in_label=B.jstmpl.translations("ski_autocomplete_ski_resort"),e.property_in_id=e.id),_r_()}),this.results=t.results,B.env.rtl&&(t.is_rtl=!0),this.model.getFlag("region_second_line")&&(t.fe_items_are_multiline=!0),this.model.getFlag("icon_revamp")&&(t.fe_icon_revamp=!0),this.model.getFlag("show_destination_type_label")&&(t.show_destination_type_label=!0),this.options.collapseACSingleAirport&&2==t.results.length&&"city"===t.results[0].dest_type&&"airport"===t.results[1].dest_type&&t.results[1].flags&&t.results[1].flags.tabbed&&(t.results[1].flags.tabbed=0,t.results.shift()),this.items=t.results.filter(function(e){return _i_("4ab:ac61c77f"),_r_(!!e.label)}).map(function(e){if(_i_("4ab:36887c13"),e.property_in_label&&!e.fe_valueWithoutPropertyType&&B.env.fe_s_prprtyt){var t=e.isMetaMatchesItem&&e.labels&&e.labels[0]?e.labels[0].text+" â€¢ "+e.property_in_label:B.jstmpl.translations("ss_search_box_search_property_type",null,{property_type:e.property_in_label,destination:e.ss});return _r_({value:e.label,valueLowerCase:e.label.toLowerCase(),valueWithPropertyType:t})}return _r_({value:e.label,valueLowerCase:e.label.toLowerCase()})}),this.$list.html(this.templateResults.render(t)),this.$items=this.$list.find('[data-list-item=""]'),this.model.getFlag("a11yinput")&&this.a11yAnnounceResults(t)):e||(this.$list.html(this.templateResults.render(t)),this.model.getFlag("a11yinput")&&this.a11yAnnounceResults(t)),this.postAutocomplete(),setTimeout(function(){_i_("4ab:2f456915"),this.$items.each(function(){_i_("4ab:00324166"),this.scrollWidth>this.offsetWidth&&this.setAttribute("data-title",this.getAttribute("data-label")),_r_()}),_r_()}.bind(this),500),B.et.stage("UBKeJAEUELMeNSBRe",1),B.et.stage("bLTQHUYaBVDEZREUELMdXC",1),_r_()},a11yAnnounceResults:function(e){var t;_i_("4ab:ed896d16"),Array.isArray(e.results)&&0<e.results.length&&!this.isA11yMessageReading&&(this.isA11yMessageReading=!0,t=setTimeout(function(){_i_("4ab:f93d45a5"),this.$el.find(".sb-a11y-announcement").show(),this.$el.find(".sb-a11y-announcement").html("<p>"+B.jstmpl.translations("a11y_index_autocomplete_suggested_destinations")+"</p>"),setTimeout(function(){_i_("4ab:444f6be7"),this.$el.find(".sb-a11y-announcement").html(""),this.$el.find(".sb-a11y-announcement").hide(),clearTimeout(t),this.isA11yMessageReading=!1,_r_()}.bind(this),500),_r_()}.bind(this),900)),_r_()},postAutocomplete:function(){_i_("4ab:4fadc203"),a.prototype.postAutocomplete.apply(this,arguments),this.a11yAnnounceResults(this),_r_()},choose:function(e){_i_("4ab:e0fc8e13"),o.send("[interaction] autocomplete click position ["+e+"]"),o.send("[interaction] autocomplete click ["+this.results[e].dest_type+"]"),clearTimeout(this.timer),this.destinationModel.abortPredictions();var t=this.results[e];this.metaMatchesOptionIsActive=t.isMetaMatchesItem,this.destinationModel.set(this.results[e]),a.prototype.choose.apply(this,arguments);var i=this.results[e];B.env.fe_s_prprtyt&&(n(".property_in_filter").remove(),i.property_in_id&&n("form.sb-searchbox").append('<input class="property_in_filter" type="hidden" name="order_ht_id" value="'+i.property_in_id+'">')),i.flags&&i.flags.deals&&this.$el.after("<input type='hidden' name='em_ac_deal_option_clicked' value='1'>"),this.$skiInput&&this.$skiInput.length&&this.$skiInput.val(i.flags&&i.flags.ski_item),B.et.goal("autocomplete_option_selected"),"theme"==this.results[e].dest_type?B.et.goal("autocomplete_option_selected_theme"):"hotel"==this.results[e].dest_type?B.et.goal("autocomplete_option_selected_hotel"):this.results[e].place_id?B.et.goal("autocomplete_option_selected_google_places"):"query_finder"==this.results[e].result_type||B.et.goal("autocomplete_option_selected_destination"),this.results[e].place_id||B.et.goal("autocomplete_option_selected_brick"),"anywhere"==this.results[e].dest_type?this.model.setFields("drec_traffic",[{name:"dr_source",value:"sb_anywhere"}]):this.model.setFields("drec_traffic",[]),this.model.emit("change",{group:""}),"index"===B.env.b_action&&"www"===B.env.b_site_type&&"booking-home"===B.env.b_landingpage_theme&&(this.model.setFields("upsort_homes",[{name:"order",value:"upsort_bh"}]),this.model.emit("change",{group:""})),-1!==["landmark","airport","district"].indexOf(i.dest_type)?(this.locationSelected=!0,t=[],(this.model.getFlag("open_location_in_map")||this.model.getFlag("open_location_in_map_checkbox"))&&(this.model.getFlag("open_location_in_map")&&t.push({name:"map",value:1}),this.model.getFlag("open_location_in_map_checkbox")&&n(".sb-searchbox__map_trigger input").prop("checked","checked"),n(".sb-searchbox__map_trigger").removeClass("g-hidden"),this.destinationModel.setTrackingFields("map_trigger",t))):(this.model.getFlag("open_location_in_map")||this.model.getFlag("open_location_in_map_checkbox"))&&(n(".sb-searchbox__map_trigger").addClass("g-hidden"),this.model.getFlag("open_location_in_map_checkbox")&&n(".sb-searchbox__map_trigger input").prop("checked",null),this.destinationModel.setTrackingFields("map_trigger",[])),this.model.getFlag("can_show_sb_entire_place_checkbox")&&i.b_show_entire_homes_checkbox&&B.et.stage("NAFLeOeJAEDEZRETfBDFdRaaKQGPLUPHET",1),this.model.getFlag("can_show_sb_entire_place_checkbox")&&B.et.track("NAFLeOeJAEDEZRETfBDFdRaaKQGPLUPHET")&&(i.b_show_entire_homes_checkbox?n(".js-sb-entire-place-checkbox").removeClass("g-hidden"):n(".js-sb-entire-place-checkbox").addClass("g-hidden").find('input[name="sb_entire_place"]').prop("checked",!1).removeAttr("checked")),"theme"!=this.results[e].dest_type&&"theme_dest"!=this.results[e].result_type||this.model.submit(),r.emit(r.SEARCHBOX_DESTINATION_SELECTED,{destination:i}),this.showCalendarOnDesinationChange(),_r_()},showCalendarOnDesinationChange:function(){if(_i_("4ab:b4b21470"),!this.model.getFlag("calendar_on_destination_change")||this.model.dates.get().checkin)return _r_();this.showCalendar(),_r_()},showCalendar:function(){_i_("4ab:16fca7ef"),setTimeout(function(){_i_("4ab:0cdca124"),this.$searchbox.find(".xp__date-time:first").trigger("click"),_r_()}.bind(this)),_r_()},hideCalendar:function(){_i_("4ab:e21627eb"),setTimeout(function(){_i_("4ab:bea99b4c"),this.$searchbox.find(".c2-wrapper-s-checkin").trigger("hide"),this.$searchbox.find(".c2-wrapper-s-checkout").trigger("hide"),_r_()}.bind(this)),_r_()},isVisibleCalendar:function(){return _i_("4ab:431de88e"),_r_(this.$searchbox.find(".c2-calendar").is(":visible"))},showSuggestions:function(){if(_i_("4ab:443fd77a"),this.suggestionsLocked)return _r_();this.destinationModel.getSuggestions(this.render.bind(this)),this.suggestionsLocked=!0,_r_()},showPopularNearbySuggestions:function(){if(_i_("4ab:53d535d8"),this.suggestionsLocked)return _r_();var e=this.model.popularNearby.getPopularNearbySuggestions();e&&e.length&&(this.render(null,{results:this.model.popularNearby.getPopularNearbySuggestions()}),this.suggestionsLocked=!0),_r_()},focusOnLoad:function(){_i_("4ab:ce00b1fb"),n(document).ready(function(){_i_("4ab:49e84ab1"),this.input.focus(),_r_()}.bind(this)),_r_()},enableFocusOnTyping:function(){_i_("4ab:6e04453b");var e=n(document),t=this.onKeyDown.bind(this);e.on("keydown.autofocus",t),this.$input.on("blur",function(){_i_("4ab:4a28701a"),e.on("keydown.autofocus",t),_r_()}.bind(this)).on("focus",function(){_i_("4ab:9df4e392"),e.off("keydown.autofocus",t),_r_()}.bind(this)),_r_()},onKeyDown:function(e){if(_i_("4ab:25a5d610"),B.env.copy_editor_enabled)return _r_();var t=this.$input.offset().top,i=e.keyCode,e=e.metaKey||e.ctrlKey;!(47<i&&i<58||64<i&&i<91||95<i&&i<112)||e||!document.activeElement||/INPUT|TEXTAREA|SELECT/.test(document.activeElement.nodeName)||n(".modal-mask:visible").length||(this.options.isSticky&&this.stickyController?this.stickyController.show():window.scrollY>t&&n("html, body").animate({scrollTop:t-5}),this.input.value&&this.setValue(""),this.$input.focus(),this.$input.trigger("focus_destionation_whilie_typing")),_r_()},reset:function(){_i_("4ab:f34c1d07"),this.selectedValue||this.destinationModel.reset(),a.prototype.reset.apply(this,arguments),_r_()},inputBlurSync:function(){_i_("4ab:cc183c13"),a.prototype.inputBlurSync.apply(this,arguments),_r_()},clickOut:function(){_i_("4ab:3f94e649"),a.prototype.clickOut.apply(this,arguments),_r_()}}),_r_()}),B.define("search/destination/model",function(i,e,t){"use strict";_i_("4ab:31292903");var n=i("search/destination/service"),a=i("browser-storage-handler"),s=i("server-data");function o(e){_i_("4ab:0f458048"),this.model=e,this.data={ss:""},this.valid=!0,this.validationError="",this.options={groupName:"destination"},this.predicitonParameters={},this.searchInstance=null,this.skipValidation=!1,this.suggestionsCache={results:[]},this.ac={selected:!1,dataset:[]},_r_()}$.extend(o.prototype,{init:function(e){_i_("4ab:6f74d249"),this.data=e;var t={};this.model&&this.model.getFlag&&(this.model.getFlag("on_click_suggestions")||this.model.getFlag("on_click_suggestions_anywhere"))&&(this.model.getFlag("on_click_suggestions_anywhere")&&(t.anywhere=!0),s.b_ac_search_history&&this.model.getFlag("on_click_suggestions")&&(t.searchHistory=!0),this.model.use("group"),this.model.on("init",function(e){_i_("4ab:46d69989"),"group"===e.group&&this.fetchSuggestions(t),_r_()}.bind(this))),this.model&&this.model.getFlag&&(this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions"))&&(this.model.use("popularNearby"),this.suggestionsCache&&this.suggestionsCache.results&&this.suggestionsCache.results.length||(this.suggestionsCache={results:this.model.popularNearby.getPopularNearbySuggestions()})),this.emit("init"),_r_()},configure:function(e,t){_i_("4ab:66d50a77"),void 0!==t?this.options[e]=t:"object"==typeof e&&$.extend(this.options,e),_r_()},getOption:function(e){return _i_("4ab:07c3d404"),_r_(this.options[e])},get:function(){return _i_("4ab:867e130f"),_r_(this.data)},set:function(i){var e;if(_i_("4ab:f11b6fdf"),a.isLocalStorageSupported()&&i.dest_id&&i.dest_id!==a.getSessionValue("prev_destination_id")&&(e=JSON.stringify(i),a.addSessionValue("prev_destination_id",i.dest_id,!1),a.addSessionValue("prev_destination_data",e,!1)),this.ac.selected=!0,this.searchInstance&&this.searchInstance.getResultDetails&&!i._details)return this.searchInstance.getResultDetails(i,function(e,t){_i_("4ab:871dc490"),(t=t||{})._details=!0,this.set(t),window.ga&&window.ga("send","event","ac_google_places",[i.place_types||"unknown",i.name].join("|"),this.data.ss_raw,i.position),_r_()}.bind(this)),_r_();this.data.ss=i.ss,this.data.dest_id=i.dest_id,this.data.dest_type=i.dest_type,this.data.city=i.city,this.data.iata=i.iata,i.property_in_label&&B.env.fe_s_prprtyt&&(i.isMetaMatchesItem&&i.labels&&i.labels[0]?this.data.ss_modified=i.labels[0].text+" â€¢ "+i.property_in_label:this.data.ss_modified=B.jstmpl.translations("ss_search_box_search_property_type",null,{property_type:i.property_in_label,destination:i.ss})),this.data.ac_flags={},i.b_max_los_for_dest&&(this.data.max_los_for_dest=parseInt(i.b_max_los_for_dest,10)),i.nr_hotels&&(this.data.nr_hotels=i.nr_hotels),this.data.acc_type_id=i.acc_type_id,i.place_id&&i.latitude&&i.longitude?(this.data.place_id=i.place_id,this.data.latitude=i.latitude,this.data.longitude=i.longitude,this.data.place_types=i.place_types):(i.dest_id&&i.latitude&&i.longitude?(this.data.place_id="",this.data.latitude=i.latitude,this.data.longitude=i.longitude):(this.data.place_id="",this.data.latitude="",this.data.longitude=""),this.data.place_types=null),i._fa&&this.model.setFormAction(i._fa),i._ef=i._ef||[],this.data.dest_id&&i._ef.push({name:"dest_id",value:this.data.dest_id}),this.data.dest_type&&i._ef.push({name:"dest_type",value:this.data.dest_type}),this.data.iata&&i._ef.push({name:"iata",value:this.data.iata}),this.data.place_id&&i._ef.push({name:"place_id",value:this.data.place_id}),this.data.latitude&&i._ef.push({name:"place_id_lat",value:this.data.latitude}),this.data.longitude&&i._ef.push({name:"place_id_lon",value:this.data.longitude}),this.data.place_types&&Array.isArray(this.data.place_types)&&i._ef.push({name:"place_types",value:this.data.place_types.join(",")}),i.exp_tags&&i._ef.push({name:"ettar",value:i.exp_tags}),i._ef.push({name:"search_pageview_id",value:s.pageview_id}),i._ef.push({name:"search_selected",value:"true"}),"rentalcars"===i.type&&(this.data.type="rentalcars",this.data.placeKey=i.placeKey,this.data.rentalcarsItem=i,"origin"===this.options.groupName?this.model.setFields("rentalcars",i.fields.puFields):this.model.setFields("rentalcarsDrop",i.fields.doFields)),i.region_type&&i._ef.push({name:"region_type",value:i.region_type}),this.model.setFields("destinationNotSelected",[]),this.model.setFields("destinationSelected",i._ef),this.emit("change"),_r_()},setSearchString:function(e){_i_("4ab:1e7de1f8"),this.data.ss=e,this.data.ss_raw=e,"rentalcars"===this.model.getMode()||this.valid||this.validate(),_r_()},reset:function(){_i_("4ab:025738e6"),this.data.dest_id=null,this.data.dest_type=null,this.data.iata=null,this.data.place_id=null,this.data.latitude=null,this.data.longitude=null,this.model.setFormAction(null),this.model.setFields(this.options.groupName,[]),this.model.setFields("destinationNotSelected",[]),this.model.setFields("destinationSelected",[{name:"dest_id",value:""},{name:"dest_type",value:""},{name:"search_pageview_id",value:s.pageview_id},{name:"search_selected",value:"false"}]),"rentalcars"==this.data.type&&(this.ac.selected=!1,this.data.type=null,this.data.placeKey=null,this.data.rentalcarsItem=null,"origin"==this.options.groupName?this.model.setFields("rentalcars",[]):this.model.setFields("rentalcarsDrop",[])),this.emit("change"),_r_()},setTrackingFields:function(e,t){_i_("4ab:5cc022f5"),this.model.setFields(e,t),this.emit("change"),_r_()},validate:function(){_i_("4ab:9d1aa602");var e=!0,t="";return this.options.validate?"rentalcars"===this.model.getMode()?(this.ac.selected&&""!==this.data.ss||(e=!1,t="search-string-empty"),e&&this.valid===e||(this.valid=e,this.validationError=t,this.emit("validation"))):(""===this.data.ss&&(e=!1,t="search-string-empty"),this.valid!==e&&(this.valid=e,this.validationError=t,this.emit("validation"))):(this.valid=e,this.validationError=t),_r_(e)},initPredictions:function(){_i_("4ab:755389c7"),this.options.gpf&&B.require("search/destination/service-atlas").init(),_r_()},configurePredictions:function(e){_i_("4ab:2393882a"),$.extend(this.predicitonParameters,e),_r_()},getPredictions:function(e,a){_i_("4ab:b87114ff");var t=$.extend({},s.search_autocomplete_params,this.predicitonParameters);this.searchInstance&&this.searchInstance.abort(),this.ac={selected:!1,dataset:[]},t.ss=e,t.gpf=this.options.gpf,this.options.onlyCurrentCountry&&(t.e_acf_i=s.b_country_id,t.e_acf_t="country"),"rentalcars"==this.model.getMode()&&(t.bgo=1),this.searchInstance=n.search(t,function(e,i){_i_("4ab:090c5577");var n=arguments;if(i){if(this.model.setFields(this.options.groupName,i._ef),this.model.setFields("destinationNotSelected",i._efd),this.searchInstance&&this.searchInstance.getResultDetails&&i.results&&i.results[0]&&!i.results[0]._details)return this.searchInstance.getResultDetails(i.results[0],function(e,t){_i_("4ab:6b74c459"),e||(this.ac.dataset=i.results,this.ac.dataset[0]=t,this.ac.dataset[0]._details=!0),a.apply(null,n),_r_()}.bind(this)),_r_();this.ac.dataset=i.results}a.apply(null,n),_r_()}.bind(this)),this.model.setFields("destinationOriginal",[{name:"ss_raw",value:t.ss}]),this.model.setFields("destinationSelected",[{name:"search_pageview_id",value:s.pageview_id}]),i("et").stage("MRbBYWKOFXRFfHBYTET",1),_r_()},abortPredictions:function(){_i_("4ab:91e757d7"),this.searchInstance&&this.searchInstance.abort(),_r_()},getSuggestions:function(e,t){if(_i_("4ab:6ff8b2a0"),this.suggestionsCache.results.length)return setTimeout(function(){_i_("4ab:3c4c885b"),e(null,this.suggestionsCache),_r_()}.bind(this),0),_r_();this.model.one("destination:suggestions",function(){_i_("4ab:19d47861"),this.suggestionsCache.results.length&&e(null,this.suggestionsCache),_r_()}.bind(this)),_r_()},fetchSuggestions:function(e){if(_i_("4ab:78d48089"),this.suggestionsLoading)return _r_();var t=B.require("search/destination/service-booking");this.suggestionsInstance=t.getSuggestions(function(e,t){if(_i_("4ab:f6a6f946"),!e&&t&&t.results){t.on_click_suggestion=0<t.results.length;for(var i=0;i<t.results.length;i++)!t.results[i].ss&&t.results[i].label&&(t.results[i].ss=t.results[i].label);this.suggestionsCache=t}this.suggestionsLoading=!1,this.emit("destination:suggestions"),_r_()}.bind(this),e),this.suggestionsLoading=!0,_r_()},initOnlyCurrentCountry:function(e){_i_("4ab:1447d160"),this.options.onlyCurrentCountry=!!e,_r_()},getOnlyCurrentCountry:function(){return _i_("4ab:784bf933"),_r_(!!this.options.onlyCurrentCountry)},setOnlyCurrentCountry:function(e){_i_("4ab:0d6609ed"),this.options.onlyCurrentCountry=!!e,this.emit("change",{onlyCurrentCountry:!0}),_r_()},emit:function(e,t){_i_("4ab:7ff501a3"),t=t||{},this.model.emit(e,$.extend(t,{group:this.options.groupName})),_r_()},parseMltRecommendations:function(e){return _i_("4ab:a991c3a5"),e&&e.length&&e.forEach(function(e){_i_("4ab:c2deb740"),e.ss=e.label,e.dest_id=e.b_ufi,e.dest_type="city",e.photo_uri=e.picture_city||e.b_image_url,e.mlt_recommendation=1,_r_()}),_r_(e)}}),t.exports=o,_r_()}),B.define("search/destination/service",function(i,e,t){"use strict";_i_("4ab:09502151");var n=i("search/destination/service-booking"),a=i("search/destination/service-carrier");function h(e){return _i_("4ab:05edf08f"),_r_(-1!=["route","postal_code","street_address"].indexOf(e.place_type))}function s(e,t,i){_i_("4ab:d5d9fff2");var n={},a=e.search.call(e,$.extend({},t),function(e,t){_i_("4ab:ca016df2"),setTimeout(function(){_i_("4ab:f23dea16"),e?i.call(null,e,null):i.call(null,e,t),_r_()},0),_r_()});return n.abort=function(){_i_("4ab:c33745771"),a&&a.abort(),_r_()},_r_(n)}t.exports={search:function(e,t){if(_i_("4ab:ce851a88"),!e||!e.ss||"function"!=typeof t)throw new Error("Invalid arguments");return e.bgo?_r_(i("search/destination/service-rentalcars").search(e,t)):e.useAutoCompleteService?_r_(i("search/destination/service-autocomplete").search(e,t)):/^[,\s]+$/.test(e.ss)?(t(new Error("Invalid search string"),null),_r_()):e.gpo?_r_(a.search(e,t)):e.fesp_acf_i||e.fesp_acf_i_regions||e.fesp_acf_i_cities?_r_(s(n,e,t)):e.gpf&&e.ss.match(/[0-9]/)?_r_(function(e,t,n){var i,a;_i_("4ab:6d2f3345");for(var s=[],o=[],r=[],_=0,l=function(e,t,i){_i_("4ab:51e06c11"),_++,s.length&&(t?o.push(t):r[e]=i,_==s.length)&&(o.length==s.length?n.call(null,o[0],null):(i=function(e){_i_("4ab:b5fdc80c");var i={results:[],_ef:[],_efd:[]};return e.forEach(function(t){return _i_("4ab:2b30aba3"),t?(t.results&&(i.results.length?(t.results=t.results.filter(h),t.results.splice(3),e=6-t.results.length,i.results.splice(e),i.results=t.results.concat(i.results)):i.results=t.results),["_ef","_efd"].forEach(function(e){_i_("4ab:dbb8c68e"),t[e]&&(i[e]=i[e].concat(t[e].filter(function(e){_i_("4ab:fb404d6b");var t={};return e.forEach(function(e){_i_("4ab:0a94a462"),t[e.name]=!0,_r_()}),_r_(function(e){return _i_("4ab:f2b14173"),_r_(!t[e.name])})}(i[e])))),_r_()}),i.is_powered_by_google=i.is_powered_by_google||t.results.length&&t.is_powered_by_google,void _r_()):_r_();var e}),i.results.forEach(function(e,t){var i;_i_("4ab:dda6d81b"),e._ef=(e=e._ef,i="ac_position",t=t,_i_("4ab:921e8421"),(e=e.filter(function(e){return _i_("4ab:88e16264"),_r_(e.name!==i)})).push({name:i,value:t}),_r_(e)),_r_()}),i.city=i.results,i.__js_upa__=i.is_powered_by_google,_r_(i)}(r),n.call(null,null,i))),_r_()},d=0;d<e.length;d++)(i=e[d].search.call(e[d],$.extend({},t),l.bind(null,d))).getResultDetails&&(a=i.getResultDetails),s.push(i);return _r_({abort:function(){for(_i_("4ab:ff00001c"),d=0;d<s.length;d++)s[d].abort();_r_()},getResultDetails:a})}([n,a],e,t)):e.gpr?_r_(function(e,t,i){_i_("4ab:d6437204");for(var n=[],a=[],s=function(e,t){if(_i_("4ab:6cc59e93"),n.length)if(e)a.push(e),a.length==n.length&&i.call(null,e,t);else for(i.call(null,e,t),o=0;o<n.length;o++)n[o].abort();_r_()},o=0;o<e.length;o++)n.push(e[o].search.call(e[o],$.extend({},t),s));return _r_({abort:function(){for(_i_("4ab:ff00001c1"),o=0;o<n.length;o++)n[o].abort();_r_()}})}([n,a],e,t)):e.gpf?_r_(function(i,t,n){var a;_i_("4ab:fea3cf15");function s(e,t){_i_("4ab:c982a5db"),setTimeout(function(){_i_("4ab:213670df"),e&&i.length?o():n.call(null,e,t),_r_()},0),_r_()}var o,r={};return(o=function(){_i_("4ab:21088902");var e=i.shift();a=e.search.call(e,$.extend({},t),s),r.getResultDetails=a.getResultDetails,_r_()})(),r.abort=function(){_i_("4ab:c3374577"),a&&a.abort(),_r_()},_r_(r)}([n,a],e,t)):_r_(s(n,e,t))}},_r_()}),B.define("search/destination/service-atlas",function(e,t,i){"use strict";_i_("4ab:36da66c3");var n=e("event-emitter"),o=e("server-data"),r=o.b_map_center_latitude||o.b_latitude||void 0,_=o.b_map_center_longitude||o.b_longitude||void 0,a=["ChIJNy0jzGPMUQ4RWpboPw0ztMY","ChIJ2xJC2SwmsUcRBqiHnUEubtY","ChIJT-IyeGHurw0Rx89nUEaYTPM","ChIJk_Swujrurw0R7yS_X2BSuD4","ChIJv02k1k9oWQ0RWvhKDOLvTWA","ChIJEdjOLYEU9x4RSanYNmYyKNE"],l={administrative_area_level_1:"region",administrative_area_level_2:"region",administrative_area_level_3:"region",administrative_area_level_4:"region",administrative_area_level_5:"region",region:"region",airport:"airport",country:"country",locality:"city",point_of_interest:"landmark",poi:"landmark",route:"region",street_address:"region",postal_code:"region",sublocality:"district"},d="zh"===o.b_lang||"xt"===o.b_lang||"ja"===o.b_lang||"ko"===o.b_lang,h="cn"===o.b_guest_country,c=!o.b_enable_mapbox_fallback||!h;function u(){return _i_("4ab:89516b0b"),_r_(!!B.atlas)}function f(e){_i_("4ab:6b568dc3");e=e.get("data");return _r_(-1===a.indexOf(e.id))}i.exports=n.extend({init:function(e,n){_i_("4ab:9de5d2b8");var a=this;if(!u())throw"service-atlas: B.atlas is not available";if(this.initialized)return n&&this.atlas&&this.atlas.done(n),_r_();this.initialized=!0,B.require(["async-loader"],function(e){_i_("4ab:c9c4fa5f"),e.load({js:"async_atlas_places_js"}).then(function(){_i_("4ab:2e3caf82"),function(e){_i_("4ab:236c5df3");var t=document.createElement("div"),i="provider-google-places";o.b_enable_mapbox_fallback&&(i=h?"provider-mapbox-places":"provider-google-places"),a.atlas=new e({provider:i,modules:["autocomplete","places"],options:{domNode:t,channel:"booking-places"}}),n&&a.atlas.done(n),_r_()}(B.atlas.require("atlas-places")),_r_()}),_r_()}),_r_()},search:function(t,i){if(_i_("4ab:d874a779"),!t||!t.ss||"function"!=typeof i)throw new Error("service-atlas-invalid-arguments");if(t.ss.length<2)return setTimeout(function(){_i_("4ab:ea38fa68"),i(new Error("service-atlas-too-short-search-string"),{}),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});if(!u())return setTimeout(function(){_i_("4ab:c4866534"),i(new Error("service-atlas-no-atlas"),null),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});var n=!1,e={query:t.ss};r&&_&&(e.lat=r,e.lon=_,e.radius=3e4);function a(e){_i_("4ab:bbd056dd"),n||(e&&Array.isArray(e)?function(n,e,t){_i_("4ab:156b06e0");var i={city:[]};i.__upa__=e.filter(f).slice(0,5).map(function(e,t){_i_("4ab:b3066125"),e=e.get("data");var i={upa:!0,nr_hotels:0,nr_hotels_25:0,ss_raw:n.ss,dest_id:e.id,place_id:e.id,dest_type:l[e.types&&e.types[0]]||"landmark",place_type:e.types&&e.types[0],place_types:e.types,ss:e.description,label:e.description,label_blocks:function(n,a){_i_("4ab:b6d1e31f");var s=[];return a&&0!==a.length?(a[0].offset&&s.push({text:n.substr(0,a[0].offset)}),a.forEach(function(e,t){_i_("4ab:85db203c");var i=e.offset+e.length,t=(a[t+1]&&a[t+1].offset||n.length)-i;s.push({highlighted:!0,text:n.substr(e.offset,e.length)}),t&&s.push({text:n.substr(i,t)}),_r_()}),_r_(s)):_r_([{text:n}])}(e.description,e.matched_substrings),label_highlighted:function(e,t,i){_i_("4ab:694baa63");var n="";if(!t||0===t.length)return _r_(e);for(var a=t.map(function(e){return _i_("4ab:3513ad06"),_r_(e.offset)}),s=t.map(function(e){return _i_("4ab:5c09a709"),_r_(e.offset+e.length-1)}),o=0;o<e.length;o++)-1!=a.indexOf(o)&&(n+="<b>"),n+=e.charAt(o),-1!=s.indexOf(o)&&(n+="</b>");return i.encode&&(n=(n=(n=B.jstmpl.fn.FILTERS.entities(n)).replace(/&lt;b&gt;/g,"<b>")).replace(/&lt;&#47;b&gt;/g,"</b>")),_r_(n)}(e.description,e.matched_substrings,{encode:n.gpf_encode}),label_multiline:"<span><b>"+e.description+"</b></span>",hotels:0,lc:o.b_lang,position:t,is_google_result:c,_ef:[],cjk:d};return h&&(i.is_mapbox_result=!0,i.longitude=e.longitude,i.latitude=e.latitude,i._details=!0),i._ef.push({name:"ac_position",value:t}),i._ef.push({name:"ac_click_type",value:"g"}),_r_(i)}),i.results=i.__upa__,i._ef=[],i._ef.push({name:"search_pageview_id",value:o.pageview_id}),window.google&&(i.is_powered_by_google=0<i.results.length,i.__js_upa__=i.is_powered_by_google),t(null,i),_r_()}(t,e,i):i(new Error("service-atlas-invalid-results"),null)),_r_()}function s(e){_i_("4ab:ac1377c8"),n||i(new Error("service-atlas-error "+e),null),_r_()}return this.init(t,function(){_i_("4ab:016a77f1"),this.atlas.autocomplete(e,a,s),_r_()}.bind(this)),_r_({getResultDetails:function(n,a){if(_i_("4ab:22cb1394"),!n.place_id)return a(null,n),_r_();this.atlas.getGeocodeDetails({placeId:n.place_id},function(e){var t,i;_i_("4ab:e4a4ff55"),t=n,i=e,e=a,_i_("4ab:eb6b72d6"),(t=t||{}).id=i.id||i.place_id,t.place_id=t.id,t.name=i.name||i.formatted_address,t.latitude=i.geometry.location.lat(),t.longitude=i.geometry.location.lng(),t.place_types=i.types,t.dest_type=l[i.types&&i.types[0]]||"landmark",t._ef=t._ef||[],t._ef.push({name:"ss_short",value:i.name}),e(null,t),_r_(),_r_()}),_r_()}.bind(this),abort:function(){_i_("4ab:e8b984fb"),n=!0,_r_()}})}}),_r_()}),B.define("search/destination/service-booking",function(e,t,i){"use strict";_i_("4ab:b66508d4");var e=e("event-emitter"),n=B.env.b_sb_autocomplete_predictions_url,a=B.env.b_sb_autocomplete_predictions_method||"GET";i.exports=e.extend({search:function(s,o){if(_i_("4ab:b79591a0"),!s||!s.ss||"function"!=typeof o)throw new Error("Invalid arguments");var e=(e=s,_i_("4ab:62ef0a47"),e.term=e.ss,delete e.ss,_r_(e));this.emit("beforeajax",s,e);var t=$.ajax({type:a,url:n,data:e,success:function(e,t,i){var n,a;_i_("4ab:216ba6f0"),n=e,a=s,e=o,_i_("4ab:b7d3e9c5"),n&&n.city?n.__upa__||0!==n.city.length||n.bbtoollocations&&0!==n.bbtoollocations.length||n.theme&&0!==n.theme.length||n.searches&&0!==n.searches.length?(n.city=n.city.map(function(e,t){var i;return _i_("4ab:35c6f572"),!e.label&&e.labels&&(e.label=(i=e.labels,_i_("4ab:18745e16"),_r_(i.map(function(e){return _i_("4ab:ec1c0c2e"),_r_(e.text)}).join(", ")))),!e.labels||"zh"!==e.lc&&"xt"!==e.lc&&"ja"!==e.lc&&"ko"!==e.lc||(e.label_blocks=function(e){_i_("4ab:dad77360");var i=[];return e.forEach(function(e,t){_i_("4ab:c4f7dab7"),0<t&&i.push({text:", "}),i.push({highlighted:!!e.hl,text:e.text}),_r_()}),_r_(i)}(e.labels)),e.ss=e.label,e.label_highlighted=e.label_highlighted||e.label,e.position=t,e._ef=e._ef||[],e._ef.push({name:"ac_position",value:t}),e._ef.push({name:"ac_langcode",value:e.lc}),e._ef.push({name:"ac_click_type",value:"b"}),n.__did_you_mean__&&(e._ef.push({name:"suggested_term",value:n.__did_you_mean__.suggestion}),e._ef.push({name:"suggestion_clicked",value:1})),e._t&&e._ef.push({name:"_t",value:e._t}),_r_(e)}),n.results=n.city,n.bbtoollocations&&(n.results=n.bbtoollocations.map(function(e,t){return _i_("4ab:52311848"),e.name=B.jstmpl.fn.FILTERS.html(e.name),e.address=B.jstmpl.fn.FILTERS.html(e.address),void 0!==e.label&&(e.label=B.jstmpl.fn.FILTERS.html(e.label)),void 0!==e.label_highlighted&&(e.label_highlighted=B.jstmpl.fn.FILTERS.html(e.label_highlighted)),e.label_blocks=[{highlighted:1,text:e.name},{text:", "},{text:e.address}],e.ss=e.name,e.latitude=e.place_id_lat,e.longitude=e.place_id_lon,e.position=t,e._ef=e._ef||[],e._ef.push({name:"bbtoollocation",value:"1"}),_r_(e)}).concat(n.results)),n.theme&&(n.theme=n.theme.map(function(e,t){return _i_("4ab:bda296e8"),e.ss=e.label,e._ef=e._ef||[],e._ef.push({name:"ac_position",value:t+n.city.length}),e._ef.push({name:"ac_click_type",value:"b"}),_r_(e)}),n.theme.length&&a.limitOneTheme&&(n.theme=[n.theme[0]]),n.results=n.results.concat(n.theme)),n._ef=n._ef||[],n._ef.push({name:"search_pageview_id",value:B.env.pageview_id}),n._ef.push({name:"ac_suggestion_list_length",value:n.city.length}),n._ef.push({name:"ac_suggestion_theme_list_length",value:n.theme?n.theme.length:0}),n._efd=n._efd||[],e(null,n)):e(new Error("service-booking-no-results"),n):e(new Error("service-booking-data-invalid"),null),_r_(),_r_()}.bind(this),error:function(e,t,i){var n,a,s;_i_("4ab:f7f3269d"),n=e,a=t,_i_("4ab:df669ae9"),"error"===a&&403===n.status&&(s=window.location.href).indexOf("page_reload")<0&&(e=2e3,"mdot"===B.env.b_site_type&&(e=1e3),a=B.jstmpl.translations("search_sbox_abandoned_search_open_tab_message"),n=B.jstmpl.translations("search_sbox_abandoned_search_open_tab_message_refresh_cta"),-1<s.indexOf("#")?($("body").append($("<div class='sb-lightbox-brick-error'><p>"+a+"<br><br><a class='btn btn-primary' onclick='window.location.reload(true)'>"+n+"</a></p></div>")),setTimeout(function(){_i_("4ab:6339201f"),window.location.reload(!0),_r_()},e)):(-1<s.indexOf("?")?s+="&page_reload=1":s+="?page_reload=1",$("body").append($("<div class='sb-lightbox-brick-error'><p>"+a+"<br><br><a class='btn btn-primary' href='"+s+"'>"+n+"</a></p></div>")),setTimeout(function(){_i_("4ab:56a1f835"),window.location.href=s,_r_()},e))),_r_(),"abort"!==t&&o(new Error("service-booking-error "+i),null),_r_()}.bind(this)});return _r_({abort:function(){_i_("4ab:492fa66a"),t&&t.abort&&t.abort(),_r_()}})},getSuggestions:function(n,e){_i_("4ab:33d04881");var t=B.env.search_autocomplete_params,i="";if(e&&e.searchHistory&&B.env.b_ac_search_history)return n(!1,{results:B.env.b_ac_search_history}),_r_();"searchresults"===B.env.b_action&&(i="valid"===(i=B.search.dates("checkin")).type?i.toString():"");var t=Object.assign({},t,{ttype:0,checkin:i}),a=$.ajax({type:"get",url:"/search_history_and_suggestions",data:t,success:function(e,t,i){_i_("4ab:14a99cd2"),n(null,e),_r_()},error:function(e,t,i){if(_i_("4ab:05646750"),"abort"===t)return _r_();n(new Error("service-booking-error "+i),null),_r_()}});return _r_({abort:function(){_i_("4ab:492fa66a1"),a&&a.abort&&a.abort(),_r_()}})}}),_r_()}),B.define("search/destination/service-carrier",function(e,t,i){"use strict";_i_("4ab:ededd1f2");var e=e("event-emitter"),s=B.env.b_sb_googleplaces_carrier_url,o=B.env.b_sb_googleplaces_carrier_method||"POST";function n(i,n){if(_i_("4ab:8164341f"),!i.place_id)return n(null,i),_r_();var e={place_id:i.place_id};e.sessiontoken=B.env.pageview_id,function(e,n){_i_("4ab:fd5f8054"),e?(e.geo=1,$.ajax({type:o,url:s,data:JSON.stringify(e),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,t){_i_("4ab:49765d57"),n(t,e),_r_()}.bind(this),error:function(e,t,i){_i_("4ab:3f50e38d"),"abort"!==t&&n(t,new Error("service-booking-error "+i)),_r_()}.bind(this)}),_r_()):_r_()}(e,function(e,t){return _i_("4ab:0337a9b6"),"success"!=e?(n(null,i),_r_()):((i=i||{}).latitude=t.latitude,i.longitude=t.longitude,n(null,i),void _r_())}),_r_()}i.exports=e.extend({search:function(e,a){if(_i_("4ab:34c62c64"),!e||!e.ss||"function"!=typeof a)throw new Error("service-carrier-invalid-arguments");if(e.ss.length<2)return setTimeout(function(){_i_("4ab:ff6ee0e6"),a(new Error("service-carrier-too-short-search-string"),{}),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});var t=function(e){_i_("4ab:8ee76456");e={ss:e.ss,languagecode:e.lang,ip_country:B.env.ip_country};return e.sessiontoken=B.env.pageview_id,_r_(e)}(e);t.geo=0,this.emit("beforeajax",e,t);var i=$.ajax({type:o,url:s,data:JSON.stringify(t),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,t,i){var n;_i_("4ab:216ba6f01"),n=e,e=a,_i_("4ab:e77e85f6"),n&&n.length?e(null,{results:n=n.filter(function(e){return _i_("4ab:c09b95cb"),e?(e.place_type,e.place_type,e._ef=e._ef||[],_r_(e)):_r_(!1)}),is_powered_by_google:1}):e(new Error("service-carrier-invalid-results"),null),_r_(),_r_()}.bind(this),error:function(e,t,i){_i_("4ab:b4644f9f"),"abort"!==t&&a(new Error("service-booking-error "+i),null),_r_()}.bind(this)});return _r_({getResultDetails:n.bind(this),abort:function(){_i_("4ab:492fa66a2"),i&&i.abort&&i.abort(),_r_()}})},getSuggestions:function(n,e){_i_("4ab:33d048811");var t=B.env.search_autocomplete_params,i="";if(e&&e.searchHistory&&B.env.b_ac_search_history)return n(!1,{results:B.env.b_ac_search_history}),_r_();"searchresults"===B.env.b_action&&(i="valid"===(i=B.search.dates("checkin")).type?i.toString():"");var t=Object.assign({},t,{ttype:0,checkin:i}),a=$.ajax({type:"get",url:"/search_history_and_suggestions",data:t,success:function(e,t,i){_i_("4ab:14a99cd21"),n(null,e),_r_()},error:function(e,t,i){if(_i_("4ab:056467501"),"abort"===t)return _r_();n(new Error("service-booking-error "+i),null),_r_()}});return _r_({abort:function(){_i_("4ab:492fa66a3"),a&&a.abort&&a.abort(),_r_()}})}}),_r_()}),B.define("component/search/travel-purpose/checkbox",function(e,t,i){"use strict";_i_("4ab:67e1bb56");var n=e("component"),a=e("search/searchbox/model");i.exports=n.extend({init:function(){_i_("4ab:a669d18e"),this.$form=this.$el.closest("form"),this.$checkbox=this.$el.find("[name=sb_travel_purpose]"),this.profileSplitAccounts=B.env.b_connected_user_accounts,this.formAction=this.$form.attr("action"),this.model=a.getInstance(this.$form.attr("data-sb-id")),this.searchedBusiness=!1,this.$checkbox.length&&"checked"===this.$checkbox[0].getAttribute("checked")&&(this.searchedBusiness=!0),this.updateRedirectFormFieldsOnModelChange=!1,(this.searchedBusiness||this.profileSplitAccounts)&&this.bindEvents(),_r_()},bindEvents:function(){_i_("4ab:94f4c6a6"),this.$checkbox.on("change",this.handleCheckboxChange.bind(this)),this.model.on("change",function(e){_i_("4ab:48f1f1ce"),!this.updateRedirectFormFieldsOnModelChange||e&&e.redirectFormFields||this.createRedirectFormFields(),_r_()}.bind(this)),_r_()},handleCheckboxChange:function(){_i_("4ab:a853bf4c"),this.$checkbox.prop("checked")?this.$hidden&&(this.$hidden.remove(),this.$checkbox[0].setAttribute("name","sb_travel_purpose")):(this.$hidden=$('<input name="sb_travel_purpose" value="leisure" type="hidden" />').appendTo(this.$el),this.$checkbox[0].setAttribute("name","h_sb_travel_purpose")),this.createRedirectFormFields(),_r_()},createRedirectFormFields:function(){if(_i_("4ab:9f95f63a"),!this.profileSplitAccounts||!this.profileSplitAccounts.length||!B.env.feature_profile_split_sb_checkbox)return _r_();this.model.setFields("bnss",[]),this.model.trigger("change",{redirectFormFields:!0});var e=this.findAccountType(this.$checkbox.prop("checked")),t=this.formAction,i=B.env.b_secure_domain+this.$el.attr("data-profile-switch-url");-1===(t=-1===t.indexOf(B.env.b_nonsecure_hostname)?B.env.b_nonsecure_hostname+t:t).indexOf("?")?t+=+this.$form.serialize():t+="&"+this.$form.serialize(),this.model.setFields("bnss",[{type:"hidden",name:"redirect_url",value:t},{type:"hidden",name:"switch_to_user_id",value:e.b_user_id}]),this.$form.attr("method","POST"),this.model.setFormAction(i),this.model.trigger("change",{redirectFormFields:!0}),this.updateRedirectFormFieldsOnModelChange=!0,_r_()},findAccountType:function(e){var t,i,n;for(_i_("4ab:4b27ed34"),t=0,i=this.profileSplitAccounts.length;t<i;++t)("business"===this.profileSplitAccounts[t].b_type&&e||"business"!==this.profileSplitAccounts[t].b_type&&!e)&&(n=this.profileSplitAccounts[t]);return _r_(n)}}),_r_()}),B.define("component/search/dates/date-field",function(e,t,i){"use strict";_i_("4ab:1d1783c9");var l=e("caret"),n=e("component"),d=e("formatting/date"),a=e("keycodes"),s=e("read-data-options"),o=e("ga-tracker"),r=e("search/searchbox/model");i.exports=n.extend({init:function(){_i_("4ab:3eac4c07"),this.options=s(this.el,{forceInitRender:{name:"force-init-render",type:Boolean,defaultValue:!1},modelId:{name:"sb-id",type:String,required:!0},modelMode:{name:"mode",type:String,defaultValue:"single"},validators:{name:"validators",type:String,defaultValue:""}});var e=this.options.validators.split(",");this.model=r.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("change",this.modelChange.bind(this)),this.model.dates.configure({noValidation:!0,allowMaxLos:!0,notEmpty:0<=e.indexOf("not-empty")}),this.$display=this.$el.find("[data-display]"),this.$inputs=this.$el.find("[data-input]"),this.$inputYear=this.$inputs.filter('[data-input-fragment="year"]'),this.$inputMonth=this.$inputs.filter('[data-input-fragment="month"]'),this.$inputDay=this.$inputs.filter('[data-input-fragment="day"]'),this.$controls=this.$el.find("[data-controls]"),this.$iconDay=this.$el.find("[data-icon-day]"),this.$field=this.$el.find("[data-field]"),this.$controls.on("mousedown",this.controlsMouseDown.bind(this)),this.$inputs.on("focus",this.inputFocus.bind(this)),this.$inputs.one("focus",this.inputFocusTrack.bind(this)),this.$inputs.on("blur",this.inputBlur.bind(this)),this.$inputs.on("keydown",this.inputKeyDown.bind(this)),this.$inputs.on("keyup",this.inputKeyUp.bind(this)),this.$inputs.on("keypress",this.inputKeyPress.bind(this)),B.eventEmitter.on("CALENDAR:shown CALENDAR:closed",this.updateFocusClass.bind(this)),this.previousState={},this.state={editing:!1,currentField:null},this.checkDateFields(),this.initModel(),_r_()},checkDateFields:function(){var e,t;_i_("4ab:b79e53cf"),this.$inputYear.length&&this.$inputMonth.length&&this.$inputDay.length||(e=this.model.dates.getFallbackDates(this.options.modelMode),0===this.$inputYear.length&&(t=e.year||"",this.$inputYear=this.createDateInputField(this.options.modelMode+"_year",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:05cd2402"),Error("Date input field year was not found in "+B.env.b_action+" action")},0)),0===this.$inputMonth.length&&(t=e.month||"",this.$inputMonth=this.createDateInputField(this.options.modelMode+"_month",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:01a0e5f0"),Error("Date input field month was not found in "+B.env.b_action+" action")},0)),0===this.$inputDay.length&&(t=e.day||"",this.$inputDay=this.createDateInputField(this.options.modelMode+"_monthday",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:53fd85ba"),Error("Date input field day was not found in "+B.env.b_action+" action")},0))),_r_()},createDateInputField:function(e,t){return _i_("4ab:b9c402e3"),_r_($("<input>").attr({type:"hidden",name:e,value:t}).val(t))},initModel:function(){_i_("4ab:2d14df86");var e=!1,t=this.$inputYear.val(),i=this.$inputMonth.val(),n=this.$inputDay.val();t&&i&&n?(e=this.model.dates.initDate(this.options.modelMode,{year:+t,month:+i-1,day:+n}),this.$field.hasClass("-empty")&&"index"===B.env.b_action&&this.render()):e=this.model.dates.initDate(this.options.modelMode,null),e&&!this.options.forceInitRender||this.render(),_r_()},modelChange:function(e){if(_i_("4ab:c5a8b8ab"),"dates"!==e.group||!e[this.options.modelMode])return _r_();this.render(),_r_()},controlsMouseDown:function(e){_i_("4ab:6e48dd53"),this.inputBlurPrevented=!0,setTimeout(function(){_i_("4ab:334cc6cc"),this.inputBlurPrevented=!1,_r_()}.bind(this)),_r_()},inputFocus:function(e){_i_("4ab:9c58a474"),clearTimeout(this.inputBlurTimer),this.state.editing=!0,this.state.currentField=e.target.getAttribute("data-input-fragment"),this.startEditing(),this.updateFocusClass(),_r_()},inputFocusTrack:function(){_i_("4ab:7630c5c4"),o.trackEvent(o.SearchBoxTracker,"Keyboard Focus",this.options.modelMode+" field"),_r_()},inputBlur:function(e){_i_("4ab:4a0c1d36");var t=e.target,e=t.getAttribute("data-input-fragment");this.inputBlurPrevented||(this.state.editing=!1,this.state.currentField=null),this.setDateFragment(e,t.value),this.inputBlurTimer=setTimeout(function(){_i_("4ab:fcd041df"),this.apply(),this.updateFocusClass(),_r_()}.bind(this)),_r_()},inputKeyDown:function(e){_i_("4ab:2f088557");var t=e.target,i=t.getAttribute("data-input-fragment");if(a.isModifier(e.which))return _r_();a.isUpArrow(e.which)?(this.adjustDateFragment(i,t.value,1),e.preventDefault()):a.isDownArrow(e.which)?(this.adjustDateFragment(i,t.value,-1),e.preventDefault()):a.isLeftArrow(e.which)||a.isBackspace(e.which)?this.inputMoveAdjacent(e,-1,{backspace:a.isBackspace(e.which)}):a.isRightArrow(e.which)&&this.inputMoveAdjacent(e,1),_r_()},inputKeyUp:function(e){_i_("4ab:edc2be24");var t=e.target;if(a.isModifier(e.which))return _r_();!a.isNavigation(e.which)&&!a.isDeletion(e.which)&&t.value.length>=Math.floor(t.getAttribute("maxlength"))&&this.inputMoveAdjacent(e,1,{automatic:!0}),_r_()},inputMoveAdjacent:function(e,t,i){_i_("4ab:e7adcbb3");var n=e.target,a=this.$inputs.length,s=l.getPosition(n),o=0,r=this.$inputs.filter(n).index(),_=a-1;return 0<t&&(o=n.value.length,_=0),(i=i||{}).automatic&&r==a-1||!i.force&&l.getSelectionLength(n)?_r_():(!i.force&&s!=o||(((r+=t)<0||a-1<r)&&(r=_),r=this.$inputs.get(r),i.automatic&&r.value.length?r.select():(t=0<t?0:r.value.length,l.setPosition(r,t),i.backspace||e.preventDefault())),void _r_())},inputKeyPress:function(e){_i_("4ab:0c3eb8b9"),e.keyCode&&a.isNavigation(e.keyCode)||!(e.which<48||57<e.which)||(this.inputMoveAdjacent(e,1,{automatic:!0,force:!0}),e.preventDefault()),_r_()},startEditing:function(){_i_("4ab:63355040"),setTimeout(function(){_i_("4ab:98e6ffec"),this.model.dates.startEditing(),_r_()}.bind(this)),this.render(),_r_()},setDateFragment:function(e,t){_i_("4ab:f17b1283"),t=""===t?null:+t,"month"===e&&null!==t&&--t,this.model.dates.setEditingFragment(this.options.modelMode,e,t),_r_()},adjustDateFragment:function(e,t,i){_i_("4ab:d7ec0590"),t=""===t?0:+t,"month"===e&&--t,this.model.dates.adjustEditingFragment(this.options.modelMode,e,t,i),_r_()},apply:function(){_i_("4ab:5697e3f5"),this.model.dates.applyEditing(this.options.modelMode),_r_()},render:function(){_i_("4ab:8d02f233");var e=this.$field.hasClass("-editing"),t=this.model.dates.get(),i=this.$inputYear.val(),n=this.$inputMonth.val(),a=this.$inputDay.val(),s=t[this.options.modelMode],o=t["editing_"+this.options.modelMode]||{},r="date_with_weekday",i=""===i?null:+i,n=""===n?null:+n,a=""===a?null:+a,_="number"==typeof(_=o.year)?_:null,t="number"==typeof(t=o.month)?t+1:null,o="number"==typeof(o=o.day)?o:null;e!=this.state.editing&&(e=this.state.editing,this.$field.toggleClass("-editing",e)),i!==_&&(this.$inputYear.val(_),"year"===this.state.currentField&&this.$inputYear.select()),n!==t&&(this.$inputMonth.val(t),"month"===this.state.currentField&&this.$inputMonth.select()),a!==o&&(this.$inputDay.val(o),"day"===this.state.currentField&&this.$inputDay.select()),e||s||(this.$field.addClass("-empty"),this.$display.html(this.$display.attr("data-placeholder")),this.$iconDay.html(this.$iconDay.attr("data-placeholder"))),!e&&s&&(this.$field.removeClass("-empty"),r=this.$display.data("date-format")||r,this.$display.html(d.format(s,r)),this.$iconDay.html(d.format(s,"{day_of_month}"))),_r_()},updateFocusClass:function(){_i_("4ab:2f80354a"),setTimeout(function(){_i_("4ab:91b5f950");var e=this.$el.parent(),t=this.state.editing,e=!e.hasClass("c2-wrapper-s-hidden");t||e?this.$el.addClass("-focus"):this.$el.removeClass("-focus"),_r_()}.bind(this),100),_r_()}}),_r_()}),B.define("search/dates/util",function(e,t,i){_i_("4ab:f21d06d7"),i.exports={formatDate:function(e){_i_("4ab:3326735c");var t=new Date(e),i=""+(t.getMonth()+1),e=""+t.getDate(),t=t.getFullYear();return i.length<2&&(i="0"+i),e.length<2&&(e="0"+e),_r_([t,i,e].join("-"))},addDay:function(e){_i_("4ab:41edee44");e=new Date(e);return e.setDate(e.getDate()+1),_r_(e)},substractDay:function(e){_i_("4ab:13bbe474");e=new Date(e);return e.setDate(e.getDate()-1),_r_(e)},daysBetween:function(e,t){_i_("4ab:3af11de9"),e=new Date(e),t=new Date(t);e=e.getTime(),t=t.getTime(),t=Math.abs(e-t);return _r_(Math.round(t/864e5))}},_r_()}),B.define("component/search/dates/dates-errors",function(e,t,i){"use strict";_i_("4ab:f0d3a03a");var n=e("component"),a=e("jstmpl"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=n.extend({init:function(){_i_("4ab:6a4d3cf2"),this.options=s(this.el,{modelId:{name:"sb-id",type:String,required:!0},sbFacelift:{name:"sb-facelift",type:Number}}),this.model=o.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("validation",this.modelValidation.bind(this)),this.template=a("fe_search_dates_errors"),_r_()},modelValidation:function(e){if(_i_("4ab:c603926c"),"dates"!==e.group)return _r_();var t=s(this.el,{viewId:{name:"view-id",type:String,defaultValue:""}});e.valid?this.$el.html(""):(B.env.fe_bhsp_202005&&"exceeds-max-los"===e.validationError&&B.et.stage(B.env.fe_bhsp_202005,7),this.$el.html(this.template.render({fe_error:e.validationError,fe_new:!0,fe_view:t.viewId,fe_sb_facelift:this.options.sbFacelift,fe_max_los:this.model.dates.getOption("maxLos")}))),_r_()}}),_r_()}),booking.jstmpl("search_dates_length_of_stay",function(){_i_("4ab:73971c51");var a,s=["\n\t\t","\n\n","\n\n    ","\n        ","\n    ",'\n\n    <div\n      class="sb-dates__los\n      '," sb-dates__los--bold\n      ",'\n      ">\n\n      \n      ','\n          <i class="bicon bicon-halfmoon sb_dates__los__icon"></i>\n          <span class="sb-dates__los__text">\n      ',"\n\n        "," \n          ","/private/bh_sbox_general_dates_num_weeks/name","\n          ","/private/bh_gf_sbox_general_dates_num_nights_1/name","/private/sbox_general_dates_num_nights_1/name","\n      ","\n         </span>\n      ","\n    </div>\n",'\n    <div class="sb-dates--los-placeholder"></div>\n',"\n"],o=["b_action","fe_sb_los_bold","fe_sb_state_length_of_stay_in_weeks","fe_sb_state_length_of_stay","fe_is_family","b_search_config"];return _r_(function(e){_i_("4ab:cfdc9508");var t="",i=this.fn,n=t+=s[0];return _i_("4ab:7ab8d3d0"),n+=s[1],i.MJ(i.MB(o[3]))?(n+=s[2],i.MJ(i.MB(o[1])+""=="")&&(n+=s[3],i.MN("fe_sb_los_bold",i.MJ(i.MC(o[0])+""=="hotel")&&i.track_experiment("AEJPOTIKSBOEQC")),n+=s[4]),n+=s[5],i.MD(o[1])&&(n+=s[6]),n+=s[7],i.MD(o[1])&&(n+=s[8]),n+=s[9],i.MD(o[2])?n+=[s[10],(e.unshift({num_weeks:i.MB(o[2])}),a=i.ME(s[11],i.MB,i.MN,i.MO(i.MC(o[2]),null,s[11])),e.shift(),a),s[3]].join(""):i.MJ(i.MB(o[4]))||i.MJ(i.MC(o[5]))&&i.MJ(i.MC(o[5]).b_children_total)?n+=[s[12],(e.unshift({num_nights:i.MB(o[3])}),a=i.ME(s[13],i.MB,i.MN,i.MO(i.MC(o[3]),null,s[13])),e.shift(),a),s[3]].join(""):n+=[s[12],(e.unshift({num_nights:i.MB(o[3])}),a=i.ME(s[14],i.MB,i.MN,i.MO(i.MC(o[3]),null,s[14])),e.shift(),a),s[3]].join(""),n+=s[15],i.MD(o[1])&&(n+=s[16]),n+=s[17]):n+=s[18],n+=s[19],t=_r_(n),t+=s[4],_r_(t)})}()),B.define("component/search/dates/length-of-stay",function(e,t,i){_i_("4ab:73c04c07");var n=e("calendar-base").Calendar,a=e("component"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=a.extend({init:function(){_i_("4ab:f03f89b9"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},isAvailability:{name:"is-availability",type:Boolean}}),this.model=o.getInstance(this.options.modelId),this.model.use("dates"),this.model.use("group"),this.model.on("change",this.modelChange.bind(this)),this.state={},"hotel"===B.env.b_action&&B.et.track("AEJPOTIKSBOEQC")&&(this.state.fe_sb_los_bold=1),this.template=B.jstmpl("search_dates_length_of_stay"),_r_()},modelChange:function(e){if(_i_("4ab:62afab30"),!e||"dates"!=e.group&&"group"!=e.group)return _r_();this.render(),_r_()},render:function(){_i_("4ab:9f53e357");var e=this.model.dates.get(),t=this.model.group.get();this.state.fe_is_family=t.children_ages&&0<t.children_ages.length?1:0,this.state.fe_is_availability=this.options.isAvailability,this.state.fe_sb_state_length_of_stay=!e.editing&&e.checkin&&e.checkout&&0<n.diff(e.checkout,e.checkin)?n.interval(e.checkin,e.checkout)-1:"";e=this.state.fe_sb_state_length_of_stay;e&&7<=e&&!(e%7)&&this.model.getFlag("NAFLSDBJWbOEfSPMHBaVTbYHbUTKe")?this.state.fe_sb_state_length_of_stay_in_weeks=e/7:this.state.fe_sb_state_length_of_stay_in_weeks=0,this.$el.html(this.template.render(this.state)),_r_()}}),_r_()}),B.define("search/dates/model",function(e,t,i){"use strict";_i_("4ab:62576691");var _=e("calendar-base").Calendar,l=e("search/modules/search-date").SearchDate,n=B.env.b_timestamp,a=B.env.sunday_first,s=B.env.b_search_max_months||13;function o(e){_i_("4ab:3eba6d9a"),this._model=e,this._data={initialized:!1,checkin:null,checkinTime:null,checkout:null,checkoutTime:null,firstValidDay:null,lastValidDay:null,editing:!1,editing_checkin:null,editing_checkout:null,length_of_stay:null,week_start:a?0:1},this._valid=!0,this._validationError="",this._options={maxLos:30,maxMonths:s,syncLegacy:!B.env.fe_xpi_no_legacy_sync,allowZeroLos:!1};e=new Date(1e3*(n-39600));this._data.firstValidDay=l.create({year:e.getUTCFullYear(),month:e.getUTCMonth(),day:e.getUTCDate()}),this._data.lastValidDay=l.createFlexible({year:e.getUTCFullYear(),month:e.getUTCMonth()+this._options.maxMonths,day:0}),this._data.firstValidCheckoutDay=l.create({year:e.getUTCFullYear(),month:e.getUTCMonth(),day:e.getUTCDate()+1}),this._options.syncLegacy&&(this.boundLegacyDateChange=this.legacyDateChange.bind(this),B.eventEmitter.on(B.Search.Events.DATE_CHANGED,this.boundLegacyDateChange)),_r_()}$.extend(o.prototype,{init:function(e){_i_("4ab:bef83fce");var t=l.create(e.checkin),e=l.create(e.checkout);this.validateDate("checkin",t).valid&&this.validateDate("checkout",e,{checkin:t}).valid&&(this.setDate("checkin",t,{init:!0}),this.setDate("checkout",e,{init:!0}),this.emit("init")),_r_()},configure:function(e,t){_i_("4ab:2e70fbcb");var i=this._options.maxMonths,n=this._options.syncLegacy;void 0!==t?this._options[e]=t:"object"==typeof e&&$.extend(this._options,e),i!=this._options.maxMonths&&(this._data.lastValidDay=l.createFlexible({year:this._data.firstValidDay.year,month:this._data.firstValidDay.month+this._options.maxMonths,day:0})),n!==this._options.syncLegacy&&B.eventEmitter[this._options.syncLegacy?"on":"off"](B.Search.Events.DATE_CHANGED,this.boundLegacyDateChange),_r_()},getOption:function(e){return _i_("4ab:e91d2a9f"),_r_(this._options[e])},get:function(){return _i_("4ab:1a04a75e"),_r_(this._data)},getValidationError:function(){return _i_("4ab:9f837e6c"),_r_(this._validationError)},initDate:function(e,t,i){_i_("4ab:81301438");var n=!((i=i||{}).init=!0);return this._data.initialized?_r_(!1):(t&&(n=this.setDate(e,t,i)),this._data[e+"Time"]={hours:10,minutes:0},this["initialized"+e]=!0,this.initializedcheckin&&this.initializedcheckout&&(this.emit("init"),this._data.initialized=!0),_r_(n))},setDate:function(e,t,i){var n,a,s;_i_("4ab:819b0ee9"),i=i||{};var o,r={};if(t=l.create(t),!this._options.noValidation&&!this.validateDate(e,t,{loose:!0}).valid)return _r_(!1);if("checkin"==e)this._data.checkin=t,a=!0,l.compare(this._data.checkin,this._data.firstValidDay)<0&&(this._data.checkin=l.create(this._data.firstValidDay)),0<l.compare(this._data.checkin,this._data.lastValidDay)&&(this._data.checkin=l.createFlexible({year:this._data.lastValidDay.year,month:this._data.lastValidDay.month,day:this._data.lastValidDay.day-1})),!this._data.checkout||(n=_.diff(this._data.checkout,t))<=0?(this._data.checkout=l.createFlexible({year:t.year,month:t.month,day:t.day+1}),s=!0):!this._options.allowMaxLos&&n>this._options.maxLos&&(this._data.checkout=l.createFlexible({year:t.year,month:t.month,day:t.day+this._options.maxLos}),s=!0);else{if("checkout"!=e)return _r_(!1);this._data.checkout=t,s=!0,0<l.compare(this._data.checkout,this._data.lastValidDay)&&(this._data.checkout=l.create(this._data.lastValidDay)),0==l.compare(this._data.checkout,this._data.firstValidDay)&&(o=this._options.allowZeroLos?0:1,this._data.checkin=l.create(this._data.firstValidDay),this._data.checkout=l.createFlexible({year:this._data.firstValidDay.year,month:this._data.firstValidDay.month,day:this._data.firstValidDay.day+o}),s=!0),this._data.checkin&&(n=_.diff(t,this._data.checkin))<=0&&(this._data.checkin=null),this._data.checkin||(o=this._options.allowZeroLos?0:1,this._data.checkin=l.createFlexible({year:t.year,month:t.month,day:t.day-o}),a=!0)}return a&&(this._options.syncLegacy&&B.search.setDate_("checkin",this._data.checkin.toString(),{referrer:"search/dates/model"}),this._data.editing_checkin=this._data.checkin,r.checkin=!0),s&&(this._options.syncLegacy&&B.search.setDate_("checkout",this._data.checkout.toString(),{referrer:"search/dates/model"}),this._data.editing_checkout=this._data.checkout,r.checkout=!0),(a||s)&&(this._data.length_of_stay=this._data.checkin&&this._data.checkout&&_.interval(this._data.checkin,this._data.checkout)-1),this._data.editing=!1,i.init||this.emit("change",r),_r_(!0)},startEditing:function(){if(_i_("4ab:f6cec567"),this._data.editing)return _r_();this._data.editing=!0,this.emit("change",{editing:!0}),_r_()},setEditingFragment:function(e,t,i){if(_i_("4ab:156acdc4"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");if("day"!==t&&"month"!==t&&"year"!==t)throw new TypeError("invalid fragment");if("number"!=typeof i&&null!==i)throw new TypeError("invalid value");var n=this._data["editing_"+e]||{},a={year:n.year,month:n.month,day:n.day},n={editing:!0};return a[t]=i,this._data.editing=!0,this._data["editing_"+e]=l.create(a),n[e]=!0,this.emit("change",n),_r_(!0)},adjustEditingFragment:function(e,t,i,n){if(_i_("4ab:080bf90d"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");if("day"!==t&&"month"!==t&&"year"!==t)throw new TypeError("invalid fragment");var a=1,n=i+n;return"month"==t?a=0:"year"==t&&(a=this._data.firstValidDay.year),n<a&&(n=a),_r_(this.setEditingFragment(e,t,n))},applyEditing:function(e){if(_i_("4ab:bce3aab4"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");return this._data["editing_"+e].complete?_r_(this.setDate(e,this._data["editing_"+e])):(this.clearDates(),_r_(!0))},clearDates:function(){_i_("4ab:f4728cb2"),this._data.checkin=null,this._data.checkout=null,this._data.editing=!1,this._data.editing_checkin=null,this._data.editing_checkout=null,this._data.length_of_stay=null,this._options.syncLegacy&&(B.search.setDate_("checkin","",{referrer:"search/dates/model"}),B.search.setDate_("checkout","",{referrer:"search/dates/model"})),this.emit("change",{checkin:!0,checkout:!0}),_r_()},validate:function(e){_i_("4ab:824801f5"),e=e||{};var t,i,n,a,s=!0,o="";return!s||!e.notEmpty||this._data.checkin&&this._data.checkout||(s=!1,o="missing-dates"),s&&!this._data.checkin&&this._data.checkout&&(s=!1,o="missing-checkin"),s&&this._data.checkin&&!this._data.checkout&&(s=!1,o="missing-checkout"),s&&this._data.checkin&&((n=this.validateDate("checkin",this._data.checkin)).valid||(s=n.valid,o=n.validationError)),s&&this._data.checkout&&((n=this.validateDate("checkout",this._data.checkout)).valid||(s=n.valid,o=n.validationError)),s&&e.validateTime&&(t=(a=new Date(1e3*B.env.b_timestamp)).getUTCDate(),i=a.getUTCMonth(),n=a.getUTCFullYear(),a=a.getHours()+2,(!this._data.checkin||this._data.checkin.year===n&&this._data.checkin.month===i&&this._data.checkin.day==t)&&this._data.checkinTime<=a&&(s=!1,o="past-time")),(e.force||!e.checkOnly&&this._valid!=s)&&(this._valid=s,this._validationError=o,this.emit("validation",{valid:s,validationError:o})),_r_(s)},validateDate:function(e,t,i){_i_("4ab:c407565f"),(i=i||{}).checkin=i.checkin||this._data.checkin;var n=null;if(!e||"checkin"!=e&&"checkout"!=e)return _r_({valid:!1,validationError:"invalid-data"});if(!t||void 0===t.year||void 0===t.month||void 0===t.day||isNaN(t.year)||isNaN(t.month)||isNaN(t.day))return _r_({valid:!1,validationError:"invalid-data"});if("checkin"==e&&l.compare(t,this._data.firstValidDay)<0||"checkout"==e&&0==l.compare(t,this._data.firstValidDay))return _r_({valid:!1,validationError:"past"});if(null!==(n="checkout"==e&&i.checkin?_.diff(t,i.checkin):n)){if(0==n&&!this._options.allowZeroLos)return _r_({valid:!1,validationError:"more-than-one-day"});if(n<0)return _r_({valid:!1,validationError:"negative-period"});if(this.emit("validation:lengthOfStay",{lengthOfStay:n,maxLengthOfStay:this._options.maxLos}),n>this._options.maxLos)return _r_({valid:!1,validationError:"exceeds-max-los"})}return _r_({valid:!0,validationError:""})},legacyDateChange:function(e,t){var i;if(_i_("4ab:98f43f37"),"search/dates/model"==t.referrer)return _r_();i="checkin"==t.type?"checkin":"checkout",t=l.createFromString(t.value.toString()),this.setDate(i,t),_r_()},emit:function(e,t){_i_("4ab:c019a7c4"),t=t||{},this._model.emit(e,$.extend(t,{group:"dates"})),_r_()},getFallbackDates:function(e){var t;return _i_("4ab:7009f80e"),(e="checkin"===e?B.env.b_checkin_date:B.env.b_checkout_date)&&(e=e.split("-"),t={year:parseInt(e[2],10),month:parseInt(e[1],10),day:parseInt(e[0],10)}),_r_(t||{})}}),i.exports=o,_r_()}),booking.jstmpl("fe_search_dates_errors",function(){_i_("4ab:9523f047");var o,r=["\n\t","\n\n\t\t","\n\t\t\t","\n\t\t\t\t","/error/checkout_date_invalid/name","/error/checkin_date_invalid/name","/private/sbox_error_checkin_future/name","/error/checkin_date_to_far_in_the_future/name","/private/sbox_error_checkout_after/name","\n\t\t\t\n\t\t\t","/private/sbox_error_45_night_res/name","/private/sbox_error_30_night_res/name","\n\t\t","\n\t\t\t\t\t","/private/iq_sbox_error_flights_return_date_invalid/name","/private/iq_sbox_error_flights_departure_date_invalid/name","/private/iq_sbox_error_dates/name","/private/iq_sbox_error_flights_departure_date_too_far_future/name","/private/iq_sbox_error_flights_return_after_departure/name","\n\t\n\t\t","/private/iq_sbox_error_cars_arrival_date_invalid/name","/private/iq_sbox_error_cars_departure_date_invalid/name","/private/iq_sbox_error_cars_departure_date_too_far_future/name","/private/iq_sbox_error_cars_arrival_after_departure/name","/private/iq_sbox_error_cars_1_hour_future/name",'\n\t\t\t<div class="bui-alert bui-u-bleed@small bui-alert--error" role="status">\n\t\t\t\t<span class="bui-alert__icon">\n\t\t\t\t\t',"","20","streamline/warning",'\n\t\t\t\t</span>\n\t\t\t\t<div class="bui-alert__description">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t","\n\n\n\n\n\n\n","\n\n    ","\n        ","data-",'="','"',"\n    "," data-",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__"," ","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','id="','" ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message ',"fe_banner__genius-trial"," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ','<form action="',"/genius_activate_trial",'" class="fe_banner__genius-banner-form" method="post"> <input type="hidden" name="return_url" value="','"> <input type="hidden" name="src" value="hp_banner"> <input type="hidden" name="campaign_id" value="','"> <input type="submit" class="button fe_banner__genius-banner-button" value="','"> </form> ',"\n","\n\n\n\n","\n\n","0","red"],_=["fe_error_message","fe_error","s_raw_param_errorc_checkout_date_invalid","s_raw_param_errorc_checkin_date_invalid","s_raw_param_errorc_checkin_date_in_the_past","s_raw_param_errorc_checkin_date_to_far_in_the_future","s_raw_param_errorc_checkout_date_not_after_checkin_date","fe_max_los","s_raw_param_errorc_checkout_date_more_than_30_days_after_checkin","fe_view","fe_sb_facelift","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__btn_include","fe_banner__title_text","fe_banner__start_genius_trial","fe_banner__message_text","b_secure_hostname","b_query_params_with_lang","b_original_url","fe_ge_trial_desktop_campaign_id","ge_expand_hp_trial_sidebar_cta","fe_banner__banners_count"];return _r_(function(e){_i_("4ab:fb64ece9");var t,i,n,a="",s=this.fn;return t=a+=r[0],_i_("4ab:f0c2d870"),(s.MJ(s.MB(_[1]))||s.MJ(s.MC(_[2]))||s.MJ(s.MC(_[3]))||s.MJ(s.MC(_[4]))||s.MJ(s.MC(_[5]))||s.MJ(s.MC(_[6]))||s.MJ(s.MC(_[8])))&&(t+=r[1],n="",n+=r[2],s.MJ(s.MB(_[1])+""=="missing-checkout")||s.MJ(s.MC(_[2]))?n+=[r[3],s.ME(r[4],s.MB,s.MN,null),r[2]].join(""):s.MJ(s.MB(_[1])+""=="missing-checkin")||s.MJ(s.MC(_[3]))?n+=[r[3],s.ME(r[5],s.MB,s.MN,null),r[2]].join(""):s.MJ(s.MB(_[1])+""=="past")||s.MJ(s.MC(_[4]))?n+=[r[3],s.ME(r[6],s.MB,s.MN,null),r[2]].join(""):s.MJ(s.MB(_[1])+""=="checkin_date_to_far_in_the_future")||s.MJ(s.MC(_[5]))?n+=[r[3],s.ME(r[7],s.MB,s.MN,null),r[2]].join(""):s.MJ(s.MB(_[1])+""=="negative-period")||s.MJ(s.MC(_[6]))?n+=[r[3],s.ME(r[8],s.MB,s.MN,null),r[9]].join(""):s.MJ(s.MB(_[1])+""=="exceeds-max-los")&&s.MJ(45==s.MB(_[7]))?n+=[r[3],s.ME(r[10],s.MB,s.MN,null),r[9]].join(""):s.MJ(s.MB(_[1])+""=="exceeds-max-los")||s.MJ(s.MC(_[8]))?n+=[r[3],s.ME(r[11],s.MB,s.MN,null),r[2]].join(""):s.MJ(s.MB(_[1]))&&(n+=[r[3],s.ME(r[5],s.MB,s.MN,null),r[2]].join("")),n+=r[12],s.MN(_[0],n),t+=r[1],s.MJ(s.MB(_[9])+""=="flights")&&(t+=r[2],n="",n+=r[3],s.MJ(s.MB(_[1])+""=="missing-checkout")?n+=[r[13],s.ME(r[14],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="missing-checkin")?n+=[r[13],s.ME(r[15],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="past")?n+=[r[13],s.ME(r[16],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="checkin_date_to_far_in_the_future")?n+=[r[13],s.ME(r[17],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="negative-period")?n+=[r[13],s.ME(r[18],s.MB,s.MN,null),r[3]].join(""):(s.MJ(s.MB(_[1])+""=="missing-dates")||s.MJ(s.MB(_[1])))&&(n+=[r[13],s.ME(r[15],s.MB,s.MN,null),r[3]].join("")),n+=r[2],s.MN(_[0],n),t+=r[12]),t+=r[19],s.MJ(s.MB(_[9])+""=="rentalcars")&&(t+=r[2],n="",n+=r[3],s.MJ(s.MB(_[1])+""=="missing-checkout")?n+=[r[13],s.ME(r[20],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="missing-checkin")?n+=[r[13],s.ME(r[21],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="past")?n+=[r[13],s.ME(r[16],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="checkin_date_to_far_in_the_future")?n+=[r[13],s.ME(r[22],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="negative-period")?n+=[r[3],s.ME(r[23],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="missing-dates")?n+=[r[13],s.ME(r[21],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1])+""=="past-time")?n+=[r[13],s.ME(r[24],s.MB,s.MN,null),r[3]].join(""):s.MJ(s.MB(_[1]))&&(n+=[r[13],s.ME(r[21],s.MB,s.MN,null),r[3]].join("")),n+=r[2],s.MN(_[0],n),t+=r[12]),t+=r[1],s.MD(_[10])?t+=[r[25],(e.unshift({class:r[26],height:r[27],name:r[28],width:r[27]}),o=s.HELPER("icon",e[0]),e.shift(),o),r[29],s.MC(_[0]),r[30]].join(""):(t+=r[2],e.unshift({fe_banner__close_button:r[80],fe_banner__color_scheme:r[81],fe_banner__message_text:s.MB(_[0])}),i=t,_i_("4ab:e05856e1"),i+=["",r[31]].join(""),s.MD(_[39])&&(i+=r[32],s.MD(_[12])&&(i+=r[33],s.MN(_[11],[r[34],s.MB(_[12]),r[35],s.MB(_[13]),r[36]].join("")),i+=r[37]),i+=r[32],s.MD(_[14])&&(i+=r[33],s.MN(_[11],[s.MB(_[11]),r[38],s.MB(_[14]),r[35],s.MB(_[15]),r[36]].join("")),i+=r[37]),i+=r[32],s.MD(_[16])&&(i+=r[33],s.MN(_[11],[s.MB(_[11]),r[38],s.MB(_[16]),r[35],s.MB(_[17]),r[36]].join("")),i+=r[37]),i+=r[32],s.MD(_[18])&&(i+=r[33],s.MN(_[11],[s.MB(_[11]),r[38],s.MB(_[18]),r[35],s.MB(_[19]),r[36]].join("")),i+=r[37]),i+=r[32],s.MD(_[20])&&(i+=r[33],s.MN(_[11],[s.MB(_[11]),r[38],s.MB(_[20]),r[35],s.MB(_[21]),r[36]].join("")),i+=r[37]),i+=r[32],s.MD(_[22])&&(i+=r[39]),i+=r[40],n=s.MB(_[23]),s.MJ(n+""=="small")&&(i+=r[41]),(s.MJ(s.MB(_[24]))||s.MJ(s.MB(_[25]))||s.MJ(s.MB(_[26])))&&(i+=r[42]),s.MD(_[27])&&(i+=r[43]),s.MJ(s.MB(_[28]))&&(i+=[r[44],s.F.entities(s.MC(_[28])),s.F.entities(s.MC(_[29])),r[45]].join("")),s.MJ(s.MB(_[24]))&&s.MJ(s.MB(_[30]))&&(i+=[r[46],s.F.entities(s.MC(_[30])),r[45]].join("")),s.MJ(s.MC(_[31])+""=="book")&&(i+=r[47]),i+=[s.F.entities(s.MC(_[32])),r[48]].join(""),s.MD(_[33])&&(i+=[r[49],s.F.entities(s.MC(_[33])),r[50]].join("")),s.MD(_[11])&&(i+=[s.MC(_[11]),r[45]].join("")),s.MD(_[34])&&(i+=r[51]),i+=r[52],s.MD(_[24])?i+=[r[53],s.F.entities(s.MC(_[24])),r[54]].join(""):s.MD(_[25])?i+=[r[55],s.F.entities(s.MC(_[25])),r[56]].join(""):s.MD(_[26])&&(i+=r[57],s.MD(_[35])?i+=s.F.entities(s.MC(_[35])):i+=r[58],i+=[r[56],s.MC(_[26]),r[59]].join("")),s.MD(_[36])&&(i+=r[60]),s.MD(_[37])&&(i+=[r[61],s.MC(_[37]),r[62]].join("")),s.MD(_[39])&&(i+=r[63],s.MD(_[38])&&(i+=r[64]),i+=[r[56],s.MC(_[39]),r[65]].join("")),s.MD(_[36])&&(i+=[r[66],s.MC(_[36]),r[65]].join("")),s.MD(_[36])&&(i+=r[67]),s.MD(_[27])&&(i+=[r[68],s.ME(r[69],s.MB,s.MN,null),r[70]].join("")),s.MD(_[38])&&(i+=[r[71],s.MC(_[40]),r[72],s.MC(_[41]),r[73],s.MC(_[42]),r[74],s.MB(_[43]),r[75],s.MB(_[44]),r[76]].join("")),i+=r[67],s.MD(_[22])&&(i+=r[67]),i+=r[77]),i+=r[78],s.MN(_[28],void 0),i+=r[77],s.MN(_[24],void 0),i+=r[77],s.MN(_[25],void 0),i+=r[77],s.MN(_[26],void 0),i+=r[77],s.MN(_[30],void 0),i+=r[77],s.MN(_[37],void 0),i+=r[77],s.MN(_[39],void 0),i+=r[77],s.MN(_[36],void 0),i+=r[77],s.MN(_[27],void 0),i+=r[77],s.MN(_[33],void 0),i+=r[77],s.MN(_[32],void 0),i+=r[77],s.MN(_[23],void 0),i+=r[79],s.MN(_[12],void 0),i+=r[77],s.MN(_[13],void 0),i+=r[77],s.MN(_[14],void 0),i+=r[77],s.MN(_[15],void 0),i+=r[77],s.MN(_[16],void 0),i+=r[77],s.MN(_[17],void 0),i+=r[77],s.MN(_[18],void 0),i+=r[77],s.MN(_[19],void 0),i+=r[77],s.MN(_[20],void 0),i+=r[77],s.MN(_[21],void 0),i+=r[79],s.MN(_[29],void 0),i+=r[79],s.MN(_[11],void 0),i+=r[77],s.MN("fe_banner__banners_count",s.MI(s.MB(_[45]))+s.MI(1)),i+=r[79],(s.MJ(s.MC(_[31])+""=="book")&&s.MJ(s.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))||s.MJ(s.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1)))&&(i+=r[77]),i+=[r[79],"",r[77]].join(""),t=_r_(i),e.shift(),t+=r[12]),t+=r[79]),t+=r[77],a=_r_(t),a+=r[77],_r_(a)})}()),B.define("component/search/destination/country-only",function(e,t,i){"use strict";_i_("4ab:aebf70e1");var n=e("component"),a=e("search/searchbox/model"),s=e("read-data-options");i.exports=n.extend({init:function(){_i_("4ab:b3871297"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0}}),this.model=a.getInstance(this.options.modelId),this.model.use("destination"),this.model.on("change",this.modelChange.bind(this)),this.$onlyCurrentCountry=this.$el.find("[data-input]"),this.$onlyCurrentCountry.bind("change",this.onlyCurrentCountryChange.bind(this)),this.modelInit(),_r_()},modelInit:function(){_i_("4ab:e2255259");var e=this.$onlyCurrentCountry.is(":checked");this.model.destination.initOnlyCurrentCountry(e),_r_()},modelChange:function(e){if(_i_("4ab:9b8a0610"),!e||!e.onlyCurrentCountry)return _r_();var t=this.$onlyCurrentCountry.is(":checked"),e=this.model.destination.getOnlyCurrentCountry();t!=e&&this.$onlyCurrentCountry.prop("checked",e),_r_()},onlyCurrentCountryChange:function(){_i_("4ab:f25dc638"),this.model.destination.setOnlyCurrentCountry(this.$onlyCurrentCountry.is(":checked")),_r_()}}),_r_()}),B.define("component/search/group/group",function(t,e,i){_i_("4ab:aa679cc1"),booking.jstmpl("search_group_group_html",function(){_i_("4ab:c09ae363");var b,m=["\n\t\t","\n\n\n\n\n","\n"," \n\n\n\n","\n    ",'\n        <div class="sb-searchbox-children-tooltip">\n            <span class="fly-dropdown-close fly-dropdown-close-icon"></span>\n            <h4 class="sb-searchbox-children-tooltip__title">',"/private/gs_index_model_header_family/name",'</h4>\n            <p class="sb-searchbox-children-tooltip__text">',"/private/gs_index_model_desc_family/name","</p>\n        </div>\n    ","\n\n\n\n",'\n        <div>\n            <span class="fly-dropdown-close fly-dropdown-close-icon"></span>\n            <p>',"/private/bh_mup_sr_sb_obp_tooltip_right_price/name","\n\n\n","\n\n",'\n\n\n\n<div class="u-clearfix" data-render>\n  ','\n    <div \n      class="sb-custom-wrapper"\n      ',' \n        data-et-click="\n          ',":7\n          customGoal:",':1\n        "\n      ',"\n    >\n  ","\n\n  ","\n      ","\n        ","\n  ",'\n    <div class="sb-group__field sb-group__field-rooms">\n      ',"/private/sbox_rooms/name",'\n  <div class="bui-stepper" data-bui-component="InputStepper">\n    <div class="bui-stepper__title-wrapper">\n      <label class="bui-stepper__title" for="','">',"</label>\n      ",'\n        <span class="bui-stepper__subtitle">',"</span>\n      ","\n    </div>\n    ",'\n      <div class="bui-stepper__wrapper sb-group__stepper-a11y">\n        <input\n          style="display: none"\n          type="number"\n          class="bui-stepper__input"\n          data-bui-ref="input-stepper-field"\n          id="','"\n          name="','"\n          min="','"\n          max="','"\n          value="','"\n          ',' \n        />\n        <button\n          class="bui-button bui-button--secondary bui-stepper__subtract-button ',"sb-group__stepper-button-disabled",'"\n          data-bui-ref="input-stepper-subtract-button"\n          type="button"\n          aria-label="',"/private/a11y_sb_decrease_button_aria/name",'"\n          aria-describedby="','_desc"\n        >\n          <span class="bui-button__text">&minus;</span>\n        </button>\n        <span class="bui-stepper__display" data-bui-ref="input-stepper-value" aria-hidden="true">','</span>\n        <button \n          class="bui-button bui-button--secondary bui-stepper__add-button ','"\n          data-bui-ref="input-stepper-add-button"\n          type="button"\n          aria-label="',"/private/a11y_sb_increase_button_aria/name",'_desc"\n        >\n          <span class="bui-button__text">+</span>\n        </button>\n        <span class="bui-u-sr-only" aria-live="assertive" id="','_desc">'," ","</span>\n      </div>\n    ",'\n\n    <div class="bui-stepper__wrapper">\n      <input type="range" class="bui-stepper__input" data-bui-ref="input-stepper-field" id="','" name="','" min="','" max="','" value="','" ',' />\n      <button class="bui-button bui-button--secondary bui-stepper__subtract-button" data-bui-ref="input-stepper-subtract-button" type="button" aria-hidden="true" ',"disabled",'>\n        <span class="bui-button__text">-</span>\n      </button>\n      <span class="bui-stepper__display" data-bui-ref="input-stepper-value" aria-hidden="true">','</span>\n      <button class="bui-button bui-button--secondary bui-stepper__add-button" data-bui-ref="input-stepper-add-button" type="button" aria-hidden="true" ','>\n        <span class="bui-button__text">+</span>\n      </button>\n    </div>\n\n    ',"\n  </div>\n","data-group-rooms-count","no_rooms","1","\n    </div>\n  ",'\n          <label class="sb-searchbox__label sb-group__field__label ',"-inline"," -small ",'"\n             ','\n                for="no_rooms_','"\n              ','\n               for="no_rooms"\n              ',"\n          >\n              ","\n          </label>\n      ",'<div class="sb-custom-select">','\n    <select name="no_rooms"\n        ','\n            id="no_rooms_','"\n            class="no_rooms"\n        ','\n            id="no_rooms"\n        ','\n        data-group-rooms-count\n        aria-label="',"/private/index_sbox_rooms_aria/name",'"\n    >\n        ','\n            <option value="','selected="selected"',">\n                ","/private/search_box_room_filter/name","\n            </option>\n        ","\n    </select>\n    ","bui-input-select__icon","streamline/arrow_menu","16","\n\n    ","</div>",'\n    <input type="hidden" name="no_rooms" value="','">\n  ',"\n\n\n  ",'\n    <div class="sb-group__field sb-group__field-adults">\n      ',"/private/sbox_adults/name","\n          ","/private/pex_flights_search_traveller_adult_age/name","data-group-adults-count","group_adults",'\n        <label class="sb-searchbox__label sb-group__field__label ',"group_children",'"\n           ','\n              for="group_adults_','"\n            ','\n             for="group_adults"\n            ',"\n         >\n          ","/private/bbt_searchbox_travellers/name","\n        </label>\n        ",'\n  <select\n    name="group_adults"\n    aria-label="',"/private/index_sbox_adults_aria/name",'"\n    ','\n       id="group_adults_','"\n       class="group_adults"\n    ','\n       id="group_adults"\n    ',"\n    data-group-adults-count\n    ",'\n        data-component="search/group/occupancy-pricing-tooltip"\n        data-occupancy-pricing-tooltip="',"\n   >\n    ",'\n      <option value="',">\n        ","/private/search_box_adults_filter/name","\n      </option>\n    ","\n  </select>\n  ",'\n    <input type="hidden" name="group_adults" value="','\n      <div class="sb-group__field sb-group-children ',"sb-group-children-universal",'">\n      ',"/private/sbox_children/name","/private/pex_flights_search_traveller_children_age/name","/private/fit_search_child_selector_subtitle/name","data-group-children-count","0",'\n              for="group_children_','\n             for="group_children"\n            ',"\n            >\n          ","\n        </label>\n\n        ",'\n  <select\n    name="group_children"\n    aria-label="',"/private/index_sbox_children_aria/name",'\n        id="group_children_','"\n        class="group_children"\n    ','\n       id="group_children"\n    ',"\n    data-group-children-count ",'data-component="search/group/children-ages-tooltip search/group/add-children-tooltip"\n    data-add-children-tooltip="','"',"\n  >\n    ","/private/search_box_no_children_filter_default/name","/private/search_box_children_filter/name","\n      \n      ",'\n      <div class="sb-group__children__field clearfix">\n        ','\n        <label class="sb-searchbox__label -small sb-group__children__label">\n          ',"/private/sxp_index_sbox_horizontal_age_of_children_q/name","/private/bh_gsb_search_box_checkout_age/name","/private/bh_gsb_search_box_checkout_age_plural/name","/private/loc_sbox_children_age_singular/name","/private/loc_sbox_children_age_plural/name","\n\n        ",'<div class="sb-group-children-age"><div class="sb-custom-select">','\n    <select\n      name="age"\n      data-group-child-age="','"\n      aria-label="',"/private/acc_index_child_age_screenread/name",'"\n      \n      ','\n        class="sb-group-field-has-error"\n      ','\n    >\n      <option class="sb_child_ages_empty_zero" ','value=""','value="12 "',">\n          ","\n            ","/private/fame_search_age_needed/name","/private/sxp_index_sbox_horizontal_age_at_checkout/name","/private/sxp_index_sbox_age_at_checkout/name","\n      </option>\n      ",'\n        <option value="',">\n            ","\n                ","/private/sxp_index_sbox_num_years_old/name","/private/loc_counter_word_child_age_cjk/name","\n        </option>\n      ","</div></div>","/private/fame_search_age_explain/name","\n      </div>\n    ","\n      \n      <div></div>\n    ","\n\n  \n  ","\n              ",' \n    <div class="sb-group__field">\n      ',"/private/pex_flights_search_traveller_infants/name","/private/pex_flights_search_traveller_babies_age/name","data-group-infants-count","group_infants",'\n                for="group_infants_','\n                for="group_infants"\n              ',"\n           >\n            ","\n          </label>\n        "," \n  ",'\n    <select\n      name="group_infants"\n      ','\n         id="group_infants_','"\n         class="group_infants"\n      ','\n         id="group_infants"\n      ',"\n      data-group-infants-count\n     >\n      ","\n    </select>\n  ","\n\n</div>\n","\n\t"],g=["fe_sb_group_max_adults","fe_add_children_tooltip","b_action","b_search_config","b_predicted_traveller_type","fe_occupancy_pricing_tooltip","fe_sr_sb_group_obp_tooltip","fe_sb_universal_design","fe_group_rooms_title","fe_bui_stepper_id","fe_bui_stepper_title","fe_bui_stepper_subtitle","fe_bui_stepper_min","fe_bui_stepper_max","fe_bui_stepper_value","fe_bui_stepper_additional_attrs","fe_sb_group_bui_steppers_accessible","fe_sb_group_max_rooms","fe_sb_state_number_of_rooms","fe_sb_group_rooms_hide","fe_sb_group_use_bui_stepper","fe_sb_group_block_labels","fe_remove_duplicate_ids","fe_sb_unique_id","fe_sb_group_descriptive_dropdowns","fe_sb_facelift","fe_sb_width","fe_sb_include_nr_rooms","fe_group_adults_title","fe_group_adults_subtitle","fe_xpi_show_flights","fe_xpi_show_resorts","fe_sb_state_number_of_adults","fe_sb_group_use_adults_label","fe_sb_group_adults_hide","fe_sb_state_number_of_children","fe_sb_state_rooms","fe_sb_state_children_ages","fe_sb_group_has_children","fe_group_children_title","fe_group_children_subtitle","fe_sb_show_children_age_bracket","fe_sb_group_max_children","fe_sb_xpi","fe_sb_group_localized_short_date","fe_sb_state_checkout","fe_fam_d_index_mandatory_child_ages","fe_children_ages","fe_child_i","fe_sb_group_max_children_age","b_lang_is_cjk","fe_sb_group_children_hide","fe_sb_group_children_ages_hide","fe_group_infants_title","fe_group_infants_subtitle","fe_sb_group_max_infants","fe_sb_state_number_of_infants","fe_sb_group_infants_hide"];return _r_(function(f){_i_("4ab:e7de687f");var e,t,i,n="",p=this.fn;function a(e){return _i_("4ab:2c558f9c"),e+=m[24],p.MK(p.MB(g[19]))?(e+=m[25],p.MD(g[7])||(e+=m[68],p.MD(g[21])||(e+=m[69]),e+=m[70],p.MD(g[22])&&(e+=m[65]),e+=m[71],p.MD(g[22])?e+=[m[72],p.F.entities(p.MC(g[23])),m[73]].join(""):e+=m[74],e+=[m[75],p.ME(m[26],p.MB,p.MN,null),m[76]].join("")),e=function(e){_i_("4ab:30547383"),e+=m[4],p.MD(g[7])&&(e+=m[77]),e+=m[78],p.MD(g[22])?e+=[m[79],p.F.entities(p.MC(g[23])),m[80]].join(""):e+=m[81],e+=[m[82],p.ME(m[83],p.MB,p.MN,null),m[84]].join("");var t=p.seq(1,p.MB(g[17]))||[];f.unshift({i:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].i=i=t[n-1],e+=[m[85],p.F.entities(i.value),m[57]].join(""),p.MJ(p.MB(g[18])==i.value)&&(e+=m[86]),e+=m[87],p.MD(g[24])?e+=(f.unshift({num_rooms:i.value}),b=p.ME(m[88],p.MB,p.MN,p.MO(i.value,null,m[88])),f.shift(),b):e+=i.value,e+=m[89];return f.shift(),e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[94],p.MD(g[7])&&(e+=m[95]),e+=m[2],_r_(e)}(e+=m[22]),e+=m[67]):e+=[m[96],p.F.entities(p.MC(g[18])),m[97]].join(""),e+=m[2],_r_(e)}function s(e){return _i_("4ab:812abd78"),e+=m[24],p.MK(p.MB(g[19]))&&(e+=m[25],p.MN(g[8],p.ME(m[26],p.MB,p.MN,null)),e+=m[22],f.unshift({fe_bui_stepper_additional_attrs:m[64],fe_bui_stepper_id:m[65],fe_bui_stepper_max:p.MB(g[17]),fe_bui_stepper_min:m[66],fe_bui_stepper_title:p.MB(g[8]),fe_bui_stepper_value:p.MB(g[18])?p.MB(g[18]):0}),t=e,_i_("4ab:e2cf1e92"),t+=[m[27],p.F.entities(p.MC(g[9])),m[28],p.F.html(p.MC(g[10])),m[29]].join(""),p.MD(g[11])&&(t+=[m[30],p.F.html(p.MC(g[11])),m[31]].join("")),t+=m[32],p.MD(g[16])?(t+=[m[33],p.F.entities(p.MC(g[9])),m[34],p.F.entities(p.MC(g[9])),m[35],p.F.entities(p.MC(g[12])),m[36],p.F.entities(p.MC(g[13])),m[37],p.F.entities(p.MC(g[14])),m[38],p.F.entities(p.MC(g[15])),m[39]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(t+=m[40]),t+=[m[41],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[42],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[44],p.F.entities(p.MC(g[14])),m[45]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(t+=m[40]),t+=[m[46],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[47],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[48],p.F.entities(p.MC(g[9])),m[49],p.F.entities(p.MC(g[14])),m[50],p.F.entities(p.MC(g[10])),m[51]].join("")):(t+=[m[52],p.F.entities(p.MC(g[9])),m[53],p.F.entities(p.MC(g[9])),m[54],p.F.entities(p.MC(g[12])),m[55],p.F.entities(p.MC(g[13])),m[56],p.F.entities(p.MC(g[14])),m[57],p.F.entities(p.MC(g[15])),m[58]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(t+=m[59]),t+=[m[60],p.F.entities(p.MC(g[14])),m[61]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(t+=m[59]),t+=m[62]),t+=m[63],e=_r_(t),f.shift(),e+=m[67]),e+=m[2],_r_(e);var t}function o(e){if(_i_("4ab:f015d9cc"),e+=m[4],p.MJ(p.MB(g[35]))&&(p.MJ(p.MB(g[36]))||p.MJ(p.MB(g[37])))){if(e+=m[153],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[46]))||(e+=m[154],p.MD(g[43])?e+=[p.ME(m[155],p.MB,p.MN,p.MO(p.MC(g[35]),null,m[155])),m[2]].join(""):p.MD(g[45])?(p.MN(g[44],p.DATE(p.MB(g[45]),"short_date","","","")),p.MJ(1==p.MB(g[35]))?e+=[(f.unshift({date:p.MB(g[44])}),b=p.ME(m[156],p.MB,p.MN,null),f.shift(),b),m[2]].join(""):e+=[(f.unshift({date:p.MB(g[44])}),b=p.ME(m[157],p.MB,p.MN,null),f.shift(),b),m[2]].join("")):p.MJ(1==p.MB(g[35]))?e+=[p.ME(m[158],p.MB,p.MN,null),m[2]].join(""):e+=[p.ME(m[159],p.MB,p.MN,null),m[2]].join(""),e+=m[113]),e+=m[160],p.MN("fe_child_i",0),e+=m[160],p.MD(g[37]))e+=m[101],f.unshift({fe_children_ages:p.MB(g[37]),fe_fam_d_index_mandatory_child_ages:p.MB(g[46])}),e=function(e){_i_("4ab:b8ada123"),e+=m[24];var t=p.MC(g[47])||[];f.unshift({fe_child_age:null});for(var i,n=1,a=t.length;n<=a;n++){f[0].fe_child_age=i=t[n-1],e+=m[24],p.MD(g[7])&&(e+=m[161]),e+=[m[162],p.F.entities(p.MC(g[48])),m[163],(f.unshift({child_number:p.MI(p.MB(g[48]))+p.MI(1)}),b=p.ME(m[164],p.MB,p.MN,null),f.shift(),b),m[165]].join(""),p.MJ(p.MB(g[46]))&&p.MJ(i+""=="")&&(e+=m[166]),e+=m[167],p.MD(g[46])?e+=m[168]:e+=m[169],e+=m[170],p.MD(g[46])?e+=[m[171],p.ME(m[172],p.MB,p.MN,null),m[101]].join(""):p.MD(g[43])?e+=[m[171],p.ME(m[173],p.MB,p.MN,null),m[101]].join(""):p.MD(g[7])&&(e+=[m[171],p.ME(m[174],p.MB,p.MN,null),m[101]].join("")),e+=m[175];var s,o=n,r=t,_=a,l=s,t=p.seq(0,p.MB(g[49]))||[];for(f.unshift({i:null}),n=1,a=t.length;n<=a;n++)f[0].i=s=t[n-1],e+=[m[176],p.F.entities(s.value),m[57]].join(""),p.MJ(i+""!="")&&p.MJ(i+""==""+s.value)&&(e+=m[86]),e+=m[177],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[43]))?e+=[m[178],(f.unshift({num_years:s.value}),b=p.ME(m[179],p.MB,p.MN,p.MO(s.value,null,m[179])),f.shift(),b),m[171]].join(""):(e+=[m[178],s.value].join(""),p.MD(g[50])&&(e+=p.ME(m[180],p.MB,p.MN,null)),e+=m[171]),e+=m[181];f.shift(),n=o,t=r,a=_,s=l,e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[4],p.MD(g[7])&&(e+=m[182]),e+=m[4],p.MN("fe_child_i",p.MI(p.MB(g[48]))+p.MI(1)),e+=m[24]}return f.shift(),e+=m[2],_r_(e)}(e),f.shift(),e+=m[23];else if(p.MD(g[36])){e+=m[101];var t=p.MC(g[36])||[];f.unshift({fe_room:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].fe_room=i=t[n-1],e+=m[171],f.unshift({fe_children_ages:p.MG((i||{}).b_children_ages),fe_fam_d_index_mandatory_child_ages:p.MB(g[46])}),e=function(e){_i_("4ab:f9b6dc72"),e+=m[24];var t=r,i=s,n=_,a=o,s=p.MC(g[47])||[];f.unshift({fe_child_age:null});for(var o,r=1,_=s.length;r<=_;r++){f[0].fe_child_age=o=s[r-1],e+=m[24],p.MD(g[7])&&(e+=m[161]),e+=[m[162],p.F.entities(p.MC(g[48])),m[163],(f.unshift({child_number:p.MI(p.MB(g[48]))+p.MI(1)}),b=p.ME(m[164],p.MB,p.MN,null),f.shift(),b),m[165]].join(""),p.MJ(p.MB(g[46]))&&p.MJ(o+""=="")&&(e+=m[166]),e+=m[167],p.MD(g[46])?e+=m[168]:e+=m[169],e+=m[170],p.MD(g[46])?e+=[m[171],p.ME(m[172],p.MB,p.MN,null),m[101]].join(""):p.MD(g[43])?e+=[m[171],p.ME(m[173],p.MB,p.MN,null),m[101]].join(""):p.MD(g[7])&&(e+=[m[171],p.ME(m[174],p.MB,p.MN,null),m[101]].join("")),e+=m[175];var l,d=r,h=s,c=_,u=l,s=p.seq(0,p.MB(g[49]))||[];for(f.unshift({i:null}),r=1,_=s.length;r<=_;r++)f[0].i=l=s[r-1],e+=[m[176],p.F.entities(l.value),m[57]].join(""),p.MJ(o+""!="")&&p.MJ(o+""==""+l.value)&&(e+=m[86]),e+=m[177],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[43]))?e+=[m[178],(f.unshift({num_years:l.value}),b=p.ME(m[179],p.MB,p.MN,p.MO(l.value,null,m[179])),f.shift(),b),m[171]].join(""):(e+=[m[178],l.value].join(""),p.MD(g[50])&&(e+=p.ME(m[180],p.MB,p.MN,null)),e+=m[171]),e+=m[181];f.shift(),r=d,s=h,_=c,l=u,e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[4],p.MD(g[7])&&(e+=m[182]),e+=m[4],p.MN("fe_child_i",p.MI(p.MB(g[48]))+p.MI(1)),e+=m[24]}return f.shift(),r=t,s=i,_=n,o=a,e+=m[2],_r_(e)}(e),f.shift(),e+=m[101];f.shift(),e+=m[23]}e+=m[160],p.MJ(p.MB(g[7]))||p.MK(p.MB(g[46]))||(e+=m[154],e+=[p.ME(m[183],p.MB,p.MN,null),m[2]].join(""),e+=m[113]),e+=m[184]}else p.MD(g[46])&&(e+=m[185]);return e+=m[2],_r_(e)}function r(e){return _i_("4ab:14d63655"),e+=[m[27],p.F.entities(p.MC(g[9])),m[28],p.F.html(p.MC(g[10])),m[29]].join(""),p.MD(g[11])&&(e+=[m[30],p.F.html(p.MC(g[11])),m[31]].join("")),e+=m[32],p.MD(g[16])?(e+=[m[33],p.F.entities(p.MC(g[9])),m[34],p.F.entities(p.MC(g[9])),m[35],p.F.entities(p.MC(g[12])),m[36],p.F.entities(p.MC(g[13])),m[37],p.F.entities(p.MC(g[14])),m[38],p.F.entities(p.MC(g[15])),m[39]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(e+=m[40]),e+=[m[41],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[42],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[44],p.F.entities(p.MC(g[14])),m[45]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(e+=m[40]),e+=[m[46],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[47],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[48],p.F.entities(p.MC(g[9])),m[49],p.F.entities(p.MC(g[14])),m[50],p.F.entities(p.MC(g[10])),m[51]].join("")):(e+=[m[52],p.F.entities(p.MC(g[9])),m[53],p.F.entities(p.MC(g[9])),m[54],p.F.entities(p.MC(g[12])),m[55],p.F.entities(p.MC(g[13])),m[56],p.F.entities(p.MC(g[14])),m[57],p.F.entities(p.MC(g[15])),m[58]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(e+=m[59]),e+=[m[60],p.F.entities(p.MC(g[14])),m[61]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(e+=m[59]),e+=m[62]),e+=m[63],_r_(e)}return e=n+=m[0],_i_("4ab:19ebd75b"),e+=m[1],p.MN("fe_sb_group_max_rooms",30),e+=m[2],p.MN("fe_sb_group_max_pets",10),e+=m[2],p.MN("fe_sb_group_max_adults",p.MB(g[0])||30),e+=m[2],p.MN("fe_sb_group_max_children",10),e+=m[2],p.MN("fe_sb_group_max_children_age",17),e+=m[2],p.MN("fe_sb_group_max_infants",10),e+=m[3],p.MN("fe_add_children_tooltip",""),e+=m[2],p.MJ(p.MC(g[2])+""=="searchresults")&&p.MJ(p.MC(g[3]))&&p.MK(p.MC(g[3]).b_children_total)&&p.MJ(p.MC(g[4])+""=="family")&&(e+=m[4],p.MN(g[1],[m[5],p.ME(m[6],p.MB,p.MN,null),m[7],p.ME(m[8],p.MB,p.MN,null),m[9]].join("")),e+=m[2]),e+=m[10],p.MD(g[6])&&(e+=m[4],p.MN(g[5],[m[11],p.ME(m[12],p.MB,p.MN,null),m[9]].join("")),e+=m[2]),e+=m[13],e+=m[14],e+=m[14],e+=m[14],e+=m[14],e+=m[10],e+=m[14],e+=m[14],e+=m[14],e+=m[15],p.MD(g[7])&&(e+=m[16],p.MJ(p.MC(g[2])+""=="hotel")&&(e+=[m[17],p.F.entities("eWHMAENYTbVYOBINFMNIRHceMfEC"),m[18],p.F.entities("eWHMAENYTbVYOBINFMNIRHceMfEC"),m[19]].join("")),e+=m[20]),e+=m[21],p.MJ(0==p.MB(g[27]))&&(e+=m[4],p.MJ(p.MB(g[26]))&&p.MJ(p.MB(g[7]))||(e+=m[22],e=(p.MD(g[20])?s:a)(e+=m[23]),e+=m[22],e+=m[4]),e+=m[24]),e+=m[98],p.MK(p.MB(g[34]))?(e+=m[99],p.MD(g[20])?(e+=m[23],p.MN(g[28],p.ME(m[100],p.MB,p.MN,null)),e+=m[23],p.MJ(p.MB(g[30]))&&p.MK(p.MB(g[31]))&&(e+=m[101],p.MN(g[29],p.ME(m[102],p.MB,p.MN,null)),e+=m[23]),e+=m[23],f.unshift({fe_bui_stepper_additional_attrs:m[103],fe_bui_stepper_id:m[104],fe_bui_stepper_max:p.MB(g[0]),fe_bui_stepper_min:m[66],fe_bui_stepper_subtitle:p.MB(g[29]),fe_bui_stepper_title:p.MB(g[28]),fe_bui_stepper_value:p.MB(g[32])?p.MB(g[32]):0}),e=r(e),f.shift()):(e+=m[23],p.MD(g[7])||(e+=m[105],p.MD(g[21])||(e+=m[69]),e+=m[70],p.MD(g[22])&&(e+=m[106]),e+=m[107],p.MD(g[22])?e+=[m[108],p.F.entities(p.MC(g[23])),m[109]].join(""):e+=m[110],e+=m[111],p.MD(g[33])?e+=p.ME(m[112],p.MB,p.MN,null):e+=p.ME(m[100],p.MB,p.MN,null),e+=m[113]),e=function(e){_i_("4ab:58af08c2"),e+=m[2],p.MD(g[7])&&(e+=m[77]),e+=[m[114],p.ME(m[115],p.MB,p.MN,null),m[116]].join(""),p.MD(g[22])?e+=[m[117],p.F.entities(p.MC(g[23])),m[118]].join(""):e+=m[119],e+=m[120],p.MD(g[6])&&(e+=[m[121],p.F.html(p.MC(g[5])),m[116]].join("")),e+=m[122];var t=p.seq(1,p.MB(g[0]))||[];f.unshift({i:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].i=i=t[n-1],e+=[m[123],p.F.entities(i.value),m[57]].join(""),p.MJ(p.MB(g[32])==i.value)&&(e+=m[86]),e+=m[124],p.MD(g[24])?e+=(f.unshift({num_adults:i.value}),b=p.ME(m[125],p.MB,p.MN,p.MO(i.value,null,m[125])),f.shift(),b):e+=i.value,e+=m[126];return f.shift(),e+=m[127],p.MD(g[25])&&(e+=[m[4],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[24]].join("")),e+=m[2],p.MD(g[7])&&(e+=m[95]),e+=m[2],_r_(e)}(e+=m[23])),e+=m[22],e+=m[67]):e+=[m[128],p.F.entities(p.MC(g[32])),m[97]].join(""),e+=m[21],p.MK(p.MB(g[51]))&&(e+=m[22],p.MN("fe_sb_group_has_children",p.MB(g[35])&&(p.MB(g[36])||p.MB(g[37]))),e+=m[129],p.MJ(p.MB(g[7]))&&p.MJ(p.MB(g[38]))&&(e+=m[130]),e+=m[131],p.MD(g[20])?(e+=m[23],p.MN(g[39],p.ME(m[132],p.MB,p.MN,null)),e+=m[23],p.MJ(p.MB(g[30]))&&p.MK(p.MB(g[31]))?(e+=m[101],p.MN(g[40],p.ME(m[133],p.MB,p.MN,null)),e+=m[23]):p.MJ(p.MB(g[41]))&&p.MK(p.MB(g[30]))&&p.MK(p.MB(g[31]))&&(e+=m[101],p.MN(g[40],p.ME(m[134],p.MB,p.MN,null)),e+=m[23]),e+=m[23],f.unshift({fe_bui_stepper_additional_attrs:m[135],fe_bui_stepper_id:m[106],fe_bui_stepper_max:p.MB(g[42]),fe_bui_stepper_min:m[136],fe_bui_stepper_subtitle:p.MB(g[40]),fe_bui_stepper_title:p.MB(g[39]),fe_bui_stepper_value:p.MB(g[35])?p.MB(g[35]):0}),e=r(e),f.shift()):(e+=m[23],p.MD(g[7])||(e+=m[105],p.MD(g[21])||(e+=m[69]),e+=m[70],p.MD(g[22])&&(e+=m[106]),e+=m[107],p.MD(g[22])?e+=[m[137],p.F.entities(p.MC(g[23])),m[109]].join(""):e+=m[138],e+=[m[139],p.ME(m[132],p.MB,p.MN,null),m[140]].join("")),e=function(e){_i_("4ab:5ce063b5"),e+=m[2],p.MD(g[7])&&(e+=m[77]),e+=[m[141],p.ME(m[142],p.MB,p.MN,null),m[116]].join(""),p.MD(g[22])?e+=[m[143],p.F.entities(p.MC(g[23])),m[144]].join(""):e+=m[145],e+=m[146],p.MD(g[7])||(e+=[m[147],p.F.html(p.MC(g[1])),m[148]].join("")),e+=m[149];var t=p.seq(0,p.MB(g[42]))||[];f.unshift({i:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].i=i=t[n-1],e+=[m[123],p.F.entities(i.value),m[57]].join(""),p.MJ(p.MB(g[35])==i.value)&&(e+=m[86]),e+=m[124],p.MJ(p.MB(g[24]))&&p.MJ(0==i.value)?e+=[m[101],p.ME(m[150],p.MB,p.MN,null),m[23]].join(""):p.MJ(p.MB(g[24]))?e+=[m[101],(f.unshift({num_kids:i.value}),b=p.ME(m[151],p.MB,p.MN,p.MO(i.value,null,m[151])),f.shift(),b),m[23]].join(""):e+=[m[101],i.value,m[23]].join(""),e+=m[126];return f.shift(),e+=m[127],p.MD(g[25])&&(e+=[m[4],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[24]].join("")),e+=m[2],p.MD(g[7])&&(e+=m[95]),e+=m[2],_r_(e)}(e+=m[23])),e+=m[22],e+=m[152],p.MK(p.MB(g[51])||p.MB(g[52]))&&p.MJ(p.MB(g[7]))&&(e=function(e){if(_i_("4ab:137b1d0b"),e+=m[4],p.MJ(p.MB(g[35]))&&(p.MJ(p.MB(g[36]))||p.MJ(p.MB(g[37])))){if(e+=m[153],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[46]))||(e+=m[154],p.MD(g[43])?e+=[p.ME(m[155],p.MB,p.MN,p.MO(p.MC(g[35]),null,m[155])),m[2]].join(""):p.MD(g[45])?(p.MN(g[44],p.DATE(p.MB(g[45]),"short_date","","","")),p.MJ(1==p.MB(g[35]))?e+=[(f.unshift({date:p.MB(g[44])}),b=p.ME(m[156],p.MB,p.MN,null),f.shift(),b),m[2]].join(""):e+=[(f.unshift({date:p.MB(g[44])}),b=p.ME(m[157],p.MB,p.MN,null),f.shift(),b),m[2]].join("")):p.MJ(1==p.MB(g[35]))?e+=[p.ME(m[158],p.MB,p.MN,null),m[2]].join(""):e+=[p.ME(m[159],p.MB,p.MN,null),m[2]].join(""),e+=m[113]),e+=m[160],p.MN("fe_child_i",0),e+=m[160],p.MD(g[37]))e+=m[101],f.unshift({fe_children_ages:p.MB(g[37]),fe_fam_d_index_mandatory_child_ages:p.MB(g[46])}),e=function(e){_i_("4ab:04a5a96c"),e+=m[24];var t=p.MC(g[47])||[];f.unshift({fe_child_age:null});for(var i,n=1,a=t.length;n<=a;n++){f[0].fe_child_age=i=t[n-1],e+=m[24],p.MD(g[7])&&(e+=m[161]),e+=[m[162],p.F.entities(p.MC(g[48])),m[163],(f.unshift({child_number:p.MI(p.MB(g[48]))+p.MI(1)}),b=p.ME(m[164],p.MB,p.MN,null),f.shift(),b),m[165]].join(""),p.MJ(p.MB(g[46]))&&p.MJ(i+""=="")&&(e+=m[166]),e+=m[167],p.MD(g[46])?e+=m[168]:e+=m[169],e+=m[170],p.MD(g[46])?e+=[m[171],p.ME(m[172],p.MB,p.MN,null),m[101]].join(""):p.MD(g[43])?e+=[m[171],p.ME(m[173],p.MB,p.MN,null),m[101]].join(""):p.MD(g[7])&&(e+=[m[171],p.ME(m[174],p.MB,p.MN,null),m[101]].join("")),e+=m[175];var s=n,o=t,r=a,_=l,t=p.seq(0,p.MB(g[49]))||[];f.unshift({i:null});for(var l,n=1,a=t.length;n<=a;n++)f[0].i=l=t[n-1],e+=[m[176],p.F.entities(l.value),m[57]].join(""),p.MJ(i+""!="")&&p.MJ(i+""==""+l.value)&&(e+=m[86]),e+=m[177],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[43]))?e+=[m[178],(f.unshift({num_years:l.value}),b=p.ME(m[179],p.MB,p.MN,p.MO(l.value,null,m[179])),f.shift(),b),m[171]].join(""):(e+=[m[178],l.value].join(""),p.MD(g[50])&&(e+=p.ME(m[180],p.MB,p.MN,null)),e+=m[171]),e+=m[181];f.shift(),n=s,t=o,a=r,l=_,e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[4],p.MD(g[7])&&(e+=m[182]),e+=m[4],p.MN("fe_child_i",p.MI(p.MB(g[48]))+p.MI(1)),e+=m[24]}return f.shift(),e+=m[2],_r_(e)}(e),f.shift(),e+=m[23];else if(p.MD(g[36])){e+=m[101];var t=p.MC(g[36])||[];f.unshift({fe_room:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].fe_room=i=t[n-1],e+=m[171],f.unshift({fe_children_ages:p.MG((i||{}).b_children_ages),fe_fam_d_index_mandatory_child_ages:p.MB(g[46])}),e=function(e){_i_("4ab:ee75a018"),e+=m[24];var t=r,i=s,n=_,a=o,s=p.MC(g[47])||[];f.unshift({fe_child_age:null});for(var o,r=1,_=s.length;r<=_;r++){f[0].fe_child_age=o=s[r-1],e+=m[24],p.MD(g[7])&&(e+=m[161]),e+=[m[162],p.F.entities(p.MC(g[48])),m[163],(f.unshift({child_number:p.MI(p.MB(g[48]))+p.MI(1)}),b=p.ME(m[164],p.MB,p.MN,null),f.shift(),b),m[165]].join(""),p.MJ(p.MB(g[46]))&&p.MJ(o+""=="")&&(e+=m[166]),e+=m[167],p.MD(g[46])?e+=m[168]:e+=m[169],e+=m[170],p.MD(g[46])?e+=[m[171],p.ME(m[172],p.MB,p.MN,null),m[101]].join(""):p.MD(g[43])?e+=[m[171],p.ME(m[173],p.MB,p.MN,null),m[101]].join(""):p.MD(g[7])&&(e+=[m[171],p.ME(m[174],p.MB,p.MN,null),m[101]].join("")),e+=m[175];var l,d=r,h=s,c=_,u=l,s=p.seq(0,p.MB(g[49]))||[];for(f.unshift({i:null}),r=1,_=s.length;r<=_;r++)f[0].i=l=s[r-1],e+=[m[176],p.F.entities(l.value),m[57]].join(""),p.MJ(o+""!="")&&p.MJ(o+""==""+l.value)&&(e+=m[86]),e+=m[177],p.MJ(p.MB(g[7]))||p.MJ(p.MB(g[43]))?e+=[m[178],(f.unshift({num_years:l.value}),b=p.ME(m[179],p.MB,p.MN,p.MO(l.value,null,m[179])),f.shift(),b),m[171]].join(""):(e+=[m[178],l.value].join(""),p.MD(g[50])&&(e+=p.ME(m[180],p.MB,p.MN,null)),e+=m[171]),e+=m[181];f.shift(),r=d,s=h,_=c,l=u,e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[4],p.MD(g[7])&&(e+=m[182]),e+=m[4],p.MN("fe_child_i",p.MI(p.MB(g[48]))+p.MI(1)),e+=m[24]}return f.shift(),r=t,s=i,_=n,o=a,e+=m[2],_r_(e)}(e),f.shift(),e+=m[101];f.shift(),e+=m[23]}e+=m[160],p.MJ(p.MB(g[7]))||p.MK(p.MB(g[46]))||(e+=m[154],e+=[p.ME(m[183],p.MB,p.MN,null),m[2]].join(""),e+=m[113]),e+=m[184]}else p.MD(g[46])&&(e+=m[185]);return e+=m[2],_r_(e)}(e+=m[101]),e+=m[22]),e+=m[67]),e+=m[186],p.MK(p.MB(g[51])||p.MB(g[52])||p.MB(g[7]))&&p.MJ(p.MB(g[46]))&&(e=o(e+=m[22]),e+=m[24]),e+=m[21],p.MJ(p.MB(g[27]))&&(e+=m[22],p.MJ(p.MB(g[26]))&&p.MJ(p.MB(g[7]))||(e+=m[101],e=(p.MD(g[20])?s:a)(e+=m[187]),e+=m[101],e+=m[22]),e+=m[24]),e+=m[21],p.MK(p.MB(g[57]))&&(e+=m[188],p.MD(g[20])?(e+=m[23],p.MN(g[53],p.ME(m[189],p.MB,p.MN,null)),e+=m[23],p.MJ(p.MB(g[30]))&&p.MK(p.MB(g[31]))&&(e+=m[101],p.MN(g[54],p.ME(m[190],p.MB,p.MN,null)),e+=m[23]),e+=m[23],f.unshift({fe_bui_stepper_additional_attrs:m[191],fe_bui_stepper_id:m[192],fe_bui_stepper_max:p.MB(g[55]),fe_bui_stepper_min:m[136],fe_bui_stepper_subtitle:p.MB(g[54]),fe_bui_stepper_title:p.MB(g[53]),fe_bui_stepper_value:p.MB(g[56])?p.MB(g[56]):0}),e=r(e),f.shift()):(e+=m[23],p.MD(g[7])||(e+=m[68],p.MD(g[21])||(e+=m[69]),e+=m[70],p.MD(g[22])&&(e+=m[192]),e+=m[71],p.MD(g[22])?e+=[m[193],p.F.entities(p.MC(g[23])),m[73]].join(""):e+=m[194],e+=[m[195],p.ME(m[189],p.MB,p.MN,null),m[196]].join("")),e=function(e){_i_("4ab:7fe3d000"),e+=m[197],p.MD(g[7])&&(e+=m[77]),e+=m[198],p.MD(g[22])?e+=[m[199],p.F.entities(p.MC(g[23])),m[200]].join(""):e+=m[201],e+=m[202];var t=p.seq(0,p.MB(g[55]))||[];f.unshift({i:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].i=i=t[n-1],e+=[m[176],p.F.entities(i.value),m[57]].join(""),p.MJ(p.MB(g[56])==i.value)&&(e+=m[86]),e+=[m[170],i.value,m[181]].join("");return f.shift(),e+=m[203],p.MD(g[7])&&(e+=m[95]),e+=m[2],_r_(e)}(e+=m[23])),e+=m[22],e+=m[67]),e+=m[21],p.MJ(p.MB(g[7]))&&(e+=m[4],e=p.MD(g[20])?(t=e+=m[22],_i_("4ab:2a44f5ed"),t+=m[24],p.MK(p.MB(g[19]))&&(t+=m[25],p.MN(g[8],p.ME(m[26],p.MB,p.MN,null)),t+=m[22],f.unshift({fe_bui_stepper_additional_attrs:m[64],fe_bui_stepper_id:m[65],fe_bui_stepper_max:p.MB(g[17]),fe_bui_stepper_min:m[66],fe_bui_stepper_title:p.MB(g[8]),fe_bui_stepper_value:p.MB(g[18])?p.MB(g[18]):0}),i=t,_i_("4ab:bf0ee277"),i+=[m[27],p.F.entities(p.MC(g[9])),m[28],p.F.html(p.MC(g[10])),m[29]].join(""),p.MD(g[11])&&(i+=[m[30],p.F.html(p.MC(g[11])),m[31]].join("")),i+=m[32],p.MD(g[16])?(i+=[m[33],p.F.entities(p.MC(g[9])),m[34],p.F.entities(p.MC(g[9])),m[35],p.F.entities(p.MC(g[12])),m[36],p.F.entities(p.MC(g[13])),m[37],p.F.entities(p.MC(g[14])),m[38],p.F.entities(p.MC(g[15])),m[39]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(i+=m[40]),i+=[m[41],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[42],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[44],p.F.entities(p.MC(g[14])),m[45]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(i+=m[40]),i+=[m[46],(f.unshift({stepper_title:p.MB(g[10])}),b=p.F.html(p.ME(m[47],p.MB,p.MN,null)),f.shift(),b),m[43],p.F.entities(p.MC(g[9])),m[48],p.F.entities(p.MC(g[9])),m[49],p.F.entities(p.MC(g[14])),m[50],p.F.entities(p.MC(g[10])),m[51]].join("")):(i+=[m[52],p.F.entities(p.MC(g[9])),m[53],p.F.entities(p.MC(g[9])),m[54],p.F.entities(p.MC(g[12])),m[55],p.F.entities(p.MC(g[13])),m[56],p.F.entities(p.MC(g[14])),m[57],p.F.entities(p.MC(g[15])),m[58]].join(""),p.MJ(p.MB(g[14])==p.MB(g[12]))&&(i+=m[59]),i+=[m[60],p.F.entities(p.MC(g[14])),m[61]].join(""),p.MJ(p.MB(g[14])==p.MB(g[13]))&&(i+=m[59]),i+=m[62]),i+=m[63],t=_r_(i),f.shift(),t+=m[67]),t+=m[2],_r_(t)):(t=e+=m[22],_i_("4ab:31570a1f"),t+=m[24],p.MK(p.MB(g[19]))?(t+=m[25],p.MD(g[7])||(t+=m[68],p.MD(g[21])||(t+=m[69]),t+=m[70],p.MD(g[22])&&(t+=m[65]),t+=m[71],p.MD(g[22])?t+=[m[72],p.F.entities(p.MC(g[23])),m[73]].join(""):t+=m[74],t+=[m[75],p.ME(m[26],p.MB,p.MN,null),m[76]].join("")),t=function(e){_i_("4ab:08fba4e8"),e+=m[4],p.MD(g[7])&&(e+=m[77]),e+=m[78],p.MD(g[22])?e+=[m[79],p.F.entities(p.MC(g[23])),m[80]].join(""):e+=m[81],e+=[m[82],p.ME(m[83],p.MB,p.MN,null),m[84]].join("");var t=p.seq(1,p.MB(g[17]))||[];f.unshift({i:null});for(var i,n=1,a=t.length;n<=a;n++)f[0].i=i=t[n-1],e+=[m[85],p.F.entities(i.value),m[57]].join(""),p.MJ(p.MB(g[18])==i.value)&&(e+=m[86]),e+=m[87],p.MD(g[24])?e+=(f.unshift({num_rooms:i.value}),b=p.ME(m[88],p.MB,p.MN,p.MO(i.value,null,m[88])),f.shift(),b):e+=i.value,e+=m[89];return f.shift(),e+=m[90],p.MD(g[25])&&(e+=[m[22],(f.unshift({class:m[91],name:m[92],width:m[93]}),b=p.HELPER("icon",f[0]),f.shift(),b),m[4]].join("")),e+=m[94],p.MD(g[7])&&(e+=m[95]),e+=m[2],_r_(e)}(t+=m[22]),t+=m[67]):t+=[m[96],p.F.entities(p.MC(g[18])),m[97]].join(""),t+=m[2],_r_(t)),e+=m[4],e+=m[24]),e+=m[21],p.MD(g[7])&&(e+=m[95]),e+=m[186],p.MK(p.MB(g[51])||p.MB(g[52])||p.MB(g[7])||p.MB(g[46]))&&(e=o(e+=m[22]),e+=m[24]),e+=m[204],n=_r_(e),n+=m[205],_r_(n)})}());var n=t("component"),a=t("morphdom"),s=t("read-data-options"),o=t("search-config"),r=t("et"),_=t("search/searchbox/model");i.exports=n.extend({init:function(){if(_i_("4ab:3661749f"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},sbWidth:{name:"sb-width",type:String},sbBBToolSearchbox:{name:"sb-bbtool-searchbox",type:Boolean},childrenHide:{name:"sb-group-children-hide",type:Boolean},childrenAgesHide:{name:"sb-group-children-ages-hide",type:Boolean},infantsHide:{name:"sb-group-infants-hide",type:Boolean},useBUIStepper:{name:"sb-group-use-bui-stepper",type:Boolean},buiSteppersAccessible:{name:"sb-group-bui-steppers-accessible",type:Boolean},petsHide:{name:"sb-group-pets-hide",type:Boolean},roomsHide:{name:"sb-group-rooms-hide",type:Boolean},useAdultsLabel:{name:"sb-group-use_adults_label",type:Boolean},blockLabels:{name:"sb-group-block-labels",type:Boolean},alwaysExpanded:{name:"sb-group-always-expanded",type:Boolean},descriptiveDropdowns:{name:"fe_sb_group_descriptive_dropdowns",type:Boolean},universalDesign:{name:"fe_sb_universal_design",type:Boolean},removeDuplicateIds:{name:"fe_remove_duplicate_ids",type:Boolean},searchBoxUniqueId:{name:"fe_sb_unique_id",type:String},searchboxXPI:{name:"fe_sb_xpi",type:Boolean},reorderGroupBlock:{name:"sb_reorder_rooms_block",type:Boolean},sbFaceLift:{name:"sb-facelift",type:Boolean},sbChildAgeBrackets:{name:"fe_sb_show_children_age_bracket",type:Boolean},sbMandatoryChildAges:{name:"fe_fam_d_index_mandatory_child_ages",type:Boolean}}),this.model=_.getInstance(this.options.modelId),this.model.use("group"),this.model.use("dates"),this.model.on("change",this.modelChange.bind(this)),this.$form=this.$el.parents("form"),o.on("change",this.searchConfigChange.bind(this)),this.$el.on("change",'[data-group-rooms-count=""]',this.groupRoomsChange.bind(this)),this.$el.on("change",'[data-group-adults-count=""]',this.groupAdultsChange.bind(this)),this.$el.on("change",'[data-group-children-count=""]',this.groupChildrenChange.bind(this)),this.$el.on("change","[data-group-child-age]",this.groupChildAgeChange.bind(this)),this.$el.on("change",'[data-group-infants-count=""]',this.groupInfantsChange.bind(this)),this.renderEl=this.$el.find('[data-render=""]')[0],this.template=B.jstmpl("search_group_group_html"),this.$form.on("change",".b-booker-type__input_business-booker",this.businessBookerSelected.bind(this)),this.modelInit(),"index"===B.env.b_action&&"sessionStorage"in window&&!o.childrenAges.length){var e;try{e=JSON.parse(window.sessionStorage.getItem("search_group_children_ages"))}catch(e){}if(e){this.model.group.set({key:"children_count",value:e.length});for(var t=0;t<e.length;t++)this.model.group.set({i:t,key:"children_ages",value:e[t]})}}_r_()},modelInit:function(){_i_("4ab:3cd6690a");var e={rooms_count:o.rooms?o.rooms.length:1,adults_count:o.adults||2,children_ages:o.childrenAges||[],default_empty_age_to:this.options.sbMandatoryChildAges?null:"12"};this.options.infantsHide||(e.infants_count=o.infants),this.model.group.init(e),_r_()},modelChange:function(e){if(_i_("4ab:d0eb1f21"),!e||"group"!=e.group&&"dates"!=e.group)return _r_();this.render(),_r_()},searchConfigChange:function(){_i_("4ab:2a954708"),this.model.group.set({key:"rooms_count",value:Array.isArray(o.rooms)?o.rooms.length:1}),this.model.group.set({key:"adults_count",value:o.adults}),this.model.group.set({key:"children_count",value:Array.isArray(o.childrenAges)?o.childrenAges.length:1}),this.options.infantsHide||this.model.group.set({key:"infants_count",value:o.infants}),Array.isArray(o.childrenAges)&&o.childrenAges.forEach(function(e,t){_i_("4ab:8cfc68e3"),this.model.group.set({key:"children_ages",i:t,value:e}),_r_()}.bind(this)),_r_()},groupRoomsChange:function(e){_i_("4ab:1b5dda0c");e=$(e.currentTarget);this.model.group.set({key:"rooms_count",value:e.val()}),"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),_r_()},groupAdultsChange:function(e){_i_("4ab:80dadfe0");e=$(e.currentTarget);this.model.group.set({key:"adults_count",value:e.val()}),this.groupAdultsChanged=!0,"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),_r_()},groupChildrenChange:function(e){_i_("4ab:7fdb4cd0");e=$(e.currentTarget);this.model.group.set({key:"children_count",value:e.val()}),"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),0<e.val()&&(r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",2),r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",7)),_r_()},groupInfantsChange:function(e){_i_("4ab:37d87d71");e=$(e.currentTarget);this.model.group.set({key:"infants_count",value:e.val()}),_r_()},groupChildAgeChange:function(e){_i_("4ab:d46b3716");var t=$(e.currentTarget),e=t.attr("data-group-child-age");this.model.group.set({key:"children_ages",i:+e,value:t.val()}),r.customGoal("INLGPMPSXPBccFRSTELFKWIFdCYO",1),_r_()},render:function(){_i_("4ab:7725a44a");var e={},t=this.model.group.get(),i=this.model.dates.get(),t={fe_sb_state_number_of_rooms:t.rooms_count,fe_sb_state_number_of_adults:t.adults_count,fe_sb_state_number_of_children:t.children_ages.length,fe_sb_state_children_ages:t.children_ages,fe_sb_state_number_of_infants:t.infants_count,fe_sb_state_traveller:t.fe_sb_state_traveller,fe_sb_state_rooms:[{b_adults:t.adults_count,b_children:t.children_ages.length,b_children_ages:t.children_ages,b_room_order:1}]};B.env.b_lang_is_cjk&&(t.b_lang_is_cjk=B.env.b_lang_is_cjk),i.checkout&&(t.fe_sb_state_checkout=i.checkout.toString()),this.options.sbWidth&&(t.fe_sb_width=this.options.sbWidth),this.options.childrenHide&&(t.fe_sb_group_children_hide=1),this.options.childrenAgesHide&&(t.fe_sb_group_children_ages_hide=1),this.options.infantsHide&&(t.fe_sb_group_infants_hide=1),this.options.useBUIStepper&&(t.fe_sb_group_use_bui_stepper=1),this.options.buiSteppersAccessible&&(t.fe_sb_group_bui_steppers_accessible=1),this.options.petsHide&&(t.fe_sb_group_pets_hide=1),this.options.roomsHide&&(t.fe_sb_group_rooms_hide=1),this.options.blockLabels&&(t.fe_sb_group_block_labels=1),this.options.alwaysExpanded&&(t.fe_sb_group_always_expanded=1),this.options.useAdultsLabel&&(t.fe_sb_group_use_adults_label=1),this.options.sbBBToolSearchbox&&(t.fe_sb_bbtool_searchbox=1),this.options.descriptiveDropdowns&&(t.fe_sb_group_descriptive_dropdowns=1),this.options.universalDesign&&(t.fe_sb_universal_design=1),this.options.removeDuplicateIds&&(t.fe_remove_duplicate_ids=1),this.options.searchBoxUniqueId&&(t.fe_sb_unique_id=this.options.searchBoxUniqueId),this.options.searchboxXPI&&(t.fe_sb_xpi=1),this.options.reorderGroupBlock&&(t.fe_sb_include_nr_rooms=1),this.options.sbFaceLift&&(t.fe_sb_facelift=1),this.options.sbChildAgeBrackets&&(t.fe_sb_show_children_age_bracket=this.options.sbChildAgeBrackets),this.options.sbMandatoryChildAges&&(t.fe_fam_d_index_mandatory_child_ages=this.options.sbMandatoryChildAges);i=this.template.render(t).trim();"msie"===B.env.b_browser&&B.env.b_browser_version<=8&&(e.onBeforeElUpdated=function(e,t){_i_("4ab:2c707256");e=e.getAttribute(jQuery.expando);return e&&t.setAttribute(jQuery.expando,e),_r_(!0)}),!this._isRendered&&1<t.fe_sb_state_number_of_children&&this._track_fix_d_search_box_keep_children_ages_order(),this._isRendered||"hotel"!==B.env.b_action||this._track_searchbox_group_similar_to_lp(),this._isRendered=!0,a(this.renderEl,i,e),_r_()},businessBookerSelected:function(){_i_("4ab:cdcb7c24"),this.groupAdultsChanged||this.model.group.set({key:"adults_count",value:1}),_r_()},groupChildrenAgeSave:function(e){_i_("4ab:4f94d139"),e.preventDefault(),t("events").trigger("SearchBox::SaveTravelGroupsClicked",e),_r_()},customgoalForWishlist:function(e){_i_("4ab:960fa9cf"),r.customGoal("aDMWRfDSdWUUHfLebbMPAFFLKZLXJOfAdIUFZZcO",e),_r_()},_track_searchbox_group_similar_to_lp:function(){_i_("4ab:ae99c022"),r.customGoal("eWHMAENYTbVYOBINFMNIRHceMfEC",4),_r_()},_track_fix_d_search_box_keep_children_ages_order:function(){_i_("4ab:17b1f77e");var e="NHWbEJYOBNRGePAAREaQXMDMWURGPNFO";r.stage(e,2),"index"===B.env.b_action?r.stage(e,3):"searchresults"===B.env.b_action?r.stage(e,4):"hotel"===B.env.b_action?r.stage(e,5):B.env.b_is_landing_page?r.stage(e,6):r.stage(e,7),"safari"===B.env.b_browser?r.stage(e,8):r.stage(e,9),_r_()}}),_r_()}),B.define("search/group/model",function(e,t,i){"use strict";_i_("4ab:9cfd9217");var o=e("et");function n(e){_i_("4ab:e0d4b805"),this.model=e,this.data={preset:-1},this.valid=!0,this.validationError="",this.options={},_r_()}$.extend(n.prototype,{init:function(e){_i_("4ab:b6ef73a3"),this.data=e,this.emit("init"),_r_()},configure:function(e,t){_i_("4ab:66d50a771"),void 0!==t?this.options[e]=t:"object"==typeof e&&$.extend(this.options,e),_r_()},get:function(){return _i_("4ab:867e130f1"),_r_(this.data)},setAll:function(t){if(_i_("4ab:cc2e7b0d"),!t)return _r_(!1);var i=this;return Object.keys(t).forEach(function(e){_i_("4ab:a33046ee"),i.set({key:e,value:t[e]},!0),_r_()}),this.emit("change"),_r_(!0)},set:function(e,t){if(_i_("4ab:92e83c91"),!e||!e.key)return _r_(!1);if("children_count"==e.key)if(this.data.children_ages||(this.data.children_ages=[]),0==e.value)this.data.children_ages=[];else if(this.data.children_ages.length<e.value)for(var i=this.data.children_ages.length;i<e.value;i++)this.data.default_empty_age_to?this.data.children_ages.push(this.data.default_empty_age_to):this.data.children_ages.push("");else this.data.children_ages.length>e.value&&this.data.children_ages.splice(e.value,this.data.children_ages.length-e.value);else e.hasOwnProperty("i")?(this.data[e.key]||(this.data[e.key]=[]),this.data[e.key][e.i]=e.value):this.data[e.key]=e.value;var n;return"index"===B.env.b_action&&"sessionStorage"in window&&(n=JSON.stringify(this.data.children_ages),window.sessionStorage.setItem("search_group_children_ages",n)),t||this.emit("change"),_r_(!0)},validate:function(e){_i_("4ab:2cee561e");var t,i=!0,n="";if((e=e||{}).groupLimit&&(t=0,this.data&&this.data.adults_count&&(t+=parseInt(this.data.adults_count)),this.data&&this.data.children_ages&&(t+=this.data.children_ages.length),t>e.groupLimit&&(i=!1,n="over-limit")),this.data.children_ages.length){for(var a=!1,s=0;s<this.data.children_ages.length;s++)""!==this.data.children_ages[s]&&null!==this.data.children_ages[s]||(a=!0);a&&(i=!1,n="children-ages",o.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",8))}return this.valid==i&&("children-ages"!==n||i)||(this.valid=i,this.validationError=n,this.emit("validation",{valid:i,validationError:n})),_r_(i)},modelChange:function(e){if(_i_("4ab:0c52eeaa"),!e||"traveller"!==e.group)return _r_();e=this.model.traveller.get().travellerType;switch(e){case null:case"":case"couple":this.data.rooms_count=1,this.data.adults_count=2,this.data.children_ages=[];break;case"solo":case"business":this.data.rooms_count=1,this.data.adults_count=1,this.data.children_ages=[];break;case"family":this.data.adults_count=1==this.data.adults_count?2:this.data.adults_count,this.data.children_ages&&0!=this.data.children_ages.length||(this.data.children_ages=[this.data.default_empty_age_to]);break;case"group":this.data.adults_count=1==this.data.adults_count?2:this.data.adults_count,this.data.children_ages=[]}this.data.fe_sb_state_traveller=e,this.emit("change"),_r_()},emit:function(e,t){_i_("4ab:9fb010e7"),t=t||{},this.model.emit(e,$.extend(t,{group:"group"})),_r_()}}),i.exports=n,_r_()}),B.define("search/popular-nearby/model",function(e,t,i){"use strict";_i_("4ab:f85806b4");var n=e("server-data");function a(e){_i_("4ab:6ff3478d"),this.model=e,this.modelInit(),_r_()}$.extend(a.prototype,{getPopularNearbySuggestions:function(){return _i_("4ab:98a4204c"),this.formattedData?_r_(this.formattedData):this.rawData&&this.rawData.length?(this.rawData=this.rawData.slice(0,5),this.formattedData=this.rawData.filter(function(e){return _i_("4ab:268335d0"),_r_(e.name&&e.country)}).map(function(e){return _i_("4ab:a1c1e320"),_r_({label:e.name,ss:[e.name,e.country].join(", "),labels:[{dest_id:e.dest_id,type:e.dest_type,text:e.name},{dest_id:e.dest_id,type:e.dest_type,text:e.country}],dest_type:e.dest_type,dest_id:e.dest_id,b_max_los_for_dest:e.max_los,isPopularNearby:!0})}),this.formattedData[0]&&n.fe_popular_destinations_nearby_title&&(this.formattedData[0].section_title=n.fe_popular_destinations_nearby_title,this.formattedData[0].section_title_class="sb-popular-nearby-title"),_r_(this.formattedData)):void _r_()},modelInit:function(){_i_("4ab:560d951a"),this.rawData=n.fe_popular_destinations_nearby,_r_()}}),i.exports=a,_r_()}),function(){_i_("4ab:0d9d7c3c");var o="bLEGZEOTOCfdHdLT";B.when({action:"index",events:"ready",condition:B.env.fe_popular_destinations_nearby_cond}).run(function(e){_i_("4ab:07d8bce6");var t,i=e("et"),e=e("search/searchbox/events"),n=$("#ss"),a=n.closest("form");function s(e){_i_("4ab:468555ce"),e?(t=$('<input type="hidden" value="1" name="is_popular_nearby" />'),a.append(t)):t&&t.remove(),_r_()}n.focusin(function(){_i_("4ab:101a791f"),""===n.val()&&(i.stage(o,1),i.customGoal("bLEGZEOTOCfdHdFXOVVLVKGDWe",1)),_r_()}),e.on(e.SEARCHBOX_DESTINATION_SELECTED,function(e){_i_("4ab:da0d7629"),e&&e.destination&&e.destination.isPopularNearby?(i.customGoal(o,1),s(!0)):s(!1),_r_()}),_r_()}),_r_()}(),function(){_i_("4ab:21ae2d8a");var r="bLEGPAJZKZPHcbBCdC";B.when({events:"ready",condition:B.env.fe_popular_destinations_nearby_lp_cond}).run(function(e){_i_("4ab:7c858e71");var t,i=e("et"),n=e("server-data").b_action,e=e("search/searchbox/events"),a=$("#ss"),s=a.closest("form");function o(e){_i_("4ab:d18e6e24"),e?(t=$('<input type="hidden" value="1" name="is_popular_nearby_lp" />'),s.append(t)):t&&t.remove(),_r_()}a.focusin(function(){_i_("4ab:4e972273"),""===a.val()&&(i.stage(r,1),"city"===n?i.stage(r,2):"region"===n?i.stage(r,3):"country"===n&&i.stage(r,4)),_r_()}),e.on(e.SEARCHBOX_DESTINATION_SELECTED,function(e){_i_("4ab:da0d76291"),e&&e.destination&&e.destination.isPopularNearby?(i.customGoal(r,1),o(!0)):o(!1),_r_()}),_r_()}),_r_()}(),_i_("4ab:77fcbee0"),B.define("searchbox/dynamic-los-per-dest-tracking",function(e,t,i){_i_("4ab:12984e90");var n=e("et"),a=e("server-data"),s="NAFQOEfSPMHBcCcCcCDRUWFLcVCBeMBXZeKe",o={MDOT:"mdot",DESKTOP:"desktop"};i.exports={SITE_TYPES:o,trackAttemptSearchingForExtendedLos:function(e,t){_i_("4ab:49d39a74"),n.stage(s,1),t===o.MDOT?n.stage(s,7):t===o.DESKTOP&&n.stage(s,8),"index"===a.b_action?n.stage(s,2):"hotel"===a.b_action&&n.stage(s,4),a.b_is_landing?n.stage(s,5):n.stage(s,6),45<e&&n.customGoal(s,1),60<e&&n.customGoal(s,2),_r_()},trackSearchExtendedUfi:function(){_i_("4ab:623c3420"),n.stage(s,3),_r_()}},_r_()}),_r_(),_i_("4ab:663e9b29"),B.when({events:"ready",condition:B.env.fe_cond_bh_long_stay_www_extend_max_los_to_45}).run(function(e){_i_("4ab:518033bb");var t=e("server-data"),i=e("search/searchbox/model").getInstance("main");i.use("destination"),i.use("dates");var n=i.destination,a=i.dates,s=a.getOption("maxLos"),o=parseInt(t.fe_max_los_for_pre_filled_dest||0,10)||s,r=e("searchbox/dynamic-los-per-dest-tracking");function _(){var e;_i_("4ab:b8ad5132"),t.fe_dynamic_los&&(e=a.getOption("maxLos"),a.configure("maxLos",o),e!==o&&"exceeds-max-los"===a.getValidationError()&&a.validate({force:!0})),_r_()}_(),i.on("change",function(e){_i_("4ab:76d9c321"),e&&"destination"===e.group&&(n.data.max_los_for_dest&&(o=n.data.max_los_for_dest),_()),_r_()}),i.on("validation:lengthOfStay",function(e){_i_("4ab:959bacde"),e&&"dates"===e.group&&e.lengthOfStay&&s<o&&(r.trackSearchExtendedUfi(),e.lengthOfStay>s&&r.trackAttemptSearchingForExtendedLos(e.lengthOfStay,r.SITE_TYPES.DESKTOP)),_r_()}),_r_()}),_r_(),B.define("search/searchbox/analytics",function(e,n,t){_i_("4ab:67a7982e");var a={};n.send=function(e,t,i){if(_i_("4ab:47f6d2f8"),!window.ga)return _r_();window.ga("send","event","Searchbox",B.env.b_action,e,t,i),_r_()},n.sendNonInteractive=function(e,t){_i_("4ab:953c321e"),n.send(e,t,{nonInteraction:!0}),_r_()},n.sendOnce=function(e,t){_i_("4ab:b77ab645");var i=e+":"+t;a[i]||(n.send(e,t),a[i]=!0),_r_()},_r_()}),B.define("search/searchbox/bind-events",function(e,t,i){_i_("4ab:b857c550");var n=e("search/searchbox/events"),a={change:{group:n.SEARCHBOX_GROUP_SELECTED,dates:n.SEARCHBOX_DATES_SELECTED}};i.exports={init:function(t){for(var e in _i_("4ab:130a3d7d"),a)!function(e,i){_i_("4ab:0caa09d5"),t.on(e,function(e){for(var t in _i_("4ab:e37760d9"),i)e&&e.group===t&&n.emit(i[t],e);_r_()}),_r_()}(e,a[e]);_r_()}},_r_()}),B.define("search/searchbox/model",function(o,e,t){"use strict";_i_("4ab:22a61dfd");var i=o("event-emitter"),n=o("search/modules/flags"),a=o("search/searchbox/bind-events"),s={};function r(e){_i_("4ab:e909045c"),i.extend(this),this.id=e,this.formAction,this.fieldGroups={track:[]},this.flags={},this.validators=[],this.mode="",a.init(this),_r_()}$.extend(r.prototype,{use:function(e){if(_i_("4ab:dbcf853f"),this[e])return _r_();switch(e){case"destination":var t=o("search/destination/model");this[e]=new t(this);break;case"origin":var i=o("search/destination/model");this[e]=new i(this);break;case"dates":i=o("search/dates/model");this[e]=new i(this);break;case"group":var n=o("search/group/model");this[e]=new n(this);break;case"driverAge":n=o("search/driver-age/model");this[e]=new n(this);break;case"flights":var a=o("search/flights/model");this[e]=new a(this);break;case"popularNearby":a=o("search/popular-nearby/model");this[e]=new a(this);break;default:return _r_()}var s;"function"==typeof this[e].validate&&(s=this[e]._options||this[e].options||{},this.validators.push(this[e].validate.bind(this[e],s))),_r_()},submit:function(){_i_("4ab:419d3960"),this.emit("submit"),_r_()},getFormAction:function(){return _i_("4ab:2bb3fc7a"),_r_(this.formAction)},setFormAction:function(e){_i_("4ab:ffab2309"),this.formAction=e,_r_()},getFields:function(){_i_("4ab:d1d8fd96");var t=[];return Object.keys(this.fieldGroups).forEach(function(e){_i_("4ab:2ea4b695"),Array.isArray(this.fieldGroups[e])&&(t=t.concat(this.fieldGroups[e])),_r_()}.bind(this)),_r_(t)},setFields:function(e,t){_i_("4ab:ac5771fa"),this.fieldGroups[e]=t,_r_()},getMode:function(){return _i_("4ab:2e4cae8d"),_r_(this.mode)},setMode:function(e){_i_("4ab:112fc3f2"),this.mode=e,this.emit("change-mode",e),_r_()},hasFlag:function(e){return _i_("4ab:a263e608"),_r_(e in this.flags)},getFlag:function(e){return _i_("4ab:ab8b5c0e"),_r_(this.flags[e])},updateFlags:function(e){_i_("4ab:3466ef2a");e=n.parse(e);Object.assign(this.flags,e),_r_()},validate:function(){_i_("4ab:608d75f9");var e=this.validators.filter(function(e){return _i_("4ab:e68ae526"),_r_(e.call())});return _r_(e.length==this.validators.length)}}),t.exports={getInstance:function(e){return _i_("4ab:89ca5159"),s[e]||(s[e]=new r(e)),_r_(s[e])}},_r_()}),B.define("search/searchbox/events",function(e,t,i){"use strict";_i_("4ab:8849c959");e=new(e("event-emitter"));return e.SEARCHBOX_SUBMIT_SUCCESS="searchbox_submit_success",e.SEARCHBOX_DESTINATION_SELECTED="searchbox_destination_selected",e.SEARCHBOX_DATES_SELECTED="searchbox_dates_selected",e.SEARCHBOX_GROUP_SELECTED="searchbox_group_selected",e.SEARCHBOX_AUTOCOMPLETE_TRIGGERED="searchbox_autocomplete_triggered",_r_(e)}),B.define("search/searchbox/ga-events-tracker",function(e,t,i){"use strict";_i_("4ab:4a6df708");var n=e("ga-tracker"),a=e("server-data"),e=function(){};Object.assign(e.prototype,{track:function(e,t,i){_i_("4ab:f915f641");i=["Searchbox",a.b_action,"["+e+"] "+t,i];n.trackEvent.apply(n,i),_r_()},trackError:function(e){},trackEvent:function(e){return _i_("4ab:f97d23f5"),_r_(this.track("interaction",e))}}),i.exports=new e,_r_()}),B.define("component/search/searchbox/searchbox",function(i,e,t){"use strict";_i_("4ab:4e905e6b");var n=i("server-data"),a=i("component"),s=i("search/searchbox/model"),o=i("read-data-options"),r=i("search/searchbox/events"),_=!1,l=["country","dest_id","dest_type","district","iata","landmark","latitude","longitude","place_id","place_id_lat","place_id_lon","region","prefill_submitted"];t.exports=a.extend({init:function(){_i_("4ab:fa42d867"),this.hiddenFields=[],this.options=o(this.$el,{modelId:{name:"sb-id",type:String,required:!0},flags:{name:"sb-flags",type:String,defaultValue:""},isFirstVisible:{name:"is-first-visible",type:Boolean}}),this.model=s.getInstance(this.options.modelId),this.model.on("init",this.modelChange.bind(this)),this.model.on("change",this.modelChange.bind(this)),this.model.on("submit",this.modelSubmit.bind(this)),this.model.updateFlags(this.options.flags),this.$form=this.$el.is("form")?this.$el:this.$el.find("form:eq(0)"),this.$form.submit(this.formSubmit.bind(this)),this.originalAction=this.$form.attr("action"),this.options.isFirstVisible&&this.model.hasFlag("sticky")&&i("search/searchbox/searchbox-sticky-controller").getController().setElement(this.$form),this.model.hasFlag("sticky")&&this.model.hasFlag("deny_focus")&&this.$el.get(0)&&this.model.getFlag("deny_focus")&&new(i("search/searchbox/searchbox-deny-focus-controller"))(this.$el.get(0)),this.model.hasFlag("sb_is_sticky")&&new(i("search/searchbox/searchbox-sticky-controller-v2"))({el:this.el,model:this.model}),this.$searchOverlay=this.$el.find("[data-searching-overlay]"),this.shouldShowSearchOverlay=this.model.getFlag("AEJPAcBacPONDcFGHT")&&this.$searchOverlay.length,this.shouldShowSearchOverlay&&(this.$searchOverlay.on("click",this.searchOverlayClick.bind(this)),$(document).on("keydown",this.hideSearchOverlay.bind(this))),this.initCurrentCountryField();var e,t=$(".sb-searchbox-horizontal__dismissible-btn");t.length&&!_&&(e=t.parents(".sb-searchbox-horizontal"),_=!0,t.click(function(){_i_("4ab:14063a32"),e.hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden"),_r_()})),"www"==n.b_site_type&&this.model.setFields("sr_traffic",[{name:"from_sf",value:1}]),B.env.b_force_dates&&(this.model.setFields("sr_user_modifications",[{name:"user_changed_date",value:0}]),B.eventEmitter.on("FORM:user-changes",function(e,t){_i_("4ab:53b96069"),this.model.setFields("sr_user_modifications",[{name:"user_changed_"+t.type,value:1}]),this.updateHiddenFields(),_r_()}.bind(this))),_r_()},modelChange:function(e){_i_("4ab:c04d9e85"),this.updateHiddenFields(),_r_()},modelSubmit:function(){_i_("4ab:4d3a9c94"),this.$form.submit(),_r_()},initCurrentCountryField:function(){_i_("4ab:9332a9cc");var e;this.$onlyCurrentCountry=this.$form.find("#limit-search-area"),this.$onlyCurrentCountry.length&&(e=this.$onlyCurrentCountry.is(":checked"),this.$onlyCurrentCountry.bind("change",this.onlyCurrentCountryChange.bind(this)),this.model.use("destination"),this.model.destination.initOnlyCurrentCountry(e)),_r_()},onlyCurrentCountryChange:function(){_i_("4ab:084694bf"),this.model.use("destination"),this.model.destination.setOnlyCurrentCountry(this.$onlyCurrentCountry.is(":checked")),_r_()},updateHiddenFields:function(){_i_("4ab:97e4be09");var e=this.model.getFormAction();this.$form.attr("action")!=(e=e||this.originalAction)&&this.$form.attr("action",e),this.hiddenFields&&this.hiddenFields.forEach(function(e){_i_("4ab:cb94b31b"),e.$node.remove(),e.$node=null,_r_()});e=this.model.getFields();this.hiddenFields=[];var t=[],i=!1;e.forEach(function(e){_i_("4ab:524ac3a4"),this.hiddenFields.push({name:e.name,value:e.value}),t.push(e.name),-1!=l.indexOf(e.name)&&(i=!0),_r_()}.bind(this)),this.$form.find("input").filter(function(){return _i_("4ab:db7cc3c8"),_r_(i&&-1!=l.indexOf(this.name)||-1!=t.indexOf(this.name))}).remove(),this.hiddenFields.forEach(function(e){_i_("4ab:11542117");var t=$("<input>");t.attr("type","hidden"),t.attr("name",e.name),t.attr("value",e.value),e.$node=t,this.$form.append(t),_r_()}.bind(this)),_r_()},selectFirstFromAutocomplete:function(){_i_("4ab:0468afb5");var e=this.model.destination&&this.model.destination.ac;e&&!e.selected&&e.dataset&&e.dataset.length&&this.model.destination.set(e.dataset[0]),_r_()},formSubmit:function(e){if(_i_("4ab:f4bd437f"),!this.model.validate())return e.preventDefault(),_r_();r.trigger(r.SEARCHBOX_SUBMIT_SUCCESS,this),this.shouldShowSearchOverlay?this.showSearchOverlay():this.shouldShowSearchPageOverlay?this.pageOverlay.show(this.model.destination.data.ss_raw):this.shouldShowSRPP&&this.SRPPOverlay.show(this.model.destination.data.ss_raw),this.selectFirstFromAutocomplete(),_r_()},searchOverlayClick:function(){_i_("4ab:212f5c38"),this.abortSubmit(),this.hideSearchOverlay(),B.et.customGoal("AEJPAcBacPONDcFGHT",1),_r_()},abortSubmit:function(){_i_("4ab:c57d5cae"),window.stop?window.stop():document.execCommand&&document.execCommand("Stop"),_r_()},showSearchOverlay:function(){_i_("4ab:a7b810f1"),this.$searchOverlay.addClass("-visible"),_r_()},hideSearchOverlay:function(){_i_("4ab:ae61912d"),this.$searchOverlay.removeClass("-visible"),_r_()}}),_r_()}),B.define("search/searchbox/searchbox-sticky-controller",function(e,t,i){"use strict";_i_("4ab:63496668");var n=e("jquery"),a=e("event-emitter"),s=null;function o(){_i_("4ab:2e970a1c"),a.extend(this),this.visible=!1,this.bottomPosition=null,this.$el=null,this.$sticky=null,this.$window=n(window),this.$window.on("scroll",this.windowScroll.bind(this)),this.$window.on("keydown",this.onKeyDown.bind(this)),this.$window.on("click",this.clickOnWindow.bind(this)),_r_()}Object.assign(o.prototype,{setElement:function(e){if(_i_("4ab:92ba9383"),this.bottomPosition){var t=e.offset(),i=e.outerHeight();if(t&&t.top+i>this.bottomPosition)return _r_()}this.$el=e,this.recalculate(),_r_()},setStickyElement:function(e){_i_("4ab:b73c45bc"),this.$sticky=e,_r_()},isVisible:function(){return _i_("4ab:cc445ed2"),_r_(this.visible)},recalculate:function(){if(_i_("4ab:c603101a"),null===this.$el)return _r_();var e=this.$el.offset(),t=this.$el.outerHeight();if(!e)return _r_();this.bottomPosition=e.top+t,this.updateStatus(),_r_()},show:function(){_i_("4ab:874c707c"),this.visible=!0,this.emit("show"),_r_()},onKeyDown:function(e){_i_("4ab:c91f489a"),27===e.keyCode&&this.visible&&this.updateStatus(),_r_()},clickOnWindow:function(e){var t;_i_("4ab:a1d20162"),this.$sticky&&this.$sticky.length&&(t=e.target,e=this.$sticky.get(0),!n.contains(e,t)&&e!==t&&this.visible&&this.updateStatus()),_r_()},updateStatus:function(){_i_("4ab:e7cec903"),!this.visible&&this.$window.scrollTop()>=this.bottomPosition?(this.visible=!0,this.emit("show")):this.visible&&this.$window.scrollTop()<this.bottomPosition&&(this.visible=!1,this.emit("hide")),_r_()},windowScroll:function(e){if(_i_("4ab:65bfc59a"),null===this.bottomPosition)return _r_();this.updateStatus(),_r_()}}),i.exports={getController:function(){return _i_("4ab:b7cb9ba8"),s=s||new o,_r_(s)}},_r_()}),B.define("component/search/searchbox/searchbox-sticky",function(e,t,i){"use strict";_i_("4ab:589e78cf");var n=e("component"),a=e("events"),s=e("search/searchbox/searchbox-sticky-controller").getController();i.exports=n.extend({init:function(){_i_("4ab:b057c357"),s.on("show",this.show.bind(this)),s.on("hide",this.hide.bind(this)),s.setStickyElement(this.$el),s.isVisible()&&this.hardShow(),_r_()},show:function(e){_i_("4ab:85085336"),this.$el.addClass("-visible-1"),a.trigger("searchbox-sticky:show"),setTimeout(function(){_i_("4ab:54c5e049"),this.$el.addClass("-visible-2"),_r_()}.bind(this),0),_r_()},hardShow:function(){_i_("4ab:3835991a"),this.$el.addClass("-visible-1 -visible-2"),_r_()},hide:function(e){_i_("4ab:fc5db946"),this.$el.removeClass("-visible-2"),setTimeout(function(){_i_("4ab:e755c765"),this.$el.removeClass("-visible-1"),_r_()}.bind(this),1e3),_r_()}}),_r_()}),B.define("search/searchbox/searchbox-deny-focus-controller",function(e,t,i){"use strict";_i_("4ab:92b4d540");var n=e("jquery"),a=e("deny-focus");function s(e){_i_("4ab:947d6856"),this.el=e,this.state=null,this._timeoutId=null,this.deny();e=this.eventHandler.bind(this);n(this.el).on("focus change blur","a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex], *[contenteditable]",e),B.eventEmitter.bind("CALENDAR:dates_changed CALENDAR:dayclick",e),_r_()}(s.prototype=s.prototype||{}).eventHandler=function(e){_i_("4ab:3e534ed6"),this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=null,"focusout"===e.type||"blur"===e.type?this._timeoutId=setTimeout(this.deny.bind(this),100):this.allow(),_r_()},s.prototype.deny=function(){if(_i_("4ab:30d89ddb"),"deny"===this.state)return _r_();this.state="deny",a.deny(this.el),_r_()},s.prototype.allow=function(){if(_i_("4ab:3068ba21"),"allow"===this.state)return _r_();this.state="allow",a.allow(this.el),_r_()},i.exports=s,_r_()}),B.define("search/searchbox/searchbox-sticky-controller-v2",function(e,t,i){_i_("4ab:15a6c8e3");var n=e("jquery"),a=e("et"),s="sb-searchbox-sticky-v2--sticky",o=n(window),r=n("body");function _(t,i,n){_i_("4ab:d846bf0f");var a=0;return _r_(function(){_i_("4ab:7c38f485");var e=arguments;if(a)return _r_();a=setTimeout(function(){_i_("4ab:f725512b"),t.apply(n||null,e),a=null,_r_()},i),_r_()})}function l(e){if(_i_("4ab:491cfe66"),this.el=e.el,this.$el=n(this.el),!this.$el.is(":visible"))return _r_();this.model=e.model,this.$outer=this.$el.closest("[data-sb-outer]"),this.$fieldset=this.$el.find(".js--sb-fieldset"),this.addElementClasses(),this.getElementsToHide(),this.setShowPosition(),this.isSticky=!1,this.expVariant=this.model.getFlag("sb_is_sticky"),this.expHash="BPHAUaQJbAYRKZZEDRHe",this.throttledSetPosition=_(this.setShowPosition,150,this),this.throttledScrollHandler=_(this.scrollHandler,50,this),o.on("resize orientationchange",this.throttledSetPosition),o.on("scroll",this.throttledScrollHandler),this.model.on("change",this.onModelChange.bind(this)),_r_()}l.prototype.addElementClasses=function(){_i_("4ab:ff407356");var e=this.model.getFlag("sb_is_sticky"),t=[];e&&t.push("sb-searchbox-sticky-v2"),2===e&&t.push("sb-searchbox-sticky-v2--blue-bg"),t.length&&this.$outer.addClass(t.join(" ")),_r_()},l.prototype.getElementsToHide=function(){_i_("4ab:195f7c8a");var e=this.$el.siblings(":visible"),t=this.$fieldset.siblings(":visible");this.$elementsToHide=n().add(e).add(t),_r_()},l.prototype.setShowPosition=function(){_i_("4ab:2351df84");var e=this.$fieldset.offset();this.showScrollPosition=Math.ceil(e.top)+-8,_r_()},l.prototype.scrollHandler=function(){if(_i_("4ab:b0bfd7df"),o.scrollTop()>this.showScrollPosition){if(a.stage(this.expHash,1),0===this.expVariant)return o.off("resize orientationchange",this.throttledSetPosition),o.off("scroll",this.throttledScrollHandler),_r_();this.stick()}else this.unstick();_r_()},l.prototype.onModelChange=function(){_i_("4ab:601ab990"),a.customGoal(this.expHash,1),_r_()},l.prototype.stick=function(){if(_i_("4ab:0107b82e"),this.isSticky)return _r_();this.$outer.addClass(s),this.$elementsToHide.hide(),r.trigger("click"),this.isSticky=!0,_r_()},l.prototype.unstick=function(){if(_i_("4ab:092ceb3f"),!this.isSticky)return _r_();this.$outer.removeClass(s),this.$elementsToHide.show(),this.isSticky=!1,_r_()},i.exports=l,_r_()}),B.define("component/search/group/children-ages-tooltip",function(e,t,i){"use strict";_i_("4ab:1180b90f");var n=e("jquery"),a=e("jstmpl"),s=e("component"),o=e("events");i.exports=s.extend({init:function(){_i_("4ab:1bcc6f96"),this.dropdown=!1,this.$form=this.$el.closest("form"),this.isPopupAlreadyShown=!1,this.agesSelector='[name="age"]',this.addEventListeners(),_r_()},addEventListeners:function(){_i_("4ab:78a92d5b"),this.$el.change(this.showTooltip.bind(this)),this.$form.delegate(this.agesSelector,"click",this.hideTooltip.bind(this)),B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip.bind(this)),void 0!==B.hotel.Events&&(o.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,this.hideTooltip.bind(this)),o.on(B.hotel.Events.RT.LIGHTBOX_OPEN,this.hideTooltip.bind(this))),_r_()},showTooltip:function(){var t;_i_("4ab:10f5947b"),0<parseInt(this.$el.val())&&!this.isPopupAlreadyShown&&(t=setTimeout(function(){_i_("4ab:34edfb53");var e=this.$form.find(this.agesSelector).eq(0);if(0===e.length)return _r_();this.dropdown=n.fly.dropdown.extend({defaults:{position:"bottom left",content:function(){return _i_("4ab:bda46a69"),_r_(a("searchbox_children_ages_tooltip").render({}))},extraClass:"searchbox_children_ages_tooltip"}}).create(e[0]),this.dropdown.show(),this.isPopupAlreadyShown=!0,clearTimeout(t),_r_()}.bind(this),0)),_r_()},hideTooltip:function(){_i_("4ab:f7ccaced"),this.dropdown&&(this.dropdown.hide(),this.dropdown.destroy()),_r_()}}),_r_()}),B.define("component/search/group/add-children-tooltip",function(e,t,i){"use strict";_i_("4ab:58105ed7");var n=e("jquery"),a=B.env.rtl?"left":"right",s="searchbox_children_tooltip",o=null,r=null===B.browserStorageHandler.getSessionValue("gs_sb_add_children_tooltip"),e=e("component");i.exports=e.extend({init:function(){_i_("4ab:b89a9bb1"),r&&this.$el.data("add-children-tooltip")&&(this.showTooltip(),B.browserStorageHandler.addSessionValue("gs_sb_add_children_tooltip",1),r=!1,B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip),n(".sb-destination__input").on("focus",this.hideTooltip)),_r_()},showTooltip:function(){_i_("4ab:e0be224a");var e=this.$el;o&&o.hide(),(o=n.fly.dropdown.extend({defaults:{position:a,content:function(){return _i_("4ab:bd350a17"),_r_(e.data("add-children-tooltip"))},extraClass:s},actions:{click:function(e){_i_("4ab:fe76b345"),n(e.target).is("select")&&this.hide(),_r_()}},_autohide:function(){},init:function(){_i_("4ab:6e9a028f"),this.bind(this.events.show,function(){_i_("4ab:7720bd99"),n("."+s).delegate(".fly-dropdown-close","click",function(e){_i_("4ab:edc671d6"),o.hide(),_r_()}),_r_()}),_r_()}}).create(e)).show(),_r_()},hideTooltip:function(){_i_("4ab:ed78e032"),o&&o.hide(),_r_()}}),_r_()}),B.define("component/search/group/occupancy-pricing-tooltip",function(e,t,i){"use strict";_i_("4ab:42203ac0");var n=e("jquery"),a=B.env.rtl?"left":"right",s="sb-searchbox__obp-tooltip",o=null,r=null===B.browserStorageHandler.getSessionValue("sr_sb_obp_tooltip"),e=e("component");i.exports=e.extend({init:function(){_i_("4ab:ad805250"),r&&this.$el.data("occupancy-pricing-tooltip")&&(this.showTooltip(),B.browserStorageHandler.addSessionValue("sr_sb_obp_tooltip",1),r=!1,B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip),n(".sb-destination__input").on("focus",this.hideTooltip)),_r_()},showTooltip:function(){_i_("4ab:fecbebd4");var e=this.$el;o&&o.hide(),(o=n.fly.dropdown.extend({defaults:{position:a,content:function(){return _i_("4ab:5038674f"),_r_(e.data("occupancy-pricing-tooltip"))},extraClass:s},actions:{click:function(e){_i_("4ab:fe76b3451"),n(e.target).is("select")&&this.hide(),_r_()}},_autohide:function(){},init:function(){_i_("4ab:6e9a028f1"),this.bind(this.events.show,function(){_i_("4ab:7720bd991"),n("."+s).delegate(".fly-dropdown-close","click",function(e){_i_("4ab:edc671d61"),o.hide(),_r_()}),_r_()}),_r_()}}).create(e)).show(),_r_()},hideTooltip:function(){_i_("4ab:ed78e0321"),o&&o.hide(),_r_()}}),_r_()}),booking.jstmpl("guest_errors",function(){_i_("4ab:b21c4bc7");var o=["\n\t","\n\t\t","/private/iq_sbox_error_flights_group_size/name","\n\n\t","\n\n\n\n\n\n\n","\n\n    ","\n        ","data-",'="','"',"\n    "," data-",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__"," ","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','id="','" ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message ',"fe_banner__genius-trial"," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ','<form action="',"/genius_activate_trial",'" class="fe_banner__genius-banner-form" method="post"> <input type="hidden" name="return_url" value="','"> <input type="hidden" name="src" value="hp_banner"> <input type="hidden" name="campaign_id" value="','"> <input type="submit" class="button fe_banner__genius-banner-button" value="','"> </form> ',"\n","\n\n\n\n","\n\n","0","red"],r=["fe_error_message","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__btn_include","fe_banner__title_text","fe_banner__start_genius_trial","fe_banner__message_text","b_secure_hostname","b_query_params_with_lang","b_original_url","fe_ge_trial_desktop_campaign_id","ge_expand_hp_trial_sidebar_cta","fe_banner__banners_count","fe_error"];return _r_(function(e){_i_("4ab:8f309a8f");var t,i,n="",a=this.fn,s=n+=o[0];return _i_("4ab:2a5ea4eb"),a.MJ(a.MB(r[36]))&&(s+=o[0],a.MN(r[0],[o[1],a.ME(o[2],a.MB,a.MN,null),o[0]].join("")),s+=o[3],e.unshift({fe_banner__close_button:o[53],fe_banner__color_scheme:o[54],fe_banner__message_text:a.MB(r[0])}),t=s,_i_("4ab:aa819918"),t+=["",o[4]].join(""),a.MD(r[29])&&(t+=o[5],a.MD(r[2])&&(t+=o[6],a.MN(r[1],[o[7],a.MB(r[2]),o[8],a.MB(r[3]),o[9]].join("")),t+=o[10]),t+=o[5],a.MD(r[4])&&(t+=o[6],a.MN(r[1],[a.MB(r[1]),o[11],a.MB(r[4]),o[8],a.MB(r[5]),o[9]].join("")),t+=o[10]),t+=o[5],a.MD(r[6])&&(t+=o[6],a.MN(r[1],[a.MB(r[1]),o[11],a.MB(r[6]),o[8],a.MB(r[7]),o[9]].join("")),t+=o[10]),t+=o[5],a.MD(r[8])&&(t+=o[6],a.MN(r[1],[a.MB(r[1]),o[11],a.MB(r[8]),o[8],a.MB(r[9]),o[9]].join("")),t+=o[10]),t+=o[5],a.MD(r[10])&&(t+=o[6],a.MN(r[1],[a.MB(r[1]),o[11],a.MB(r[10]),o[8],a.MB(r[11]),o[9]].join("")),t+=o[10]),t+=o[5],a.MD(r[12])&&(t+=o[12]),t+=o[13],i=a.MB(r[13]),a.MJ(i+""=="small")&&(t+=o[14]),(a.MJ(a.MB(r[14]))||a.MJ(a.MB(r[15]))||a.MJ(a.MB(r[16])))&&(t+=o[15]),a.MD(r[17])&&(t+=o[16]),a.MJ(a.MB(r[18]))&&(t+=[o[17],a.F.entities(a.MC(r[18])),a.F.entities(a.MC(r[19])),o[18]].join("")),a.MJ(a.MB(r[14]))&&a.MJ(a.MB(r[20]))&&(t+=[o[19],a.F.entities(a.MC(r[20])),o[18]].join("")),a.MJ(a.MC(r[21])+""=="book")&&(t+=o[20]),t+=[a.F.entities(a.MC(r[22])),o[21]].join(""),a.MD(r[23])&&(t+=[o[22],a.F.entities(a.MC(r[23])),o[23]].join("")),a.MD(r[1])&&(t+=[a.MC(r[1]),o[18]].join("")),a.MD(r[24])&&(t+=o[24]),t+=o[25],a.MD(r[14])?t+=[o[26],a.F.entities(a.MC(r[14])),o[27]].join(""):a.MD(r[15])?t+=[o[28],a.F.entities(a.MC(r[15])),o[29]].join(""):a.MD(r[16])&&(t+=o[30],a.MD(r[25])?t+=a.F.entities(a.MC(r[25])):t+=o[31],t+=[o[29],a.MC(r[16]),o[32]].join("")),a.MD(r[26])&&(t+=o[33]),a.MD(r[27])&&(t+=[o[34],a.MC(r[27]),o[35]].join("")),a.MD(r[29])&&(t+=o[36],a.MD(r[28])&&(t+=o[37]),t+=[o[29],a.MC(r[29]),o[38]].join("")),a.MD(r[26])&&(t+=[o[39],a.MC(r[26]),o[38]].join("")),a.MD(r[26])&&(t+=o[40]),a.MD(r[17])&&(t+=[o[41],a.ME(o[42],a.MB,a.MN,null),o[43]].join("")),a.MD(r[28])&&(t+=[o[44],a.MC(r[30]),o[45],a.MC(r[31]),o[46],a.MC(r[32]),o[47],a.MB(r[33]),o[48],a.MB(r[34]),o[49]].join("")),t+=o[40],a.MD(r[12])&&(t+=o[40]),t+=o[50]),t+=o[51],a.MN(r[18],void 0),t+=o[50],a.MN(r[14],void 0),t+=o[50],a.MN(r[15],void 0),t+=o[50],a.MN(r[16],void 0),t+=o[50],a.MN(r[20],void 0),t+=o[50],a.MN(r[27],void 0),t+=o[50],a.MN(r[29],void 0),t+=o[50],a.MN(r[26],void 0),t+=o[50],a.MN(r[17],void 0),t+=o[50],a.MN(r[23],void 0),t+=o[50],a.MN(r[22],void 0),t+=o[50],a.MN(r[13],void 0),t+=o[52],a.MN(r[2],void 0),t+=o[50],a.MN(r[3],void 0),t+=o[50],a.MN(r[4],void 0),t+=o[50],a.MN(r[5],void 0),t+=o[50],a.MN(r[6],void 0),t+=o[50],a.MN(r[7],void 0),t+=o[50],a.MN(r[8],void 0),t+=o[50],a.MN(r[9],void 0),t+=o[50],a.MN(r[10],void 0),t+=o[50],a.MN(r[11],void 0),t+=o[52],a.MN(r[19],void 0),t+=o[52],a.MN(r[1],void 0),t+=o[50],a.MN("fe_banner__banners_count",a.MI(a.MB(r[35]))+a.MI(1)),t+=o[52],(a.MJ(a.MC(r[21])+""=="book")&&a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))||a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1)))&&(t+=o[50]),t+=[o[52],"",o[50]].join(""),s=_r_(t),e.shift(),s+=o[50]),s+=o[50],n=_r_(s),n+=o[50],_r_(n)})}()),B.define("component/xp-index/guest-errors",function(e,t,i){"use strict";_i_("4ab:5ca80bc3");var n=e("component"),a=e("jstmpl"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=n.extend({init:function(){_i_("4ab:0621c5a7"),this.options=s(this.el,{modelId:{name:"sb-id",type:String,required:!0}}),this.model=o.getInstance(this.options.modelId),this.model.use("group"),this.model.on("validation",this.modelValidation.bind(this)),this.template=a("guest_errors"),_r_()},modelValidation:function(e){if(_i_("4ab:8caa6e4f"),"group"!==e.group||"children-ages"===e.validationError)return _r_();var t=s(this.el,{viewId:{name:"view-id",type:String,required:!0}});e.valid?this.$el.html(""):this.$el.html(this.template.render({fe_error:e.validationError,fe_new:!0,fe_view:t.viewId})),_r_()}}),_r_()}),B.define("component/search/group/group-with-modal",function(e,t,i){_i_("4ab:de052b61");var n=e("component"),a=e("search/searchbox/model"),s=e("read-data-options"),o=e("jquery"),r=e("et");i.exports=n.extend({init:function(){_i_("4ab:fece31bf"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},groupShowCloseButton:{name:"sb-group-show-close-button",type:Boolean}}),this.$modal=this.$el.find("[data-group-modal]"),this.$toggle=this.$el.find("[data-group-toggle]"),this.model=a.getInstance(this.options.modelId),this.model.use("group"),this.$roomCount=this.$el.find("[data-room-count]"),this.$guestCount=this.$el.find("[data-guest-count]"),this.$adultsCount=this.$el.find("[data-adults-count]"),this.$childrenCount=this.$el.find("[data-children-count]"),this.addModelListeners(),this.addEventListeners(),this.$el.find("#xp__guests__input").remove(),_r_()},addModelListeners:function(){_i_("4ab:abe7f805"),this.model.on("change",this.modelChange.bind(this)),this.model.on("init",this.modelChange.bind(this)),this.model.on("validation",this.modelValidation.bind(this)),_r_()},addEventListeners:function(){_i_("4ab:801d6ad1"),this.$el.on("focus",function(e){_i_("4ab:66928a09"),this.toggleModal(!0),_r_()}.bind(this)),this.$toggle.on("mousedown",function(e){_i_("4ab:4dec3563"),this.toggleModal(!this.modalOpen),_r_()}.bind(this)),o(document).on("mouseup",function(e){_i_("4ab:034f0b0e"),o(e.target).closest(this.$el).length||this.toggleModal(),_r_()}.bind(this)),this.$el.find("input").on("focus",function(e){if(_i_("4ab:c52febb3"),this.modalOpen)return _r_();this.toggleModal(!0),_r_()}.bind(this)),this.options.groupShowCloseButton&&this.$el.find("button#doneBtn").on("click",function(e){if(_i_("4ab:b84d1aa2"),!this.modalOpen)return _r_();this.toggleModal(!1),_r_()}.bind(this)),_r_()},modelValidation:function(e){_i_("4ab:8410cdba"),e&&!e.valid&&"children-ages"===e.validationError&&this.toggleModal(!this.modalOpen),_r_()},toggleModal:function(e){_i_("4ab:f3267542"),this.$modal.css("display",e?"block":"none"),this.$toggle[e?"attr":"removeAttr"]("data-group-toggle-shown",1),this.$toggle.attr("aria-expanded",!!e),this.modalOpen=e,this.$modal[0]&&"xp__guests__inputs-container"===this.$modal[0].id&&e&&(r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",1),(e=this.model.group.get())&&e.children_ages&&e.children_ages.length&&(r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",2),r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",3),1===e.children_ages.length?r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",4):2===e.children_ages.length?r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",5):r.stage("INLGPMPSXPBccFRSTELFKWIFdCYO",6))),_r_()},modelChange:function(e){_i_("4ab:652a2f0c"),"group"==e.group&&this.render(),_r_()},render:function(e){_i_("4ab:04a42523");var t=+(e=this.model.group.get()).adults_count,i=e.children_ages.length,n=t+i,e=e.rooms_count;this.$roomCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_rooms",e,{num_rooms:e})),this.$adultsCount.html(B.jstmpl.translations("sxp_index_sbox_horizontal_adults",t,{num_adults:t})),this.$guestCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_guests",n,{num_guests:n})),this.$childrenCount.html(B.jstmpl.translations("sxp_lp_sbox_num_children",i,{num_children:i})),_r_()}}),_r_()}),B.define("component/search/searchbox/searchbox-xp",function(e,t,i){"use strict";_i_("4ab:56027bca");var n=e("component/search/searchbox/searchbox"),s=e("jquery");i.exports=n.extend({init:function(){_i_("4ab:cfcd6972"),n.prototype.init.apply(this,arguments),this.model.use("dates"),this.model.on("change-mode",this.onChangeMode.bind(this)),this.addDestinationLogic(),this.addCalendarsLogic(),_r_()},addDestinationLogic:function(){_i_("4ab:b6a1c971");var e=this.$el.find("[data-destination-input]");e.find("#ss").on("focus",function(){_i_("4ab:9c02e952"),e.find("#destination__error").removeClass("-visible"),e.find(".sb-searchbox__error").hide(),_r_()}.bind(this)),_r_()},addCalendarsLogic:function(){_i_("4ab:78283cfa");var i=s("body"),n=this.$el.find(".xp__dates"),a=this.$el.find("[data-dates-errors]");B.env.b_hijri_calendar_available&&i.addClass("c2-wrapper-s-has-hijri-calendar"),B.eventEmitter.on("CALENDAR:opened",function(e,t){_i_("4ab:8c3bee35"),n.attr("data-calendar-shown",1),a.html(""),i.addClass("calendar-open"),_r_()}),B.eventEmitter.on("CALENDAR:closed",function(e,t){_i_("4ab:eab814c1"),n.removeAttr("data-calendar-shown"),i.removeClass("calendar-open"),_r_()}),_r_()},onChangeMode:function(e){_i_("4ab:83bb50be"),"accommodation"==e&&(this.model.setFormAction(B.env.fe_sb_accommodation_search_url),this.model.destination&&this.model.destination.configure({validate:!1}),this.model.emit("change",{})),_r_()}}),_r_()}),B.define("component/search/dates/prompt",function(e,t,i){"use strict";_i_("4ab:94d72b52");var n="sb-dates-prompt-dismissed",a="mdot"===B.env.b_site_type,s=e("component"),o=e("click-out"),r=!a&&"searchresults"===B.env.b_action&&e("searchresults/events");i.exports=s.extend({init:function(){if(_i_("4ab:66b4e1f1"),this.boundHide=this.hide.bind(this),this.boundCleanUp=this.cleanUp.bind(this),this.$el.find(".sb-dates-prompt__close").on("click",this.dismiss.bind(this)),this.isDismissed())return _r_();r&&this.isLandingScrollStarted()?r.once(r.UI_LANDING_SCROLL_COMPLETED,this.show.bind(this)):this.show(),_r_()},show:function(){if(_i_("4ab:eaede618"),this.hiding)return _r_();this.$el.removeClass("g-hidden").addClass("fadein"),this.monitorId=o.addMonitor(this.el,this.boundHide),_r_()},hide:function(){_i_("4ab:22797725"),this.hiding=!0,this.$el.removeClass("fadein").addClass("fadeout"),window.setTimeout(this.boundCleanUp,200),_r_()},dismiss:function(){_i_("4ab:0745977a"),_i_("4ab:45a788dc"),a?B.storage({key:n,value:!0,location:"sessionstorage"}):B.browserStorageHandler.addSessionValue(n,!0),_r_(),this.hide(),_r_()},cleanUp:function(){_i_("4ab:3ecc2689"),this.monitorId&&o.removeMonitor(this.monitorId),this.$el.addClass("g-hidden").removeClass("fadeout"),this.hiding=!1,_r_()},isDismissed:function(){_i_("4ab:98bc85c0");var e=a?B.storage({key:n,location:"sessionstorage"}):"true"===B.browserStorageHandler.getSessionValue(n);return _r_(e)},isLandingScrollStarted:function(){return _i_("4ab:f6bb9fa1"),_r_(B.sr&&B.sr.landingScrollStarted||B.env.fe_landing_scroll_started)}}),_r_()}),B.define("component/search/dates/date-field-select",function(e,t,i){"use strict";_i_("4ab:480e8c5c");var n=e("component"),a=e("read-data-options"),s=e("search/searchbox/model"),f=e("formatting/date"),o=e("ga-tracker"),p="checkin",r=".js-date-field__select",_="sb-date-field__select_focused";i.exports=n.extend({init:function(){_i_("4ab:1242e992"),this.options=a(this.el,{forceInitRender:{name:"force-init-render",type:Boolean,defaultValue:!1},modelId:{name:"sb-id",type:String,required:!0},modelMode:{name:"mode",type:String,defaultValue:"single"},validators:{name:"validators",type:String,defaultValue:""}});var e=this.options.validators.split(",");this.model=s.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("change",this.handleModelChange.bind(this)),this.model.dates.configure({noValidation:!0,allowMaxLos:!0,notEmpty:0<=e.indexOf("not-empty")}),this.$display=this.$el.find("[data-display]"),this.$iconDay=this.$el.find("[data-icon-day]"),this.$controls=this.$el.find("[data-controls]"),this.$field=this.$el.find("[data-field]"),this.$part=this.$el.find(".js-date-field__part"),this.$monthYear=this.$el.find('.js-date-field__part[data-type="month-year"]'),this.$monthYearSelect=this.$monthYear.find(r),this.$date=this.$el.find('.js-date-field__part[data-type="date"]'),this.$dateSelect=this.$date.find(r),this.$select=this.$el.find(r),this.$inputYear=this.$el.find(".js-date-field__year"),this.$inputMonth=this.$el.find(".js-date-field__month"),this.$part.on("focus",r,this.handleSelectFocus.bind(this)),this.$part.on("blur",r,this.handleSelectBlur.bind(this)),this.$monthYearSelect.on("change",this.handleMonthYearChange.bind(this)),this.$dateSelect.on("change",this.handleDateChange.bind(this)),this.$select.one("focus",this.trackSelectFocus.bind(this)),this.initModel.call(this),_r_()},initModel:function(){_i_("4ab:8880efbb");var e=this.$inputYear.val(),t=this.$inputMonth.val(),i=this.$dateSelect.attr("data-selected");this.model.dates.initDate(this.options.modelMode,e&&t&&i&&{year:+e,month:+t-1,day:+i}),this.renderFields.call(this),_r_()},toggleMode:function(e){_i_("4ab:6724bf1f"),this.$field.toggleClass("-editing",e),this.$field.toggleClass("-editing-select",e),_r_()},trackSelectFocus:function(){_i_("4ab:7630c5c41"),o.trackEvent(o.SearchBoxTracker,"Keyboard Focus",this.options.modelMode+" field"),_r_()},handleModelChange:function(){_i_("4ab:3aeed71d"),this.renderFields.call(this),_r_()},handleSelectFocus:function(e){_i_("4ab:b8c5b87e"),clearTimeout(this.inputBlurTimer),$(e.delegateTarget).addClass(_),this.toggleMode(!0),setTimeout(function(){_i_("4ab:98e6ffec1"),this.model.dates.startEditing(),_r_()}.bind(this)),_r_()},handleSelectBlur:function(e){_i_("4ab:e615df80"),$(e.delegateTarget).removeClass(_),this.toggleMode(!1),this.inputBlurTimer=setTimeout(function(){_i_("4ab:061f7dd9"),this.applyChange(),_r_()}.bind(this)),_r_()},handleMonthYearChange:function(e){_i_("4ab:49cdb6e1");var t=this.options.modelMode,e=e.target.value.split("-");this.model.dates.setEditingFragment(t,"month",+e[0]),this.model.dates.setEditingFragment(t,"year",+e[1]),this.model.dates.setEditingFragment(t,"day",null),_r_()},handleDateChange:function(e){_i_("4ab:dfa82ff4");var t=e.target,e=this.options.modelMode;this.renderDateValue.call(this),this.model.dates.setEditingFragment(e,"day",+t.value),this.applyChange.call(this),_r_()},applyChange:function(){if(_i_("4ab:a241b52f"),!this.model.dates.get()["editing_"+this.options.modelMode])return _r_();this.model.dates.applyEditing(this.options.modelMode),_r_()},getOptionHtml:function(e,t,i){_i_("4ab:2825281e");var n=[];if(i)for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];if(!s)break;a=a,"boolean"!=typeof s&&(a+="="+s),n.push(a)}return _r_('<option value="'+e+'" '+n.join(" ")+">"+t+"</option>")},renderMonthYearField:function(){_i_("4ab:847c9ed5");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],n=t["editing_"+e]||i,a=this.$monthYearSelect,s=e===p?t.firstValidDay:t.firstValidCheckoutDay,o=t.lastValidDay,i=s.month,e=o.month,t=s.year,s=o.year,o=this.getOptionHtml("","",{disabled:!0,selected:!n});o+=n?this.getMonthsHtml(i,t,e,s,n.month,n.year):this.getMonthsHtml(i,t,e,s),a.html(o),this.renderMonthYearValue.call(this),_r_()},getMonthsHtml:function(e,t,i,n,a,s){_i_("4ab:7fa756e2");for(var o=e,r=t,_="";r<n||r===n&&o<=i;){var l=o+1,d=f.format({year:r,month:l,day:0},"month_with_year"),h=[o,r].join("-");_+=this.getOptionHtml(h,d,{selected:o===a&&r===s}),l<12?o+=1:(o=0,r+=1)}return _r_(_)},renderDateField:function(){_i_("4ab:a94cba79");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],n=t["editing_"+e]||i,a=n&&n.month,s=n&&n.year,i="number"!=typeof a,o=!i&&new Date(s,a,1),r=e===p?t.firstValidDay:t.firstValidCheckoutDay,_=t.lastValidDay,l=e===p?_.day-1:_.day,d=this.$dateSelect;if(d.html(this.getOptionHtml("","",{disabled:!0,selected:!n||!n.day})),d.prop("disabled",i),this.$date.toggleClass("sb-date-field__select_disabled",i),o)for(;o.getMonth()===a;){var h=o.getDate(),c=a!==r.month||s!==r.year||h>=r.day,u=a!==_.month||s!==_.year||h<=l;c&&u&&(u=f.format({year:s,month:a,day:h},"{day_of_month}, {weekday}"),d.append(this.getOptionHtml(h,u,{selected:n&&n.day===h}))),o.setDate(h+1)}this.renderDateValue.call(this),_r_()},renderValue:function(e,t){_i_("4ab:1b9b0a94");var i=t.find(".js-date-field__value"),n=e.options[e.selectedIndex],t=i.data("placeholder")||"",e=n&&!n.disabled;i.text(e?n.innerHTML:t),i.toggleClass("sb-date-field__value_empty",!e),_r_()},renderMonthYearValue:function(){_i_("4ab:f4ece69f"),this.renderValue(this.$monthYearSelect[0],this.$monthYear),_r_()},renderDateValue:function(){_i_("4ab:b15ca074"),this.renderValue(this.$dateSelect[0],this.$date),_r_()},renderFields:function(){_i_("4ab:63e7d6d5");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],t=t["editing_"+e],e=t||i,t=t&&!t.complete;this.renderMonthYearField.call(this),this.renderDateField.call(this),e&&"number"==typeof e.month&&this.$inputMonth.val(e.month+1),e&&"number"==typeof e.year&&this.$inputYear.val(e.year),e&&"number"==typeof e.day&&this.$dateSelect.val(e.day),!t&&i&&(e=this.$display.data("date-format")||"date_with_weekday",this.$field.removeClass("-empty"),this.$display.html(f.format(i,e)),this.$iconDay.html(f.format(i,"{day_of_month}"))),t||i||(this.$field.addClass("-empty"),this.$display.html(this.$display.attr("data-placeholder")),this.$iconDay.html(this.$iconDay.attr("data-placeholder"))),_r_()}}),_r_()}),B.define("search/calendar/utils",function(e,t,i){_i_("4ab:96bc2647"),i.exports={getDaysDifference:function(e,t){_i_("4ab:4bfb42bf");e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return _r_(Math.floor((t-e)/864e5))}},_r_()}),B.define("component/search/dates/single-calendar",function(e,t,i){"use strict";_i_("4ab:88d8c7bc");var n=e("component"),a=e("formatting/date"),s=e("search/searchbox/model"),o=e("search/modules/search-date").SearchDate,r=e("search/searchbox/ga-events-tracker"),_=e("search/calendar/utils"),l=e("jstmpl"),d=e("jquery");function h(e){return _i_("4ab:a4f6ff92"),_r_(("0"+e).slice(-2))}i.exports=n.extend({init:function(){_i_("4ab:696acf8a"),this.$calendar=this.$el.find(".bui-calendar"),this.$form=this.$el.parents("form"),this.calendarMounted=!1,this.calendarOpen=!1,this.checkinPlaceholder=this.$form.find('[data-mode="checkin"] [data-display]').data("placeholder")||l.translations("checkin_date"),this.$checkoutPlaceholder=this.$form.find('[data-mode="checkout"] [data-display]'),this.checkoutPlaceholder=this.$checkoutPlaceholder.data("placeholder")||l.translations("checkout_date"),this.dateFormat=this.$form.find(".sb-date-field__display").data("date-format")||"date_with_weekday",this.model=s.getInstance(this.$el.data("sb-id")),this.model.use("dates"),this.renderLoS=!!this.$el.data("render-los"),this.autoOpenOnLoad=!!this.$el.data("auto-open-on-load"),this.separateTriggers=!!this.$el.data("separate-triggers"),this.separateTriggers&&(this.closeOnDateSelect=!0,this.$el.attr("data-choose-mode","start")),this.initCalendar(),this.bindEvents(),this.autoOpenOnLoad&&this.showCalendar(),_r_()},bindEvents:function(){_i_("4ab:7d61304b"),this.$form.find(".xp__date-time").on("click",function(e){if(_i_("4ab:7a29df33"),d(e.target).is("select"))return _r_();var t;this.mountCalendar(),this.separateTriggers?(t=d(e.delegateTarget).is(".--checkin-field")?"start":"end",e=this.$el.attr("data-choose-mode"),this.calendarInstance.setState({chooseMode:t}),this.$el.attr("data-choose-mode",t),this.calendarOpen&&e===t?this.hideCalendar():this.showCalendar()):this.calendarOpen?this.hideCalendar():this.showCalendar(),_r_()}.bind(this)),d("body").on("click",function(e){_i_("4ab:014505f8");var t=d(e.target),e=t.parents(".xp__dates");t.hasClass("xp__dates")||e.length||this.hideCalendar(),_r_()}.bind(this)),this.$form.find(".xp__date-time").one("mouseenter touchstart",this.mountCalendar.bind(this)),this.separateTriggers&&this.model.on("init",function(){_i_("4ab:29a7aa8c"),this.onModelChange({checkin:!0,checkout:!0}),_r_()}.bind(this)),this.model.on("change",this.onModelChange.bind(this)),this.onModelChange({checkin:!0,checkout:!0}),_r_()},getMinMaxDates:function(){_i_("4ab:cc26c49d");var e=new Date,t=new Date;return B.env.b_search_max_months?(t.setMonth(t.getMonth()+B.env.b_search_max_months),t.setDate(0)):t=new Date(t.getFullYear()+1,t.getMonth()+1,0),_r_({minDate:e,minDateISO:e.getFullYear()+"-"+h(e.getMonth()+1)+"-"+h(e.getDate()),maxDate:t,maxDateISO:t.getFullYear()+"-"+h(t.getMonth()+1)+"-"+h(t.getDate())})},initCalendar:function(){_i_("4ab:c851214f");var e={monthsToShow:2,renderOnHover:1,allowSameDateSelection:0,dayNames:{monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},monthNames:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},renderSelected:function(e){if(_i_("4ab:e5d931b3"),!this.renderLoS)return _r_("");var t=e.startDate,i=e.endDate;if(t&&i&&t<i){var n=this.getFormattedDate(t),a=this.getFormattedDate(i),e=_.getDaysDifference(t,i),i=B.jstmpl.translations("ss_sxp_index_sbox_calendar_num_night_stay",null,{num_nights:e});return(7<=e&&!(e%7)&&B.env.fe_sb_nights_to_weeks&&(i=B.jstmpl.translations("bh_ss_sxp_index_sbox_calendar_num_week_stay",null,{num_weeks:e/7})),B.env.rtl)?_r_("("+i+") "+n+" - "+a):_r_(n+" - "+a+" "+i)}return t?(n=this.getFormattedDate(t),_r_(n+" - "+this.checkoutPlaceholder)):_r_(this.checkinPlaceholder+" - "+this.checkoutPlaceholder)}.bind(this),onDateChange:function(e){_i_("4ab:9edce231"),this.closeOnDateSelect||(this.settingDatesFromUserInteraction=!0);var t=e.startDate,i=e.endDate;t&&(t=o.create({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}),this.model.dates.setDate("checkin",t),i||this.separateTriggers||this.$checkoutPlaceholder.text(this.checkoutPlaceholder)),i&&(i=o.create({year:i.getFullYear(),month:i.getMonth(),day:i.getDate()}),this.model.dates.setDate("checkout",i)),t&&i&&this.hideCalendar(),e.startDate===e.clickedDate&&r.trackEvent(B.Search.TrackingEvents.CHECKIN_DATEPICKER),e.endDate===e.clickedDate&&r.trackEvent(B.Search.TrackingEvents.CHECKOUT_DATEPICKER),this.closeOnDateSelect&&this.hideCalendar(),this.settingDatesFromUserInteraction=!1,_r_()}.bind(this)};if(B.env.b_simple_weekdays&&7===B.env.b_simple_weekdays.length){var t=0;for(i in e.dayNames)e.dayNames[i]=B.env.b_simple_weekdays[t++]}if(B.env.b_short_months&&12===B.env.b_short_months.length)for(var i in t=0,e.monthNames)e.monthNames[i]=B.env.b_short_months[t++];B.env.sunday_first&&d.extend(e,{firstWeekDay:7}),this.minMaxDates=this.getMinMaxDates(),e.minDate=this.minMaxDates.minDateISO,e.maxDate=this.minMaxDates.maxDateISO,this.calendarInstance=window.BUI.createInstance("Calendar",this.$calendar[0],e),_r_()},mountCalendar:function(){_i_("4ab:8e0cafba"),this.calendarMounted||(this.calendarInstance.mount(),this.calendarMounted=!0),_r_()},onModelChange:function(e){if(_i_("4ab:d7c28836"),this.settingDatesFromUserInteraction)return _r_();var t,i;(e.checkin||e.checkout)&&(t=this.model.dates.get().checkin,i=this.model.dates.get().checkout,e={startDate:null,endDate:null},t&&(e.startDate=new Date(t.year,t.month,t.day)),i&&(e.endDate=new Date(i.year,i.month,i.day)),e.startDate&&(e.baseMonthDate=e.startDate),e.chooseMode=e.startDate&&!e.endDate?"end":"start",this.calendarInstance.setState(e),this.calendarInstance._updateDateClassNames&&(this.calendarInstance._updateDateClassNames(),this.calendarInstance._updateDisplayRender())),_r_()},showCalendar:function(){_i_("4ab:0eebb711"),this.$form.find("[data-dates-errors]").html(""),this.mountCalendar(),this.$calendar.show(),this.calendarOpen=!0,_r_()},showStartCalendar:function(){_i_("4ab:cc8cd277"),this.$el.attr("data-choose-mode","start"),this.showCalendar(),_r_()},showEndCalendar:function(){_i_("4ab:bc81115c"),this.$el.attr("data-choose-mode","end"),this.showCalendar(),_r_()},hideCalendar:function(){_i_("4ab:5eb7c9ad"),this.$calendar.hide(),this.calendarOpen=!1,_r_()},getFormattedDate:function(e){return _i_("4ab:a259ba5a"),_r_(a.format({day:e.getDate(),month:e.getMonth(),year:e.getFullYear()},this.dateFormat))}}),_r_()}),B.when({events:"ready",action:"index",condition:B.env.b_favourite_properties}).run(function(){_i_("4ab:ce0d1077");var i=$("#ss"),t=$(".favourite-properties"),n=$(".favourite-properties").children(),e=i.val(),a=B.require("search/searchbox/model").getInstance("main"),s=0,o=!B.et.track("bLTLGPMPSXPBDJRRIAfYbOMNMTfTLKGBfC");function r(){_i_("4ab:c0f065fc"),setTimeout(function(){_i_("4ab:0de9ca2d"),(t.is(":focus")||i.is(":focus"))&&h()||!t.hasClass("-visible")||(t.removeClass("-visible"),_()),_r_()},0),_r_()}function _(){_i_("4ab:f4ded0e1"),$(n[s]).removeClass("favourite-hover"),s=0,_r_()}function l(e){_i_("4ab:196e6273"),e=e,_i_("4ab:2016515b"),i.val(e),i.focus(),a.destination.set({ss:e}),$(".xp__input-group").find('input[name="dest_id"]').remove(),$(".xp__input-group").find('input[name="dest_type"]').remove(),$(".xp__input-group").find('input[name="dest_type"]').remove(),_r_(),r(),function(){_i_("4ab:f64b6a4c");var e,t=$(".sb-date-field__field");!t.hasClass("-empty")||(e=t.children())[0]&&"button"===e[0].type&&setTimeout(function(){_i_("4ab:ed153dda"),$(e[0]).trigger("click"),_r_()},0),_r_()}(),_r_()}function d(e){var t;_i_("4ab:76855b46"),e.preventDefault(),40===e.keyCode?(_i_("4ab:d5a1c268"),s===n.length-1?(_(),i.focus()):(0!==s&&$(n[s]).removeClass("favourite-hover"),s++,$(n[s]).addClass("favourite-hover")),_r_()):38===e.keyCode?(_i_("4ab:5bf0afc8"),0===s?s=n.length-1:($(n[s]).removeClass("favourite-hover"),s--),0===s?i.focus():$(n[s]).addClass("favourite-hover"),_r_()):"Enter"===e.key||13===e.keyCode?l($(n[s]).text()):(t=String.fromCharCode(e.keyCode),/[a-zA-Z0-9-_ ]/.test(t)&&(i.val(e.key),i.focus(),r())),_r_()}function h(){return _i_("4ab:9f3a423f"),_r_(i.val()==e||""==i.val())}i.on("change keyup paste blur",r),i.focusin(function(){return _i_("4ab:fb20246e"),B.et.stage("bLTLGPMPSXPBDJRRIAfYbOMNMTfTLKGBfC",1),o?(B.et.stage("bLEGZEOTOCfdHdFXOVVLVKGDWe",1),B.env.fe_ss_d_popular_nearby_replace_favorite?_r_():(h()&&!t.hasClass("-visible")&&t.addClass("-visible"),void _r_())):_r_()}),i.keydown(function(e){_i_("4ab:476e84f7"),!h()||40!==e.keyCode&&38!==e.keyCode||(t.focus(),d(e)),_r_()}),t.blur(r),t.keydown(d),t.hover(_),t.click(function(e){_i_("4ab:50eb64b3");e=e.target;if(e.classList.contains("favourite-heading")||e.classList.contains("search-suggestion__title"))return _r_();"LI"===(e="LI"!==e.tagName?e.parentElement:e).tagName&&l($(e).text()),_r_()}),_r_()}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.searchbox.run=!0);

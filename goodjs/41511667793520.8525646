YUI.add("handlebars-helper-intl",function(t,e){!function(t,e){"use strict";var n=t.Intl||t.IntlPolyfill;"function"==typeof define&&define.amd&&define(["intl-messageformat"],function(t){return e(n,t)}),"object"==typeof exports&&(module.exports=e(n,require("intl-messageformat"))),t.HandlebarsHelperIntl=e(n,t.IntlMessageFormat)}("undefined"!=typeof global?global:this,function(l,c){"use strict";function s(t,e,n){var r,o,i,a,u,c,s;if(JSON){if(n){for(i in r=[],n)n.hasOwnProperty(i)&&r.push(i);for(r.sort(),a=0,u=r.length;a<u;a+=1)(o={})[i=r[a]]=n[i],r[a]=o}c=JSON.stringify([e,r])}if(s=f[t][c])return s;switch(t){case"number":s=new l.NumberFormat(e,n);break;case"date":s=new l.DateTimeFormat(e,n)}return c&&(f[t][c]=s),s}function h(t){for(var e,n,r=Array.prototype.slice.call(arguments,1),o=0,i=r.length;o<i;o+=1)if(e=r[o])for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}if(!l)throw new ReferenceError("Intl must be available.");if(!c)throw new ReferenceError("IntlMessageFormat must be available.");var t={registerWith:function(t){function i(t,e){var n,r,o,i=e.data&&e.data.intl,a=t.split(".");try{for(o=0,r=a.length;o<r;o++)n=i=i[a[o]]}finally{if(void 0===n)throw new ReferenceError("Could not find Intl object: "+t)}return n}function r(t,e){e||(e=t,t=null);var n=e.hash;if(!t&&"string"!=typeof t&&!n.intlName)throw new ReferenceError("{{intlMessage}} must be provided a message or intlName");var r=e.data.intl||{},o=r.locales,r=r.formats;return"function"==typeof(t=!t&&n.intlName?i(n.intlName,e):t)?t(n):(t="function"!=typeof t.format?new c(t,o,r):t).format(n)}var e,o=t.SafeString,a=t.createFrame,u=t.Utils.escapeExpression,n={intl:function(t){if(!t.fn)throw new ReferenceError("{{#intl}} must be invoked as a block helper");var e=a(t.data),n=h({},e.intl,t.hash);return e.intl=n,t.fn(this,{data:e})},intlDate:function(t,e,n){if(!(t=new Date(t))||!t.getTime())throw new TypeError("A date must be provided.");n||(n=e,e=null);var r=n.hash,o=n.data;return s("date",o.intl&&o.intl.locales,e=e?h({},e="string"==typeof e?i("formats.date."+format,n):e,r):r).format(t)},intlNumber:function(t,e,n){if("number"!=typeof t)throw new TypeError("A number must be provided.");n||(n=e,e=null);var r=n.hash,o=n.data;return s("number",o.intl&&o.intl.locales,e=e?h({},e="string"==typeof e?i("formats.number."+format,n):e,r):r).format(t)},intlGet:i,intlMessage:r,intlHTMLMessage:function(){var t,e,n=[].slice.call(arguments).pop().hash;for(t in n)n.hasOwnProperty(t)&&"string"==typeof(e=n[t])&&(n[t]=u(e));return new o(String(r.apply(this,arguments)))}};for(e in n)n.hasOwnProperty(e)&&t.registerHelper(e,n[e])}},f={number:{},date:{}};return t})},"@VERSION@",{es:!0,requires:["intl-messageformat"]}),YUI.add("god-message",function(u){"use strict";u.godMessage=function(t){var e,n,r,o,i,a="GOD_MESSAGE_MISSING";if(void 0===t.intlName)return a;if(n=t.intlName.split("."),!(u.config.flickr&&u.config.flickr.god&&u.config.flickr.god.lang&&u.config.flickr.god.lang))return a;e=u.clone(u.config.flickr.god.lang);try{for(i=0,o=n.length;i<o;i++)r=e=e[n[i]]}catch(t){return a}return void 0===r?a:r}},"@VERSION@",{requires:["oop"]}),YUI.add("cldr-numbers",function(t,e){t[e]={data:{"en-US":{"1000-count-one":"0K","1000-count-other":"0K","10000-count-one":"00K","10000-count-other":"00K","100000-count-one":"000K","100000-count-other":"000K","1000000-count-one":"0M","1000000-count-other":"0M","10000000-count-one":"00M","10000000-count-other":"00M","100000000-count-one":"000M","100000000-count-other":"000M","1000000000-count-one":"0B","1000000000-count-other":"0B","10000000000-count-one":"00B","10000000000-count-other":"00B","100000000000-count-one":"000B","100000000000-count-other":"000B","1000000000000-count-one":"0T","1000000000000-count-other":"0T","10000000000000-count-one":"00T","10000000000000-count-other":"00T","100000000000000-count-one":"000T","100000000000000-count-other":"000T"},"zh-HK":{"1000-count-other":"0K","10000-count-other":"00K","100000-count-other":"000K","1000000-count-other":"0M","10000000-count-other":"00M","100000000-count-other":"000M","1000000000-count-other":"0B","10000000000-count-other":"00B","100000000000-count-other":"000B","1000000000000-count-other":"0T","10000000000000-count-other":"00T","100000000000000-count-other":"000T"},"de-DE":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"0","10000-count-other":"0","100000-count-one":"0","100000-count-other":"0","1000000-count-one":"0Â Mio'.'","1000000-count-other":"0Â Mio'.'","10000000-count-one":"00Â Mio'.'","10000000-count-other":"00Â Mio'.'","100000000-count-one":"000Â Mio'.'","100000000-count-other":"000Â Mio'.'","1000000000-count-one":"0Â Mrd'.'","1000000000-count-other":"0Â Mrd'.'","10000000000-count-one":"00Â Mrd'.'","10000000000-count-other":"00Â Mrd'.'","100000000000-count-one":"000Â Mrd'.'","100000000000-count-other":"000Â Mrd'.'","1000000000000-count-one":"0Â Bio'.'","1000000000000-count-other":"0Â Bio'.'","10000000000000-count-one":"00Â Bio'.'","10000000000000-count-other":"00Â Bio'.'","100000000000000-count-one":"000Â Bio'.'","100000000000000-count-other":"000Â Bio'.'"},"es-US":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"00k","10000-count-other":"00k","100000-count-one":"000k","100000-count-other":"000k","1000000-count-one":"0Â M","1000000-count-other":"0Â M","10000000-count-one":"00Â M","10000000-count-other":"00Â M","100000000-count-one":"000Â M","100000000-count-other":"000Â M","1000000000-count-one":"0kÂ M","1000000000-count-other":"0kÂ M","10000000000-count-one":"00kÂ M","10000000000-count-other":"00kÂ M","100000000000-count-one":"000kÂ M","100000000000-count-other":"000kÂ M","1000000000000-count-one":"0Â B","1000000000000-count-other":"0Â B","10000000000000-count-one":"00Â B","10000000000000-count-other":"00Â B","100000000000000-count-one":"000Â B","100000000000000-count-other":"000Â B"},"fr-FR":{"1000-count-one":"0Â k","1000-count-other":"0Â k","10000-count-one":"00Â k","10000-count-other":"00Â k","100000-count-one":"000Â k","100000-count-other":"000Â k","1000000-count-one":"0Â M","1000000-count-other":"0Â M","10000000-count-one":"00Â M","10000000-count-other":"00Â M","100000000-count-one":"000Â M","100000000-count-other":"000Â M","1000000000-count-one":"0Â Md","1000000000-count-other":"0Â Md","10000000000-count-one":"00Â Md","10000000000-count-other":"00Â Md","100000000000-count-one":"000Â Md","100000000000-count-other":"000Â Md","1000000000000-count-one":"0Â Bn","1000000000000-count-other":"0Â Bn","10000000000000-count-one":"00Â Bn","10000000000000-count-other":"00Â Bn","100000000000000-count-one":"000Â Bn","100000000000000-count-other":"000Â Bn"},"ko-KR":{"1000-count-other":"0ì²œ","10000-count-other":"0ë§Œ","100000-count-other":"00ë§Œ","1000000-count-other":"000ë§Œ","10000000-count-other":"0000ë§Œ","100000000-count-other":"0ì–µ","1000000000-count-other":"00ì–µ","10000000000-count-other":"000ì–µ","100000000000-count-other":"0000ì–µ","1000000000000-count-other":"0ì¡°","10000000000000-count-other":"00ì¡°","100000000000000-count-other":"000ì¡°"},"it-IT":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"0","10000-count-other":"0","100000-count-one":"0","100000-count-other":"0","1000000-count-one":"0Â Mln","1000000-count-other":"0Â Mln","10000000-count-one":"00Â Mln","10000000-count-other":"00Â Mln","100000000-count-one":"000Â Mln","100000000-count-other":"000Â Mln","1000000000-count-one":"0Â Mld","1000000000-count-other":"0Â Mld","10000000000-count-one":"00Â Mld","10000000000-count-other":"00Â Mld","100000000000-count-one":"000Â Mld","100000000000-count-other":"000Â Mld","1000000000000-count-one":"0Â Bln","1000000000000-count-other":"0Â Bln","10000000000000-count-one":"00Â Bln","10000000000000-count-other":"00Â Bln","100000000000000-count-one":"000Â Bln","100000000000000-count-other":"000Â Bln"},"pt-BR":{"1000-count-one":"0Â mil","1000-count-other":"0Â mil","10000-count-one":"00Â mil","10000-count-other":"00Â mil","100000-count-one":"000Â mil","100000-count-other":"000Â mil","1000000-count-one":"0Â mi","1000000-count-other":"0Â mi","10000000-count-one":"00Â mi","10000000-count-other":"00Â mi","100000000-count-one":"000Â mi","100000000-count-other":"000Â mi","1000000000-count-one":"0Â bi","1000000000-count-other":"0Â bi","10000000000-count-one":"00Â bi","10000000000-count-other":"00Â bi","100000000000-count-one":"000Â bi","100000000000-count-other":"000Â bi","1000000000000-count-one":"0Â tri","1000000000000-count-other":"0Â tri","10000000000000-count-one":"00Â tri","10000000000000-count-other":"00Â tri","100000000000000-count-one":"000Â tri","100000000000000-count-other":"000Â tri"},"vi-VN":{"1000-count-other":"0Â N","10000-count-other":"00Â N","100000-count-other":"000Â N","1000000-count-other":"0Â Tr","10000000-count-other":"00Â Tr","100000000-count-other":"000Â Tr","1000000000-count-other":"0Â T","10000000000-count-other":"00Â T","100000000000-count-other":"000Â T","1000000000000-count-other":"0Â NT","10000000000000-count-other":"00Â NT","100000000000000-count-other":"000Â NT"},"id-ID":{"1000-count-other":"0Â rb","10000-count-other":"00Â rb","100000-count-other":"000Â rb","1000000-count-other":"0Â jt","10000000-count-other":"00Â jt","100000000-count-other":"000Â jt","1000000000-count-other":"0Â M","10000000000-count-other":"00Â M","100000000000-count-other":"000Â M","1000000000000-count-other":"0Â T","10000000000000-count-other":"00Â T","100000000000000-count-other":"000Â T"}}}},"@VERSION@"),YUI.add("intl-number",function(i,t){var a=require("hermes-core/flog")(t),f=i["cldr-numbers"];i.IntlNumber={format:function(t,e,n){var r,o,i,a,u=f.data["en-US"],c=f.data[e],s="",l="",h="";if(t<1e3)return t.toLocaleString(e,{maximumFractionDigits:n});if(t<2e3)s="1000-count-one",l="1000-count-other";else if(t<1e4)s="1000-count-other",l="1000-count-one";else if(t<2e4)s="10000-count-one",l="10000-count-other";else if(t<1e5)s="10000-count-other",l="10000-count-one";else if(t<2e5)s="100000-count-one",l="100000-count-other";else if(t<1e6)s="100000-count-other",l="100000-count-one";else if(t<2e6)s="1000000-count-one",l="1000000-count-other";else if(t<1e7)s="1000000-count-other",l="1000000-count-one";else if(t<2e7)s="10000000-count-one",l="10000000-count-other";else if(t<1e8)s="10000000-count-other",l="10000000-count-one";else if(t<2e8)s="100000000-count-one",l="100000000-count-other";else if(t<1e9)s="100000000-count-other",l="100000000-count-one";else if(t<2e9)s="1000000000-count-one",l="1000000000-count-other";else{if(!(t<1e10))return t.toLocaleString(e,{maximumFractionDigits:n});s="1000000000-count-other",l="1000000000-count-one"}return(l=c[s]||c[l])||(e="en-US",l=u[s]),l&&"0"!==l?(s=(l=l.replace(/'/g,"")).split(""),r=[],o=t.toString().split(""),a=i=0,s.forEach(function(t,e){"0"===t&&a++}),o.forEach(function(t,e){e<a&&r.push(o[i++])}),n&&(r.push("."),o.forEach(function(t,e){var n=o[i];i<=e&&(void 0!==n&&"."!==n&&r.push(n),i++)})),s.forEach(function(t,e){a<=e&&(h+=t)}),l=parseFloat(r.join("")),parseInt(l.toFixed(n)).toString().length>a?(s=Math.pow(10,Math.ceil(Math.log10(t))),this.format(s,e,n)):(l=l.toLocaleString(e,{maximumFractionDigits:n}),h?l+h:l)):t.toLocaleString(e,{maximumFractionDigits:n})},formatCurrency:function(t,e,n,r){var o={style:"currency",currency:"USD"};return e&&(o.currency=e),i.Object.isEmpty(r)||(r.hasOwnProperty("maximumFractionDigits")&&(o.minimumFractionDigits=0),r.hasOwnProperty("currency")&&a.error("Error: you cannot declare currency as an option")),o=Object.assign({},o,r),-1<n.indexOf("_")&&(n=n.replace("_","-")),new Intl.NumberFormat(n,o).format(t)}}},"@VERSION@",{requires:["cldr-numbers"]}),YUI.add("string-helper",function(n){n.StringHelper={preventOrphans:function(t,e){var n=t.split(" ").length;return e&&n<e?t:t.replace(/\s+(\S*)$/,"Â $1")},preventOrphansHtml:function(t){var e=n.config.doc.createElement("div");return e.innerHTML=t,this.preventLastChildElOrphan(e),e.innerHTML},preventLastChildElOrphan:function(t){var e;(e=this.findLastTextChildWithSpace(t))&&((t=n.config.doc.createElement("span")).innerHTML=e.textContent.replace(/\s+(\S*)$/,"&nbsp;$1"),e.replaceWith(t))},findLastTextChildWithSpace:function(t){var e=t.childNodes,n=0;if(0<e.length)for(n=e.length-1;0<=n;n--){var r=this.findLastTextChildWithSpace(e[n]);if(r)return r}else if(3===t.nodeType&&0<=t.textContent.indexOf(" "))return t},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,function(t){return e[t]})},stripTags:function(t){return t?String(t).replace(/<\/?[^>]+>/g,""):""}}},"@VERSION@",{requires:[]}),YUI.add("handlebars-helpers",function(s){"use strict";function r(t,e,n){var r,o,i,a,u,c="";return t?(r=s.moment.duration(t.diff(s.moment())),o=Math.round(Math.abs(+r)/1e3),i=Math.round(o/60),a=Math.round(i/60),u=Math.round(a/24),t=Math.round(u/365),{intlName:"relative-dates."+{s:"SECOND_",ss:"SECONDS_",m:"MINUTE_",mm:"MINUTES_",h:"HOUR_",hh:"HOURS_",d:"DAY_",dd:"DAYS_",M:"MONTH_",MM:"MONTHS_",y:"YEAR_",yy:"YEARS_"}[(t=(o<45?["s",o]:1===i&&["m"])||i<45&&["mm",i]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",Math.round(u/30)]||1===t&&["y"]||["yy",t])[0]]+(e?"SHORT":"LONG")+(c=n?0<r?"_FUTURE":"_PAST":c),time:t[1]}):{intlName:"relative-dates.NO_DATE"}}var t,o,i,l=s.Handlebars,a={outlet:function(t,e){var n;return e=void 0===e||e,t=t?t.render?(n=t,YUI.Env.isServer?n.get("container").get("outerHTML"):'<div id="'+n.getId()+'" class="hb-placeholder"></div>'):YUI.Env.isServer&&e?t.get("outerHTML"):e?'<div id="'+t._yuid+'"></div>':t:"",new l.SafeString(t)},photoDescription:function(t,e,n){var r;return e?new l.SafeString(t.split("\n").map(function(t){return""===t.trim()?"&nbsp;":"<p>"+(n?t:a.addLinkToHash(t))+"</p>"}).join("").split("<br>").map(function(t){return""===t.trim()?"&nbsp;":n?t:a.addLinkToHash(t)}).join("")):new l.SafeString(t.split("\n").map(function(t){return r="<p>",""===t.trim()?r+="&nbsp;":r+=n?t:a.addLinkToHash(t),r+"</p>"}).join(""))},photoAttribution:function(t,e,n){var r,o="";return t.owner&&t.owner.displayname&&(o=t.owner.displayname),e&&e["remove-by-attribution"]||(t.isOwner?(r="common.BY_YOU",o=""):r="common.BY_USER"),n.fn({user:o,intlName:r})},commentPermalinkId:function(t){return"comment"+t.split("-")[2]},contactUrl:function(t){return"/photos/"+t.pathAlias||t.id},renderTrustedMarkupWithLineBreaks:function(t){return t=t.replace(/(\r\n|\n|\r)/gm,"<br>"),s.Handlebars.helpers.renderTrustedMarkup(t)},renderSafeInlineComment:function(t,e){var n=n||120,r="";return(t=t.replace(/(\r\n|\n|\r)/gm," "))&&t.length?(e=e&&" "+e,s.Handlebars.helpers.stripTags(t).length<=n?r=t:(r=s.Handlebars.helpers.stripTags(t)).length>n&&(r=s.Handlebars.helpers.truncate(r,n.toString(),!1,e)),s.Handlebars.helpers.renderTrustedMarkupWithLineBreaks(r)):r},stripTags:function(t){var e="";return e=t?String(t).replace(/<\/?[^>]+>/g,""):e},photoNote:function(t){return t=t.replace(/(\r\n|\n|\r)/gm,"<p>&nbsp;</p>"),new l.SafeString(t)},canRemoveTag:function(t,e,n,r){return s.Handlebars.helpers.canRemoveAnyTag(t,e,n,null,r)},canRemoveAnyTag:function(t,e,n,r,o){return n||e&&t===e||r&&r===e?o.fn(this):""},formatNumber:function(t,e){var n=e.hash.decimals||1;try{t="number"!=typeof t?parseInt(t,10):t}catch(t){}return s.IntlNumber.format(t,e.data.intl.locales,n)},formatCurrency:function(t,e,n,r){try{return s.IntlNumber.formatCurrency(t,e,n,r.hash)}catch(t){return console.error(t),"-"}},obfuscateInternals:function(t){return t=t.toString(),parseInt(t.split("").map(function(t){return t.charCodeAt(0)}).join(""),10).toString(16)},renderMetaInfo:function(t){return t||"boolean"==typeof t?t.indexOf&&-1<t.indexOf("<")?t:new l.SafeString(t):""},addLinkToHash:function(r){return(r=(r=(r=r.replace(/<[\s]*[\/]*[\s]*script[\s]*>/gi,"")).replace(/<[\s]*[\/]*[\s]*iframe[\s]*>/gi,"")).replace(/<[^>]*(on[a-zA-Z]+=)[^>]*>/gi,"")).replace(/\s#[^#\s]+/gi,function(t,e,n){return 0<e&&"&"===r.slice(e-1,e)?t:' <a href="/photos/tags/'+escape(t.slice(2))+'">#'+t.slice(2).replace(/"/g,"")+"</a>"})},isFlipped:function(t,e){var n=e.data.flippers||this.flippers;if(t)return n[t]?e.fn(this):e.inverse(this)},isNotFlipped:function(t,e){var n=e.data.flippers||this.flippers;if(t)return n[t]?e.inverse(this):e.fn(this)},urlPhoto:function(t,e){return s.URLHelper.getPhotoPage({photoId:t.id,pathAlias:t.owner.pathAlias,contextSuffix:e})},getTagSearchUrl:function(t){return"/search/?tags="+t},shortUrlPhoto:function(t,e){return t?s.URLHelper.getShortURL(t.id,e):window.location.href},friendlyDateScrappySubphoto:function(t,e,n,r){var o=n?8===e?"photo-page-scrappy.TAKEN_CIRCA":6===e?"photo-page-scrappy.TAKEN_SOMETIME_IN":4===e?"photo-page-scrappy.TAKEN_IN_MONTH":"photo-page-scrappy.TAKEN_ON_INTL":"photo-page-scrappy.UPLOADED_ON_INTL",t=n&&8===e?"granularity"in t&&"year"in t?t.year:t.replace(/^([\d]+)(.*)/g,"$1"):(t instanceof Date||("granularity"in t&&"year"in t?(t=s.moment(t.year+"-"+t.month+"-"+t.day+" "+t.hour+":"+t.minute+":"+t.second,"YYYY-M-D HH:mm:ss")).tzOffset&&t.utcOffset(t.tzOffset):t="string"==typeof t&&-1<t.indexOf("-")?s.moment(t):s.moment(t,"X")),6===e&&n?t.format("YYYY"):t.toDate());return r.fn({intlName:o,intlDate:t})},friendlyDate:function(t,e){return 8===e?"Circa "+t.replace(/^([\d]+)(.*)/g,"$1"):(t instanceof Date||(t="string"==typeof t&&-1<t.indexOf("-")?s.moment(t):s.moment(t,"X")),6===e?"Sometime in "+t.format("YYYY"):4===e?t.format("MMMM")+" "+t.format("YYYY"):t.format("MMMM D, YYYY"))},friendlyNumber:function(t,e){return void 0!==t?t.toLocaleString(e.data.intl.locales,{maximumFractionDigits:0}):null},friendlyDataSize:function(t){var e=parseInt(t,10)||1,n=Math.ceil(Math.log(e)/Math.LN10),n=Math.floor(n/3),e=e/Math.pow(10,3*n);return e=Math.floor(100*e)/100,(e=0===t?0:e)+["B","KB","MB","GB","TB"][n]},_friendlySinceDate:function(t,e,n){t=s.moment(t,"X");return 0===t.unix()?r():r(t,e,n)},friendlySinceDate:function(t,e,n,r){return r.fn(s.Handlebars.helpers._friendlySinceDate(t,e,n))},capitalize:function(t){return t[0].toLocaleUpperCase()+t.slice(1)},preventOrphans:function(t,e){e=e.hash.skipStringsShorterThan||0;return i.isSafeString(t)?new l.SafeString(s.StringHelper.preventOrphans(t.string,e)):s.StringHelper.preventOrphans(t,e)},preventOrphansHtml:function(t,e){return YUI.Env.isServer?t:i.isSafeString(t)?new l.SafeString(s.StringHelper.preventOrphansHtml(t.string)):s.StringHelper.preventOrphansHtml(t)},renderTrustedMarkup:function(t){if(t)return new l.SafeString(t)},randomLine:function(t){var t=t.fn(this);return t?(t=(t="\n"===(t="\n"===(t=t.trim())[0]?t.slice(1):t)[t.length-1]?t.slice(0,t.length-1):t).split("\n"))[Math.floor(t.length*Math.random())]:"\x3c!-- no lines to return --\x3e"},configVal:function(t,e){return void 0!==e&&t&&o[t]?(o._index=o._index||{},o._index[t]||(o._index[t]=o[t].reduce(function(t,e){return t[e.value+""]=e.text,t},{})),o._index[t][e+""]||""):""},eachConfigVal:function(t,e){return(o[t]||[]).map(function(t){return e.fn(t)}).join("")},safetyLevelString:function(t,e){for(var n=0;n<o.safetyLevel.length;n++)if(t.toString()===o.safetyLevel[n].value)return e.fn(o.safetyLevel[n])},privacyString:function(t,e){for(var n=0;n<o.privacy.length;n++)if(t===o.privacy[n].value)return e.fn(o.privacy[n])},licenseString:function(t,e){for(var n=0;n<o.licenseDisplay.length;n++)if(t.toString()===o.licenseDisplay[n].value)return e.fn(o.licenseDisplay[n])},truncate:function(t,e,n,r,o){return i.truncate(t,e,{respectWords:!1!==n,ellipsis:"string"==typeof r?r:"...",escape:void 0===o||o})},json:function(t){var e="object"==typeof t?(e=-1<(e=-1<(e=JSON.stringify(t,null,"")).indexOf("\u2028")?e.replace(/\u2028/g,"\\u2028"):e).indexOf("\u2029")?e.replace(/\u2029/g,"\\u2029"):e).replace(/\//g,"\\/"):"{}";return new l.SafeString(e)},ifCond:function(t,e,n,r){switch(e){case"===":return t===n?r.fn(this):r.inverse(this);case"!==":return t!==n?r.fn(this):r.inverse(this);case"<":return t<n?r.fn(this):r.inverse(this);case"<=":return t<=n?r.fn(this):r.inverse(this);case">":return n<t?r.fn(this):r.inverse(this);case">=":return n<=t?r.fn(this):r.inverse(this);case"in":return 0<=(n+"").trim().replace(/\s*[,;]\s*/,",").split(/[,;]/).indexOf(t)?r.fn(this):r.inverse(this);case"||":return t||n?r.fn(this):r.inverse(this);case"&&":return t&&n?r.fn(this):r.inverse(this);default:return r.inverse(this)}},fallback:function(t,e,n){return null==t||""===t?e:t},for:function(t,e,n,r){for(var o="",i=t;i<e;i+=n)o+=r.fn(i);return o},log:function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];console[YUI.Env.isServer?"warn":"log"].apply(console,Array.prototype.slice.call(t,0,t.length-1))},protocol:function(){return s.config.flickr.url.protocol},host:function(){return s.config.flickr.url.host},assetRoot:function(){return s.config.flickr.urls.assetRoot},godMessage:function(t){return s.godMessage(t.hash)},flickrConfig:function(t){return s.Object.getValue(s.config.flickr,t.split("."))},chainHelpers:function(){for(var e,n,r,t=new Array(arguments.length),o=0;o<t.length;++o)t[o]=arguments[o];return e=t.shift(),"object"==typeof t[t.length-1]&&(r=t.pop()),t.forEach(function(t){"string"==typeof t&&((n=t.split(" ")).push(r),e=a[n.shift()].apply(this,[e].concat(n)))}),e},multiHighlightString:function(t,e,n){var r,o,i,a,u="",c=0,s=!1;for(e=e||[],t=l.Utils.escapeExpression(t=t||""),e=e.sort(function(t,e){return t.end-e.end}),a=0,r=t.length,o=e.length;a<o;a++){for(i=e[a],s=!1;c<i.start&&c<r;)u+=t[c++];for(c<i.end&&(u+='<span class="'+n+'">',s=!0);c<i.end&&c<r;)u+=t[c++];s&&(u+="</span>")}for(;c<r;)u+=t[c++];return new l.SafeString(u)},ifDefined:function(t,e){return void 0===t?e.inverse(this):e.fn(this)},spaceball:function(){return"https://combo.staticflickr.com/pw/images/spaceball.gif"},eq:function(t,e){return t===e},ne:function(t,e){return t!==e},gt:function(t,e){return e<t},gte:function(t,e){return e<=t},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},not:function(t){return!t},and:function(){return Array.prototype.slice.call(arguments,0,-1).every(Boolean)},or:function(){return Array.prototype.slice.call(arguments,0,-1).some(Boolean)},formatRequestID:function(t){return s.moment().utc().format()+"-"+t+"@"+(YUI.Env.isServer?"server":"client")}};for(t in a)s.Handlebars.registerHelper(t,a[t]);s.config.global.HandlebarsHelperIntl.registerWith(s.Handlebars),i={truncate:function(t,n,e){return e=e||{},(t=t||"").length>n&&(t=e.respectWords?t.substr(0,n+1).split(/([^\w])/).reduce(function(t,e){return t.length+e.length>n-1?t:t+e},""):t.substr(0,n-1),t+=e.ellipsis),e.escape?t:new l.SafeString(t)},isSafeString:function(t){return t&&"string"==typeof t.string}},o={safetyLevel:[{value:"0",text:"Safe",key:"settings.SAFE"},{value:"1",text:"Moderate",key:"settings.MODERATE"},{value:"2",text:"Restricted",key:"settings.RESTRICTED"}],privacy:[{value:"public",text:"Public",key:"settings.PUBLIC"},{value:"private",text:"Private",key:"settings.PRIVATE"},{value:"friends",text:"Friends",key:"settings.FRIENDS"},{value:"family",text:"Family",key:"settings.FAMILY"},{value:"friendsandfamily",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"}],commentingPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}],printPermission:[{value:0,text:"Only you",key:"settings.ONLY_YOU"},{value:1,text:"Friends",key:"settings.FRIENDS"},{value:2,text:"Family",key:"settings.FAMILY"},{value:3,text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:4,text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:5,text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"},{value:6,text:"Anyone",key:"settings.PUBLIC"}],metaPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}],licenseDisplay:[{value:"0",text:"All rights reserved",key:"settings.ALL_RIGHTS_RESERVED"},{value:"10",text:"Public Domain Work",key:"settings.PUBLIC_DOMAIN_WORK"},{value:"9",text:"Public Domain Dedication (CC0)",key:"settings.PUBLIC_DOMAIN_DEDICATION"},{value:"4",text:"Attribution",key:"settings.ATTRIBUTION"},{value:"5",text:"Attribution-ShareAlike",key:"settings.ATTRIBUTION_SHAREALIKE"},{value:"6",text:"Attribution-NoDerivs",key:"settings.ATTRIBUTION_NODERIVS"},{value:"2",text:"Attribution-NonCommercial",key:"settings.ATTRIBUTION_NONCOMMERCIAL"},{value:"1",text:"Attribution-NonCommercial-ShareAlike",key:"settings.ATTRIBUTION_NONCOMMERCIAL_SHAREALIKE"},{value:"3",text:"Attribution-NonCommercial-NoDerivs",key:"settings.ATTRIBUTION_NONCOMMERCIAL_NODERIVS"},{value:"7",text:"No known copyright restrictions",key:"settings.NO_COPYRIGHT_RESTRICTIONS"},{value:"8",text:"United States government work",key:"settings.US_GOV_WORK"}],licenseSelect:[{value:"0",text:"All rights reserved",key:"settings.ALL_RIGHTS_RESERVED"},{value:"10",text:"Public Domain Work",key:"settings.PUBLIC_DOMAIN_WORK"},{value:"9",text:"Public Domain Dedication (CC0)",key:"settings.PUBLIC_DOMAIN_DEDICATION"},{value:"4",text:"Attribution",key:"settings.ATTRIBUTION"},{value:"5",text:"Attribution-ShareAlike",key:"settings.ATTRIBUTION_SHAREALIKE"},{value:"6",text:"Attribution-NoDerivs",key:"settings.ATTRIBUTION_NODERIVS"},{value:"2",text:"Attribution-NonCommercial",key:"settings.ATTRIBUTION_NONCOMMERCIAL"},{value:"1",text:"Attribution-NonCommercial-ShareAlike",key:"settings.ATTRIBUTION_NONCOMMERCIAL_SHAREALIKE"},{value:"3",text:"Attribution-NonCommercial-NoDerivs",key:"settings.ATTRIBUTION_NONCOMMERCIAL_NODERIVS"}],licenseUrls:[{value:"0",text:"https://help.flickr.com/en_us/change-your-photo's-license-in-flickr-B1SxTmjkX"},{value:"1",text:"https://creativecommons.org/licenses/by-nc-sa/2.0/"},{value:"2",text:"https://creativecommons.org/licenses/by-nc/2.0/"},{value:"3",text:"https://creativecommons.org/licenses/by-nc-nd/2.0/"},{value:"4",text:"https://creativecommons.org/licenses/by/2.0/"},{value:"5",text:"https://creativecommons.org/licenses/by-sa/2.0/"},{value:"6",text:"https://creativecommons.org/licenses/by-nd/2.0/"},{value:"7",text:"/commons/usage/"},{value:"8",text:"http://www.usa.gov/copyright.shtml"},{value:"9",text:"https://creativecommons.org/publicdomain/zero/1.0/"},{value:"10",text:"https://creativecommons.org/publicdomain/mark/1.0/"}],addMetaPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}]}},"@VERSION@",{requires:["handlebars-base","url-helper","moment","datatype-number","flipper","handlebars-helper-intl","god-message","intl-number","string-helper"]}),YUI.add("localizable",function(u,t){function e(){var n={};return function(t,e){t=t.join(".");return n.hasOwnProperty(t)?n[t]:n[t]=e()}}var c=u.config.global.IntlMessageFormat,r=e(),s=e();u.Localizable={appContext:{},langBundles:[],langFormatters:{date:{monthYear:{month:"long",year:"numeric"},monthYearShort:{month:"short",year:"numeric"},month:{month:"long"},year:{year:"numeric"}},number:{USD:{style:"currency",currency:"USD"}}},defaultLang:u.config.lang,getLang:function(){return this.appContext.lang||this.defaultLang},getLangBundles:function(){return t=this.langBundles,e=this.getLang(),a=this.langFormatters,n={},u.Array.each(t,function(t){n[t]=r([e,t],function(){return n=t,r=e,o=a,i=u.Intl.get("hermes/"+n,null,r),u.Object.each(i,function(t,e){i[e]=s([r,n,e],function(){return new c(t,r,o)})}),i;var n,r,o,i})}),n;var t,e,a,n},intlMessage:function(t){var e=this.getLangBundles();return e.locales=this.getLang(),u.Handlebars.helpers.intlMessage({hash:t,data:{intl:e}})},intlHTMLMessage:function(t){var e=this.getLangBundles();return e.locales=this.getLang(),u.Handlebars.helpers.intlHTMLMessage({hash:t,data:{intl:e}})}}},"@VERSION@",{requires:["handlebars-base","handlebars-helpers","intl-messageformat"]}),YUI.add("experiments-fullscreen",function(t){var e;(e=function(t){this.flipper=t.flipper,this.appContext=t}).prototype.disableRealFullscreenButtons=function(){return!this.mode},e.prototype.getMode=function(){return this.mode},e.prototype.enableFullscreen=function(){this.mode=!0},e.prototype.disableFullscreen=function(){this.mode=!1},t.namespace("Experiments").Fullscreen=e},"@VERSION@",{requires:[]}),YUI.add("experiments-opt-out",function(t,e){var n=require("hermes-core/flog")(e);(e=function(t){this.appContext=t,this.optOutEnabled=void 0}).prototype.enabled=function(){var t=this.appContext.flipper.isFlipped("reboot_photo_page_optin_type");if(void 0===this.optOutEnabled){if(!this.appContext.flipper.isFlipped("buckets"))return this.optOutEnabled=!0,n.log("Buckets not flipped; optOutEnabled is true"),this.optOutEnabled;switch(t){case"optin":this.optOutEnabled=!0;break;case"forced_in":this.optOutEnabled=!1;break;default:this.optOutEnabled=!0}}return this.optOutEnabled},t.namespace("Experiments").OptOut=e},"@VERSION@",{requires:[]}),YUI.add("murmurhash",function(t){t.murmurhash=function(t,e){for(var n,r,o=3&t.length,i=t.length-o,a=e,u=3432918353,c=461845907,s=0;s<i;)r=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24,++s,a=27492+(65535&(n=5*(65535&(a=(a^=r=(65535&(r=(r=(65535&r)*u+(((r>>>16)*u&65535)<<16)&4294967295)<<15|r>>>17))*c+(((r>>>16)*c&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(r=0,o){case 3:r^=(255&t.charCodeAt(s+2))<<16;case 2:r^=(255&t.charCodeAt(s+1))<<8;case 1:a^=r=(65535&(r=(r=(65535&(r^=255&t.charCodeAt(s)))*u+(((r>>>16)*u&65535)<<16)&4294967295)<<15|r>>>17))*c+(((r>>>16)*c&65535)<<16)&4294967295}return a^=t.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,((a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295)^a>>>16)>>>0}},"@VERSION@");

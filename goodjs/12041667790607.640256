Array.prototype.every||(Array.prototype.every=function(e,t){"use strict";var n,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(1<arguments.length&&(n=t),i=0;i<r;){if(i in o&&!e.call(n,o[i],i,o))return!1;i++}return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),i=0;i<r;)i in o&&e.call(n,o[i],i,o),i++}),Array.prototype.includes||(Array.prototype.includes=function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var n=Object(this),i=parseInt(n.length,10)||0;if(0===i)return!1;var o,r,t=parseInt(t,10)||0;for(0<=t?o=t:(o=i+t)<0&&(o=0);o<i;){if(e===(r=n[o])||e!=e&&r!=r)return!0;o++}return!1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Date.now||(Date.now=function(){return(new Date).getTime()}),Object.keys||(Object.keys=function(){"use strict";var o=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=s.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,i=[];for(t in e)o.call(e,t)&&i.push(t);if(r)for(n=0;n<a;n++)o.call(e,s[n])&&i.push(s[n]);return i}}()),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return!(this.length<(t="number"!=typeof t?0:t)+e.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e}),function(){var e=window.self;function a(e){this.message=e}(a.prototype=Error()).name="InvalidCharacterError",e.atob||(e.atob=function(e){var t=(e+"").replace(/[=]+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,r=0,s="";i=t.charAt(r++);~i&&(n=o%4?64*n+i:i,o++%4)&&(s+=String.fromCharCode(255&n>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s})}(),function(S){S.adobeid=function(e){"use strict";var t={};return"object"==typeof window.adobeid?t=window.adobeid:window.opener&&window.opener.adobeid?t=window.opener.adobeid:e.error("Missing window.adobeid, falling back to an empty object"),t.redirect_uri&&t.redirect_uri===window.location.href&&delete t.redirect_uri,t},S.build={endpoints:{authorize:{name:"authorize",endpoint:"https://ims-na1.adobelogin.com/ims/authorize/v1"},avatar:{name:"avatar/download",endpoint:"https://ims-na1.adobelogin.com/ims/avatar/download"},check:{name:"check/token",endpoint:"https://adobeid-na1.services.adobe.com/ims/check/${ version }/token"},check_status:{name:"check/status",endpoint:"https://adobeid-na1.services.adobe.com/ims/check/v1/status"},logout:{name:"logout",endpoint:"https://adobeid-na1.services.adobe.com/ims/logout/v1"},logout_token:{name:"logout_token",endpoint:"https://adobeid-na1.services.adobe.com/ims/logout/v1/token"},profile:{name:"profile",endpoint:"https://ims-na1.adobelogin.com/ims/profile/v1"},validate_token:{name:"validate_token",endpoint:"https://ims-na1.adobelogin.com/ims/validate_token/v1"},userinfo:{name:"userinfo",endpoint:"https://ims-na1.adobelogin.com/ims/userinfo/v1"},fg_value:{name:"fg_value",endpoint:"https://adobeid-na1.services.adobe.com/ims/fg/value/v1"},social_providers:{name:"social_providers",endpoint:"https://adobeid-na1.services.adobe.com/ims/social/v1/providers"},ijt:{name:"ijt",endpoint:"https://adobeid-na1.services.adobe.com/ims/jump/implicit/"}},methodTrackingEnabled:"false",sha:"18d23dc",version:"1.13.0"},S.config=function(e,t,n,i){"use strict";function o(){var e=i.getThisScriptSrc(),e=/\bclient_id=([^&]+)\b/.exec(e);return e?e[1].split(","):[]}e.debug&&t.toggleLogging(!0);var r=o();return{api:n(r=!r||0===r.length?e.client_id:r),client_id:e.client_id?Array.isArray(e.client_id)?e.client_id[0]:e.client_id:(t.info("Missing window.adobeid.client_id. Falling back to client_id from url. Please add client_id to window.adobeid"),o()[0]),locale:e.locale||(t.info("Missing window.adobeid.locale. Falling back to locale from url. Please add locale to window.adobeid"),t=i.getThisScriptSrc(),(t=/\blocale=([^&]+)\b/.exec(t))?t[1]:""),refreshSsoCookiesEnabled:!1,sloEnabled:!0,sunbreakScope:"acct_mgmt_webui",sunbreakScopeExpanded:"acct_mgmt_api,gnav,update_profile.address.mail_to,update_profile.dob,update_profile.email,update_profile.first_name,update_profile.industry,update_profile.job_function,update_profile.job_title,update_profile.last_name,update_profile.mrktPerm,update_profile.phoneNumber,update_profile.phonetic_name,update_profile.preferred_languages,update_profile.screen_name,update_profile.secondary_email"}},S.mapEndpoints=function(c){return function(e){"use strict";var t=c.endpoints;Array.isArray(e)||(e=[e]);var n,i={version:{v1:"v1"}};for(n in t)if(t.hasOwnProperty(n)){var o=t[n],r={name:o.name,endpoint:{}};i[n]=r;for(var s=0,a=e.length;s<a;++s)r.endpoint[e[s]]=o.endpoint}return i}},S.errorEvents={avatarPicture:function(){return{name:"avatarPictureError",userMessage:"current scopes won't retrieve the user_id"}},jsException:function(e,t){return{name:"jsExceptionError",message:"adobeid."+t,exception:e}},fromApiCallRedirect:function(e){return{name:"fromApiCallRedirectError",userMessage:e}},network:function(e){return{debug:{url:e},name:"networkError",userMessage:"Network error"}},popupBlocked:function(e){return{error:"popupBlocked",popupUrl:e}},rateLimit:function(e,t){return{name:"rate_limit",retryAfter:e,isUserSignedIn:t}}},S.eventDispatcher=function(n,i,t,o,r,s){function a(e,t){try{s.callIfFunction(n[e],n,t)}catch(t){c(i.jsException(t,e))}}function c(e){t.dispatchEvent(r.types.ERROR,{error:e}),"function"!=typeof n.onError&&("string"==typeof e.userMessage?o.info(e.userMessage):o.error("unhandled javascript error: "+JSON.stringify(e)),e.debug&&o.info(JSON.stringify(e.debug)))}return{onApiError:function(e){c(i.network(e))},onError:c,onErrorRateLimited:function(e,t){c(i.rateLimit(e.retryAfter,t.isSignedInUser()))},onReady:function(e){t.dispatchEvent(r.types.READY,e)},registerEvents:function(){t.addEventListener(r.types.PROFILE,function(e){a("onProfile",[e.data.profile])}),t.addEventListener(r.types.ACCESS_TOKEN,function(e){a("onAccessToken",[e.data.accessTokenInfo.access_token,e.data.accessTokenInfo])}),t.addEventListener(r.types.READY,function(e){a("onReady",[e.data.signInState])}),t.addEventListener(r.types.ERROR,function(e){s.callIfFunction(n.onError,n,[e.data.error])}),t.addEventListener(r.types.ACCESS_TOKEN_EXPIRED,function(e){a("onAccessTokenHasExpired",[e.data.accessTokenInfo.access_token,e.data.accessTokenInfo])})}}},S.events=function(i){"use strict";var s={};return{addEventListener:function(e,t){var n=s[e]||[];(s[e]=n).push(t)},dispatchEvent:function(e,t){var n=s[e];if(this.triggerEvent(e,t),n)for(var i={type:e,data:t},o=0,r=n.length;o<r;++o)"function"==typeof n[o]&&n[o](i)},triggerEvent:function(e,t){var n;window.addEventListener&&((n=document.createEvent("Event")).initEvent(i.domEventNamespace+"."+e,!0,!0),t&&(n.data=t),document.dispatchEvent(n))}}},S.publicEvents=function(){"use strict";var t,n={PROFILE:"profile",ACCESS_TOKEN:"accesstoken",ACCESS_TOKEN_EXPIRED:"accesstokenexpired",READY:"ready",ERROR:"error"};return{domEventNames:(t={},Object.keys(n).forEach(function(e){t[e]="imslib."+n[e]}),t),domEventNamespace:"imslib",types:n}},S.tokenManagement=function(c,l,u){return{shouldAcceptToken:function(e,t,n,i,o,r,s){var a=!0;return[{shouldReject:!1===o,shouldLogToErrorConsole:!1,message:"access_token is invalid."},{shouldReject:!0===o&&i&&s&&i!==s,shouldLogToErrorConsole:!1,message:"access_token was from another userId (isReAuthentication=#0).".replace("#0",r)},{shouldReject:!0===o&&!c.isKnownClientID(t),shouldLogToErrorConsole:!0,message:"the #0 client_id associated with the access token is not for a known client_id (#1).".replace("#0",t).replace("#1",Object.keys?Object.keys(l.api.authorize.endpoint).join(","):c.getClientID())},{shouldReject:!0===o&&!c.matchesRequiredScope(n),shouldLogToErrorConsole:!0,message:"the (#0) scope associated with the access token doesn't match the required scope (#1).".replace("#0",n).replace("#1",c.getScope())},{shouldReject:!e,shouldLogToErrorConsole:!0,message:"no access token."}].forEach(function(e){e.shouldReject&&(a=!1,(e.shouldLogToErrorConsole?u.error:u.info)("shouldAcceptToken: "+e.message))}),a}}},S.adobeIMS=function(t,e,n,d,f,o,p,r,s,h,_,a,c,l,g,u,m,v,i){"use strict";function k(){return t.optimizations&&t.optimizations.fastEvents}var y="adobeid_ims_access_token",I="from_ims",b=I+"=true",S=t.popupPageName||"redirectims.html",T={sign_in:{width:500,height:630},sign_up:{width:500,height:800},sign_out:{width:320,height:240},jump:{width:500,height:800},any:{width:500,height:630}},E=null;if(window.adobeIMS)return _.error("adobeIMS already exists. Have you loaded the file twice?"),null;var w=t.openidCompatible?"sub":"userId";function A(e){return e.error===s.Errors.RATE_LIMITED}function O(n,e,i){arguments.length<3&&(i=e,e=n.getAccessToken()),s.getProfile(e,function(e){n.setProfile(e),v.callIfFunction(i,n)},function(e){var t;_.error("Failed to retrieve the profile ",e),A(e)?(p.onErrorRateLimited(e,n),v.callIfFunction(i,n)):e&&"ride_AdobeID_acct_disabled"===e.error?(t=n)._invalidateTokens(Object.keys(t._accessTokensInfos),function(){t._clearCredentials({updateUI:!0}),t.signIn()}):((!e||e.error||e.error_flag||e.error_description)&&n._clearCredentials({updateUI:!0}),v.callIfFunction(i,n))})}var R,C={isRequired:!1,url:null};function U(e,t){C.isRequired=e,C.url=t}var j=null,P=null,L={DomEvents:c.domEventNames,Events:c.types,IMSAPIs:{}};function M(){var t=this,n={access_token:t.adobeid.standalone.token,client_id:t.getClientID()};s.validateToken(n,function(e){e=e.token;t.shouldAcceptTheToken(e)&&t._setAccessTokenAndGetProfile(n.access_token,e.isReauthentication,e.client_id,e.scope,e.expires_in,null,function(){t._onReady()})},function(){o.dispatchEvent(c.types.ACCESS_TOKEN_EXPIRED,{accessTokenInfo:n})})}function F(){function e(){function t(){if(i.isMandatorySignIn()&&!i.isSignedInUser()&&i.signIn(),i._callCallbacksToUpdateUI(),k()&&!i.isSignedInUser())for(var e in n)n.hasOwnProperty(e)&&n[e]&&o.dispatchEvent(c.types.ACCESS_TOKEN_EXPIRED,{accessTokenInfo:n[e]});i._onReady()}var e,n=v.cloneObject(i._accessTokensInfos||{});i.isSingleLogOutEnabled()||!i.isSignedInUser()?i.signInBasedOnSingleSignOnSSO(function(e){"no_cors"===e&&i.isSignedInUser()?O(i,t):v.callIfFunction(t,i)}):(e=i.getAccessToken(),delete n[i.getKeyForAccessToken(e)],i.testAccessTokenIsStillValid(e,function(){i.getAccessToken()&&!i.getUserProfile()?O(i,t):v.callIfFunction(t,i)}))}var i=this;k()&&(this.loadFromStorage(),v.isEmptyObject(this._profile)||this._callCallbacksToUpdateUI()),this._signInWhenRedirectedBackFromIMS(function(){i._isFinalRedirectPageInModalMode()?window.opener&&(window.opener.adobeIMS._importDataFromModalWindow(i),v.closeWindow()):(i.loadFromStorage(),i.hasJustReturnedFromAuthorize?this.isSignedInUser()?i._testAccessTokensAreStillValid():i.signInBasedOnSingleSignOnSSO(function(){i._testAccessTokensAreStillValid()}):i.isSignedInUser(!0)?i.testAccessTokenIsStillValid(i.getAccessToken(!0),e):e())})}function x(t){var n=this;return function(e){A(e=e||{})?(p.onErrorRateLimited(e,n),v.callIfFunction(t,n)):e.jump?(_.info("jumping to "+e.jump),U(!0,e.jump),n.isModal()?n._clearCredentials():n._openWindow(e.jump,T.jump)):"ride_AdobeID_acct_evs"===e.error?(n._clearCredentials(),U(!0,null),n.isModal()||n.signIn()):"ride_AdobeID_acct_disabled"===e.error?n._invalidateTokens(Object.keys(n._accessTokensInfos),function(){n._clearCredentials({updateUI:!0}),U(!0,null),n.isModal()||n.signIn()}):"no_cors"===e.error?v.callIfFunction(t,n,["no_cors"]):e.error===s.Errors.ABORTED?(n._last_ui_update._any_update_so_far=!0,p.onError(s.Errors.ABORTED),v.callIfFunction(t,n,[s.Errors.ABORTED])):(n._clearCredentials({updateUI:!0}),n.hasJustSingleLoggedOutSLO=!0,v.callIfFunction(t,n))}}return L=v.merge({_initialize:function(){p.registerEvents(),(this.adobeid.standalone&&this.adobeid.standalone.token?M:this.adobeid.ijt?function(){var t=this,n={ijt:this.adobeid.ijt,redirect_uri:this._getRedirectUri(d.api.ijt),client_id:this.getClientID(d.api.ijt)};s.exchangeIjt(n,function(e){t._setAccessTokenAndGetProfile(e.access_token,!1,n.client_id,t.getScope(),e.expires_in,"",function(){t._onReady()})},x.call(t,function(){F.call(t)}))}:F).call(this)},_initOnDependencyLoad:function(){var e=this;i.onLoad(function(){e._initialize()})},addEventListener:o.addEventListener,_onApiError:p.onApiError,_onError:p.onError,_onReady:function(){var e;this.onReadyAlreadyCalled||(this.onReadyAlreadyCalled=!0,this._callCallbacksToUpdateUI(),(e={}).userActionInfo=C,e.isUserSignedIn=!e.userActionInfo.isRequired&&!!this.isSignedInUser(),p.onReady({signInState:e}))},setProfile:function(e,t){e&&!e.error_flag&&((this._profile=e)?(a.set(this._profile),this._removeAccessTokensIfDifferentUserId(e[w])):a.clear(),!t&&this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI())},getUserProfile:function(){return this._profile},getUserPictureURL:function(){return this._profile?this._profile[w]?s.getAvatarUrl(this._profile[w]):(p.onError(f.avatarPicture()),""):""},getState:function(){return R||null},listSocialProviders:s.listSocialProviders,isSignedInUser:function(e,t,n){if(!this.adobeid.standalone){n=this.getAccessTokenInfo(e,t,n);return n&&Date.now()<n.expiresAtMilliseconds?n:void 0}},isReAuthentication:function(e){return e&&e.reauth},isReady:function(){return!!this.onReadyAlreadyCalled},isMandatorySignIn:function(){return!0===this.adobeid.is_mandatory_sign_in&&this.isModal()?(_.error("is_mandatory_sign_in can be enabled only in redirect mode"),!1):"boolean"==typeof this.adobeid.is_mandatory_sign_in&&this.adobeid.is_mandatory_sign_in},isSingleLogOutEnabled:function(){return"boolean"==typeof this.adobeid.uses_single_log_out?this.adobeid.uses_single_log_out:d.sloEnabled},isRefreshSSOCookiesEnabled:function(){return"boolean"==typeof this.adobeid.uses_refresh_sso_cookies?this.adobeid.uses_refresh_sso_cookies:d.refreshSsoCookiesEnabled},_getRedirectUri:function(e,t){var n="",i=v.merge(s.getCustomApiParameters(e),t),o="/"===S.charAt(0)?v.getOrigin:v.getBasePath;return n=this.isModal()?o(h.getHref())+S+"#"+b:(n=i.redirect_uri||this.adobeid.redirect_uri||h.getHref(),_.assert(!n.includes(I),"the redirect_uri mustn't already contain #from_ims"),t=n,(t=(o=v.getHashFromURL(n))?t.substring(0,t.length-o.length):t)+"#"+b+"&old_hash="+encodeURIComponent(o)),i.client_id&&(n+="&client_id="+encodeURIComponent(i.client_id)),i.scope&&(n+="&scope="+encodeURIComponent(i.scope)),e&&e.name&&(n+="&api="+encodeURIComponent(e.name)),n=this.updateRedirectUriForReAuthentication(n,i),v.isEmptyObject(this.contextToBePassedOnRedirect)||(n+="&rctx="+encodeURIComponent(JSON.stringify(this.contextToBePassedOnRedirect))),n},_signInBasedOnStoredCredentials:function(e){this.loadFromStorage(),v.isEmptyObject(this._accessTokensInfos)?(this._clearCredentials(),v.callIfFunction(e,this)):this.hasJustReturnedFromAuthorize?(this.hasJustReturnedFromAuthorize=!1,v.callIfFunction(e)):this.testSingleLogOutSLO(e)},_signInWhenRedirectedBackFromIMS:function(e){var t=this,n=(n=v.getHashFromURL().substring(1)).replace("%23access_token","#access_token").replace("%23expires_in","#expires_in").replace("%23error","#error").replace("?error","#error").replace("#","&"),i=v.getQueryParamsAsMap(n),o=i.access_token,r=i.api;r===d.api.authorize.name&&_.assert(o,"the authorize api must return an access_token");var s=!!i.reauth,a=i.client_id||this.getClientID(),c=i.scope||this.getScope(),l=i.expires_in,u=i.error,n=i.rctx;try{R=JSON.parse(i.state)}catch(e){R=i.state}this.contextPassedFromRedirect=n?{context:JSON.parse(n),access_token:o}:null,o&&l&&g.isFromIms(o)||"true"===i[I]&&r===d.api.logout.name||"true"===i[I]&&u?(h.setHash(i.old_hash||""),o?(this.hasJustReturnedFromAuthorize=!0,this._setAccessTokenAndGetProfile(o,s,a,c,l,null,function(){t.validateSSOCookieLifetime(o,e)})):(this._accessTokensInfos={},this._profile=null,u&&p.onError(f.fromApiCallRedirect(u)),e.call(this))):e.call(this)},signIn:function(e,t){this.contextToBePassedOnRedirect=t;t=v.merge(e);t.redirect_uri=this._getRedirectUri(d.api.authorize,t),this.version&&(t.jslibver=this.version);e=s.getAuthorizeUrl(t);this.isModal()&&this._callCallbacksToUpdateUI(),this._openWindow(e,"create_account"===t.idp_flow?T.sign_up:T.sign_in)},signInBasedOnSingleSignOnSSO:function(e){this.acquireAccessToken(e,x.call(this,e))},signInWithSocialProvider:function(e,t){e&&((e=v.merge(t,{idp_flow:"social.deep_link.web",provider_id:e})).redirect_uri=this._getRedirectUri(d.api.authorize,e),e=s.getAuthorizeUrl(e),this._openWindow(e))},reAuthenticate:function(e,t){e=v.merge({reauth:"check",idp_flow:this._profile&&"type1"!==this._profile.account_type?"login_t2":void 0,puser:this._profile&&this._profile.email?this._profile.email:void 0,eu:this._profile&&this._profile.email?"true":void 0},e);this.signIn(e,t)},updateRedirectUriForReAuthentication:function(e,t){return"string"==typeof e&&this.isReAuthentication(t)&&(e.includes("reauth=")||(e=e+"&reauth="+t.reauth)),e},signUp:function(e,t){this.isModal()&&this._callCallbacksToUpdateUI(),this.signIn(v.merge({idp_flow:"create_account"},e),t)},signOut:function(n){var i,o=this,e=Object.keys(this._accessTokensInfos);e.length?(i=this._accessTokensInfos[e.pop()],this._invalidateTokens(e,function(){var e,t;(e=i)?(t=v.merge(s.getCustomApiParameters(d.api.logout),n),o.isModal()&&t.redirect_uri&&o.switchToRedirectMode(),t=s.getLogoutUrl(v.merge({access_token:e.access_token,redirect_uri:o._getRedirectUri(o.config.api.logout,n)},t)),o._clearCredentials({updateUI:!0}),o._openWindow(t,T.sign_out)):o._clearCredentials({updateUI:!0})})):o._clearCredentials({updateUI:!0})},testSingleLogOutSLO:function(t){var n;this.isSingleLogOutEnabled()?(n=this,s.checkStatus(function(e){!1===e.sso&&!1===e.remember_me?(n._clearCredentials({updateUI:!0}),n.hasJustSingleLoggedOutSLO=!0,v.callIfFunction(t,n)):n.signInBasedOnSingleSignOnSSO(t)})):v.callIfFunction(t,this)},validateSSOCookieLifetime:function(e,t){v.callIfFunction(t,this)},_clearTimerTestSSOCookieWillExpire:function(){this._timerTestSSOCookieWillExpire&&(clearInterval(this._timerTestSSOCookieWillExpire),this._timerTestSSOCookieWillExpire=null)},_invalidateTokens:function(e,t){var n=this,i=e.length;i?e.forEach(function(e){s.logoutToken(n._accessTokensInfos[e].access_token,function(){0==--i&&v.callIfFunction(t)})}):v.callIfFunction(t)},_isAccessTokenInfoUsable:function(e){return e&&"string"==typeof e.access_token&&"string"==typeof e.client_id&&this.isKnownClientID(e.client_id)&&"string"==typeof e.scope&&"boolean"==typeof e.isReAuthentication&&"number"==typeof e.expires_in&&"number"==typeof e.expiresAtMilliseconds&&Date.now()<e.expiresAtMilliseconds},_removeAccessTokensIfDifferentUserId:function(e){if(e)for(var t in this._accessTokensInfos){t=this._accessTokensInfos[t];t.user_id&&t.user_id!==e&&(this._clearCredentials({access_token:t.access_token,updateUI:!1}),_.info("Removed token because of different user_id (isReAuthentication="+t.isReAuthentication+")"))}},_setAccessTokenAndGetProfile:function(e,t,n,i,o,r,s){o=+o;var a,c,l=r&&r[w];this._removeAccessTokensIfDifferentUserId(l),v.isEmptyObject(this._accessTokensInfos)&&this.loadFromStorage(),this.shouldAcceptTheToken(e,n,i,l,!0,t)?(a=this.getAccessTokenSessionStorageKey(t,n,i),c=Date.now(),this._accessTokensInfos[a]={access_token:e,client_id:n,user_id:l,scope:i,expires_in:o,createdAtMilliseconds:c,expiresAtMilliseconds:c+o,isReAuthentication:t},m.set(a,this._accessTokensInfos[a],t),this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI(),r?v.callIfFunction(s,this):O(this,e,s)):v.callIfFunction(s,this)},_testAccessTokensAreStillValid:function(){var e,t=0;for(e in this._accessTokensInfos)++t;function n(){0==--t&&i._onReady()}var i=this;if(0<t)for(e in this._accessTokensInfos)i.testAccessTokenIsStillValid(this._accessTokensInfos[e].access_token,n);else i._onReady()},acquireAccessToken:function(n,e){var i=this,o={redirect_uri:this._getRedirectUri(d.api.check),client_id:this.getClientID(d.api.check),scope:this.getScope(d.api.check)};s.checkToken(o,function(e){var t=v.cloneObject(e);delete t.access_token,delete t.expires_in,delete t.token_type,i.setProfile(t),i._setAccessTokenAndGetProfile(e.access_token,!1,o.client_id,o.scope,e.expires_in,t,n)},e)},decodeAccessToken:g.decode,getAccessToken:function(e,t,n){n=this.getAccessTokenInfo(e,t,n);return n?n.access_token:null},getAccessTokenInfo:function(e,t,n){t=this.getAccessTokenSessionStorageKey(e,t,n),n=this._accessTokensInfos[t];return n?m.get(t,n.isReAuthentication)?n:(this._clearCredentials({access_token:n.access_token}),null):null},getAccessTokenSessionStorageKey:function(e,t,n){return[y,t||this.getClientID(),!!e,n||this.getScope()].join("/")},getContextFromRedirectForAccessToken:function(e){if(this.contextPassedFromRedirect&&this.contextPassedFromRedirect.access_token===e){e=this.contextPassedFromRedirect.context;return this.contextPassedFromRedirect=null,e}return null},getKeyForAccessToken:function(e){for(var t in this._accessTokensInfos)if(e===this._accessTokensInfos[t].access_token)return t;return _.assert(!1,"unknown access_token for key: "+t),null},getTransitoryAuthorizationCode:s.getTransitoryAuthorizationCode,hasTokenButItHasExpired:function(e,t,n){n=this.getAccessTokenInfo(e,t,n);return n&&Date.now()>n.expiresAtMilliseconds?n:void 0},loadFromStorage:function(){var i=this;function e(n){m.keys(n).forEach(function(e){if(e.startsWith(y))try{var t=m.get(e,n);i.isKnownClientID(t.client_id)&&(i._isAccessTokenInfoUsable(t)?i._accessTokensInfos[e]=t:(_.info("unusable access token info: "+l.getItem(e)),m.remove(e,n)))}catch(t){m.remove(e,n)}})}e(!(this._accessTokensInfos={})),e(!0),this._profile=a.get()},shouldAcceptTheToken:function(e,t,n,i,o,r){return u.shouldAcceptToken(e,t,n,i,o,r,this._profile&&this._profile[w])},testAccessTokenIsStillValid:function(t,n){var i=this,o=this._accessTokensInfos[this.getKeyForAccessToken(t)];_.assert(o,"we need token information to validate it");function r(e){_.info("validate/token: access_token is invalid. removing."),i._clearCredentials({updateUI:i.onReadyAlreadyCalled,access_token:t});try{e.token&&i.isKnownClientID(e.token.client_id)&&i.matchesTheRequiredScope(e.token.scope)&&v.callIfFunction(i.adobeid.onAccessTokenHasExpired,i.adobeid,[t,o])}catch(e){p.onError(f.jsException(e,"onAccessTokenHasExpired"))}o.isReAuthentication?n():i.signInBasedOnSingleSignOnSSO(function(){!i.isSignedInUser()&&i.isMandatorySignIn()&&i.signIn(),n()})}o&&this.isKnownClientID(o.client_id)?s.validateToken(o,function(e){e.token&&i.shouldAcceptTheToken(t,e.token.client_id,e.token.scope,e.token.user_id,e.valid,o.isReAuthentication)?n():r(e)},r):r()},setStandaloneToken:function(e){this.adobeid.standalone.token=e,M.call(this)},_importDataFromModalWindow:function(e){if(v.isEmptyObject(e._accessTokensInfos))this._clearCredentials({updateUI:!0});else{for(var t in this.contextPassedFromRedirect=v.cloneObject(e.contextPassedFromRedirect),R=e.getState(),v.equals(e._profile,this._profile)||v.isEmptyObject(e._profile)||this.setProfile(v.cloneObject(e._profile),!0),e._accessTokensInfos){var n;v.equals(e._accessTokensInfos[t],this._accessTokensInfos[t])||(n=v.cloneObject(e._accessTokensInfos[t]),m.set(t,this._accessTokensInfos[t]=n,n.isReAuthentication),this.validateSSOCookieLifetime(this._accessTokensInfos[t].access_token))}this._callCallbacksToUpdateUI(),e.isSignedInUser(!0)&&!this.isSignedInUser(!1)&&this.signInBasedOnSingleSignOnSSO()}},_isFinalRedirectPageInModalMode:function(){return h.getHref().includes(S)&&window.opener&&window.opener!==window},isModal:function(){return!!this._isFinalRedirectPageInModalMode()||(!0===this.adobeid.uses_modal_mode&&!0===this.adobeid.uses_redirect_mode?(_.error("redirect mode and modal mode both enabled"),!0):"boolean"==typeof this.adobeid.uses_modal_mode?this.adobeid.uses_modal_mode:!1===this.adobeid.uses_redirect_mode)},switchToModalMode:function(){this.adobeid.uses_redirect_mode=!(this.adobeid.uses_modal_mode=!0)},switchToRedirectMode:function(){this.adobeid.uses_redirect_mode=!(this.adobeid.uses_modal_mode=!1)},getLocale:s.getLocale,getReleaseFlags:function(n,e){null===P?s.getReleaseFlags(this.getAccessToken(),function(e,t){j=t||null,P=e||null,v.callIfFunction(n,null,[e,t])},e):v.callIfFunction(n,null,[P,j])},isReleaseFlagActive:function(e){return!!j&&"1"===j[e]},getScope:s.getScope,matchesTheRequiredScope:n.matchesRequiredScope,sunbreakHack:n.sunbreakHack,getClientID:s.getClientId,isKnownClientID:n.isKnownClientID,_ajaxGet:function(n,i,e){function t(e,t){e?p.onError(f.network(n)):i.call(o,t)}var o=this;"jsonp"!==e&&r.corsSupported?r.cors({onLoad:t,url:n}):r.jsonp(n,{},t)},getAdobeIdApiParametersForApi:s.getCustomApiParameters,getUrlForApiCall:function(e,t,n){return 2===arguments.length&&(n=t,t=null),s.getApiUrlWithQuery(e,n,t)},makeApiCall:s.makeApiCall,_clearCredentials:function(e){if(e&&e.access_token)t=this.getKeyForAccessToken(e.access_token),m.remove(t,!1),m.remove(t,!0),delete this._accessTokensInfos[t];else{for(var t in this._accessTokensInfos)t.startsWith(y)&&m.remove(t,this._accessTokensInfos[t].isReAuthentication);this._accessTokensInfos={},a.clear(),this._profile=null,this._clearTimerTestSSOCookieWillExpire()}e&&!0===e.updateUI&&this._callCallbacksToUpdateUI(e)},_callCallbacksToUpdateUI:function(e){if(this._last_ui_update.areThereUIUpdatesToPerform()){var t=v.cloneObject(this._last_ui_update);if(this._last_ui_update.update(),t.areThereUIUpdatesToPerformForProfile()&&o.dispatchEvent(c.types.PROFILE,{profile:this._profile}),t.areThereUIUpdatesToPerformForAccessTokens())if(e&&e.access_token){var n=this._accessTokensInfos[this.getKeyForAccessToken(e.access_token)];n?o.dispatchEvent(c.types.ACCESS_TOKEN,{accessTokenInfo:n}):o.dispatchEvent(c.types.ACCESS_TOKEN_EXPIRED,{accessTokenInfo:{access_token:e.access_token}})}else for(var i in this._accessTokensInfos)v.equals(this._accessTokensInfos[i],t._accessTokensInfos[i])||o.dispatchEvent(c.types.ACCESS_TOKEN,{accessTokenInfo:this._accessTokensInfos[i]})}},_openWindow:function(e,t){var n;this.isModal()?function(e,n){E&&(E.closed||E.close(),E=null);var i=[];return Object.keys(n).forEach(function(e){var t=n[e];!0===t?t="yes":!1===t?t="no":t+="",i.push(e+"="+t)}),(E=v.openPopup(e,"_blank",i.join(",")))&&"function"==typeof E.focus&&E.focus(),E}(e,{width:n=Math.min(t&&t.width||T.any.width,screen.availWidth),height:t=Math.min(t&&t.height||T.any.height,screen.availHeight),left:parseInt((screen.availLeft||0)+Math.max(0,screen.availWidth-n)/2),top:parseInt((screen.availTop||0)+Math.max(0,screen.availHeight-t)/2),toolbar:!1,menubar:!1,scrollbars:!0,resizable:!0})||p.onError(f.popupBlocked(e)):h.setHref(e,!this.isMandatorySignIn()),this.contextToBePassedOnRedirect=null},toggleLogging:_.toggleLogging},L),e.trackObject(L),function(){var e=this;this.adobeid=t,this._accessTokensInfos={},this._profile=null,this._last_ui_update={_any_update_so_far:this._is_already_attached_to_ui=!1,_accessTokensInfos:{},_profile:null,update:function(){this._any_update_so_far=!0,this._accessTokensInfos=v.cloneObject(e._accessTokensInfos),this._profile=v.cloneObject(e._profile)},areThereUIUpdatesToPerformForAccessTokens:function(){return!this._any_update_so_far||!v.equals(this._accessTokensInfos,e._accessTokensInfos)},areThereUIUpdatesToPerformForProfile:function(){return!this._any_update_so_far||!v.equals(this._profile,e._profile)},areThereUIUpdatesToPerform:function(){return this.areThereUIUpdatesToPerformForProfile()||this.areThereUIUpdatesToPerformForAccessTokens()}}}.call(L),L},S.analytics=function(e,n){"use strict";function o(){return e.session}var r="jslMethods",s=[],a=[],c={};return{getMethods:function(){return n?a:[]},trackObject:function(i){if(n){for(var e in t=o().getItem(r),a=t?t.split("+").map(function(e){return parseInt(e,10)}):[],i)i.hasOwnProperty(e)&&"function"==typeof i[e]&&(s.push(e),c[e]=i[e],function(){var n=e;i[n]=function(){var e,t;return s.includes(e=n)&&(t=s.indexOf(e),a.includes(t)||(a.push(t),a.sort(function(e,t){return e-t}),o().setItem(r,a.join("+")))),c[n].apply(i,arguments)}}());s.sort()}var t}}},S.base32=function(){"use strict";var i={"=":0};return"abcdefghijklmnopqrstuvwxyz234567".split("").forEach(function(e,t){i[e]=t}),{decodeToBitstring:function(e){if("string"!=typeof e)throw Error("Data is not a string");var t=e.toLowerCase().split("");!function(e){if(e.length%8!=0)throw Error("Data length is not a multiple of 8");e.forEach(function(e){if(!(e in i))throw Error("Unknown encoded character "+e)});var t=!1;e.forEach(function(e){if("="!==e&&t)throw Error("Found padding char in the middle of the string");"="===e&&(t=!0)})}(t);var e=function(e){for(var t=e.length-1,n=0;"="===e[t];)++n,--t;return n}(t),n=[];t.forEach(function(e){var t;n.push((t=i[e],e=0<(t=5-(e=t.toString(2)).length)?Array(1+t).join("0")+e:e))});t=n.join("");return t=(t=0<e?t.slice(0,-5*e):t).length%8!=0?t.slice(0,t.length%8*-1):t}}},S.client=function(t,e,i,o){return{getClientId:e.getClientId,getScope:e.getScope,isKnownClientID:function(e){return e in t.api.authorize.endpoint},matchesRequiredScope:function(e){var t=o.String_hasContent(e);if(!t)return i.assert(t,"scopeToValidate must be a non empty string for matchesTheRequiredScope"),!1;var n=this.sunbreakHack(o.String_withoutWhitespaces(e)).split(",");return this.sunbreakHack(this.getScope()).split(",").every(function(e){return n.includes(e)})},sunbreakHack:function(e){return e.replace(t.sunbreakScope,t.sunbreakScopeExpanded)}}},S.debouncer=new function(){function o(t,n){var i=setTimeout(function(){var e=c[t];e&&(delete e[n],clearTimeout(i))},1e3)}function s(t,n){return function(e){!function(e,t){var n=e.url;c[n]||(c[n]={});var i=c[n],e=JSON.stringify(e.params);i[e]={isSuccess:!0,response:t},o(n,e)}(t,e),n(e)}}function a(t,n){return function(e){!function(e,t){var n=e.url;c[n]||(c[n]={});var i=c[n],e=JSON.stringify(e.params);i[e]={isSuccess:!1,response:t},o(n,e)}(t,e),n(e)}}var c={};this.debounce=function(e,t,n,i){var o,r=(o=c[(r=t).url])&&o[JSON.stringify(r.params)]||null;if(r)return(r.isSuccess?n:i)(r.response);e(t,s(t,n),a(t,i))}},S.http=function(c,l,u){"use strict";function d(e,t){t&&t(e.status,function(e){var t=e.getResponseHeader("Content-Type"),n=e.responseText;if(n.length&&t&&0<=t.indexOf("json"))try{n=JSON.parse(n)}catch(e){throw e}return n}(e),e)}function s(e,t,n,i,o,r){function s(e){d(e.target,r)}var a=new XMLHttpRequest;if(t=l.addCommonQueryParameters(t),a.addEventListener("load",function(e){d(e.target,o)}),a.addEventListener("abort",s),a.addEventListener("error",s),a.open(e.toUpperCase(),t,!0),i)for(var c in i)i.hasOwnProperty(c)&&a.setRequestHeader(c,i[c]);a.withCredentials=!0,a.send(n)}var f="_adobeIMSJSONPCallbacks",a={POST:"POST",GET:"GET"},e=!!XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return{jsonp:function(e,t,n){t=t||{};var i=(i=window[f])||(window[f]={}),o="_"+u.createRandomString();t.callback="window."+f+"."+o,e+=l.buildQueryString(t,e),e=l.addCommonQueryParameters(e);var r=document.createElement("script");r.src=e,r.async=!0,r.type="text/javascript";var s=u.getDocumentHead();i[o]=function(e){u.isDebugMode&&c.info("api call response: "+JSON.stringify(e)),n(!1,e),delete i[o]};function a(){s.removeChild(r)}u.addEventListener(r,"load",a),u.addEventListener(r,"error",function(){n(!0,null),a()}),s.appendChild(r)},cors:function(e){switch((e=u.merge({data:null,headers:null,method:a.GET,onError:null,onLoad:null,url:""},e)).method.toUpperCase()){case a.GET:n=e.url,i=e.headers,o=e.onLoad,r=e.onError,n+=l.buildQueryString(e.data,n),s(a.GET,n,null,i,o,r);break;case a.POST:t=e.url,n=e.headers,i=e.onLoad,o=e.onError,(r=e.data).client_id&&(t+=l.buildQueryString({client_id:r.client_id},t),delete r.client_id),n=n||{},r&&(r=l.uriEncodeData(r),n["Content-Type"]="application/x-www-form-urlencoded"),s(a.POST,t,r,n,i,o);break;default:throw Error("Unknown HTTP method "+e.method)}var t,n,i,o,r},corsSupported:e,Method:a}},S.imsApis=function(o,r,s,e,a,c,l,u){"use strict";var d=e.onApiError,f={AUTHORIZATION:"Authorization",X_IMS_CLIENT_ID:"X-IMS-ClientId",RETRY_AFTER:"Retry-after"},p={ABORTED:"aborted",NO_CORS:"no_cors",RATE_LIMITED:"rate_limited"},h=S.debouncer;function i(e){if(!(e&&e.name&&o.api_parameters))return{};for(var t in o.api_parameters)if(e.name.includes(t))return o.api_parameters[t];return{}}function _(e,t){if(t&&t.client_id)return t.client_id;e=i(e);return e&&e.client_id?e.client_id:o.client_id?Array.isArray(o.client_id)?o.client_id[0]:o.client_id:s.client_id}function g(){return o.locale||s.locale}function m(e,t,n){return(n=2===arguments.length||!n?{}:n).client_id||(n.client_id=_()),u.merge(n,i(e),t)}function v(e,t){var n="AdobeID,openid";return t&&t.scope?n=t.scope:(e=i(e))&&e.scope?n=e.scope:o.scope&&(n=o.scope),u.String_withoutWhitespaces(n)}function k(e,t,n){n=n||_(e);var i=e.endpoint[n];return i?(i.includes("${ version }")?i=i.replace("${ version }",t||"v1"):t&&(i+="/"+t),i):(c.info("No url found for api "+e.name+" for client "+n),"")}function t(e,t,n,i){i=k(e,n,i=!i&&t?t.client_id:i);return i?i+l.buildQueryString(t,i):""}function y(e,i,o){var t={},n=u.cloneObject(e.params)||{};n.client_id||(n.client_id=_(e.api)),e.bearerToken&&(t[f.AUTHORIZATION]="Bearer "+e.bearerToken),a.cors({data:n,headers:t,method:e.method,onError:function(e,t){o(0===e?{error:p.ABORTED}:t)},onLoad:function(e,t,n){429===e?o({error:p.RATE_LIMITED,retryAfter:window.parseInt(n.getResponseHeader(f.RETRY_AFTER),10)}):t?(t.error_flag||t.error?o:i)(t):o(null)},url:e.url||k(e.api,e.apiVersion,n.client_id)})}function I(e,n,i){var t=u.cloneObject(e.params),o=k(e.api,e.apiVersion,t.client_id);e.bearerToken&&(t.bearer_token=e.bearerToken),a.jsonp(o,t,function(e,t){(e||t.error_flag||t.error?i:n)(t)})}function b(e,t,n){if(!e)throw Error("No options object provided");if(!e.api)throw Error("No `options.api` provided");var i=u.cloneObject(e.params)||{};i.client_id||(i.client_id=_(e.api)),e.url||(e.url=k(e.api,e.apiVersion,i.client_id)),h.debounce(a.corsSupported?y:I,e,t,n=n||d)}return{makeApiCall:function(e,t,n,i){return 3===arguments.length&&(i=n,n=t,t=null),b({api:e,apiVersion:t,params:n,forceJsonp:!0},i)},getApiUrl:k,getApiUrlWithQuery:t,getAuthorizeUrl:function(e){return e=m(s.api.authorize,e,{response_type:"token",client_id:_(),scope:v(),locale:g()}),t(s.api.authorize,e)},getAvatarUrl:function(e){return k(s.api.avatar)+"/"+e},getLogoutUrl:function(e){return e=m(s.api.logout,e,{locale:g()}),t(s.api.logout,e)},getApiResponse:b,validateToken:function(e,t,n){e=m(s.api.validate_token,{token:e.access_token,client_id:e.client_id,type:"access_token"});b({api:s.api.validate_token,params:e,method:a.Method.POST},t,n)},checkStatus:function(e,t){var n=m(s.api.check_status);b({api:s.api.check_status,params:n},e,t)},checkToken:function(e,t,n){e=m(s.api.check,e,{scope:v(),locale:g()}),a.corsSupported?b({api:s.api.check,apiVersion:"v4",method:a.Method.POST,params:e},function(e){(e.jump?n:t)(e)},n):n({error:p.NO_CORS})},getProfile:function(e,t,n){var i=m(s.api.profile);b({api:o.openidCompatible?s.api.userinfo:s.api.profile,bearerToken:e,params:i},t,n)},getTransitoryAuthorizationCode:function(e,t,n){e=m(s.api.check,e,{client_id:_(),response_type:"code"}),b({api:s.api.check,apiVersion:"v5",method:a.Method.POST,params:e},t,n)},logoutToken:function(e,t,n){var i=m(s.api.logout_token,{access_token:e});n=n||d;e=function(e){(e&&e.error?n:t)(e)};b({api:s.api.logout_token,method:a.Method.POST,params:i},e,e)},exchangeIjt:function(e,t,n){var i=(e=m(s.api.ijt,e,{client_id:_()})).ijt;delete e.ijt;i=k(s.api.ijt,"",e.client_id)+i;2048<(i+l.buildQueryString(e)).length&&delete e.redirect_uri,b({api:s.api.ijt,url:i,params:e},t,n)},listSocialProviders:function(n,e){var t=m(s.api.social_providers,{client_id:_()});b({api:s.api.social_providers,params:t},function(e){var t=[];Array.isArray(e)&&e.forEach(function(e){t.push(e.providerName)}),n(t)},e)},getCustomApiParameters:i,getClientId:_,getLocale:g,getReleaseFlags:function(e,t,n){var i=m(s.api.fg_value,{client_id:_(s.api.fg_value)});b({api:s.api.fg_value,params:i,bearerToken:e},function(e){e&&""!==e?t(e,u.bitstringToLSB(r.decodeToBitstring(e.releaseFlags))):u.callIfFunction(n,null,[null])},n)},getScope:v,Errors:p}},S.location=function(){"use strict";return{getHref:function(){return window.location.href},setHref:function(e,t){t?window.location.href=e:window.location.replace(e)},getHash:function(){return window.location.hash},setHash:function(e){window.location.hash=e}}},S.log=function(){"use strict";function e(){t&&window.console&&window}var t=!1;return{assert:function(){e()},error:function(){e()},info:function(){e()},toggleLogging:function(e){"boolean"==typeof e&&(t=e)}}},S.MemoryStorage=function(){"use strict";var n={};return{length:0,clear:function(){n={},this.length=0},getItem:function(e){e=n[e];return void 0===e?null:e},keys:function(){return n},removeItem:function(e){n.hasOwnProperty(e)&&(delete n[e],--this.length)},setItem:function(e,t){n.hasOwnProperty(e)||++this.length,n[e]=t+""}}},S.optimizations=function(e,t,n){"use strict";if(!1!==(t=t||{}).enable)for(var i in S.optimizations)S.optimizations.hasOwnProperty(i)&&"function"==typeof S.optimizations[i]&&S.optimizations[i].call(null,e,t,n)},S.optimizations.$$prefetchSuSi=function(n,e,t){"use strict";!1!==e.prefetchSuSi&&(e=function(){var e,t;n.isSignedInUser()||(t=n.getUrlForApiCall(n.config.api.authorize,{client_id:n.getClientID()}),e=/^(https?:\/\/.+?)\//.exec(t)[1]+"/favicon.ico?cache_bust="+Math.random().toString(16).slice(2),(t=document.createElement("link")).setAttribute("rel","prefetch"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t))},n.isReady()?e():n.addEventListener(t.types.READY,e))},S.profileStorage=function(e){"use strict";var t="adobeid_ims_profile";function n(){return e.session}return{clear:function(){return n().removeItem(t)},get:function(){return JSON.parse(n().getItem(t))},set:function(e){return n().setItem(t,JSON.stringify(e))}}},S.storage=function(t,n){"use strict";function e(e){return S.storage.$$isPolyfillNeeded(e,t)?(t.info("Polyfilled "+e+". All values are stored in Memory."),new n):window[e]}return{session:e("sessionStorage"),local:e("localStorage")}},S.storage.$$isPolyfillNeeded=function(e,t){"use strict";try{var n=window[e]}catch(n){return t.info(e+" disabled"),!0}if(null==n)return!0;try{return n.setItem("isStoragePolyfillNeeded",!0),"true"!==n.getItem("isStoragePolyfillNeeded")||(n.removeItem("isStoragePolyfillNeeded"),!1)}catch(n){return!0}},S.susiButtons=function(t,o){"use strict";var r='[data-adobeid-action="%action%"]';function n(e,t,n){function i(){t.call(n)}e=document.querySelectorAll(r.replace("%action%",e));(e=!NodeList.prototype.forEach?Array.prototype.slice.call(e):e).forEach(function(e){o.addEventListener(e,"click",i)})}var i=!1;return{attachListeners:function(){function e(){i||(i=!0,n("signin",t.signIn,t),n("signup",t.signUp,t),n("signout",t.signOut,t),n("reauthenticate",t.reAuthenticate,t))}"complete"===window.document.readyState||"loaded"===window.document.readyState?e():(o.addEventListener(window.document,"DOMContentLoaded",e),o.addEventListener(window,"load",e))}}},S.token=function(){"use strict";function t(e){if(!("string"==typeof(t=e)&&5<=t.length&&3===t.split(".").length))return null;var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");try{return JSON.parse(atob(t))}catch(e){return null}}return{decode:t,isFromIms:function(e){e=t(e);return!!e&&!!(e.as&&/^ims-/.test(e.as)&&e.client_id&&e.created_at&&e.expires_in&&e.id&&e.moi&&e.scope&&e.type)}}},S.tokenStorage=function(t,n){"use strict";function i(e){return e||"local"===n?t.local:t.session}return{get:function(e,t){return JSON.parse(i(t).getItem(e))},keys:function(e){e=i(e);return Object.keys(e.keys?e.keys():e)},remove:function(e,t){return i(t).removeItem(e)},set:function(e,t,n){return i(n).setItem(e,JSON.stringify(t))}}},S.url=function(n,i){"use strict";function o(e,t){if(e){e=r(e);return e=e&&(t&&-1!==t.indexOf("?")?"&"+e:"?"+e)}return""}function r(e){var t,n,i="",o=!0;for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(n=e[t],i+=(o?"":"&")+encodeURIComponent(t)+"="+(null===n?"null":encodeURIComponent("object"==typeof n?JSON.stringify(n):n)),o=!1);return i}return{addCommonQueryParameters:function(e){e+=o(i,e);var t=n.getMethods();return t.length&&(e+="&jslMethods="+t.join("+")),e},buildQueryString:o,uriEncodeData:r}},S.utils=function(n,o){"use strict";function e(){var e=document.querySelector('script[src*="imslib.min.js"]');return(e=e||document.querySelector('script[src*="imslib.js"]'))?e.src:""}var t=e();function i(e){return e&&"function"==typeof e}function r(e,t){if(null===e)return null===t;if(null===t)return null===e;if(typeof e!=typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}if("object"!=typeof e)return e===t;for(var i in e)if(!(i in t&&r(e[i],t[i])))return!1;for(i in t)if(!(i in e))return!1;return!0}function s(e){var t=document.createElement("a");t.href=e;var n=t.protocol.replace(":",""),i={http:80,https:443},e=t.host;return{protocol:n,host:e=i[n]?e.replace(RegExp(":"+i[n]+"$"),""):e,query:t.search,hash:t.hash.replace("#",""),path:("/"+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)).replace("//","/")}}return t&&o.info("loaded from "+t),{bitstringToLSB:function(e){var t="";if(e.length%8!=0)throw Error("Length must be a multiple of 8");for(var n=0,i=e.length;n<i;n+=8)t+=e.slice(n,n+8).split("").reverse().join("");return t},String_hasContent:function(e){return"string"==typeof e&&0<e.length},String_withoutWhitespaces:function(e){return e.replace(/\s/g,"")},parseUrl:s,getBasePath:function(e){e=s(e);return e.protocol+"://"+e.host+e.path},getOrigin:function(e){e=s(e);return e.protocol+"://"+e.host},getHashFromURL:function(e){var t=(e=!e&&n?n.getHref():e).indexOf("#");return-1!==t?e.substring(t):""},getQueryParamsAsMap:function(e){e=e.replace(/^(#|\?|&)/,"");var t={};return e.split("&").forEach(function(e){e.length&&(e=e.split("="),t[e[0]]=decodeURIComponent(e[1]))}),t},isFunction:i,callIfFunction:function(e,t,n){return i(e)?e.apply(t,n||[]):null},merge:function e(){for(var t={},n=0;n<arguments.length;++n){var i=arguments[n];if("object"==typeof i)for(var o in i){var r=i[o];void 0!==r&&(t[o]="object"!=typeof r||null===r?r:e(t[o]||{},r))}}return t},cloneObject:function t(e){if(null===e)return null;if("object"!=typeof e)return e;var n;if(Array.isArray(e))n=[],e.forEach(function(e){n.push(t(e))});else for(var i in n={},e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return o.assert(r(e,n),"cloned object has failed for "+JSON.stringify(e)),n},equals:r,isEmptyObject:function(e){return!e||r(e,{})},getDocumentHead:function(){if(document.head)return document.head;var e=document.getElementsByTagName("head");return e&&e.length?e[0]:null},addEventListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},openPopup:function(e,t,n){return window.open(e,t,n)},closeWindow:function(){window.close()},getThisScriptSrc:e,createRandomString:function(){var e=Math.random().toString(16);return e.slice(e.indexOf(".")+1)}}},S.vendors=function(){"use strict";function t(){if(!o.isJSONNeeded||r)for(var e=s.shift();e;)e(i),e=s.shift()}var e,n,i={},o=S.vendors.$$neededVendors(),r=!1,s=[];return i.onLoad=function(e){s.push(e),window.setTimeout(t,0)},o.isJSONNeeded&&(e=function(){r=!0,t()},(n=document.createElement("script")).type="text/javascript",n.src="https://static.adobelogin.com/renga-idprovider/resources/js/json2-min.js",n.onload=function(){window.setTimeout(e,1)},(document.head||document.getElementsByTagName("head")[0]).appendChild(n)),i},S.vendors.$$neededVendors=function(){"use strict";return{isJSONNeeded:!(window.JSON&&"function"==typeof window.JSON.stringify)}},S.bootstrap=function(){"use strict";var e=S.build,t=S.errorEvents,n=S.location(),i=S.log(),o=S.MemoryStorage,r=S.publicEvents(),s=S.token(),a=S.vendors(),c=S.adobeid(i),l=S.events(r),u=S.mapEndpoints(e),d=S.storage(i,o),f=S.utils(n,i),p=S.analytics(d,e.methodTrackingEnabled),h=S.base32(f),_=S.config(c,i,u,f),g=S.url(p,{jslClient:_.client_id,jslVersion:e.sha}),m=S.profileStorage(d,c.preferred_storage),v=S.tokenStorage(d,c.preferred_storage),k=S.eventDispatcher(c,t,l,i,r,f),o=S.http(i,g,f),u=S.imsApis(c,h,_,k,o,i,g,f),h=S.client(_,u,i,f),g=S.tokenManagement(h,_,i);window.adobeIMS=S.adobeIMS(c,p,h,_,t,l,k,o,u,n,i,m,r,d,s,g,v,f,a),window.adobeIMS.version=e.version;f=S.susiButtons(window.adobeIMS,f);S.optimizations(window.adobeIMS,c.optimizations,r),window.adobeIMS.config=_,window.adobeIMS.IMSAPIs=_.api,window.adobeIMS._initOnDependencyLoad(),f.attachListeners()},S.bootstrap()}({});

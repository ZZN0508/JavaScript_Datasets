!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Scout=t():e.Scout=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=17)}([function(e,t,n){"use strict";t.a={base:{ignorePath:[/mtop\.youku.aio\.collector\.alarm/,/^\/alilog\//],ignoreHost:[/\.baidu\.com$/,/^alarm\.youku\.com$/,/retcode\./,/\.mmstat\.com$/,/azhimalayanvh\.com$/,/\.aliapp\.org$/,/\.tbcache\.com$/,/valipl\.cp31\.ott\.cibntv\.net$/,/ykugc\.cp31\.ott\.cibntv\.net$/,/valipl-vip\.cp31\.ott\.cibntv\.net$/],ignoreMsg:[/^Script\serror\.$/,/^ResizeObserver\sloop\slimit\sexceeded$/],jsonpHost:[/acs\.youku\.com$/,/heyi-acs\.cp31\.ott\.cibntv\.net$/,/heyi-acs\.cp12\.wasu\.tv$/,/acs\.m\.taobao\.com$/,/mtop\.damai\.cn$/],ownHost:[/\.youku\.com$/,/\.cibntv\.net$/,/\.wasu\.tv$/],performanceExt:["fmp"],alarmExt:["page_type","third_uuid","alarm_mark"],urlKeys:["scout_disable","dev","page_type","sample","scout_auto_disable"],loadTimeout:5e3,apiTimeout:5e3,alarmGather:500,alarmMaxNum:24},set:{console:["info"],sampleRate:1,bu:"youku",code:"7001",ignorePath:[],ignoreHost:[],autoEnable:!0,alarmEnable:!0,outEnable:!0,spa:!1,loadTimeout:5e3,apiTimeout:5e3,alarmGather:500,pathKeys:[]},ext:{performance:{},alarm:{alarm_mark:"v19"},pageTypes:[],msg:{}},state:{}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r={performance:"performance_fe",jsError:"jsError",loadError:"loadError",loadTimeout:"loadTimeout",unhandledrejection:"unhandledrejection",apiError:"apiError",apiTimeout:"apiTimeout",socketError:"socketError",alarm:"alarm_fe"},o={dns:["domainLookupEnd","domainLookupStart"],tcp:["connectEnd","connectStart"],ssl:["connectEnd","secureConnectionStart"],ttfb:["responseStart","requestStart"],trans:["responseEnd","responseStart"],dom:["domInteractive","responseEnd"],res:["loadEventStart","domContentLoadedEventEnd"],firstbyte:["responseStart","domainLookupStart"],tti:["domInteractive","fetchStart"],ready:["domContentLoadedEventEnd","fetchStart"],load:["loadEventStart","fetchStart"]},i={keys:["ttfb","firstbyte","dom","ready","res","load","fcp","fmp"],regex:/^(1|2)\d{4}$|^0$|^([1-9]\d{0,3})$/},a={key:"performance_state",dr_item:"ready",dr_val:["1s&2s&3s&4s&5s","2s&3s&4s&5s","3s&4s&5s","4s&5s","5s"],fp_item:"fmp",fp_val:["1f&2f&3f&4f&5f","2f&3f&4f&5f","3f&4f&5f","4f&5f","5f"],bad:"bad"}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a});var r=n(0),o={},i=function(e){for(var t=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,n={};t.exec(e);)n[RegExp.$1]=RegExp.$2;return n},a=function(){var e=r.a.set.pathKeys;if(!e.length)return"";var t=[],n=window&&window.location||{},a=n.href||"https://error.com/url?get=false";try{var s=new URL(a).searchParams;e.forEach(function(e){var n=s.get(e);n&&t.push("".concat(e,"=").concat(n))})}catch(r){var c=i(n.search);e.forEach(function(e){var n=c[e];n&&t.push("".concat(e,"=").concat(n))})}var u=t.length?"?"+t.join("&"):"";return o.page_name+=u,u},s=function(){var e=window&&window.location||{},t=e.href||"https://error.com/url?get=false",n=e.origin||"".concat(e.protocol,"//").concat(e.hostname).concat(e.port?":"+e.port:"");o.page_url=t,o.port=e.port,o.page_title=document.title,o.page_name=n+e.pathname;try{var s=new URL(t).searchParams;r.a.base.urlKeys.forEach(function(e){o[e]=s.get(e)})}catch(t){var c=i(e.search);r.a.base.urlKeys.forEach(function(e){o[e]=c[e]})}return r.a.set.pathKeys.length&&a(),o};s(),t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o=function(e,t){return e.reduce(function(e,n){return e||n.test(t)},!1)};t.b=function(e,t,n){var i,a,s=r.a.set[t]||r.a.base[t];try{var c=new URL(e);i=c.hostname,a=c.pathname}catch(t){var u=(e||"-").match(/^(http|https|\/\/):\/\/([^\/:]*):?(\d*)(\/[^\?\#]*)/);i=u&&u[2]||"-",a=u&&u[4]||"-"}return o(s,n||"ignoreHost"===t||"jsonpHost"===t?i:a)}},function(e,t,n){"use strict";(function(e,n){function r(e){return"undefined"===e}t.__esModule=!0,t.isQuickApp=t.isWeChatMiniProgram=t.isByteDanceMicroApp=t.isMiniApp=t.isKraken=t.isWeex=t.isNode=t.isWeb=void 0;var o=!r(typeof window)&&"onload"in window;t.isWeb=o;var i=!r(typeof e)&&!(!e.versions||!e.versions.node);t.isNode=i;var a=!r(typeof WXEnvironment)&&"Web"!==WXEnvironment.platform;t.isWeex=a;var s=!r(typeof __kraken__);t.isKraken=s;var c=!r(typeof my)&&null!==my&&!r(typeof my.alert);t.isMiniApp=c;var u=!r(typeof tt)&&null!==tt&&!r(typeof tt)&&!r(tt.showToast);t.isByteDanceMicroApp=u;var p=!(u||r(typeof wx)||null===wx||r(typeof wx.login)&&r(typeof wx.miniProgram));t.isWeChatMiniProgram=p;var l=!r(typeof n)&&null!==n&&!r(typeof n.callNative)&&!a;t.isQuickApp=l}).call(this,n(14),n(15))},function(e,t,n){"use strict";var r={isFunction:function(e){return"function"==typeof e},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}};t.a=r},function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"a",function(){return O}),n.d(t,"c",function(){return T});var r=n(1);function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){var t=("object"===("undefined"==typeof window?"undefined":o(window))&&window.performance||{}).timing;if(t){var n=e();Object.keys(r.b).map(function(e,o){var i=r.b[e];n[e]=t[i[0]]-(t[i[1]]||t[i[0]])});var i=r.c.keys.reduce(function(e,t){return e||!r.c.regex.test(n[t])},!1),a=n[r.d.dr_item]||0,s=n[r.d.fp_item]||0,c=parseInt(a/1e3),u=parseInt(s/1e3);return n[r.d.key]="dr&"+(r.d.dr_val[c]||"dr"+r.d.bad)+(s?"&fp&"+(r.d.fp_val[u]||"fp"+r.d.bad):""),!i&&n||!1}},a=n(3),s=n(2),c=n(0),u=n(5);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=c.a.base,f=c.a.set,d=c.a.ext,m="object"===("undefined"==typeof window?"undefined":p(window))&&window.addEventListener,y={},g={};y[r.a.loadError]=[],y[r.a.apiError]=[],y[r.a.jsError]=[],y[r.a.unhandledrejection]=[],g[r.a.loadError]=[],g[r.a.apiError]=[],g[r.a.jsError]=[],g[r.a.unhandledrejection]=[];var h=!1,v=f.alarmGather,b=!1,_=function(e,t,n){var r="".concat(e.api||"").concat(e.message||"").concat(e.filename||""),o=r&&u.a.isString(r);if(!(o&&g[t].indexOf(r)>-1))return o&&g[t].push(r),!n&&y[t].push(e),!0},w=function(e,t,n){_(e,t)&&(g["".concat(t,"_set")]||(g["".concat(t,"_set")]=!0,setTimeout(function(){var e=y[t],r=e.length;r&&n(1===r?e[0]:e,t),y[t]=[],g["".concat(t,"_set")]=!1},+v||l.alarmGather)))},E=function(e){m&&e&&window.addEventListener("error",function(t){try{!function(t){var n,o={},i=t.target&&t.target.localName;if(!i||"link"!==i&&"script"!==i&&"img"!==i){if(i)return;if(b&&Object(a.a)(l.ignoreMsg,t.message||""))return;n=r.a.jsError,o={filename:t.filename||"",colno:t.colno,lineno:t.lineno,message:t.message,stack:t.error&&t.error.stack||""}}else{var c=t.target.href||t.target.src;if(!c||c===s.a.page_url)return;n=r.a.loadError;var u=Object(a.b)(c,"ignorePath"),p=Object(a.b)(c,"ignoreHost"),f=Object(a.b)(c,"jsonpHost");if(u||p)return;f?(n=r.a.apiError,o={api:c.replace(/(#|\?).*/,""),url:c,cost:0,type:"jsonp",method:"GET",params:"",status:"",statusText:"load error"}):"video"===i?(n=r.a.jsError,o={filename:c,tag:i,message:t.target.error}):o={filename:c,tag:i,message:"load error"}}v&&!h&&_(o,n),v&&h&&w(o,n,e),!v&&_(o,n,!0)&&e(o,n),b=!0}(t)}catch(t){}},!0)},S=function(e){m&&e&&window.addEventListener("unhandledrejection",function(t){try{!function(t){var n=r.a.unhandledrejection,o=t.reason instanceof Error?t.reason.toString():t.reason,i=void 0;try{i=t.reason&&t.reason.stack}catch(t){}var a={message:o,stack:i};v&&!h&&_(a,n),v&&h&&w(a,n,e),!v&&_(a,n,!0)&&e(a,n)}(t)}catch(t){}},!0)},O=function(e){m&&e&&v&&window.addEventListener("DOMContentLoaded",function(t){try{h=!0,Object.keys(y).map(function(t){var n=y[t],r=n.length;r&&e(1===r?n[0]:n,t),y[t]=[]})}catch(t){h=!0}},!0)},T=function(e,t,n){m&&window.addEventListener("load",function(o){try{!function(o){h=!0;var a=r.a.performance,s=i(n);s&&e&&e(s,a),d.performance.over=!0,t&&e&&t(e)}()}catch(o){h=!0}},!0)}},function(e,t,n){"use strict";var r=1,o=function(e){r=1===r?function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1;new RegExp("MSIE (\\d+\\.\\d+);").test(e);var n=parseFloat(RegExp.$1);return t&&9===n}():r;var t={};window.XMLHttpRequest?(t=r?new XDomainRequest:new XMLHttpRequest).withCredentials=!0:t=ActiveXObject("Microsoft.XMLHTTP"),"GET"==(e.length>2048?"POST":"GET")&&(t.open("GET","https://alarm.youku.com/api/sendAlarm?alarmInfo="+encodeURIComponent(e),!0),t.send(null))},i=function(e){var t="https://alarm.youku.com/api/sendAlarm",n=e.length<2048?"GET":"POST",r="GET"===n;if(r||!(e.length>6096)){var o="alarmInfo="+encodeURIComponent(e);t+=r?"?".concat(o):"";var i={method:n,credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o};r&&delete i.body,fetch(t,i).catch(function(e){})}};t.a=function(e){window.fetch?i(e):o(e)}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={console:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";if("object"===("undefined"==typeof window?"undefined":r(window))){window.console=window.console||{};var n=console[t]||function(){};console[t]=function(){n.apply(this,arguments);try{e&&e(arguments[0],!1)}catch(e){}}}})};t.a=o},function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(0);function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=i.a.set,c=i.a.base,u=[],p="object"===("undefined"==typeof window?"undefined":a(window))&&window.XMLHttpRequest;function l(e){var t=new CustomEvent(e,{detail:this});window.dispatchEvent(t)}function f(){var e=new p;return e.addEventListener("abort",function(){l.call(this,"ajaxAbort")},!1),e.addEventListener("error",function(){l.call(this,"ajaxError")},!1),e.addEventListener("load",function(){l.call(this,"ajaxLoad")},!1),e.addEventListener("loadstart",function(){l.call(this,"ajaxLoadStart")},!1),e.addEventListener("progress",function(){l.call(this,"ajaxProgress")},!1),e.addEventListener("timeout",function(){l.call(this,"ajaxTimeout")},!1),e.addEventListener("loadend",function(){l.call(this,"ajaxLoadEnd")},!1),e.addEventListener("readystatechange",function(){l.call(this,"ajaxReadyStateChange")},!1),e}t.a=function(e){if(p){!function(){if("function"!=typeof window.CustomEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}();var t=[],n=[],i=[],a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t){try{n.push({method:e,url:t,startTime:+new Date})}catch(e){}a&&a.apply(this,arguments)};var l=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(e){try{i.push(e)}catch(e){}l&&l.apply(this,arguments)},window.XMLHttpRequest=f,window.addEventListener("ajaxLoadStart",function(e){var n={timeStamp:+new Date,detail:e.detail};t.push(n)}),window.addEventListener("ajaxLoadEnd",function(a){for(var p=0;p<t.length;p++){var l=t[p];if(l.detail.status>0){var f=+new Date-l.timeStamp,d=l.detail.status,m=(d<200||d>=300)&&304!=d?r.a.apiError:f>(s.apiTimeout||c.apiTimeout)?r.a.apiTimeout:null;if(m){var y=l.detail.responseURL,g=(y||"").replace(/(#|\?).*/,"");if(!g||u.indexOf(g)>-1)return;var h=Object(o.b)(g,"ignorePath"),v=Object(o.b)(g,"ignoreHost");if(h||v)return;var b={api:g,cost:f,type:"Xhr",method:n[p]&&n[p].method||"GET",status:d,url:y,statusText:l.detail.statusText,params:i[p]};e&&e(b,m),u.push(g)}n.splice(p,1),t.splice(p,1),i.splice(p,1);break}}})}}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(3);function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=o.a.set,c=o.a.base,u=[];t.a=function(e){var t="object"===("undefined"==typeof window?"undefined":a(window))&&window.fetch;t&&(window.fetch=function(n,o){var a=+new Date;return t.apply(this,arguments).then(function(t){try{!function(e,t,n,o){var a=t.url,p=(a||"").replace(/(#|\?).*/,"");if("opaque"!==t.type&&p&&!(u.indexOf(p)>-1)){var l=Object(i.b)(p,"ignorePath"),f=Object(i.b)(p,"ignoreHost");if(!l&&!f){var d=+new Date-e,m=+t.status,y=(m<200||m>=300)&&304!=m?r.a.apiError:d>(s.apiTimeout||c.apiTimeout)?r.a.apiTimeout:null;if(y){var g={api:p,cost:d,type:"fetch",method:n&&n.method||"GET",status:m,url:a,statusText:t.statusText,params:n&&n.body||""};o&&o(g,y),u.push(p)}}}}(a,t,o,e)}catch(e){}return t})})}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(3);function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=o.a.set,c=o.a.base;t.a=function(e){var t="object"===("undefined"==typeof window?"undefined":a(window))&&window.performance||{},n=t.getEntriesByType&&t.getEntriesByType("resource")||[],o=+s.loadTimeout||c.loadTimeout,u=+s.apiTimeout||c.apiTimeout,p=[],l=[];n.forEach(function(e){var t=e.duration,n=e.nextHopProtocol,r=e.initiatorType,a=e.name,s=Object(i.b)(a,"ignorePath")||Object(i.b)(a,"ignoreHost"),c=!s&&"script"===r&&t>u&&Object(i.b)(a,"jsonpHost");c&&l.push({api:a.replace(/(#|\?).*/,""),url:a,cost:t,type:"jsonp",method:"GET",params:"",status:"",statusText:"loadTimeout"}),!s&&!c&&t>o&&p.push({duration:t,initiatorType:r,name:a,nextHopProtocol:n})}),p.length&&e&&e(p,r.a.loadTimeout),l.length&&e&&e(l,r.a.apiTimeout)}},function(e,t,n){"use strict";t.a=function(){if(!(window.performance&&window.performance.timing&&window.performance.getEntriesByType&&window.requestAnimationFrame&&window.MutationObserver))return{};var e=window.performance.timing,t=!0,n=0,r=+new Date,o=[{score:0,t:r}],i=window.innerHeight;var a=new window.MutationObserver(function(){window.requestAnimationFrame(function(){var e=+new Date,r=function e(t,r,o){var a=t.children,s=a&&a.length||0,c=0,u=t.tagName;if("SCRIPT"!==u&&"STYLE"!==u&&"META"!==u&&"HEAD"!==u&&(t.getBoundingClientRect&&t.getBoundingClientRect().top<i&&(c+=r*s),s))for(var p=0;p<s;p++)c+=e(a[p],r+1,o);return n=o?c:n,c}(document,1,t);t=!1,o.push({score:r,t:e})})});a.observe(document,{childList:!0,subtree:!0});return function(){a.disconnect();for(var t=[],i=1;i<o.length;i++)o[i].t!==o[i-1].t&&t.push({t:o[i].t,rate:o[i].score-o[i-1].score});t.sort(function(e,t){return t.rate-e.rate});var s=n>300;if(t.length){var c=e.navigationStart||e.fetchStart,u=performance.getEntriesByType("paint")&&performance.getEntriesByType("paint")[1]&&performance.getEntriesByType("paint")[1].startTime||0,p=s?r-c:t[0].t-c;return p=window.__USE_SSR_TIME__||p,u||(t.forEach(function(e){u=e.rate>0?e.t-c:0}),u=u||t[t.length-1].t-c),{fcp:parseInt(u),fmp:u>p?parseInt(u):p}}return{}}}},function(e,t,n){"use strict";var r=function(){if(document.currentScript)return document.currentScript;for(var e,t=document.getElementsByTagName("script"),n=0;e=t[n++];)if("interactive"===e.readyState)return e;return null},o=function(e){for(var t=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,n={};t.exec(e);)n[RegExp.$1]=RegExp.$2;return n};t.a=function(e){var t=r();if("probe_current"===t.getAttribute("id")){var n={},i=t.getAttribute("exparams"),a=i?o(i):{};["bu","code","sampleRate"].map(function(e){var r=t.getAttribute(e),o=i&&a[e];(r||o)&&(n[e]=r||o)}),n.bu&&n.code&&new e(n)}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],p=!1,l=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!p){var e=s(f);p=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||p||s(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){!function(e,t){function n(){var e={},t=new p(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function o(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function i(e){return"[object Object]"=={}.toString.call(e)}function a(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function s(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function c(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function u(e){this.id=""+(new Date).getTime()+ ++h,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=d.slice(0)}var p=e.Promise,l=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var f={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},d=[],m={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),f.mainDomain=i,f.subDomain=a,f.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(f.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(f.AliAppName=r[1],f.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(f.AliAppName="AMAP",f.AliAppVersion=o[1])}();var y=/[Android|Adr]/.test(e.navigator.userAgent),g="AP"===f.AliAppName&&c(f.AliAppVersion,"10.1.2")>=0||"KB"===f.AliAppName&&c(f.AliAppVersion,"7.1.62")>=0||y&&"AMAP"===f.AliAppName&&c(f.AliAppVersion,"1.0.1")>=0,h=0;u.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},u.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},u.prototype.__processRequestType=function(n){var r=this,o=this.params,a=this.options;if(!0===f.H5Request&&(a.H5Request=!0),!0===f.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!g&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::ç¼ºå°‘WindVaneçŽ¯å¢ƒ");if(g&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::æ”¯ä»˜å®é€šé“æœªå‡†å¤‡å¥½ï¼Œæ”¯ä»˜å®è¯·è§ https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if(void 0===a.WindVaneRequest&&void 0===a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:a.H5Request=!0,g){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(i(o.data))a.WindVaneRequest=!0;else try{i(JSON.parse(o.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==f.AliAppName||o.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),n?n().then(function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&g&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!g||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return g&&i(o.data)&&(o.data=JSON.stringify(o.data)),f.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);void 0===a.retJson.api&&void 0===a.retJson.v&&(a.retJson.api=o.api,a.retJson.v=o.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}}):void 0};var v="_m_h5_c",b="_m_h5_tk";u.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!o&&g&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(r.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},u.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&a(v)?e.token=a(v).split(";")[0]:e.token=e.token||a(b),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},u.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},u.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?l.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(s(v,n.pageDomain,"*"),s(b,n.mainDomain,n.subDomain),s("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=m.TOKEN_EXPIRED}}):void e()},u.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),s=(new Date).getTime(),c=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),s),r)}function o(e,r,o,i,a,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),s),r)}function i(e,r,o,i,a,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),s),r)}function a(e,r,o,i,a,s,c){return n(t(e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,p,l,f,d,m,y,g,h;for(h=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),d=1732584193,m=4023233417,y=2562383102,g=271733878,c=0;c<h.length;c+=16)u=d,p=m,l=y,f=g,m=a(m=a(m=a(m=a(m=i(m=i(m=i(m=i(m=o(m=o(m=o(m=o(m=r(m=r(m=r(m=r(m,y=r(y,g=r(g,d=r(d,m,y,g,h[c+0],7,3614090360),m,y,h[c+1],12,3905402710),d,m,h[c+2],17,606105819),g,d,h[c+3],22,3250441966),y=r(y,g=r(g,d=r(d,m,y,g,h[c+4],7,4118548399),m,y,h[c+5],12,1200080426),d,m,h[c+6],17,2821735955),g,d,h[c+7],22,4249261313),y=r(y,g=r(g,d=r(d,m,y,g,h[c+8],7,1770035416),m,y,h[c+9],12,2336552879),d,m,h[c+10],17,4294925233),g,d,h[c+11],22,2304563134),y=r(y,g=r(g,d=r(d,m,y,g,h[c+12],7,1804603682),m,y,h[c+13],12,4254626195),d,m,h[c+14],17,2792965006),g,d,h[c+15],22,1236535329),y=o(y,g=o(g,d=o(d,m,y,g,h[c+1],5,4129170786),m,y,h[c+6],9,3225465664),d,m,h[c+11],14,643717713),g,d,h[c+0],20,3921069994),y=o(y,g=o(g,d=o(d,m,y,g,h[c+5],5,3593408605),m,y,h[c+10],9,38016083),d,m,h[c+15],14,3634488961),g,d,h[c+4],20,3889429448),y=o(y,g=o(g,d=o(d,m,y,g,h[c+9],5,568446438),m,y,h[c+14],9,3275163606),d,m,h[c+3],14,4107603335),g,d,h[c+8],20,1163531501),y=o(y,g=o(g,d=o(d,m,y,g,h[c+13],5,2850285829),m,y,h[c+2],9,4243563512),d,m,h[c+7],14,1735328473),g,d,h[c+12],20,2368359562),y=i(y,g=i(g,d=i(d,m,y,g,h[c+5],4,4294588738),m,y,h[c+8],11,2272392833),d,m,h[c+11],16,1839030562),g,d,h[c+14],23,4259657740),y=i(y,g=i(g,d=i(d,m,y,g,h[c+1],4,2763975236),m,y,h[c+4],11,1272893353),d,m,h[c+7],16,4139469664),g,d,h[c+10],23,3200236656),y=i(y,g=i(g,d=i(d,m,y,g,h[c+13],4,681279174),m,y,h[c+0],11,3936430074),d,m,h[c+3],16,3572445317),g,d,h[c+6],23,76029189),y=i(y,g=i(g,d=i(d,m,y,g,h[c+9],4,3654602809),m,y,h[c+12],11,3873151461),d,m,h[c+15],16,530742520),g,d,h[c+2],23,3299628645),y=a(y,g=a(g,d=a(d,m,y,g,h[c+0],6,4096336452),m,y,h[c+7],10,1126891415),d,m,h[c+14],15,2878612391),g,d,h[c+5],21,4237533241),y=a(y,g=a(g,d=a(d,m,y,g,h[c+12],6,1700485571),m,y,h[c+3],10,2399980690),d,m,h[c+10],15,4293915773),g,d,h[c+1],21,2240044497),y=a(y,g=a(g,d=a(d,m,y,g,h[c+8],6,1873313359),m,y,h[c+15],10,4264355552),d,m,h[c+6],15,2734768916),g,d,h[c+13],21,1309151649),y=a(y,g=a(g,d=a(d,m,y,g,h[c+4],6,4149444226),m,y,h[c+11],10,3174756917),d,m,h[c+2],15,718787259),g,d,h[c+9],21,3951481745),d=n(d,u),m=n(m,p),y=n(y,l),g=n(g,f);return(s(d)+s(m)+s(y)+s(g)).toLowerCase()}(r.token+"&"+s+"&"+a+"&"+n.data),u={jsv:"2.6.0",appKey:a,t:s,sign:c},p={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){void 0===u[e]&&void 0===p[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(u[e]=n[e])}),n.ext_querys&&Object.keys(n.ext_querys).forEach(function(e){u[e]=n.ext_querys[e]}),r.getJSONP?u.type="jsonp":r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?u.type="jsonp":(r.getJSON||r.postJSON)&&(u.type="json"))),!0===r.useJsonpResultType&&"originaljson"===u.type&&delete u.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),r.querystring=u,r.postdata=p,r.path=i}t()},u.prototype.__processUnitPrefix=function(e){e()};var _=0;u.prototype.__requestJSONP=function(e){function t(e){if(u&&clearTimeout(u),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===e)window[c]=function(){window[c]=void 0;try{delete window[c]}catch(e){}};else{window[c]=void 0;try{delete window[c]}catch(e){}}}var r=n(),i=this.params,a=this.options,s=i.timeout||2e4,c="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++_,u=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),t("TIMEOUT")},s);a.querystring.callback=c;var p=document.createElement("script");return p.src=a.path+"?"+o(a.querystring)+"&"+o(a.postdata),p.async=!0,p.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")},window[c]=function(){a.results=Array.prototype.slice.call(arguments),t(),r.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(p),r.promise},u.prototype.__requestJSON=function(t){function r(e){l&&clearTimeout(l),"TIMEOUT"===e&&u.abort()}var i=n(),s=this.params,c=this.options,u=new e.XMLHttpRequest,p=s.timeout||2e4,l=setTimeout(function(){t(c.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),r("TIMEOUT")},p);c.CDR&&a(v)&&(c.querystring.c=decodeURIComponent(a(v))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,o=u.status;if(o>=200&&300>o||304==o){r(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,c.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::è§£æžJSONå¤±è´¥")}}else r("ABORT"),t(c.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")}};var f,d,m=c.path+"?"+o(c.querystring);c.getJSON?(f="GET",m+="&"+o(c.postdata)):c.postJSON&&(f="POST",d=o(c.postdata)),u.open(f,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var y=s.ext_headers||s.headers;if(y)for(var g in y)u.setRequestHeader(g,y[g]);return u.send(d),i.promise},u.prototype.__requestWindVane=function(e){function r(e){a.results=[e],o.resolve()}var o=n(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,p=a.postJSON?1:0,l=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?l="originaljson":"string"===i.valueType&&(l="")),!0===a.useJsonpResultType&&(l="");var f,d,m="https"===location.protocol?1:0,y=i.isSec||0,g=i.sessionOption||"AutoLoginOnly",h=i.ecode||0,v=i.ext_headers||{},b=i.ext_querys||{};f=2*(d=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(y=i.secType);var _={api:c,v:u,post:String(p),type:l,isHttps:String(m),ecode:String(h),isSec:String(y),param:JSON.parse(s),timer:d,sessionOption:g,ext_headers:v,ext_querys:b};i.ttid&&!0===a.dangerouslySetWVTtid&&(_.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(_,i.dangerouslySetWindvaneParams);var w="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(w=i.customWindVaneClassName),t.windvane.call(w,"send",_,r,r,f),o.promise},u.prototype.__requestAlipay=function(t){var r=n(),o=this.params,a=this.options,s={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!a.postJSON};i(o.data)||(o.data=JSON.parse(o.data)),s.data=o.data,o.ttid&&!0===a.dangerouslySetWVTtid&&(s.ttid=o.ttid),(a.getJSON||a.postJSON||a.getOriginalJSONP)&&(s.type="originaljson"),void 0!==o.valueType&&("original"===o.valueType?s.type="originaljson":"string"===o.valueType&&delete s.type),!0===a.useJsonpResultType&&delete s.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(s,o.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(c=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,s,function(e){a.results=[e],r.resolve()}),r.promise},u.prototype.__processRequest=function(e,t){var n=this;return l.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return g?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::é”™è¯¯çš„è¯·æ±‚ç±»åž‹")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(v,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=m.SUCCESS:t.retType=m.ERROR,e.retJson=t})},u.prototype.__sequence=function(e){var t=this,r=[],o=[];e.forEach(function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),c=n();r.push(function(){return s=n(),(a=i.call(t,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),o.push(function(e){return c.resolve(e),a})}});for(var i,a=l;i=r.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var w=function(e){e()},E=function(e){e()};u.prototype.request=function(n){var o=this;if(this.options=r(n||{},f),!p){var i="å½“å‰æµè§ˆå™¨ä¸æ”¯æŒPromiseï¼Œè¯·åœ¨windowså¯¹è±¡ä¸ŠæŒ‚è½½Promiseå¯¹è±¡";throw t.mtop={ERROR:i},new Error(i)}var a=p.resolve([w,E]).then(function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])}).then(function(){var e=o.options.retJson;return e.retType!==m.SUCCESS?p.reject(e):o.options.successCallback?void o.options.successCallback(e):p.resolve(e)}).catch(function(e){var n;return n=e instanceof Error?{ret:[e.message],stack:[e.stack],retJson:m.ERROR}:"string"==typeof e?{ret:[e],retJson:m.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):p.reject(n)});return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),w=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new u(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new u(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new u(e).request(r)},t.mtop.middlewares=d,t.mtop.config=f,t.mtop.RESPONSE_TYPE=m,t.mtop.CLASS=u}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var o=this,i=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/i,u=Math.max(s.height,window.innerHeight)/i;a.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:2147483647","position:"+(c>800?"fixed":"absolute"),"left:0","top:0px","background:"+(c>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var p=document.createElement("div");p.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),p.innerText=t;var l=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),f=document.createElement("img");f.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),f.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),l?(p.appendChild(f),a.appendChild(p)):(f.style.cssText=["position:absolute","width:15px","height:15px","top: 50%;","left: 50%;","margin: -153px 0 0 184px;","cursor: pointer","border:0","z-index:1","overflow:hidden"].join(";"),a.appendChild(f),d.style.cssText=["position:absolute","top:50%","left:50%","margin: -160px 0 0 -210px;","height:320px","min-width:420px","border:0","background:#FFF","overflow:hidden"].join(";")),a.appendChild(d),a.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(a),d.src=r,f.addEventListener("click",function(){o.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop åˆå§‹åŒ–å¤±è´¥ï¼");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var n=this,r=this.options,o=this.params;return e().then(function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::ç¼ºå°‘lib.login");if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::ç”¨æˆ·å–æ¶ˆç™»å½•"):new Error("LOGIN_FAILURE::ç”¨æˆ·ç™»å½•å¤±è´¥")});t.login.goLogin()}})}),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then(function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var c="_m_h5_smt",u=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(c),p=!1;if(!0===i.saveAntiCreepToken&&u)for(var l in u=JSON.parse(u))s[l]&&(p=!0);if(!0===i.saveAntiCreepToken&&u&&!p){for(var l in u)s[l]=u[l];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o(function(o,a){function u(){l.removeEventListener("close",u),e.removeEventListener("message",p),a("USER_INPUT_CANCEL::ç”¨æˆ·å–æ¶ˆè¾“å…¥")}function p(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var f;l.removeEventListener("close",u),e.removeEventListener("message",p),l.hide();try{for(var d in"string"==typeof(f=JSON.parse(decodeURIComponent(r.content)))&&(f=JSON.parse(f)),f)s[d]=f[d];!0===i.saveAntiCreepToken?(document.cookie=c+"="+JSON.stringify(f)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::ç”¨æˆ·è¾“å…¥å¤±è´¥")}}}var l=new r("",t.data.url);l.addEventListener("close",u,!1),e.addEventListener("message",p,!1),l.show()})}})})}(window,window.lib||(window.lib={}))},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(8),i=n(5),a=n(13),s=n(1),c=n(0),u={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"},p={format:function(e){var t=r.isNode||"undefined"==typeof location?"":location.href||"",n=u[e.type||"custom"]||"rx_user_define_err",o=[t.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",n].join("/").toLowerCase();return r.isWeex?encodeURIComponent(o):o}},l=0,f={screen:"undefined"==typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/3.0.7",native:r.isWeex?1:0,isInWindmill:0},d="/jstracker.3";function m(e){if(++l>20&&r.isWeb)return!1;var t=Object.assign({url:p.format(e)},f,e);if(t.sampling=(r.isNode||"undefined"==typeof location?"":location.href).indexOf("jt_debug=1")>-1?1:t.sampling,function(){if(r.isWeb&&"undefined"!=typeof goldlog&&window.JSTracker2&&window.JSTracker2.push)return!0;return!1}())window.JSTracker2.push(t);else if(Math.random()*t.sampling<1)if(r.isWeex){var n;try{n=__weex_require__("@weex-module/userTrack")}catch(e){}var o="undefined"!=typeof __weex_options__&&__weex_options__.weex,i=r.isWeex&&"object"==typeof o&&"windmill"===o.config.container||!1,a=!1;if(i)try{var s=__weex_require__("@weex-module/keyboard");"function"==typeof s.hideKeyboard&&(a=!0)}catch(e){}n.commitEvent&&(i&&a?(t.isInWindmill="weex",n.commitEvent({eventId:"19999",eventid:"19999",name:location.href,pageName:location.href,arg1:d,arg2:"",arg3:"",param:t,params:t})):n.commitEvent(location.href,"19999",d,"","",t))}else r.isWeb&&"undefined"!=typeof goldlog?(t.grey=function(e){if(document&&document.querySelector){var t=document.querySelector('meta[name="'+e+'"]');if(t)return t.getAttribute("content")}return""}("def-grey"),"undefined"!=typeof aplus&&(t=function(e){var t="";if("object"==typeof e)for(var n in e)""!=t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);else t=e;return t}(t)),goldlog.send&&goldlog.send("//gm.mmstat.com"+d,t)):function(){if("undefined"!=typeof my&&my.getSystemInfoSync&&"function"==typeof my.getSystemInfoSync&&("TB"===my.getSystemInfoSync().app||"alipay"===my.getSystemInfoSync().app))return!0;return!1}()&&(t.isInWindmill="web",function(e){my.request&&"function"==typeof my.request?my.request({url:"http://gm.mmstat.com"+d,method:"GET",data:e,dataType:"text"}).catch(function(){}):my.httpRequest&&"function"==typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+d,method:"get",data:e,dataType:"json"})}(t))}var y={report:m,reportError:function(e,t,n){var r={};e&&e instanceof Error&&(r={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(r.reverse1=n),m(r))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",m(e))},setConfig:function(e){e&&e.sampling&&(f.sampling=e.sampling)}};var g,h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};var v,b,_=function(e){return g||(g=my.getSystemInfoSync()),new Promise(function(t,n){var r,o=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:"1"===String(e.ecode),usePost:"POST"===e.type});r=e.data,"[object Object]"!={}.toString.call(r)&&(o.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(o,e.dangerouslySetAlipayParams),"alipay"===g.app||"alipay"===e.miniAppType?((e.originaljsonp||e.json)&&(o.type="originaljson"),void 0!==e.valueType&&("original"===e.valueType?o.type="originaljson":"string"===e.valueType&&delete o.type),!0===e.useJsonpResultType&&delete o.type,my.call("mtop",o,function(e){if(Array.isArray(e.ret)){var r=!0;for(var o in e.ret)/^SUCCESS::/.test(e.ret[o])||(r=!1);r?t(e):n(e)}else n(e)})):(o.success=function(e){t(e)},o.fail=function(e){n(e)},my.sendMtop(o))})};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}if(r.isWeex){try{v=__weex_require__("@weex-module/mtop")}catch(e){}try{b=__weex_require__("@weex-module/windvane")}catch(e){}}else r.isWeb&&("undefined"!=typeof lib&&lib.mtop||n(16));function E(e){var t=e.ret||"";return Array.isArray(t)&&(t=t.join(",")),t.indexOf("SUCCESS")>-1?h.SUCCESS:t.indexOf("TOKEN_EMPTY")>-1||t.indexOf("TOKEN_EXOIRED")>-1?h.TOKEN_EXPIRED:t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1?h.SESSION_EXPIRED:h.ERROR}function S(e,t,n){var o;e.disableTracker||(o=r.isMiniApp?e.miniAppID?"UN_MINIAPP/"+e.miniAppID:"UN_MINIAPP":location.hostname+location.pathname,y.report({url:"//tarzan/error/"+o+"/"+e.api+"/"+e.v,message:JSON.stringify(t),reverse1:n,type:"mtop"}))}function O(e){var t;return e.api&&(t=function(e,t,n){var r;if(e){for(var o in r=[],e)e.hasOwnProperty(o)&&(!t||t.indexOf(o)>-1)&&void 0!==e[o]&&""!==e[o]&&r.push(o+"-"+(n?encodeURIComponent(e[o]):e[o]));r.sort()}else r=[];return r.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+t}var T,x,R=function(e,t,n){function o(){return new Promise(function(t,n){r.isWeex?v?function(e,t,n){if(v.request){r.isWeex&&e.dataType&&/^(original){0,1}jsonp$/.test(e.dataType)&&(e.dataType=e.dataType.replace("jsonp","json"));var o=setTimeout(function(){n({ret:["TIMEOUT::æŽ¥å£è¶…æ—¶"],retType:h.ERROR})},e.timeout||2e4);v.request(e,function(e){clearTimeout(o),e.retType=E(e),e&&e.MP_TIME_OUT?n({ret:["TIMEOUT::æŽ¥å£è¶…æ—¶"],retType:-1}):t(e)},function(e){clearTimeout(o),e.retType=E(e),n(e)})}}(e,t,n):b&&b.call?function(e,t,n){b&&b.call&&(e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),b.call({class:"MtopWVPlugin",method:"send",data:e},function(e){"string"==typeof e&&(e=JSON.parse(e)),e.retType===h.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?t&&t(e):n&&n(e)}))}(e,t,n):n("Windvane & Mtop require error"):r.isWeb?lib.mtop.request(e,function(r){r&&r.ret&&r.ret.length&&"WV_ERR::PARAM_PARSE_ERROR"===r.ret[0]?lib.mtop.H5Request(e,t,n):t(r)},n):r.isMiniApp&&_(e).then(t).catch(n)})}return e&&void 0===e.preventFallback&&(e.preventFallback=!0),new Promise(function(i,a){o().then(function(e){t&&t(e),i(e)}).catch(function(o){if(n=n||t,o&&(o.api||o.v)||(o={api:e.api,v:e.v,data:{},ret:["FAIL::"+(JSON.stringify(o)||"")],retType:-1}),void 0===o.retType&&(o.retType=-1),S(e,o,"0012"),e&&(1==e.ecode||e.preventFallback||r.isMiniApp))return n&&n(o),a(o);(function(e,t){return new Promise(function(n,r){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var o=O(e),i=new XMLHttpRequest;i.open("get",o,!0),i.send(null),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var o=JSON.parse(this.responseText);o&&o.success&&o.result&&!o.result.backup?(S(e,t,"0210"),r(t)):n(o)}catch(n){S(e,t,"0210"),r(t)}else 4==this.readyState&&(S(e,t,"0011"),r(t))}})})(e,o).then(function(e){t(e),i(e)}).catch(function(e){(n=n||t)&&n(e),a(e)})})})},j=function(e,t){r.isWeex||"undefined"!=typeof lib&&lib.mtop&&("string"==typeof e?lib.mtop.config[e]=t:lib.mtop.config=w({},lib.mtop.config,e))},A=n(7),q=!0,k=function(){try{e={prefix:"acs",mainDomain:"youku.com",appKey:"24679788"},(t=window&&window.location&&window.location.host).indexOf("cibn")>0?(e.prefix="heyi-acs",e.mainDomain="cp31.ott.cibntv.net"):t.indexOf("wasu")>0&&(e.prefix="heyi-acs",e.mainDomain="cp12.wasu.tv"),function(e){if(r.isWeex)j("prefix",e.prefix),j("subDomain",""),j("mainDomain",e.mainDomain),T=R;else{var t=lib.mtop.config.mainDomain;-1===t.indexOf("youku")&&-1===t.indexOf("cibntv")&&-1===t.indexOf("wasu")&&(lib.mtop.config.prefix=e.prefix,lib.mtop.config.subDomain="",lib.mtop.config.mainDomain=e.mainDomain),T=lib.mtop.request}}(x=e),q=!1}catch(e){q=!0}var e,t;return q},N=function(e){var t={api:"mtop.youku.aio.collector.alarm",v:"1.0",type:e.length>2048?"post":"get",data:{req:e},appKey:x.appKey,ecode:0,dataType:"json"};T(t).catch(function(t){r.isWeb&&Object(A.a)(e)})},C=n(3),P=n(2);function L(e){"@babel/helpers - typeof";return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=r.isWeex?"weex":r.isKraken?"kraken":"web",H=s.d.key,W=function(){},U=c.a.base,V=c.a.set,F=c.a.ext,$=c.a.state,K=function(e){var t={},n=[];U.alarmExt.forEach(function(r){var o=e[r],i="page_type"===r;if(i&&o){var a=o.split("&");F.pageTypes.concat(a).forEach(function(e){t[e||"-"]||e&&n.push(e),t[e||"-"]=!0}),F.pageTypes=n}var s=i?F.pageTypes.join("&"):o;F.alarm[r]=s||void 0})},X=0,B=function(e,t){if(!(X>=U.alarmMaxNum)){var n,r="".concat(V.bu,"@").concat(V.code),o={client_code:r};o[H]=M;try{var a=i.a.isPlainObject(e);if(t)o.biz_type=t,o[H]+=$[t]?"":"&".concat(t),$[t]=!0,o[H]=t===s.a.performance?"".concat(M,"&").concat(e[H]):o[H],t===s.a.performance&&delete e[H],o.client_msg=t===s.a.performance?JSON.stringify(J(J(J({},e),F.performance),F.msg)):JSON.stringify(J(J({},e),F.msg));else{if(!a)return;if(!e.alarm_type){if("performance"===e.extType){if(F.performance.over)return;return void U.performanceExt.forEach(function(t){F.performance[t]=e[t]})}return"alarm"===e.extType?void K(e):"msg"===e.extType?(F.msg=J(J({},F.msg),e),void delete F.msg.extType):void 0}var c=e.Error instanceof Error?e.Error.toString():void 0,u=c||"object"!==L(e.client_msg)?J({msg:e.client_msg},F.msg):J(J({},e.client_msg),F.msg);u=c?{client_msg:u,_Error:c}:u,o.client_msg=JSON.stringify(u),o.biz_type=s.a.alarm,o.alarm_type=e.alarm_type,o.alarm_code=e.alarm_code||o.alarm_type;var p=e.alarmExt;p&&i.a.isPlainObject(p)&&K(p)}o.client_time=+new Date;var l=V.spa?Object(P.b)():P.a;o.page_name=l.page_name,o.page_url=l.page_url,o.page_title=l.page_title,n=JSON.stringify(J(J({},o),F.alarm))}catch(e){n=JSON.stringify({biz_type:s.a.alarm,client_code:r,alarm_type:"alarmCatch",client_time:+new Date,client_msg:e.toString(),page_name:(V.spa?Object(P.b)():P.a).page_name,page_url:(V.spa?Object(P.b)():P.a).page_url})}return setTimeout(function(){try{W(n),X++}catch(e){}},0)}},G=n(9),Y=n(10),z=n(11),Z=n(12),Q=function(){"function"!=typeof Object.assign&&(Object.assign=function(e){if(!e)return{};e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1})},ee=n(6);function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{!window.__scout_probe_alarm__&&this.init(t||{})}catch(e){}}var t,n,a;return t=e,(n=[{key:"init",value:function(e){Q();var t=Object.assign(c.a.set,e);c.a.set.alarmHost=(e.alarmHost||[]).concat(c.a.base.alarmHost);var n=Object(C.b)(P.a.page_url,"ownHost",!0),a=function(){var e=Object(C.b)(P.a.page_url,"ownHost",!0),t="Mtop"===V.apiType||"Http"===V.apiType?V.apiType:"Mtop",n="Mtop"===(t=r.isWeex?"Mtop":e&&window.Promise?t:"Http")&&k();return W="Mtop"===t?N:A.a,{mtopInitCatch:n,api_type:t}}(),s=P.a.sample;if(t.sampleRate=s?1:t.sampleRate,!(!t.alarmEnable||!n&&!t.outEnable||P.a.scout_disable||P.a.dev||P.a.port||"Mtop"===a.api_type&&a.mtopInitCatch||t.sampleRate<Math.random())){c.a.set.ignoreHost=(e.ignoreHost||[]).concat(c.a.base.ignoreHost),c.a.set.ignorePath=(e.ignorePath||[]).concat(c.a.base.ignorePath),c.a.set.jsonpHost=(e.jsonpHost||[]).concat(c.a.base.jsonpHost),t.console.forEach(function(e){o.a.console(B,e)}),window.__scout_probe_alarm__=!0,i.a.isArray(t.pathKeys)&&t.pathKeys.length&&Object(P.c)();var u=i.a.isPlainObject(t.alarmExt)?t.alarmExt:{};c.a.base.alarmExt.forEach(function(e){var t="page_type"===e;t&&P.a.page_type&&c.a.ext.pageTypes.push(P.a.page_type),t&&u[e]&&c.a.ext.pageTypes.push(u[e]);var n=t?c.a.ext.pageTypes.join("&"):u[e];c.a.ext.alarm[e]=n||c.a.ext.alarm[e]}),c.a.ext.msg=i.a.isPlainObject(t.msgExt)?t.msgExt:t.msgExt?{msgExt:t.msgExt}:{},r.isWeex||r.isKraken||!t.autoEnable||P.a.scout_auto_disable||(Object(ee.b)(B),Object(ee.d)(B),Object(ee.a)(B),Object(ee.c)(B,z.a,Object(Z.a)()),Object(G.a)(B),Object(Y.a)(B),window.__scout_probe_existed__=!0)}}},{key:"alarm",value:function(e){B(e,!1)}}])&&te(t.prototype,n),a&&te(t,a),e}();try{Object(a.a)(ne)}catch(e){}t.default=ne}]).default});
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a});var c=n(17),i=n(62);function r(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).properties,n=["transitionend","webkitTransitionEnd","mozTransitionEnd","oTransitionEnd"],i={},r=[];function a(t){"any"in i?i.any(t):t.propertyName in i&&i[t.propertyName](t)}(void 0===t?["any"]:t).forEach(function(t){var e,n=new Promise(function(t){return e=t});r.push(n),i[t]=e}),n.forEach(function(t){return e.addEventListener(t,a)});t=Promise.all(r);return t.unsubscribe=function(){n.forEach(function(t){return e.removeEventListener(t,a)})},t.then(t.unsubscribe),t}function a(t,e,n){var i=t.getBoundingClientRect(),r=c.a.getViewportHeight(),a=0-(e=e||0),o=r+e,s={top:i.top-(n=n||0),bottom:i.bottom-n};return{isHidden:function(){return!t.offsetParent},isWithinViewport:function(){return 0<=s.top&&s.bottom<=r},isWithinLookahead:function(){return a<=s.top&&s.bottom<=o},isPartiallyInViewport:function(){return 0<=s.top&&s.top<=r||0<s.bottom&&s.bottom<r},isPartiallyInLookahead:function(){return 0<s.top?s.top<e+r:0<s.bottom||Math.abs(s.bottom)<e},isNearBottom:function(){return parseInt(i.bottom,10)<=e}}}n.d(e,"a",function(){return i.a}),"undefined"!=typeof document&&(function(){if(!(document.createElementNS("http://www.w3.org/2000/svg","g").classList instanceof DOMTokenList))try{Object.defineProperty(SVGElement.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")||Object.getOwnPropertyDescriptor(Element.prototype,"classList"))}catch(t){}}(),function(){try{var t=document.createElement("div");if(t.classList.add("foo","bar"),t.classList.contains("bar"))return;var r=DOMTokenList.prototype.add,a=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(t){return r.call(e,t)})},DOMTokenList.prototype.remove=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(t){return a.call(e,t)})}}catch(t){}}()),"undefined"!=typeof NodeList&&(NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach)),e.b={stringToHTML:function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes},arrayFromNodeList:function(t){return[].slice.call(t)},withNodeList:function(t,e){return((t=(t="string"==typeof t?this.stringToHTML(t):t)instanceof HTMLElement?[t]:t)instanceof NodeList||Array.isArray(t))&&Array.prototype.slice.call(t).forEach(function(t){return e(t)}),this},append:function(e,t){return void 0===t&&(t=e,e=document.body),this.withNodeList(t,function(t){return e.appendChild(t)})},prepend:function(e,t){void 0===t&&(t=e,e=document.body);var n=e.children[2<arguments.length&&void 0!==arguments[2]?arguments[2]:0];return this.withNodeList(t,function(t){return e.insertBefore(t,n)})},remove:function(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){t instanceof Element&&t.parentNode&&e.push(t.parentNode.removeChild(t))}),e},find:function(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))},findOne:function(t,e){return t.querySelector(e)},closest:function(t,e){return Object(i.a)(t,e,!0)},addClass:function(t,e){Array.isArray(t)||(t=[t]);var n=e.split(" ");t.forEach(function(e){return n.forEach(function(t){return e.classList.add(t)})})},removeClass:function(t,e){Array.isArray(t)||(t=[t]);var n=e.split(" ");t.forEach(function(e){return n.forEach(function(t){return e.classList.remove(t)})})},hasClass:function(t,e){return(t=!Array.isArray(t)?[t]:t).some(function(t){return t.classList.contains(e)})},toggleClass:function(t,e){"string"==typeof(t=!Array.isArray(t)?[t]:t)&&(t=this.find(t)),e.split(" ").forEach(function(e){return t.forEach(function(t){return t.classList.toggle(e)})})},matches:function(){if("undefined"==typeof Element)return function(){return!1};var t=Element.prototype,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(t){return-1<[].indexOf.call(document.querySelectorAll(t),this)};return function(t,e){return n.call(t,e)}}(),getViewPosition:a,on:function(e,t,n,i){"function"==typeof n&&void 0===i&&(i=n,n=null),t.split(" ").forEach(function(t){return e.addEventListener(t,i)})},one:function(n,i,t,r){var a=this;"function"==typeof t&&(r=t,t=null);t=function t(e){r.call(this,e),a.off(n,i,t)};return a.on(n,i,t),t},off:function(e,t,n){t.split(" ").forEach(function(t){return e.removeEventListener(t,n)})},trigger:function(n,t){document.createEvent&&t.split(" ").forEach(function(t){var e=document.createEvent("Event");e.initEvent&&(e.initEvent(t,!1,!0),n.dispatchEvent(e))})},hide:function(t,e){t=e?this.find(t,e):t;return this.addClass(t,"js-hidden"),this},show:function(t,e){var n=this,t=e?this.find(t,e):t;return this.hasClass(t,"js-hidden")?this.removeClass(t,"js-hidden"):(t=!Array.isArray(t)?[t]:t).forEach(function(t){return n.setStyle(t,{display:"block"})}),this},getData:function(t,e){return(t="string"==typeof t?this.stringToHTML(t)[0]:t).getAttribute("data-".concat(e))},setData:function(t,e,n){return(t="string"==typeof t?this.stringToHTML(t)[0]:t).setAttribute("data-".concat(e),n),!0},getStyle:function(t,e){return t.style[e]},setStyle:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return this},getAttr:function(t,e){return t.getAttribute(e)},setAttr:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n]);return this},removeAttr:function(t,e){return t.removeAttribute(e),this},hasAttr:function(t,e){return t.hasAttribute(e)},getText:function(t,e){t=e?this.findOne(t,e):t;return t?t.textContent:""},setText:function(t,e,n){t=n?this.findOne(t,n):t;return t&&(t.textContent=e),this},setHTML:function(t,e,n){t=n?this.findOne(t,n):t;return t&&(t.innerHTML=e),this},parent:function(t,e){return Object(i.a)(t,e)},getModuleConfig:function(t,e){t=t.querySelector("script");return e?t:t?JSON.parse(t.text):null},createElement:function(t,e){t=document.createElement(t);return this.setAttr(t,e),t},scrollIntoView:function(t,e){var n=this;e?setTimeout(function(){n.scrollIntoView(t)},e):t.scrollIntoView?t.scrollIntoView():window.scrollTo(0,t.offsetTop)},offset:function(t,e){t=e?this.findOne(t,e):t;return t?{top:t.offsetTop,left:t.offsetLeft}:{}},size:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},detectTransitionEnd:r}},11:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),r=n(12);i.Application.addService("solid",function(){return r.a});var a=new i.EventTarget;r.a.breakpointObserver.subscribe(a),e.b=r.a},111:function(t,e){var n,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var s,c=[],u=!1,d=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=o(l);u=!0;for(var e=c.length;e;){for(s=c,c=[];++d<e;)s&&s[d].run();d=-1,e=c.length}s=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function h(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},12:function(t,c,u){"use strict";!function(t){var n,e=u(162),i=u.n(e),r="undefined"!=typeof window?window:t,a={xs:"(max-width:39.9rem)",sm:"(min-width:40rem) and (max-width:51.9rem)",md:"(min-width:52rem) and (max-width:63.9rem)",lg:"(min-width:64rem)"};function o(t){return"screen and ".concat(a[t])}var s={observers:new Set,init:function(){var n=this;"matchMedia"in r&&Object.keys(a).forEach(function(e){var t=r.matchMedia(o(e));t.addListener(function(t){t.matches&&n.observers.forEach(function(t){t.fire(e),t.fire("match",{breakpoint:e})})}),n[e]=t})}};s.init(),n={_getWindowWidth:function(){return Number(r.innerWidth||0)},_isRetinaDevice:function(){return"matchMedia"in r&&r.matchMedia("(-webkit-min-device-pixel-ratio: 2)").matches},_makeSizeMediaQuery:o,_mediaMatches:function(t){return t in a&&s[t].matches},isBreakpoint:function(t){return n._mediaMatches(t)},isXsmall:function(){return n._mediaMatches("xs")},isSmall:function(){return n._mediaMatches("sm")},isMedium:function(){return n._mediaMatches("md")},isLarge:function(){return n._mediaMatches("lg")},isAny:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return i()(t,n._mediaMatches)},isSmallerThan:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).inclusive,e=void 0===e||e;return"xs"===t?!!e&&n.isXsmall():"sm"===t?e?n.isAny(["xs","sm"]):n.isXsmall():"md"===t?e?n.isAny(["xs","sm","md"]):n.isAny(["xs","sm"]):"lg"===t&&(!!e||n.isAny(["xs","sm","md"]))},isLargerThan:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).inclusive,e=void 0===e||e;return"xs"===t?!!e||n.isAny(["sm","md","lg"]):"sm"===t?e?n.isAny(["sm","md","lg"]):n.isAny(["md","lg"]):"md"===t?e?n.isAny(["md","lg"]):n.isLarge():"lg"===t&&!!e&&n.isLarge()},breakPoint:function(t){return n._mediaMatches(t)},getBreakPoint:function(){var t,e;for(e in a)if(n.breakPoint(e)){t=e;break}return t},getWindowWidth:function(){return n._isRetinaDevice()?2*n._getWindowWidth():n._getWindowWidth()},get cssBreakpoints(){return{xs:null,sm:"40rem",md:"52rem",lg:"64rem"}},breakpointObserver:{subscribe:function(t){return s.observers.add(t)},unsubscribe:function(t){return s.observers.delete(t)}}},c.a=n}.call(this,u(56))},128:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i,r=n(15),a=n(32),o=n(9),s=n(27),c=(i=function(t){var e,i=!1,n=t.abeagle;return l?Promise.resolve(!0):(e=function(t){return i?t:n.getExperimentVariant("ADSGROUP-442-permutive").catch(function(t){return t&&"ExperimentNotFound"===t.type?"on":null}).then(function(t){return Promise.resolve("on"===t)})},(t=function(){if(u.needsConsent())return t=d.hasConsented("permutive"),e=function(t){if(!t||s.a.isMobileApp())return i=!0,Promise.resolve(!1)},n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t);var t,e,n}())&&t.then?t.then(e):e(t))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(i.apply(this,t))}catch(t){return Promise.reject(t)}}),r={queryStringToObject:r.c},u=o.a.framework,d=o.a.rules,l="undefined"!=typeof window&&"permutive-test"in(r.queryStringToObject(window.location.search)||{});e.b={isTest:l,checkIsOn:function(){return c({abeagle:a.a})}}},130:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n(11),n(21);function i(t){return"Feed"===t.l&&"FeedItem"===t.n}var r="unitType",a="position",o=function(t,e,n,i){if(!e)throw new Error("unit must be specified for tracking");return'\n    data-bfa-impressions="true"\n    data-bfa="@a:FeedItem; @e:{ '.concat("id",":").concat(n.id,",\n                                ").concat("type",":").concat(n.type||"buzz",",\n                                ").concat("contentCategory",":").concat(n.category||"",",\n                                ").concat("unit",":").concat(e,",\n                                ").concat(r,":").concat(t,",\n                                ").concat("unit_name",":").concat(i,",\n                                ").concat(a,":").concat(n.number||n.position||-1,",\n                                ").concat("position_in_unit",":").concat(n.position,",\n                                ").concat("dataSource",":").concat(n.dataSource||n.data_source,",\n                                ").concat("subUnit",":").concat(n.sub_unit||"",",\n                                ").concat("variationId",":").concat(n.variationId||"",'\n                              };"\n  ')},s=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.createMapTemplate("gaFeedTmpl");n.addMapTo("category").mapFrom(function(t){return"".concat(t.data[r],":").concat(t.data.unit)}),n.addMapTo("label").mapFrom(function(t){return"".concat(t.data.type||"buzz",":").concat(t.data.id)}),n.addMapTo("value").mapFrom(function(t){return t.data[a]});n=t.getOrCreateRouter("track/click").createConfigForRoute(i);n.applyTemplateByName("gaFeedTmpl"),n.addMapTo("action","click"),e&&((t=t.getOrCreateRouter("track/scroll/impression").createConfigForRoute(i)).applyTemplateByName("gaFeedTmpl"),t.addMapTo("action","impression"))}},14:function(t,e,n){"use strict";function i(t,e){e=t.match(e);return e&&e.length?e[0]:null}e.a={getBuzzfeedSubdomainOrWildcard:function(t){return i(t,"(dev|stage|www).(buzzfeed|buzzfeednews).(com|io)$")||i(t,".?[a-z]+.[a-z]+$")},get:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n="".concat(t,"=");if("undefined"==typeof document)return e;for(var i=document.cookie.split(";"),r=0;r<i.length;r++){for(var a=i[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return e},set:function(t){var e=t.name,n=t.value,i=t.days,r=t.domain,t="";i&&((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),t="; expires=".concat(a.toGMTString()));var a="";return void 0!==r&&(a="; domain=".concat(r)),document.cookie="".concat(e,"=").concat(n).concat(t).concat(a,"; path=/")},remove:function(t,e){return this.set({name:t,value:"",days:-1,domain:e})}}},141:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},15:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){return-1<(t+="").indexOf("#")?t.substr(0,t.indexOf("#")):t}function a(t){return-1<t.indexOf("?")}function o(t){if(""===t||null==t)return{};var t=(t=r(t=-1<t.indexOf("?")?t.substr(t.indexOf("?")+1,t.length):t)).split("&"),n={};return t.forEach(function(t){var e,e=(e=t.split("="),t=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],e=e[1];n[t]=void 0===e?null:e}),n}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"?",n=[];return Object.keys(e).forEach(function(t){n.push("".concat(t,"=").concat(encodeURIComponent(e[t])))}),(t||"")+n.join("&")}function c(t){return o((e="",e=a(t=r(t=t))?t.substr(t.indexOf("?"),t.length):e));var e}function u(t){return function(t){if(!a(t))return t;var e,e=(e=t,-1<(e+="").indexOf("#")?e.substr(e.indexOf("#"),e.length):"");return(t=r(t)).substr(0,t.indexOf("?"))+e}(t=r(t))}n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u})},152:function(t,r,a){!function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new i(n.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a(201),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}.call(this,a(56))},17:function(t,e,n){"use strict";var i="undefined"!=typeof document?document.documentElement:null,r="undefined"!=typeof document&&!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a=function(){try{return localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test"),!0}catch(t){return!1}}();i&&!r&&i.classList.add("no-svg"),"undefined"!=typeof document&&(navigator.userAgent.match(/Pinterest/i)||document.referrer.match(/pinterest.com/i))&&i.classList.add("pinterest"),e.a={hasTouch:((e="undefined"!=typeof window&&"ontouchstart"in window)&&i.classList.add("has-touch"),e),os:"undefined"==typeof document?"":navigator.userAgent.match(/android/i)?(i.classList.add("is-android"),"android"):navigator.userAgent.match(/iphone|ipad|ipod/i)?(i.classList.add("is-ios"),"ios"):"",referrer:function(){if("undefined"==typeof window)return"";var t=document.referrer,e=window.location.search,n=navigator.userAgent.match(/fban|twitter|pinterest/i),n=n?n[0]:"";return e.match("referrer=pinterest")||t.match("pinterest")||"pinterest"===n?"pinterest":e.match("referrer=twitter")||t.match("t.co")||"twitter"===n?"tweet":e.match("referrer=facebook")||t.match("m.facebook")||"fban"===n?"facebook":""}(),supportsLocalStorage:a,isVideoSupported:function(){return"android"===this.os},autoplaysVideo:function(){return!1},getViewportHeight:function(){return window.innerHeight||i.clientHeight},getViewportWidth:function(){return window.innerWidth||i.clientWidth}}},181:function(t,e){t.exports=function(t){var e;return t.webpackPolyfill||((e=Object.create(t)).children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1),e}},19:function(t,e,n){"use strict";n.d(e,"c",function(){return zt}),n.d(e,"e",function(){return Vt}),n.d(e,"d",function(){return qt}),n.d(e,"a",function(){return Ht}),n.d(e,"b",function(){return Gt}),n.d(e,"f",function(){return Wt});var i=n(9),r=n(32),a=n(6),o=n(41),v=n.n(o),s=n(58),c=n.n(s);function y(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^function(){try{return crypto.getRandomValues(new Uint8Array(1))[0]}catch(t){return 255*Math.random()}}()&15>>t/4).toString(16)})}var b=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n="".concat(t,"=");if("undefined"==typeof document)return e;for(var i=document.cookie.split(";"),r=0;r<i.length;r++){for(var a=i[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return e},u=function(t){var e=t.name,n=t.value,i=t.days,r=t.domain,t="";i&&((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),t="; expires=".concat(a.toGMTString()));var a="";return void 0!==r&&(a="; domain=".concat(r)),document.cookie="".concat(e,"=").concat(n).concat(t).concat(a,"; path=/")},d=n(30),l=n.n(d),p=n(59),f=n.n(p),h=n(165),g=n.n(h),m=n(166),w=n.n(m),e=n(99),_=n.n(e),o=n(167),s=n.n(o),d=n(51),k=n.n(d);function T(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){k()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(t){return String(t).replace(/[^\w\s-_/]/g,"").replace(/\s+/g,"_").toLowerCase()}function E(t){return t.map(function(t){return"undefined"===t?"":t})}function x(t){return null===t||isNaN(Number(t))?null:Number(t)}function C(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t&&Array.isArray(t)?t:e}function M(){return new A('Missing required field: "'.concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",'"'))}var I,P=(I=c()(v.a.mark(function t(e){var n,i,r,a,o;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.context,a=e.layers,i=void 0===a?[]:a,r={},a=0;case 3:if(!(a<i.length)){t.next=13;break}if("function"==typeof(o=i[a]))return t.next=8,o(n);t.next=9;break;case 8:o=t.sent;case 9:r=S(S({},r),o);case 10:a++,t.next=3;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t)})),function(t){return I.apply(this,arguments)}),A=function(t){g()(r,t);var n,i,e=(n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=_()(n);return e=i?(t=_()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),w()(this,e)});function r(t){return f()(this,r),(t=e.call(this,t)).name="ClientEventSchemaLayerError",t}return r}(s()(Error)),F={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},D=Array.prototype.slice;function N(t){var e=t.length;return e?1===e?[t[0]]:2===e?[t[0],t[1]]:3===e?[t[0],t[1],t[2]]:D.call(t,0):[]}function j(t,e){return t===e||t!=t&&e!=e}function R(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}var L=(Object.defineProperty(B.prototype,"size",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"snapshot",{get:function(){return{keys:N(this.keys),size:this.size,values:N(this.values)}},enumerable:!0,configurable:!0}),B.prototype._getKeyIndexFromMatchingKey=function(t){var e=this.options,n=e.isMatchingKey,e=e.maxSize,i=this.keys,r=i.length;if(!r)return-1;if(n(i[0],t))return 0;if(1<e)for(var a=1;a<r;a++)if(n(i[a],t))return a;return-1},B.prototype._getKeyIndexForMany=function(t){var e=this.options.isEqual,n=this.keys,i=n.length;if(!i)return-1;if(1===i)return this._getKeyIndexForSingle(t);var r,a,o=t.length;if(1<o){for(var s=0;s<i;s++)if((r=n[s]).length===o){for(a=0;a<o&&e(r[a],t[a]);a++);if(a===o)return s}}else for(s=0;s<i;s++)if((r=n[s]).length===o&&e(r[0],t[0]))return s;return-1},B.prototype._getKeyIndexForSingle=function(t){var e=this.keys;if(!e.length)return-1;var n=e[0],i=n.length;if(t.length!==i)return-1;var r=this.options.isEqual;if(1<i){for(var a=0;a<i;a++)if(!r(n[a],t[a]))return-1;return 0}return r(n[0],t[0])?0:-1},B.prototype.orderByLru=function(t,e,n){for(var i=this.keys,r=this.values,a=i.length,o=n;o--;)i[o+1]=i[o],r[o+1]=r[o];i[0]=t,r[0]=e;e=this.options.maxSize;a===e&&n===a?(i.pop(),r.pop()):e<=n&&(i.length=r.length=e)},B.prototype.updateAsyncCache=function(e){var n=this,t=this.options,i=t.onCacheChange,r=t.onCacheHit,a=this.keys[0],t=this.values[0];this.values[0]=t.then(function(t){return n.shouldUpdateOnHit&&r(n,n.options,e),n.shouldUpdateOnChange&&i(n,n.options,e),t},function(t){var e=n.getKeyIndex(a);throw-1!==e&&(n.keys.splice(e,1),n.values.splice(e,1)),t})},B);function B(t){this.keys=[],this.values=[];var e="function"==typeof(this.options=t).isMatchingKey;e?this.getKeyIndex=this._getKeyIndexFromMatchingKey:1<t.maxSize?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey="function"==typeof t.transformKey,this.shouldCloneArguments=this.canTransformKey||e,this.shouldUpdateOnAdd="function"==typeof t.onCacheAdd,this.shouldUpdateOnChange="function"==typeof t.onCacheChange,this.shouldUpdateOnHit="function"==typeof t.onCacheHit}function U(i,t){if(void 0===t&&(t={}),"function"==typeof i&&i.isMemoized)return U(i.fn,R(i.options,t));if("function"!=typeof i)throw new TypeError("You must pass a function to `memoize`.");var e=t.isEqual,n=t.isMatchingKey,r=void 0!==(a=t.isPromise)&&a,a=t.maxSize,o=t.onCacheAdd,s=t.onCacheChange,c=t.onCacheHit,u=t.transformKey,d=R({isEqual:void 0===e?j:e,isMatchingKey:n,isPromise:r,maxSize:void 0===a?1:a,onCacheAdd:o,onCacheChange:s,onCacheHit:c,transformKey:u},function(t){var e,n={};for(e in t)F[e]||(n[e]=t[e]);return n}(t)),l=new L(d),p=l.keys,f=l.values,h=l.canTransformKey,g=l.shouldCloneArguments,m=l.shouldUpdateOnAdd,v=l.shouldUpdateOnChange,y=l.shouldUpdateOnHit;return(t=function t(){var e=g?N(arguments):arguments;h&&(e=u(e));var n=p.length?l.getKeyIndex(e):-1;return-1!==n?(y&&c(l,d,t),n&&(l.orderByLru(p[n],f[n],n),v&&s(l,d,t))):(n=i.apply(this,arguments),e=g?e:N(arguments),l.orderByLru(e,n,p.length),r&&l.updateAsyncCache(t),m&&o(l,d,t),v&&s(l,d,t)),f[0]}).cache=l,t.fn=i,t.isMemoized=!0,t.options=d,t}function z(t){return-1<(t+="").indexOf("#")?t.substr(0,t.indexOf("#")):t}function V(t){return function(t){if(!(-1<t.indexOf("?")))return t;var e,e=(e=t,-1<(e+="").indexOf("#")?e.substr(e.indexOf("#"),e.length):"");return(t=z(t)).substr(0,t.indexOf("?"))+e}(t=z(t))}function q(t){return(t.match(/^stage\./)?"https://":"https://www.").concat(t)}var p=n(81),h=n.n(p),H=(h()(K,[{key:"get",value:function(t){var e=this;return this.sourceOfTruthDomain===this.localDomain?Promise.resolve(b(t)):this.initIframe().then(function(){return e.cookies[t]||b(t)}).catch(function(){return b(t)})}},{key:"set",value:function(t){var n=this,i=t.name,r=t.value,a=t.days,t=t.secureOnly,o=void 0===t||t;u({name:i,value:r,days:a,domain:this.localDomain}),this.sourceOfTruthDomain!==this.localDomain&&this.initIframe().then(function(){var t={namespace:n.namespace,msgType:"destination-sync-write",cookieName:i,cookieVal:r,expiresDays:a,secureOnly:o},e=q(n.sourceOfTruthDomain);n.iframe.contentWindow.postMessage(JSON.stringify(t),e)}).catch(function(){return u({name:i,value:r,days:a,domain:n.localDomain})})}},{key:"cleanup",value:function(){var t;this.boundOnMessage&&window.removeEventListener("message",this.boundOnMessage),this.iframe&&(t=new ErrorEvent({message:"XDomainCookies were cleaned up before ready"}),this.iframe.dispatchEvent(t),this.iframe.remove()),this.iframeReady=null}},{key:"initIframe",value:function(){var n=this;if(this.iframeReady)return this.iframeReady;var i,t=new Promise(function(e,t){n.boundOnMessage=function(t){n.onMessage(t,e)},window.addEventListener("message",n.boundOnMessage),n.createIframe(t)});return this.iframeReady=Promise.race([(i=this.iframeTimeout,new Promise(function(t,e){var n={type:"timeout",msg:"".concat(i,"ms timeout exceeded")};setTimeout(function(){return e(n)},i)})),t]).catch(function(t){throw"prod"===n.env&&window.raven&&window.raven.captureException("timeout"===t.type?new Error("Destination Sync: ".concat(t.msg)):t),console.error(t),t}),this.iframeReady}},{key:"createIframe",value:function(e){var t="xdomaincookies-".concat(this.namespace),n=document.getElementById(t);if(n)return n.addEventListener("error",function(t){e(t)}),this.iframe=n,void(this.iframe.dataset.loaded&&this.updateFromIframe());var i=JSON.stringify({namespace:this.namespace,windowOrigin:window.location.origin}),n=document.createElement("iframe");n.style.display="none",n.addEventListener("error",function(t){e(t)}),n.id=t,n.src=(t=this.sourceOfTruthDomain,i=i,"".concat(q(t),"/").concat("destination-sync.html","#").concat(encodeURIComponent(i))),this.iframe=n,document.body.appendChild(n)}},{key:"updateFromIframe",value:function(){var t={namespace:this.namespace,msgType:"destination-sync-read"},e=q(this.sourceOfTruthDomain);this.iframe.contentWindow.postMessage(JSON.stringify(t),e)}},{key:"onMessage",value:function(t,e){var n={};try{n=JSON.parse(t.data)}catch(t){}n.namespace===this.namespace&&("destination-sync-init"===n.msgType&&(this.iframe.dataset.loaded=!0),"destination-sync-init"!==n.msgType&&"destination-sync-read"!==n.msgType||(this.cookies=n.cookies),e())}}]),K),G=(h()(W,[{key:"get",value:function(){var e=this;return this.throttle?Promise.resolve(this.inMemoryValue):this.xDomainCookies.get(this.cookieName).then(function(t){return e.inMemoryValue=t,e.resetThrottle(),t})}},{key:"set",value:function(t){return this.inMemoryValue=t,this.xDomainCookies.set({name:this.cookieName,value:t,days:this.daysExpiry,secureOnly:this.secureOnly})}},{key:"resetThrottle",value:function(){var t=this;this.throttleTimer&&(this.throttle=setTimeout(function(){t.throttle=null},this.throttleTimer))}}]),W);function W(t){var e=t.cookieName,n=t.daysExpiry,i=t.env,r=t.namespace,a=t.sourceOfTruthDomain,o=t.throttleTimer,s=void 0===o?null:o,o=t.secureOnly,o=void 0===o||o,t=t.localDomain,t=void 0===t?function(t){var e=(0<arguments.length&&void 0!==t?t:window).location.hostname,t=e.split(".")[0];return e=t&&"stage"!==t&&-1===["buzzfeed","buzzfeednews","tasty"].indexOf(t)&&3<=e.split(".").length?e.substring(t.length+1):e}():t;f()(this,W),i="live"===i?"prod":i,this.xDomainCookies=new H({sourceOfTruthDomain:a||function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"dev";return"dev"===t?"dev.buzzfeed.io":"prod"===t||"app-west"===t?"buzzfeed.com":"stage.buzzfeed.com"}(i),namespace:r,localDomain:t,env:i}),this.cookieName=e,this.daysExpiry=n,this.secureOnly=o,this.throttleTimer=s,this.inMemoryValue=null}function K(t){var e=this,n=t.sourceOfTruthDomain,i=t.localDomain,r=t.namespace,a=t.env,o=void 0===a?"dev":a,a=t.updateInterval,s=void 0===a?3e5:a,t=t.iframeTimeout,t=void 0===t?3e3:t;f()(this,K),this.sourceOfTruthDomain=n,this.localDomain=i,this.env=o,this.namespace=r,this.iframeTimeout=t,this.cookies={},n!==i&&this.initIframe().then(function(){setInterval(e.updateFromIframe.bind(e),s)}).catch(function(){})}function Z(t,e,n){var i,r,a,o,s;for(this.version="1.0.1",this.minAlphabetLength=16,this.sepDiv=3.5,this.guardDiv=12,this.errorAlphabetLength="error: alphabet must contain at least X unique characters",this.errorAlphabetSpace="error: alphabet cannot contain spaces",this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",this.seps="cfhistuCFHISTU",this.minHashLength=0<parseInt(e,10)?e:0,this.salt="string"==typeof t?t:"","string"==typeof n&&(this.alphabet=n),i="",r=0,o=this.alphabet.length;r!==o;r++)-1===i.indexOf(this.alphabet[r])&&(i+=this.alphabet[r]);if(this.alphabet=i,this.alphabet.length<this.minAlphabetLength)throw this.errorAlphabetLength.replace("X",this.minAlphabetLength);if(-1!==this.alphabet.search(" "))throw this.errorAlphabetSpace;for(r=0,o=this.seps.length;r!==o;r++)-1===(a=this.alphabet.indexOf(this.seps[r]))?this.seps=this.seps.substr(0,r)+" "+this.seps.substr(r+1):this.alphabet=this.alphabet.substr(0,a)+" "+this.alphabet.substr(a+1);this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this.consistentShuffle(this.seps,this.salt),(!this.seps.length||this.alphabet.length/this.seps.length>this.sepDiv)&&(1===(s=Math.ceil(this.alphabet.length/this.sepDiv))&&s++,s>this.seps.length?(n=s-this.seps.length,this.seps+=this.alphabet.substr(0,n),this.alphabet=this.alphabet.substr(n)):this.seps=this.seps.substr(0,s)),this.alphabet=this.consistentShuffle(this.alphabet,this.salt),s=Math.ceil(this.alphabet.length/this.guardDiv),this.alphabet.length<3?(this.guards=this.seps.substr(0,s),this.seps=this.seps.substr(s)):(this.guards=this.alphabet.substr(0,s),this.alphabet=this.alphabet.substr(s))}function J(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){k()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Z.prototype.encode=function(){var t,e,n=Array.prototype.slice.call(arguments);if(!n.length)return"";for(e=(n=n[t=0]instanceof Array?n[0]:n).length;t!==e;t++)if("number"!=typeof n[t]||n[t]%1!=0||n[t]<0)return"";return this._encode(n)},Z.prototype.decode=function(t){return t.length&&"string"==typeof t?this._decode(t,this.alphabet):[]},Z.prototype.encodeHex=function(t){var e,n,i;if(t=t.toString(),!/^[0-9a-fA-F]+$/.test(t))return"";for(e=0,n=(i=t.match(/[\w\W]{1,12}/g)).length;e!==n;e++)i[e]=parseInt("1"+i[e],16);return this.encode.apply(this,i)},Z.prototype.decodeHex=function(t){for(var e=[],n=this.decode(t),i=0,r=n.length;i!==r;i++)e+=n[i].toString(16).substr(1);return e},Z.prototype._encode=function(t){for(var e,n,i,r,a,o,s,c=this.alphabet,u=t.length,d=0,l=0,p=t.length;l!==p;l++)d+=t[l]%(l+100);for(n=e=c[d%c.length],l=0,p=t.length;l!==p;l++)r=t[l],i=n+this.salt+c,c=this.consistentShuffle(c,i.substr(0,c.length)),e+=i=this.hash(r,c),l+1<u&&(r=(r%=i.charCodeAt(0)+l)%this.seps.length,e+=this.seps[r]);for(e.length<this.minHashLength&&(a=(d+e[0].charCodeAt(0))%this.guards.length,(e=this.guards[a]+e).length<this.minHashLength&&(a=(d+e[2].charCodeAt(0))%this.guards.length,e+=this.guards[a])),o=parseInt(c.length/2,10);e.length<this.minHashLength;)0<(s=(e=(c=this.consistentShuffle(c,c)).substr(o)+e+c.substr(0,o)).length-this.minHashLength)&&(e=e.substr(s/2,this.minHashLength));return e},Z.prototype._decode=function(t,e){var n,i,r,a,o=[],s=0,c=new RegExp("["+this.guards+"]","g"),u=t.replace(c," "),d=u.split(" ");if(void 0!==(u=d[s=3===d.length||2===d.length?1:s])[0]){for(n=u[0],u=u.substr(1),c=new RegExp("["+this.seps+"]","g"),s=0,i=(d=(u=u.replace(c," ")).split(" ")).length;s!==i;s++)r=d[s],a=n+this.salt+e,e=this.consistentShuffle(e,a.substr(0,e.length)),o.push(this.unhash(r,e));this._encode(o)!==t&&(o=[])}return o},Z.prototype.consistentShuffle=function(t,e){var n,i,r,a,o;if(!e.length)return t;for(r=t.length-1,o=a=0;0<r;r--,a++)o+=i=e[a%=e.length].charCodeAt(0),i=t[n=(i+a+o)%r],t=(t=t.substr(0,n)+t[r]+t.substr(1+n)).substr(0,r)+i+t.substr(r+1);return t},Z.prototype.hash=function(t,e){for(var n="",i=e.length;n=e[t%i]+n,t=parseInt(t/i,10););return n},Z.prototype.unhash=function(t,e){for(var n=0,i=0;i<t.length;i++)n+=e.indexOf(t[i])*Math.pow(e.length,t.length-i-1);return n};function Y(t){var e=t.env,r=void 0===(t=t.legacy)||t,a=new G({namespace:"bf-xdomain-tracking",cookieName:"bf_visit",daysExpiry:1e4,env:e});return a.get().then(function(t){var e,n,i=(e=decodeURIComponent(t).split("&").map(function(t){return t.split("=")}).reduce(function(t,e){var n=l()(e,2),e=n[0],n=n[1];return Q(Q({},t),{},k()({},e,n))},{}),n=e.u,e=e.uuid,{legacyIdentifier:function(t){if(0!==t.indexOf(".")){var e=/[0-9A-Za-z]+/.exec(t);return null!==e&&e[0]===t&&parseInt(t,36)}e=t.substr(1,2);return function(t,e){e=(1<arguments.length&&void 0!==e?e:{}).salt;return new Z(void 0===e?null:e).decode(t)[0]}(t.substr(3),{salt:e})}(n||""),identifier:e}),t=i.legacyIdentifier,n=i.identifier,i=(e=$,i=parseInt(25*Math.random()+10,10).toString(36)+parseInt(25*Math.random()+10,10).toString(36),".".concat(i).concat(function(t,e){var n=1<arguments.length&&void 0!==e?e:{},e=n.salt,n=n.length;return new Z(void 0===e?null:e,void 0===n?32:n).encode(t)}(e,{salt:i,length:0})));return r?t||(a.set(encodeURIComponent("u=".concat(i,"&uuid=").concat(n||X,"&v=2"))),$):n||t?n||String(t):(a.set(encodeURIComponent("u=".concat(i,"&uuid=").concat(X,"&v=2"))),X)})}var $=parseInt(1e10*Math.random(),10),X=y();function tt(t){return t+"|expiration"}var et=function(){try{return localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test"),!0}catch(t){return!1}}(),nt={set:function(t){et&&void 0!==t&&(localStorage.setItem(t.key,t.value),t.expires&&localStorage.setItem(tt(t.key),Date.now()+t.expires))},get:function(t){return et?(e=localStorage.getItem(tt(t)))&&e<=Date.now()?(this.remove(t),null):localStorage.getItem(t):null;var e},sessionSet:function(t){et&&void 0!==t&&sessionStorage.setItem(t.key,t.value)},sessionGet:function(t){return et?sessionStorage.getItem(t):null},remove:function(t){et&&(localStorage.removeItem(tt(t)),localStorage.removeItem(t))},clear:function(){et&&localStorage.clear()}},it={dev:{tracking_url:"https://nsq-api-public.dev.buzzfeed.io",debug:!0},test:{tracking_url:"https://nsq-api-public.dev.buzzfeed.io",debug:!0},stage:{tracking_url:"https://pixiedust-stage.buzzfeed.com",debug:!0},prod:{tracking_url:"https://pixiedust.buzzfeed.com",debug:!1},"app-west":{tracking_url:"https://pixiedust.buzzfeed.com",debug:!1}},rt=1,at=3,ot=4,st=5,ct=6,ut="feed";function dt(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}var lt=U(function(t){var r,e,a=t.url;return U((e=c()(v.a.mark(function t(e){var n,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.env,r=new G({env:i,namespace:"bf-xdomain-tracking",cookieName:"bf-xdomain-session-uuid",daysExpiry:.5/24,throttleTimer:18e4}),t.next=4,Promise.all([Y({env:i,legacy:!1}),r.get()]);case 4:return n=t.sent,i=l()(n,2),n=i[0],i=i[1],n=String(n),i=i&&"null"!==i?i:y(),r.set(i),t.abrupt("return",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach(function(t){k()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({client_uuid:n,client_session_id:i,random_user_uuid:b("user_uuid","unauthenticated"),referrer_uri:document.referrer},function(t){var e=nt.get("cet-page_session_id");if(window.CLIENT_EVENT_TRACKING=window.CLIENT_EVENT_TRACKING||{},window.CLIENT_EVENT_TRACKING.current_page_session_url===t&&e)return{page_session_id:e,previous_page_session_id:nt.get("pdv3-previous_page_session_id")||""};window.CLIENT_EVENT_TRACKING.current_page_session_url=t;e=y()||"00000000-0000-0000-0000-000000000000",t=nt.get("cet-page_session_id")||"";return nt.set({key:"cet-page_session_id",value:e}),nt.set({expires:18e5,key:"pdv3-previous_page_session_id",value:t}),{page_session_id:e,previous_page_session_id:t}}(V(a))));case 12:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)}),{transformKey:JSON.stringify})},{transformKey:function(t){return V(l()(t,1)[0].url)}}),m=n(80),pt=n.n(m),ft=U(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.track_amp,e=void 0!==e&&e,n=pt()(t,["track_amp"]);return e?U(function(){return{amp_id:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.client_id_cookie_name,n=void 0===e?"_amp_pd":e,i=t.expires,e=void 0===i?365:i,t=b(n);return t||(i=window.location.hostname.split(".").splice(-2,2).join("."),t="amp-".concat(y()),u({name:n,value:t,days:e,domain:i})),t}(n)}},{transformKey:JSON.stringify}):{}},{transformKey:JSON.stringify});function ht(t){var n,i,r,a,t=t.env,o=void 0===t?"dev":t,t=(i=(t=it[o]).debug,r=t.tracking_url,a=[],[function(t){a.push(t),10===a.length&&e(),n=n||setTimeout(e,200)},e]),t=l()(t,2),s=t[0],c=t[1];function e(){var e,t;a.length&&"undefined"!=typeof window&&(e=JSON.stringify(a),i?window.fetch("".concat(r,"/events"),{method:"POST",body:e,keepalive:!0}).then(function(t){return t.json()}).then(function(t){t.errors&&t.debug&&(console.group("%c ðŸš¨ Rejected client events ðŸš¨","background-color: #250201; color: #ee8783; border: 1px solid #540b06"),t.debug.forEach(function(t){return console.table(t.validation)}),console.groupEnd())}).catch(function(){var t=JSON.parse(e);console.group("%cClient Event Tracking: %crun nsq_api_public to verify events","font-weight: bold;","color: gray; font-size: .5rem;"),t.forEach(function(t){console.groupCollapsed('"%c'.concat(t.type,'"'),"font-weight: bold; font-family: monospace;"),console.table(t),console.groupEnd()}),console.groupEnd()}):!(navigator&&navigator.sendBeacon?navigator.sendBeacon("".concat(r,"/events"),e):((t=new XMLHttpRequest).open("POST","".concat(r,"/events"),!1),t.onerror=function(){},t.setRequestHeader("Accept","*/*"),t.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),t.send(e)))&&window.raven&&Math.random()<.1&&window.raven.captureException("Client Event Tracking: sendBeacon could not process a queue."),clearTimeout(n),n=null,a=[])}return function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).flush,e=void 0!==e&&e,t=function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).debug,n=void 0!==e&&e;return Object.entries(t).filter(function(t){t=l()(t,2)[1];return!(t instanceof A&&(n&&console.warn(t),1))}).reduce(function(t,e){var n=l()(e,2),e=n[0],n=n[1];return t[e]=n,t},{})}(t,{debug:it[o].debug});s(t),e&&c()}}var e=n(164),gt=n.n(e);function mt(){return function(){return{connection_type:(t="undefined"!=typeof navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection))?t.effectiveType:""};var t}}var o=function(o){return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];function r(t){o.apply(void 0,[{event:t,layers:[{click_type:"left"}]}].concat(n))}function a(t){o.apply(void 0,[{event:t,layers:[{click_type:"right"}]}].concat(n))}return t.addEventListener("click",r),t.addEventListener("contextmenu",a),function(){t.removeEventListener("click",r),t.removeEventListener("contextmenu",a)}}},vt=function(t){var e=t.context_page_id,n=void 0===e?M("context_page_id"):e,e=t.context_page_type,i=void 0===e?M("context_page_type"):e,t=t.destination,r=void 0===t?M("destination"):t;return function(){return{context_page_id:String(n),context_page_type:i,destination:r}}},d=function(t){var e=t.data_source_algorithm,n=t.data_source_algorithm_version,t=t.data_source_name,i=void 0===t?"":t;return function(){return{data_source_algorithm:E(C(e)),data_source_algorithm_version:E(C(n)),data_source_name:decodeURIComponent(i)}}},s=function(t){var e=t.item_name,n=void 0===e?M("item_name"):e,e=t.target_content_id,i=void 0===e?n:e,t=t.target_content_type,r=void 0===t?M("target_content_type"):t;return function(){return{target_content_id:String(i),target_content_type:r}}},p=function(t){var e=t.item_name,n=void 0===e?M("item_name"):e,e=t.item_type,i=void 0===e?M("item_type"):e,r=t.position_in_subunit,a=t.position_in_unit;return function(){return{item_name:String(n),item_type:i,position_in_subunit:x(r),position_in_unit:x(a)}}},h=function(t){var e=t.subunit_name,n=void 0===e?"":e,t=t.subunit_type,i=void 0===t?"":t;return function(){return{subunit_name:O(n.toString()),subunit_type:i}}},m=function(t){var e=t.unit_name,n=void 0===e?M("unit_name"):e,t=t.unit_type,i=void 0===t?M("unit_type"):t;return function(){return{unit_type:i,unit_name:O(n)}}},e={required_layers:[vt,d,s,p,h,m],type:"web_impression"},d={flush:!0,required_layers:[vt,d,s,p,h,m],type:"web_internal_link"},s={flush:!0,required_layers:[vt,function(t){var t=t.target_content_url,e=void 0===t?M("target_content_url"):t;return function(){return{target_content_url:e}}},p,h,m],type:"web_external_link"},h={flush:!0,required_layers:[function(t){var e=t.action_type,n=void 0===e?M("action_type"):e,t=t.action_value,i=void 0===t?M("action_value"):t;return function(){return{action_type:n,action_value:i.toString()}}},vt,p,h,m],type:"web_content_action"},m={required_layers:[vt,function(t){t=t.experiment_id,t=void 0===t?M("experiment_id"):t;return{experiment_id:C(t)}}],type:"web_ab_test"},yt={required_layers:[vt],type:"web_pageview"};function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function wt(r,t){var e=t.flush,a=void 0===e?function(){}:e,o=void 0===(e=t.layers)?[]:e,s=void 0===(e=t.sample_rate)?.1:e,c=t.type;return function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r.apply(void 0,[{flush:a,required_layers:[vt,mt],sample_rate:s,type:c}].concat(function(t){if(Array.isArray(t))return bt(t)}(t=o)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return bt(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?bt(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n))}}var _t=n(37);function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Tt(i){Object(_t.a)(function(t){var e,t=t.entries;if(t.length)try{var n=function(t){if(Array.isArray(t))return kt(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t){if(t){if("string"==typeof t)return kt(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?kt(t,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n.sort(function(t,e){return t&&t.value>e.value?-1:1}),n.slice(0,3).forEach(function(t,e){var n;t&&t.sources&&t.sources.length&&(n=t.sources.reduce(function(t,e){return!!t.node&&(t.previousRect.width*t.previousRect.height>e.previousRect.width*e.previousRect.height?t:e)}),i({metric_name:"largest-layout-shift-node-".concat(e),metric_type:"custom",metric_value:t.value,metric_metadata_type:"css-selector",metric_metadata_value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250,n="";try{for(;t&&9!==t.nodeType;){var i=t.id?"#".concat(t.id):t.nodeName.toLowerCase()+(t.className&&t.className.length?".".concat(Array.from(t.classList.values()).join(".")):"");if(n.length+i.length>e-1)return n||i;if(n=n?"".concat(i," > ").concat(n):i,t.id)break;t=t.parentNode}}catch(t){}return n}(n.node)||""}))})}catch(t){}})}function St(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function Ot(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach(function(t){var e,n;e=i,t=r[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(r,t))})}return i}var Et=function(t){var e,n,i,r,a,o,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=s.layers,s=s.sample_rate,s=wt(t,Ot({},{layers:void 0===c?[]:c,sample_rate:void 0===s?.1:s,type:"web_performance_metric"},{flush:!0}));"__trackAbandons"in window&&document.removeEventListener("visibilitychange",window.__trackAbandons),e=s,"LayoutShift"in window&&(i=n=0,r=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,(o=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){t.hadRecentInput||((5e3<t.startTime-r||1e3<t.startTime-a)&&(r=t.startTime,i=0),a=t.startTime,i+=t.value,n=Math.max(n,i))})})).observe({type:"layout-shift",buffered:!0}),document.addEventListener("visibilitychange",function t(){"hidden"===document.visibilityState&&(o.takeRecords(),o.disconnect(),e({metric_name:"cumulative-layout-shift-window",metric_type:"custom",metric_value:n}),document.removeEventListener("visibilitychange",t))})),Tt(s)};function xt(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function Ct(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(t){var e,n;e=i,t=r[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(r,t))})}return i}var Mt=function(t){var e,n,i,r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=a.layers,a=a.sample_rate,o={layers:void 0===o?[]:o,sample_rate:void 0===a?.1:a,type:"web_performance_metric"},a=wt(t,o),o=wt(t,Ct({},o,{flush:!0}));r=o,Object(_t.a)(function(t){r({metric_name:"cumulative-layout-shift",metric_type:"web-vital",metric_value:t.value})}),i=a,Object(_t.b)(function(t){i({metric_name:"first-contentful-paint",metric_type:"web-vital",metric_value:t.value})}),n=o,Object(_t.c)(function(t){n({metric_name:"first-input-delay",metric_type:"web-vital",metric_value:t.value})}),e=o,Object(_t.d)(function(t){e({metric_name:"largest-contentful-paint",metric_type:"web-vital",metric_value:t.value})})};function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Pt(n){var t;"PerformanceNavigationTiming"in window&&(t=function(){var t,e,e=(t=performance.getEntriesByType("navigation"),e=1,(function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return It(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]);n({timing_duration:e.duration,timing_name:e.name,timing_start_time:e.startTime,timing_type:e.entryType,resource_connect_end:e.connectEnd,resource_connect_start:e.connectStart,resource_decoded_body_size:void 0===e.decodedBodySize?null:e.decodedBodySize,resource_domain_lookup_end:e.domainLookupEnd,resource_domain_lookup_start:e.domainLookupStart,resource_encoded_body_size:void 0===e.encodedBodySize?null:e.encodedBodySize,resource_fetch_start:e.fetchStart,resource_initiator_type:e.initiatorType,resource_next_hop_protocol:void 0===e.nextHopProtocol?null:e.nextHopProtocol,resource_redirect_end:e.redirectEnd,resource_redirect_start:e.redirectStart,resource_request_start:e.requestStart,resource_response_end:e.responseEnd,resource_response_start:e.responseStart,resource_secure_connection_start:void 0===e.secureConnectionStart?null:e.secureConnectionStart,resource_transfer_size:void 0===e.transferSize?null:e.transferSize,resource_worker_start:void 0===e.workerStart?null:e.workerStart,navigation_dom_complete:e.domComplete,navigation_dom_content_loaded_event_end:e.domContentLoadedEventEnd,navigation_dom_content_loaded_event_start:e.domContentLoadedEventStart,navigation_dom_interactive:e.domInteractive,navigation_load_event_end:e.loadEventEnd,navigation_load_event_start:e.loadEventStart,navigation_redirect_count:e.redirectCount,navigation_type:e.type,navigation_unload_event_end:e.unloadEventEnd,navigation_unload_event_start:e.unloadEventStart})},"complete"===document.readyState?t():window.addEventListener("load",function(){return requestAnimationFrame(t)}))}var At=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.layers,e=e.sample_rate;Pt(wt(t,{layers:void 0===n?[]:n,sample_rate:void 0===e?.1:e,type:"web_performance_navigation_timing"}))};function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Dt=function(t){var e=t.amp_options,f=void 0===e?{}:e,h=t.env,g=t.source;if("undefined"==typeof window)return function(){};var n,m=ht({env:h});return n=c()(v.a.mark(function t(e){var n,i,r,a,o,s,c,u,d,l,p=arguments;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=e.flush,n=void 0!==r&&r,a=e.required_layers,i=void 0===a?[]:a,u=e.sample_rate,r=void 0===u?1:u,a=e.type,o=p.length,s=new Array(1<o?o-1:0),c=1;c<o;c++)s[c-1]=p[c];return t.next=4,P({context:{env:h},layers:s});case 4:return u=t.sent,l=u.page_edition,d=pt()(u,["page_edition"]),l=[function(t){var e=t.type,n=void 0===e?M("type"):e,t=t.source,i=void 0===t?M("source"):t;return function(){return{type:n,source:i}}}({source:g,type:a}),function(){return{event_uri:document.URL,event_ts:Math.round(Date.now()/1e3),event_uuid:y()}},lt({url:document.URL}),ft(f),function(t){var t=t.page_edition,e=void 0===t?M("page_edition"):t;return function(){return{mode:window.matchMedia("screen and (max-width:51.9rem)").matches?"mobile":"desktop",page_edition:e,viewport_size:{width:window.screen.width,height:window.screen.height}}}}({page_edition:l})].concat(s,gt()(i.map(function(t){return t(d)})),[function(){var t="true"===b("is_bot");if(window.location.search.includes("e2e_test"))try{return{e2e_test:new URLSearchParams(window.location.search).get("e2e_test"),is_bot:!0}}catch(t){}return t?{is_bot:!0}:{}}()]),t.next=10,P({context:{env:h},layers:l});case 10:l=t.sent,(window.location.search.includes("e2e_test")||Math.random()<=r)&&m(l,{flush:n});case 12:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}}({env:BZFD.Config.env,source:"web_bf"}),Nt=function(){return{page_edition:BZFD.Context.page.localization.country,context_page_id:function(t){switch(t){case"home":return rt;case"vertical":return at;case"tag":return ot;case"badge":return st;case"home-flipped":return"home-flipped";default:return ct}}(BZFD.Context.page.name),context_page_type:ut,destination:"buzzfeed"}},n=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Dt.apply(void 0,[r,Nt].concat(n,function(t){if(Array.isArray(t))return Ft(t)}(t=t.layers||[])||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return Ft(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ft(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}},e=n(e),d=n(d),s=n(s),h=n(h),jt=n(m),Rt=function(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=t.threshold,i=void 0===e?.5:e,t=t.visibility_time,a=void 0===t?1e3:t;if("undefined"==typeof window)return function(){};var o=new Map,s=new Map,c=new IntersectionObserver(function(t,n){t.forEach(function(t){if(o.has(t.target)){if(!t.isIntersecting)return clearTimeout(s.get(t.target)),void s.delete(t.target);var e;s.has(t.target)||t.intersectionRatio<i||(e=setTimeout(function(){o.get(t.target).call(null),n.unobserve(t.target),s.delete(t.target)},a),s.set(t.target,e))}})},{threshold:[0,i,1]});return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return o.has(t)||(o.set(t,function(){return r.apply(void 0,n)}),c.observe(t)),function(){o.delete(t),c.unobserve(t),s.has(t)&&(clearTimeout(s.get(t)),s.delete(t))}}.apply(void 0,[t].concat(n))}}(e),Lt=o(d),Bt=o(s),Ut=o(h),zt=function(){window.clientEventTracking={getPageContextLayer:function(){return Nt},env:BZFD.Config.env}};var Vt=function(){Dt(yt,Nt)},qt=function(){return function(t,e){try{var n=Promise.resolve(t());return n.then(e)}catch(t){return Promise.reject(t)}}(r.b,function(t){var e,n,i;"home"===BZFD.Context.page.name&&(e="".concat("dsl25_frhf","_tracked"),n=a.a.get("dsl25_frhf"),i=a.a.get(e),n&&t.push("".concat("dsl25_frhf","|").concat("dsl25_frhf","|1|").concat(n,"|1")),i&&t.push("".concat(e,"|").concat("dsl25_frhf","|1|1|1"))),jt({},{experiment_id:t})})},Ht=function(t,e){t&&e&&(Rt(t,{},e),(e.target_content_url?Bt:Lt)(t,e))},Gt=function(t){t&&t.querySelectorAll("[data-pixiedust]").forEach(function(t){var e;t.getAttribute("data-pixiedust").length&&((e=JSON.parse(decodeURIComponent(t.getAttribute("data-pixiedust")))).target_content_url||!t.getAttribute("href")||Object(i.g)(t.getAttribute("href"))||(e.target_content_url=t.href),e.target_content_url?e.include_external_impression?Rt(t,{},e):Bt(t,e):e.action_type&&e.action_value?Ut(t,e):(Rt(t,{},e),Lt(t,e)))})},Wt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];!function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.layers,e=e.sample_rate,e={layers:void 0===n?[]:n,sample_rate:void 0===e?.1:e};Mt(t,e),At(t,e),Et(t,e)}(Dt,{layers:e})}},2:function(t,e,n){"use strict";var i=n(1),r=n(4);n.d(e,"a",function(){return r.a}),i.Application.addService("util",function(){return r.c}),e.b=r.c},201:function(t,e,n){!function(t,f){!function(n){"use strict";var i,e,r,t,a,o,s,c,u,d;function l(t){delete o[t]}function p(t){if(s)setTimeout(p,0,t);else{var n=o[t];if(n){s=!0;try{!function(){var t=n.callback,e=n.args;switch(e.length){case 0:t();break;case 1:t(e[0]);break;case 2:t(e[0],e[1]);break;case 3:t(e[0],e[1],e[2]);break;default:t.apply(void 0,e)}}()}finally{l(t),s=!1}}}}n.setImmediate||(a=1,s=!(o={}),c=n.document,u=(u=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&u.setTimeout?u:n,d="[object process]"==={}.toString.call(n.process)?function(t){f.nextTick(function(){p(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(r="setImmediate$"+Math.random()+"$",t=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),function(t){n.postMessage(r+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){p(t.data)},function(t){e.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(p,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return o[a]={callback:t,args:e},d(a),a++},u.clearImmediate=l)}("undefined"==typeof self?void 0===t?this:t:self)}.call(this,n(56),n(111))},21:function(t,e,n){"use strict";n.d(e,"b",function(){return p}),n.d(e,"c",function(){return f});var i=n(20),r=n.n(i),a=n(6),o=n(97);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var u=function(){try{return window.BZFD.Context.page.localization}catch(t){return{}}},d=function(){return u().translations||{}},l={de:["de"],en:["au","ca","in","uk","us"],es:["es","mx"],fr:["fr"],ja:["jp"],pt:["br"]};function p(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r()(t)&&(t="feedpager"===t?{useCountryCookie:!1}:{});var t=Object.assign({},{useCountryCookie:!0},t),e=s(u().country.split("-"),2),n=e[0],e=e[1],e=void 0===e?"":e;return"en"===u().language&&t.useCountryCookie&&(t=s((a.a.get("country")||(e||"us")).split("-"),2),n=t[0],(e=t[1])||"es"===n||(e=n,n=Object.keys(l).filter(function(t){return-1!==l[t].indexOf(n)})[0])),l[n]&&-1!==l[n].indexOf(e)?"".concat(n,"-").concat(e):"es"===n?"es":"en-us"}function f(t){return d()[t]||""}e.a={getEdition:p,getRawPageLanguage:function(){return-1!==Object.keys(l).indexOf(u().language)?u().language:"en"},getPageLocale:function(){return u().locale},getUserCountry:function(){return a.a.get("country")||"us"},getTranslation:function(t,e,n){if(!d()[t])throw new Error("Missing translation "+t+" for "+this.getRawPageLanguage());n=n?{delimiters:n}:{};return o.a.renderString(d()[t],e,n)},getTranslationStr:f,getDateFormatTemplate:function(){switch(u().language){case"de":return"{{D}}. {{MM}} {{Y}}, {{H}}:{{m}} Uhr";case"es":return"{{D}} de {{MM}} de {{Y}}, {{h}}:{{m}} {{a}}";case"fr":return"{{D}} {{MM}}, {{Y}} &agrave; {{H}} h {{m}}";case"ja":return"{{Y}}/{{M}}/{{DD}} {{H}}:{{m}}";case"pt":return"{{D}} de {{MM}} de {{Y}}, {{h}}:{{m}} {{a}}";default:return"{{MM}} {{D}}, {{Y}}, at {{h}}:{{m}} {{a}}"}}}},24:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a});var i=[755],r=[360,361],a={INFORMATION_STORAGE:1,BASIC_ADS:2,CREATE_PERSONALISED_ADS:3,SELECT_PERSONALISED_ADS:4,CREATE_PERSONALISED_CONTENT_PROFILE:5,SELECT_PERSONALISED_CONTENT:6,MEASURE_AD_PERFORMANCE:7,MEASURE_CONTENT_PERFORMANCE:8,APPLY_MARKET_RESEARCH:9,DEVELOP_PRODUCTS:10}},26:function(t,e,n){"use strict";var d=n(72),i=n(49),r=n(157),l=n.n(r);function p(t){var e,n,i=[];for(e in t)!t.hasOwnProperty(e)||null!==(n=t[e])&&""!==n&&void 0!==n&&i.push(e+"="+n);return i.join("&")}function f(n){return new Promise(function(t,e){setTimeout(function(){return e({type:"timeout",msg:"".concat(n,"ms timeout exceeded")})},n)})}function h(t){var e=t.url;return function(t){return Object(i.a)("xhr",t.type||"error",{url:e,status:t.status||0}),Promise.reject(t)}}function g(t){return t.ok?Promise.resolve(t):Promise.reject({type:"error",status:t.status,statusText:t.statusText,response:t})}function m(t){return t.json()}function v(t){return t.text()}function y(t){if("dev"!==BZFD.Config.env)return t;var e=-1<t.indexOf("?")?"&":"?";return t+e+"eca385331012a621bc93fcda0a953a97"}e.a={get:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.type,r=void 0===i?"json":i,a=n.data,o=void 0===a?{}:a,i=n.params,a=void 0===i?{}:i,i=n.skipAuth,n=n.timeout;if(!t)return Promise.reject("URL parameter is required");var s,c=Object.assign({credentials:"same-origin"},a),u=t,o=p(o);switch(o&&(u+=(-1<u.indexOf("?")?"&":"?")+o),i&&(u=y(u)),r){case"json":e=Object(d.a)(u,c).then(g).then(m);break;case"text":e=Object(d.a)(u,c).then(g).then(v);break;case"jsonp":s=u,e=new Promise(function(n,i){l()(s,function(t,e){return t?i(t):n(e)})});break;default:e=Promise.reject("Unsupported type ".concat(r))}return(n?Promise.race([f(n),e]):e).catch(h({url:t}))},post:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.data,r=n.type,a=void 0===r?"json":r,o=n.params,s=void 0===o?{}:o,r=n.skipAuth,o=void 0!==r&&r,r=n.raw,r=void 0!==r&&r,n=n.timeout;if(!t)return Promise.reject("URL parameter is required");if(!i)return Promise.reject("Can not send POST request without data");o&&(t=y(t));var c=Object.assign({headers:{"Content-type":"application/x-www-form-urlencoded"},credentials:"same-origin"},s);switch(c.method="POST",c.body=r?i:p(i),a){case"json":e=Object(d.a)(t,c).then(g).then(m);break;case"text":e=Object(d.a)(t,c).then(g).then(v);break;default:e=Promise.reject("Unsupported type ".concat(a))}return(n?Promise.race([f(n),e]):e).catch(h({url:t}))}}},27:function(t,e,n){"use strict";var i={isMobileApp:function(){return-1!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.CDN_URL||window.location.href).search("[?&]?s=mobile_app([&#]|$)")},isNewsApp:function(){return-1!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.CDN_URL||window.location.href).search("[?&]?app=news([&#]|$)")},isNews2App:function(){return-1!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.CDN_URL||window.location.href).search("[?&]?app=buzznews([&#]|$)")},isIOS:function(){return-1!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.CDN_URL||window.location.href).search("[?&]?os=ios([&#]|$)")},isAndroid:function(){return-1!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.CDN_URL||window.location.href).search("[?&]?os=android([&#]|$)")}};e.a=i},304:function(t,v,y){"use strict";!function(s){var t=y(305),r=y.n(t),e=y(225),a=y.n(e),n=y(57),o=y.n(n),t=y(50),c=y.n(t),e=y(5),u=y.n(e),n=y(22),d=y.n(n),t=y(25),l=y.n(t),e=y(33),i=y.n(e),n=y(63),p=y.n(n),t=y(20),f=y.n(t),e=y(64),n=y(38),h=y(308),t=y(40),g=y.n(t);function m(){this._modules={},this._plugins={},this._instances={},this._router=new h.a,this.inited=new g.a,this.active=new g.a,this.crashed=new g.a,this._inited=!1,this._active=!1,this._crashed=!1,this.crashed.add(function(){this._crashed=!0,this.log.error("CRASHED")},this,Number.MAX_VALUE),this._router.sub("bfa/subscribe/{action}/{eventName}",this._subscribe,this,{action:["add","addOnce","remove"],eventName:function(t){return f()(t)&&0<t.length}}),this.inited.add(function(){this._inited=!0},this,Number.MAX_VALUE),this.active.add(function(){this._active=!0},this,Number.MAX_VALUE),this.Sandbox=function(i,e,t,n){return this.instanceId=e,this.moduleInited=new g.a,this.moduleActive=new g.a,this.fillModuleRoute=function(t){return"module/"+e+"/"+t},this.subOn=function(t,e,n){i._router.sub(t,e,n)},this.settings=t||{},this.moduleId=n,this.utils=i.utils,this.defs=i.defs,this},this.construct.dispatch(this)}m.prototype.log={error:function(t){window.console&&window.console.error("BFA [ BFACore ] "+t)},log:function(){},info:function(){},warn:function(){},enabled:function(){}},m.prototype.construct=new g.a,m.prototype.utils=e.a,m.prototype.defs=n.a,m.prototype._subscribe=function(t,e){return p()(t)&&p()(e)&&this[e.eventName]instanceof g.a&&i()(t.fn)&&t.context&&this[e.eventName][e.action](t.fn,t.context),this},m.prototype.registerModule=function(t,e,n){if(!0===this._inited)return this.log.warn("You can't register module after activation"),this;e=e||{};var i=this.utils.checkType("function",t,"module")||this.utils.checkType("object",e,"settings");if(i)throw new TypeError(i);if(!f()(n)&&f()(t.defaultId)&&(n=t.defaultId),!f()(n)||0===n.length)throw new TypeError("moduleId has to be specified (as third argument or as `id` property of module) and must be not empty string");return l()(this._modules,n)?this.log.warn("module "+n+" was already registered"):(this.push("module/"+n+"/added"),this._modules[n]={Creator:t,settings:e,id:n}),this},m.prototype.plugin=function(t,e,n){if(!0===this._inited)return this.log.warn("You can't add plugins after activation"),this;e=e||{};var i=this.utils.checkType("function",t,"plugin")||this.utils.checkType("object",e,"settings");if(i)throw new TypeError(i);if(!f()(n)&&f()(t.defaultId)&&(n=t.defaultId),!f()(n)||0===n.length)throw new TypeError("pluginId has to be specified (as third argument or as `id` property of plugin) and must be not empty string");return l()(this._plugins,n)?this.log.warn("plugin "+n+" was already registered"):this._plugins[n]={Creator:t,instance:null,settings:e,id:n},this},m.prototype.activatePlugins=function(){if(!0!==this._crashed){var r=[],a={},o=this;try{this.utils.forOwn(this._plugins,function(t){!function e(n,i){(i=!d()(i)?[]:i).push(n),a[n]=!0,u()(o._plugins[n],"Creator.require",[]).forEach(function(t){if(c()(o._plugins[t]))throw new Error("Can't resolve \""+t+'" for "'+n+'" plugin');if(0<=i.indexOf(t))throw new Error('Circular dependency "'+t+'" is required by "'+n+'" plugin: '+i.join(" -> "));a[t]||e(t,i.slice(0))},o),r.indexOf(n)<0&&r.push(n)}(t.id)},this);for(var t=0;t<r.length;t++){var e=r[t];null===this._plugins[e].instance?(this._plugins[e].instance=new this._plugins[e].Creator(this,this._plugins[e].settings),this.push("plugin/"+e+"/added")):this.log.warn("Plugin "+e+" already added and activated")}}catch(r){return void 0===window.BZFD||"live"!==window.BZFD.Config.env&&"prod"!==window.BZFD.Config.env||!window.raven||raven.captureException(r),this.log.error(r),this.log.error("Plugins activation interrupted"),void this.crashed.dispatch()}}else this.log.error("Plugins activation interrupted")},m.prototype.activate=function(){var t,e,n,i;!0!==this._inited?(this.activatePlugins(),!0!==this._crashed?((t=this).utils.forOwn(this._modules,function(t){var e=t.Creator.defaultId,n=!1;f()(t.settings.instanceId)&&(e=t.settings.instanceId);var i,r=new this.Sandbox(this,e,t.settings,t.Creator.defaultId);if(d()(t.Creator.require)&&0<t.Creator.require.length)for(var a=0;a<t.Creator.require.length;a++){var o=t.Creator.require[a];if(!l()(this._plugins,o)||!l()(this._plugins[o].instance,"modifySBInstance")){n="Module "+t.Creator.defaultId+" require plugin "+o;break}this._plugins[o].instance.modifySBInstance(r)}n||(i=new t.Creator(r),l()(i,"init")?(this._instances[e]={module:i,sandbox:r},this.push("module/"+e+"/added")):n="Constructor of module "+s.defaultId+" returned not valid object"),n&&(this.log.error(n),this.log.error("Instance "+e+" of module "+s.defaultId+" is not added properly"))},this),e=o()(this._instances).length,n=a()(e,function(){t.inited.dispatch(t)}),i=a()(e,function(){t.active.dispatch(t)}),this.utils.forOwn(this._instances,function(t){t.sandbox.moduleInited.addOnce(n),t.sandbox.moduleActive.addOnce(i),r()(t.module.init)},this)):this.log.error("Activation interrupted")):this.log.warn("Already initialized")},m.prototype.push=function(){this._router.pub.apply(this._router,arguments)},v.a=m}.call(this,y(181)(t))},308:function(t,e,n){"use strict";var i=n(25),o=n.n(i),i=n(29),s=n.n(i),i=n(33),c=n.n(i),i=n(309),u=n.n(i),i=n(55),r=n.n(i),i=n(131),a=n.n(i),i=n(310),d=n.n(i),i=n(20),l=n.n(i),i=n(226),p=n.n(i);function f(){this._router=p.a.create(),this._routes={},this._router.normalizeFn=p.a.NORM_AS_OBJECT,this._router.ignoreState=!0,this._router.greedy=!0,this._routes=[]}f.prototype.pub=function(t){var e,n;return l()(t)&&(1===(n=d()(arguments,1)).length?e=n[0]:1<n.length&&(e=n),this._router.parse(t,[e])),this},f.prototype.modifySubCB=function(t,e,n){return a()(t,"track/")?function(){e.apply(n,r()(Array.prototype.slice.call(arguments)))}:e},f.prototype.sub=function(t,e,n,i,r){if(!l()(t)||u()(t))return this.log.error("`route` must be not empty string"),this;if(!c()(e))return this.log.error("`cb` must be a function"),this;if(i&&!s()(i))return this.log.error("`rules` must be an object or not specified"),this;var a=this.modifySubCB(t,e,n),e=r?"addOnce":"add";return o()(this._routes,t)||i?i?((r=this._router.addRoute(t)).rules=i,r.matched[e](a,n)):this._routes[t].matched[e](a,n):(this._routes[t]=this._router.addRoute(t),this._routes[t].matched[e](a,n)),this},f.prototype.log={error:function(){},log:function(){},info:function(){},warn:function(){},enabled:function(){}},e.a=f},31:function(t,e,n){"use strict";var i=n(0),r={},a={},o={},s=document.getElementsByTagName("head")[0],c={getUrl:function(){return"".concat(a.base_url,"/").concat(o.username,"/").concat(o.uri)},getAuthor:function(){return e="",(e=0<(n=i.b.find(s,'meta[property="author"]')).length&&(t=n[0].getAttribute("content"))?t:e).replace(/,$/g,"");var t,e,n},getTitle:function(){return r.title||document.title},getDescription:function(){return r.description},getCaption:function(){var t=document.domain,e=c.getAuthor();return e&&(t+=" | By "+e),t},getPicture:function(){return r.picture},getAll:function(){return{url:c.getUrl(),author:c.getAuthor(),title:c.getTitle(),description:c.getDescription(),caption:c.getCaption(),picture:c.getPicture()}}};e.a=c},32:function(t,e,n){"use strict";n.d(e,"b",function(){return p});var i=n(156),r=n.n(i),a=n(47),o=n(15),s=n(26),u=n(6);function c(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var d,l,p=function(){return c(l,function(){return Promise.resolve(y)})},f=(d=function(e,n){if(e.asyncIsEligible)return c(e.asyncIsEligible(),function(t){t&&w(e.name,n)})},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(d.apply(this,t))}catch(t){return Promise.reject(t)}}),h=[],g={},m={},v={},y=[],b=function(){return u.a.getBuzzfeedSubdomainOrWildcard(window.location.hostname)};function w(t,e){m[t]=e,g[t]&&g[t].forEach(function(t){return t.resolve(e)})}function _(){h.forEach(function(t){t.asyncIsEligible?f(t,null):t.isEligible()&&w(t.name,null)})}function k(t,e){var n=window.location.hostname.replace("www","");u.a.remove(t,".".concat(n));var i=b(),n=i==="www.".concat(n)?14:1;u.a.set({name:t,value:e,days:n,domain:i})}function T(t,e){window.bfa(t,{data:e})}function S(c){return Object.keys(c).forEach(function(t){var e="".concat(t,"_version"),n=c[t],i=n.value,r=n.version,a=n.error,o=n.resolved;if(a)return v[t]={type:"ExperimentServerError",name:t,error:a},void(g[t]&&g[t].forEach(function(t){return t.resolve(null)}));if(w(t,i=o?i||"control":i),null===i){var s=b();return u.a.remove(t,s),void u.a.remove(e,s)}y.push([t,n.id,n.version,n.value,n.variant_id].join("|"));o=u.a.get(t)===String(i),s=u.a.get(e)===String(r);o&&s||(k(t,i),k(e,r),T("".concat("track/abtest","/").concat(t),{experiment:t,variation:n}))}),y}function O(t,i){var r=[];h.forEach(function(t){"boolean"==typeof t.storeResponse&&t.storeResponse&&r.push(t.name)}),0!==r.length&&t.forEach(function(t){var e,n;-1!==r.indexOf(t)&&(!(e=i[t])||e.error||null===e.value?w(t,null):(n=t+"_metadata",t=e,t=JSON.stringify(e),t=escape(t),u.a.get(n)!==t&&k(n,t)))})}e.a={registerExperiments:function(){h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],l=null},getExperimentMetaData:function(t){var n={};return t.forEach(function(t){var e=u.a.get(t+"_metadata");try{e=unescape(e),e=JSON.parse(e),n[t]=e}catch(t){return}}),n},getExperimentVariant:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=t.rejectErrors,i=void 0===e||e,r=t.defaultVariantIfUnbucketed,a=void 0===r?"control":r,e=t.errorVariant,r=void 0===e?null:e,e=(t=n,Object(o.c)(window.location.search)["abeagle_".concat(t)]);if(e)return Promise.resolve(e);t=h.filter(function(t){return t.name===n})[0],e=v[n];return t?t.isEligible()||t.asyncIsEligible||(e={type:"ExperimentNotEligible",name:n}):e={type:"ExperimentNotFound",name:n},e=e?!1===i?(this.defaultErrorHandler(e),Promise.resolve(r)):Promise.reject(e):n in m?Promise.resolve(m[n]):new Promise(function(t,e){g[n]?g[n].push({resolve:t,reject:e}):g[n]=[{resolve:t,reject:e}]}),e=null!==a?e.then(function(t){return null===t?a:t}):e},isOn:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"on";return r()(e)?Promise.reject("onValue cannot be null or undefined"):this.getExperimentVariant(t,{rejectErrors:!1}).then(function(t){return t===e})},defaultErrorHandler:function(t){if(t instanceof Error)throw t;if("prod"!==window.BZFD.Config.env)switch(t.type){case"ExperimentNotFound":console.log('Experiment "'.concat(t.name,'" is not registered'));break;case"ExperimentNotEligible":console.log('Experiment "'.concat(t.name,'" is not eligible'));break;case"ExperimentServerError":console.log("Experiment ".concat(t.name," error: ").concat(t.error))}},getVariants:function(t){if(t)return h.forEach(function(t){var e=u.a.get(t.name);t.asyncIsEligible?f(t,e):t.isEligible()&&w(t.name,e)}),Promise.resolve();if(l)return Promise.resolve();t=h.filter(function(t){return t.isEligible()}).map(function(t){return t.name});return t.length?this.requestVariants(t):Promise.resolve()},requestVariants:function(e){var n=(new Date).getTime();return Object(a.a)({env:BZFD.Config.env}).then(function(t){return l=s.a.get("".concat(window.BZFD.Config.abeagle.url,"/public/v2/experiment_variants"),{data:{experiment_names:e.join(";"),user_id:t,client_id:"buzz_web"},timeout:1500}).then(function(t){T("track/abeagle/request",{responseTime:Date.now()-n}),S(t),O(e,t)}).catch(_)})},requestVariantsAsync:function(e){try{var n=this;return e.asyncIsEligible?c(e.asyncIsEligible(),function(t){delete e.asyncIsEligible,t?(e.isEligible=function(){return!0},(t=u.a.get(e.name))?w(e.name,t):n.requestVariants([e.name])):w(e.name,null)}):void 0}catch(e){return Promise.reject(e)}},saveExperiments:function(t){void 0!==t.experimentsMap&&void 0!==t.experimentNames&&(S(t.experimentsMap),O(t.experimentNames,t.experimentsMap))},start:function(t){var n=this;this.getVariants(t),t?t.start(h):h.forEach(function(t){var e;t.asyncIsEligible?n.requestVariantsAsync(t):t.isEligible()?(e=u.a.get(t.name))&&w(t.name,e):w(t.name,null)})},reset:function(){h=[],g={},v={},m={},l=null,y=[]}}},38:function(t,e,n){"use strict";var i={platform:{desktop:1,mobileweb:2,bflite:3},bfaMode:{develop:1,prod:2,test:3},trackingBehavior:{byDefault:1,ifSpecified:2}};Object.freeze(i),e.a=i},4:function(t,e,n){"use strict";n.d(e,"e",function(){return h}),n.d(e,"g",function(){return g}),n.d(e,"b",function(){return m}),n.d(e,"d",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"a",function(){return b});var i=n(39),r=n.n(i),i=n(33),a=n.n(i),i=n(5),o=n.n(i),s=n(49);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(n);return t=i?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==p(t)&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f={};function h(t,e){return t+"-"+e.id}function g(t){var e=new Date(1e3*t).toISOString().substr(11,8);return(e=t<3600?e.substr(3,5):e).replace(/^0+(\d:)/,"$1")}function m(t){window.bfa&&window.bfa instanceof Function&&window.bfaBinder&&window.bfa(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function v(){if(screen.orientation&&screen.orientation.type)return screen.orientation.type.replace("-primary","");if(window.orientation)return 90===Math.abs(window.orientation)?"landscape":"portrait";if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return"portrait";if(window.matchMedia("(orientation: landscape)").matches)return"landscape"}return"landscape"}f.getKeys=function(t){var e,n;if(Object.keys)return Object.keys(t);for(n in e=[],t)t.hasOwnProperty(n)&&e.push(n);return e},f.getUniqueEventName=h,f.capitalize=function(t){return"string"!=typeof t?t:t.replace(/\w+/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},f.hasQueryString=function(t){return-1<t.indexOf("?")},f.removeHash=function(t){return-1<(t+="").indexOf("#")?t.substr(0,t.indexOf("#")):t},f.removeQueryString=function(t){return-1<(t+="").indexOf("?")?-1===t.indexOf("#")?t.substr(0,t.indexOf("?")):t.substr(0,t.indexOf("?"))+t.substr("#",t.length):t},f.getQueryString=function(t){var e="";return e=-1<(t=f.removeHash(t)).indexOf("?")?t.substr(t.indexOf("?"),t.length):e},f.getHash=function(t){return-1<(t+="").indexOf("#")?t.substr(t.indexOf("#"),t.length):""},f.queryStringToObject=function(t){if(""===t||null==t)return{};var n,t=t.split("&"),i={};return f.each(t,function(t,e){""===(n=e.split("="))[1]&&(n[1]=null),i[n[0]]=n[1]}),i},f.objectToQueryString=function(t){var n=[];return f.each(t,function(t,e){n.push(t+"="+e)}),"?"+n.join("&")},f.getBaseUrl=function(t){return t=f.removeHash(t),f.removeQueryString(t)},f.addParams=function(t,e){var n,i,r=f.getQueryString(t),a=f.getHash(t);return t=f.removeHash(t),t=f.removeQueryString(t),r=f.queryStringToObject(r.substr(1,r.length)),f.each(e,function(t,e){n=e[0],i=e[1],r[n]=i}),t+f.objectToQueryString(r)+a},f.removeParams=function(t,e){var n=f.getBaseUrl(t),i=f.getQueryString(t),t=f.getHash(t),r=f.queryStringToObject(i.substr(1,i.length));return f.each(e,function(t,e){delete r[e]}),n+f.objectToQueryString(r)+t},f.prepareUrl=function(t,e){var n=[];return f.each(e,function(t,e){void 0!==e&&n.push([t,encodeURIComponent(e)])}),f.addParams(t,n)},f.redirect=function(t){"string"==typeof t&&t&&(window.location.href=t)},f.openPopup=function(t,e){var n,i,r,a;"string"==typeof t&&t&&(a="_blank",r="",e&&e.height&&e.width&&(n=window.screen.height/2-e.height/2,i=window.screen.width/2-e.width/2,r="scrollbars=yes, toolbar=0, status=0, width="+e.width+", height="+e.height+", top="+n+", left="+i,a=e.name||a),window.open(t,a,r))},f.urlToId=function(t){var e=t;try{e=new URL(t).pathname}catch(t){}return(e="/"===e.charAt(0)?e.slice(1,e.length):e).replace(/\//g,"_")},f.each=function(t,n){if(Array.isArray(t))t.forEach(function(t,e){return n(e,t)});else for(var e in t)t.hasOwnProperty(e)&&n(e,t[e])},f.extend=r.a,f.getQueryParams=function(){if("undefined"==typeof window)return{};var t=window.location.search.substring(1),n={};return t&&t.split("&").forEach(function(t){var e=t.split("="),t=decodeURIComponent(e[0]),e=decodeURIComponent(e.slice(1).join("="));n[t]=e}),n},f.addQueryParam=function(t,e,n){return(t=t||window.location.href)+(t.split("?")[1]?"&":"?")+e+"="+n},f.largeNumberNotation=function(t){return t<1e3?t:t<1e4?t.toString().charAt(0)+","+t.toString().substring(1):1e6<=t?(t/1e6).toFixed(t%1e6!=0)+"M":(t/1e3).toFixed(t%1e3!=0)+"K"},f.numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},f.min=function(){return Math.min.apply(Math,Array.prototype.filter.call(arguments,function(t){return!isNaN(+t)}))},f.toQueryString=function(t){var n=[];return this.each(t,function(t,e){null!==e&&""!==e&&void 0!==e&&n.push(t+"="+e)}),n.join("&")},f.getMessageHandler=function(n){return function(t,e){t=n[t];"function"==typeof t&&t.call(this,e)}},f.getEventHandler=function(i){return function(t,e,n){n=i[n];"function"==typeof n&&n.call(this,t,e)}},f.padLeft=function(t,e,n){for(var i=n-t.toString().length,r="",a=0;a<i;a++)r+=e;return r+t},f.freeFormFormat=function(t){return t.replace(/["'"â€œâ€™ ]/g,"").toLowerCase()},f.secondsToTimeStamp=g,f.timeSince=function(t){var e=["year","years"],n=["month","months"],i=["day","days"],r=["hour","hours"],a=["minute","minutes"],o=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3);return 1<=(t=Math.floor(o/31536e3))?{type:"year",value:t,text:t+" "+(1===t?e[0]:e[1])+" ago"}:1<=(t=Math.floor(o/2592e3))?{type:"month",value:t,text:t+" "+(1===t?n[0]:n[1])+" ago"}:1<=(t=Math.floor(o/86400))?{type:"day",value:t,text:t+" "+(1===t?i[0]:i[1])+" ago"}:1<=(t=Math.floor(o/3600))?{type:"hour",value:t,text:t+" "+(1===t?r[0]:r[1])+" ago"}:1<(t=Math.floor(o/60))?{type:"minute",value:t,text:t+" "+(1===t?a[0]:a[1])+" ago"}:{type:"now",value:"",text:"just now"}},f.bulkDelete=function(t,n){f.each(t,function(t,e){delete n[e]})},f.bfaTrack=m,f.getScreenOrientation=v,f.isIOSIPad="undefined"!=typeof navigator&&!!navigator.userAgent.toLowerCase().match(/ipad/),f.isIOSMobile="undefined"!=typeof navigator&&!!navigator.userAgent.toLowerCase().match(/iphone|ipod/);r=f.isIOSIPad||f.isIOSMobile;f.isIOS=r;r="undefined"!=typeof window&&(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString());function y(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(){return t++}}f.isSafari=r,f.createScript=function(i){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.head,a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return new Promise(function(t,e){var n=document.createElement("script");n.onload=function(){return t(n)},n.onerror=function(t){Object(s.a)("script","error",{url:o()(t,"currentTarget.src","").split("?")[0]}),e("Script failed to load")},n.src=i,n.async=a,r.appendChild(n)})},f.createStyleSheet=function(i){return new Promise(function(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=i,n.onload=function(){return t(n)},n.onerror=function(){return e("".concat(i," failed to load"))},document.head.appendChild(n)})},f.stripHTML=function(t){var n=Array.isArray(t)?[]:{},e=document.createElement("div");switch(p(t)){case"string":return e.innerHTML=t,e.textContent||"";case"object":return f.each(t,function(t,e){return n[t]=f.stripHTML(e)}),n}return t},f.truncate=function(n,i){if(!n||!n.textContent||!n.textContent.length)return 0;var t=n.textContent,e=n.textContent.substring(0,i),r=n.innerHTML?n.innerHTML.substring(0,i):null;if(!n.innerHTML||e===r)return n.textContent=t===e?e:e.replace(/\s*$/,"")+"...",e.length;var a=0;return f.each(n.childNodes,function(t,e){i<=a?n.removeChild(e):a+=f.truncate(e,i-a)}),n.textContent.length},f.decorateWithMixins=function(t){if(!a()(t))throw new TypeError("".concat(t," is not a function"));for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(t,e){if(void 0===t)throw new TypeError("Mixin at position ".concat(e," is undefined"))});var r=[t];return n.forEach(function(t){var n=r[0],e=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n);var t=d(e);function e(){return c(this,e),t.apply(this,arguments)}return e}();a()(t)&&(t=t(n.prototype)),Object.assign(e.prototype,t),r.unshift(e)}),r[0]},f.idGenerator=y;var b=function t(){var n,i,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).unsubscribe,r=void 0===e?function(){}:e;c(this,t);e=new Promise(function(t,e){n=t,i=e});return e.resolve=n,e.reject=i,e.unsubscribe=r,e};f.Deferred=b,f.moduleIsInContext=function(){return!0},e.c=f},45:function(t,e,n){"use strict";function i(i){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.head,a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return new Promise(function(t,e){var n=document.createElement("script");n.onload=function(){return t(n)},n.onerror=function(){e("Script at url ".concat(i," failed to load"))},n.src=i,n.async=a,n.type="text/javascript",r.appendChild(n)})}n.d(e,"a",function(){return i})},47:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(48);function o(t,e,n){var i,r,a,o,s;for(this.version="1.0.1",this.minAlphabetLength=16,this.sepDiv=3.5,this.guardDiv=12,this.errorAlphabetLength="error: alphabet must contain at least X unique characters",this.errorAlphabetSpace="error: alphabet cannot contain spaces",this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",this.seps="cfhistuCFHISTU",this.minHashLength=0<parseInt(e,10)?e:0,this.salt="string"==typeof t?t:"","string"==typeof n&&(this.alphabet=n),i="",r=0,o=this.alphabet.length;r!==o;r++)-1===i.indexOf(this.alphabet[r])&&(i+=this.alphabet[r]);if(this.alphabet=i,this.alphabet.length<this.minAlphabetLength)throw this.errorAlphabetLength.replace("X",this.minAlphabetLength);if(-1!==this.alphabet.search(" "))throw this.errorAlphabetSpace;for(r=0,o=this.seps.length;r!==o;r++)-1===(a=this.alphabet.indexOf(this.seps[r]))?this.seps=this.seps.substr(0,r)+" "+this.seps.substr(r+1):this.alphabet=this.alphabet.substr(0,a)+" "+this.alphabet.substr(a+1);this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this.consistentShuffle(this.seps,this.salt),(!this.seps.length||this.alphabet.length/this.seps.length>this.sepDiv)&&(1===(s=Math.ceil(this.alphabet.length/this.sepDiv))&&s++,s>this.seps.length?(n=s-this.seps.length,this.seps+=this.alphabet.substr(0,n),this.alphabet=this.alphabet.substr(n)):this.seps=this.seps.substr(0,s)),this.alphabet=this.consistentShuffle(this.alphabet,this.salt),s=Math.ceil(this.alphabet.length/this.guardDiv),this.alphabet.length<3?(this.guards=this.seps.substr(0,s),this.seps=this.seps.substr(s)):(this.guards=this.alphabet.substr(0,s),this.alphabet=this.alphabet.substr(s))}o.prototype.encode=function(){var t,e,n=Array.prototype.slice.call(arguments);if(!n.length)return"";for(e=(n=n[t=0]instanceof Array?n[0]:n).length;t!==e;t++)if("number"!=typeof n[t]||n[t]%1!=0||n[t]<0)return"";return this._encode(n)},o.prototype.decode=function(t){return t.length&&"string"==typeof t?this._decode(t,this.alphabet):[]},o.prototype.encodeHex=function(t){var e,n,i;if(t=t.toString(),!/^[0-9a-fA-F]+$/.test(t))return"";for(e=0,n=(i=t.match(/[\w\W]{1,12}/g)).length;e!==n;e++)i[e]=parseInt("1"+i[e],16);return this.encode.apply(this,i)},o.prototype.decodeHex=function(t){for(var e=[],n=this.decode(t),i=0,r=n.length;i!==r;i++)e+=n[i].toString(16).substr(1);return e},o.prototype._encode=function(t){for(var e,n,i,r,a,o,s,c=this.alphabet,u=t.length,d=0,l=0,p=t.length;l!==p;l++)d+=t[l]%(l+100);for(n=e=c[d%c.length],l=0,p=t.length;l!==p;l++)r=t[l],i=n+this.salt+c,c=this.consistentShuffle(c,i.substr(0,c.length)),e+=i=this.hash(r,c),l+1<u&&(r=(r%=i.charCodeAt(0)+l)%this.seps.length,e+=this.seps[r]);for(e.length<this.minHashLength&&(a=(d+e[0].charCodeAt(0))%this.guards.length,(e=this.guards[a]+e).length<this.minHashLength&&(a=(d+e[2].charCodeAt(0))%this.guards.length,e+=this.guards[a])),o=parseInt(c.length/2,10);e.length<this.minHashLength;)0<(s=(e=(c=this.consistentShuffle(c,c)).substr(o)+e+c.substr(0,o)).length-this.minHashLength)&&(e=e.substr(s/2,this.minHashLength));return e},o.prototype._decode=function(t,e){var n,i,r,a,o=[],s=0,c=new RegExp("["+this.guards+"]","g"),u=t.replace(c," "),d=u.split(" ");if(void 0!==(u=d[s=3===d.length||2===d.length?1:s])[0]){for(n=u[0],u=u.substr(1),c=new RegExp("["+this.seps+"]","g"),s=0,i=(d=(u=u.replace(c," ")).split(" ")).length;s!==i;s++)r=d[s],a=n+this.salt+e,e=this.consistentShuffle(e,a.substr(0,e.length)),o.push(this.unhash(r,e));this._encode(o)!==t&&(o=[])}return o},o.prototype.consistentShuffle=function(t,e){var n,i,r,a,o;if(!e.length)return t;for(r=t.length-1,o=a=0;0<r;r--,a++)o+=i=e[a%=e.length].charCodeAt(0),i=t[n=(i+a+o)%r],t=(t=t.substr(0,n)+t[r]+t.substr(1+n)).substr(0,r)+i+t.substr(r+1);return t},o.prototype.hash=function(t,e){for(var n="",i=e.length;n=e[t%i]+n,t=parseInt(t/i,10););return n},o.prototype.unhash=function(t,e){for(var n=0,i=0;i<t.length;i++)n+=e.indexOf(t[i])*Math.pow(e.length,t.length-i-1);return n};n=n(61);function r(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t){var t=(e=decodeURIComponent(t).split("&").map(function(t){return t.split("=")}).reduce(function(t,e){var n,n=(n=2,function(t){if(Array.isArray(t))return t}(e=e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,a({},n[0],n[1]))},{})).u,e=e.uuid;return{legacyIdentifier:l(t||""),identifier:e}}var u=parseInt(1e10*Math.random(),10),d=Object(n.a)(),l=function(t){if(0!==t.indexOf(".")){var e=/[0-9A-Za-z]+/.exec(t);return null!==e&&e[0]===t&&parseInt(t,36)}e=t.substr(1,2);return function(t,e){e=(1<arguments.length&&void 0!==e?e:{}).salt;return new o(void 0===e?null:e).decode(t)[0]}(t.substr(3),{salt:e})},p=function(t){var e=t.env,t=t.legacy,r=void 0===t||t,a=new i.a({namespace:"bf-xdomain-tracking",cookieName:"bf_visit",daysExpiry:1e4,env:e});return a.get().then(function(t){var e=c(t),n=e.legacyIdentifier,i=e.identifier,e=(t=u,e=parseInt(25*Math.random()+10,10).toString(36)+parseInt(25*Math.random()+10,10).toString(36),".".concat(e).concat(function(t,e){var n=1<arguments.length&&void 0!==e?e:{},e=n.salt,n=n.length;return new o(void 0===e?null:e,void 0===n?32:n).encode(t)}(t,{salt:e,length:0})));return r?n||(a.set(encodeURIComponent("u=".concat(e,"&uuid=").concat(i||d,"&v=2"))),u):i||n?i||String(n):(a.set(encodeURIComponent("u=".concat(e,"&uuid=").concat(d,"&v=2"))),d)})}},48:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(74);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=(i(u.prototype,[{key:"get",value:function(){var e=this;return this.throttle?Promise.resolve(this.inMemoryValue):this.xDomainCookies.get(this.cookieName).then(function(t){return e.inMemoryValue=t,e.resetThrottle(),t})}},{key:"set",value:function(t){return this.inMemoryValue=t,this.xDomainCookies.set({name:this.cookieName,value:t,days:this.daysExpiry,secureOnly:this.secureOnly})}},{key:"resetThrottle",value:function(){var t=this;this.throttleTimer&&(this.throttle=setTimeout(function(){t.throttle=null},this.throttleTimer))}}]),u);function u(t){var e=t.cookieName,n=t.daysExpiry,i=t.env,r=t.namespace,a=t.sourceOfTruthDomain,o=t.throttleTimer,s=void 0===o?null:o,o=t.secureOnly,o=void 0===o||o,t=t.localDomain,t=void 0===t?function(t){var e=(0<arguments.length&&void 0!==t?t:window).location.hostname,t=e.split(".")[0];return e=t&&"stage"!==t&&-1===["buzzfeed","buzzfeednews","tasty"].indexOf(t)&&3<=e.split(".").length?e.substring(t.length+1):e}():t;!function(t){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i="live"===i?"prod":i,this.xDomainCookies=new c.a({sourceOfTruthDomain:a||function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"dev";return"dev"===t?"dev.buzzfeed.io":"prod"===t||"app-west"===t?"buzzfeed.com":"stage.buzzfeed.com"}(i),namespace:r,localDomain:t,env:i}),this.cookieName=e,this.daysExpiry=n,this.secureOnly=o,this.throttleTimer=s,this.inMemoryValue=null}},49:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(96),s=["samplingRate"];function i(t,e){var n,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof window.bfa?(s.some(function(t){return r.hasOwnProperty(t)})&&(a=r,r={}),n=(i=a).samplingRate,i=i.platform,e={data:{target:t,value:e,tags:r}},i&&(e.data.platform=a.platform),n&&(1<n?"dev"===window.BZFD.Config.env&&console.error("Your sampling rate is above 100%."):Object.assign(e,{opts:{samplingRate:n}})),window.bfa(o.b,e)):void 0!==window.raven&&window.raven.captureException(new Error("Instrumentation tracking issue: BFA is not available"))}},56:function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},6:function(t,e,n){"use strict";function i(t,e){e=t.match(e);return e&&e.length?e[0]:null}function o(){return"prod"===window.BZFD.Config.env?"buzzfeed.com":window.location.hostname}e.a={getBuzzfeedSubdomainOrWildcard:function(t){return i(t,"(dev|stage|www).(buzzfeed|buzzfeednews).(com|io)$")||i(t,".?[a-z]+.[a-z]+$")},get:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n="".concat(t,"="),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var a=i[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return e},set:function(t){var e=t.name,n=t.value,i=t.days,r=(r=t.domain)||o(),a="";return i&&((t=new Date).setTime(t.getTime()+24*i*60*60*1e3),a="; expires=".concat(t.toGMTString())),document.cookie="".concat(e,"=").concat(n).concat(a,"; path=/; domain=").concat(r)},remove:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o();return this.set({name:t,value:"",days:-1,domain:e})}}},61:function(t,e,n){"use strict";e.a=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^function(){try{return crypto.getRandomValues(new Uint8Array(1))[0]}catch(t){return 255*Math.random()}}()&15>>t/4).toString(16)})}},62:function(t,e,n){"use strict";e.a=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(i.matches(e))return i;i=i.parentNode}return null}},630:function(t,e,n){"use strict";n.r(e);function s(t){this.defaultConfig={start:"@",end:";",separator:":",objectPropertySeparator:",",objectStart:"{",objectEnd:"}",arrayStart:"[",arrayEnd:"]",parts:{action:"a",description:"d",location:"l",data:"e",options:"o"}},this.config=t||this.defaultConfig,this.parse=function(t){var e={},n=t.getAttribute("data-bfa");return""===(e=null===n||""===n?{action:"",location:"",description:"",data:{},options:{}}:this.processAttribute(n)).location&&(e.location=this.findLocation(t.parentElement)),e.action=this.grabDataSource(e.action),e.location=this.grabDataSource(e.location),e.description=this.grabDataSource(e.description),e},this.processAttribute=function(t){var e,n,i=[];for(e in this.config.parts)!this.config.parts.hasOwnProperty(e)||-1<(n=t.indexOf(this.config.start+this.config.parts[e]+this.config.separator))&&i.push({part:e,idx:n});for(var r,i=i.sort(function(t,e){return t.idx<e.idx?-1:t.idx===e.idx?0:1}),a={action:"",location:"",description:"",data:"",options:""},o=0;o<i.length;o++)o<i.length-1?a[i[o].part]=t.substring(i[o].idx,i[o+1].idx):a[i[o].part]=t.substring(i[o].idx);for(r in a)a.hasOwnProperty(r)&&(a[r]=a[r].replace(this.config.start+this.config.parts[r]+this.config.separator,"").trim(),a[r][a[r].length-1]===this.config.end&&(a[r]=a[r].substring(0,a[r].length-1)));return a.data=this.convertToObject(a.data),a.options=this.convertToObject(a.options),a},this.findLocation=function(t){for(;null!==t&&t.getAttribute;){var e=t.getAttribute("data-bfa");if(null===e||""===e)t=t.parentElement;else{e=this.processAttribute(e);if(""!==e.location)return e.location;t=t.parentElement}}return""},this.objectParseMode={propertyName:1,propertyValue:2,propertyArray:4},this.convertToObject=function(t){var e={};if("string"!=typeof(t=t.trim().replace('"',"").replace("'",""))||0!==t.indexOf(this.defaultConfig.objectStart)||t.indexOf(this.defaultConfig.objectEnd)!==t.length-1)return e;for(var n="",i="",r="",a=this.objectParseMode.propertyName,o=1;o<t.length-1;o++)if(t[o]!==this.defaultConfig.separator||a!==this.objectParseMode.propertyName)switch(a){case this.objectParseMode.propertyArray:if(i=i||[],t[o]===this.defaultConfig.arrayEnd){i.push(r.trim()),e[n.trim()]=i,i=r=n="",a=this.objectParseMode.propertyName;break}if(t[o]===this.defaultConfig.objectPropertySeparator){i.push(r),r="";break}r+=t[o];break;case this.objectParseMode.propertyValue:t[o]===this.defaultConfig.objectPropertySeparator||o===t.length-2?(e[n.trim()]=(i+(t[o]!==this.defaultConfig.objectPropertySeparator?t[o]:"")).trim(),i=n="",a=this.objectParseMode.propertyName):i+=t[o];break;case this.objectParseMode.propertyName:t[o]!==this.defaultConfig.objectPropertySeparator&&(n+=t[o])}else t[o+1]&&t[o+1]===this.defaultConfig.arrayStart?(a=this.objectParseMode.propertyArray,o++):a=this.objectParseMode.propertyValue;return e},this.grabDataSource=function(t){if(-1<t.indexOf("source:")){var e=t.replace("source:","").trim();if(e&&window){for(var n=window,i=e.split("."),e=i.pop(),r=0;r<i.length;r++)n=n[i[r]];e=n[e];if(e)return e()}}return t}}var i=n(5),c=n.n(i),r={Core:n(304).a},a=n(128),o=n(4),u=n(39),d=n.n(u),l=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");function p(t){if(null==t||!("string"==typeof t||t instanceof String))return null;t=t.match(l);return{url:t[0]||"",scheme:t[2]||"",host:t[4]||"",path:t[5]||"",cleanedPath:t[5]||"",query:t[7]||"",fragment:t[9]||""}}function f(t){return!(0<t.scheme.length&&0<t.host.length&&-1===t.host.indexOf("buzzfeed.com")||0===t.url.indexOf("javascript:;"))}function h(t){return t.host&&t.scheme&&!(-1<t.host.indexOf("buzzfeed.com"))&&-1!==t.scheme.indexOf("http")}function g(t){return t.path+(t.query?"?"+t.query:"")}function m(t){t=p(t);return null===t?"":h(t)?t.url:f(t)?g(t):""}function v(t){return!(t&&t.ignore instanceof Array)||-1===t.ignore.indexOf("bfaBinder")&&-1===t.ignore.indexOf("all")||t.force instanceof Array&&-1!==t.force.indexOf("bfaBinder")}function y(i,r){this.events=[],this.matches=document.documentElement.matches||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.oMatchesSelector||document.documentElement.msMatchesSelector,this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var t in i)if(i.hasOwnProperty(t))for(var e=i[t],n=0;n<e.length;n++)e[n].trackMethod=t,this.events.push(e[n])},this.subscribeForEvents=function(){var e=document.body||document.documentElement,n=this;this.events=this.events.map(function(t){return t.handler=n.getHandler(),e.addEventListener(t.event,t.handler),t})},this.getHandler=function(){var a=this;return function(t){if(!t.bfaHandled&&t.target)for(var e=t.target;e;){for(var n=0;n<a.events.length;n++){var i=a.events[n];if(e.nodeType&&9!==e.nodeType&&i.event===t.type&&a.matches.call(e,i.selector)){var r=i.options?i.options.handlers:null;a.trackElement(e,i.trackMethod,r),t.bfaHandled=!0;break}}if(t.bfaHandled)break;e=e.parentNode}}},this.trackElement=function(t,e,n){if(n)for(var i=0;i<n.length&&!I[n[i]](t,r,e);i++);else(0,I.DefaultHandler)(t,r,e)},this.disable=function(){for(var t=document.body||document.documentElement,e=0;e<this.events.length;e++)t.removeEventListener(this.events[e].event,this.events[e].handler)}}function b(i,r){this.events=[],this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var t in i)if(i.hasOwnProperty(t))for(var e=i[t],n=0;n<e.length;n++)e[n].trackMethod=t,this.events.push(e[n])},this.subscribeForEvents=function(){var i=this;this.events=this.events.map(function(t){var e,n=document.querySelector(t.selector);return n&&(e=t.options?t.options.handlers:null,t.handler=i.getHandler(t.trackMethod,e),n.addEventListener(t.event,t.handler)),t})},this.getHandler=function(e,n){var i=this;return function(t){i.trackElement(this,e,n),t.bfaHandled=!0}},this.trackElement=function(t,e,n){if(n)for(var i=0;i<n.length&&!I[n[i]](t,r,e);i++);else(0,I.DefaultHandler)(t,r,e)},this.disable=function(){for(var t=0;t<this.events.length;t++){var e=document.querySelector(this.events[t].selector);e&&e.removeEventListener(this.events[t].event,this.events[t].handler)}}}function w(t){this.visibilityProps={hidden:null,visibilityChange:null},this.trackedByVisibility=!1,this.trackedByUnload=!1;var e=this;this.init=function(){this.visibilityProps=this.getVisibilityProps(),this.visibilityProps.hidden&&this.visibilityProps.visibilityChange&&document.addEventListener(this.visibilityProps.visibilityChange,this.visibilityHandler,!1),window.addEventListener("beforeunload",this.unloadHandler,!1),window.addEventListener("unload",this.unloadHandler,!1),window.addEventListener("pagehide",this.unloadHandler,!1)},this.visibilityHandler=function(){document[e.visibilityProps.hidden]||e.trackedByVisibility||(e.trackedByVisibility=!0,window[t].apply(this,["track/page/exit"]))},this.unloadHandler=function(){e.trackedByUnload||(e.trackedByUnload=!0,window[t].apply(this,["track/page/exit"]))},this.getVisibilityProps=function(){var t=null,e=null;return void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),{hidden:t,visibilityChange:e}}}function _(e,t){this.mapping=e,this.executable=t,this.parser=new s,this.init=function(){var t=this,e=0,n=setInterval(function(){10<=e&&clearInterval(n),window.FB&&(clearInterval(n),t.processMappings()),e++},1e3)},this.processMappings=function(){if(void 0!==e)for(var t=0;t<e.length;t++)"like"===e[t]&&this.bindLikes(),"unlike"===e[t]&&this.bindDislikes(),"comment"===e[t]&&this.bindComments()},this.bindLikes=function(){var n=this;window.FB.Event.subscribe("edge.create",function(t,e){null!==e&&e.getAttribute&&(e=["track/click/"+(e=n.parser.parse(e)).action,{t:"click",n:e.action,d:e.description,l:e.location,data:e.data,opt:e.options}],n.executable&&window[n.executable]instanceof Function&&window[n.executable].apply(this,e))})},this.bindDislikes=function(){var n=this;window.FB.Event.subscribe("edge.remove",function(t,e){e=n.parser.parse(e),e=["track/click/"+e.action,{t:"click",n:e.action,d:e.description,l:e.location,data:e.data,opt:e.options}];n.executable&&window[n.executable]instanceof Function&&window[n.executable].apply(this,e)})},this.bindComments=function(){var t=this;window.FB.Event.subscribe("comment.create",function(){t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,["track/click/Submit",{t:"click",n:"Submit",d:"Facebook",l:"Contributions"}])})}}function k(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){for(var t,e,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight+1,r=document.documentElement.clientTop||document.body.clientTop||0,i=n+i,a=0,o=0;o<this.options.bottomBounds.length&&!(t=document.querySelector(this.options.bottomBounds[o]));o++);for(t&&((r=t.getBoundingClientRect().top+n-r)<=i&&a<100&&(a=100),i<=r&&(a=i/r*100)),o=0;o<this.options.checkpoints.length;o++)this.points[o].percentage<=a&&!this.points[o].passed&&(this.points[o].passed=!0,e=["track/scroll/post",{t:"scroll",n:"post",d:this.points[o].percentage.toString()}],this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,e))},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],passed:!1})}}function T(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){if(this.options.elementMode.element&&this.options.elementMode.expected){for(var t=window.pageYOffset+document.documentElement.clientHeight+1,e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientTop||document.body.clientTop||0,i=document.querySelectorAll(this.options.elementMode.element),r=0,a=0;a<i.length;a++)i[a].getBoundingClientRect().top+e-n<=t&&r++;var o,s=r/this.options.elementMode.expected*100,c=null;for(a=0;a<this.options.bottomBounds.length&&!(c=document.querySelector(this.options.bottomBounds[a]));a++);for(c&&t>=c.getBoundingClientRect().top+e-n&&s<100&&(s=100),a=0;a<this.options.checkpoints.length;a++)this.points[a].percentage<=s&&!this.points[a].passed&&(this.points[a].passed=!0,o=["track/scroll/post",{t:"scroll",n:"post",d:this.points[a].percentage.toString()}],this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,o))}},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],passed:!1})}}function S(n,t){this.options=n||{},this.executable=t,this.scrollHandler=null,this.keyPressHandler=null,this.init=function(){window&&n&&t&&(this.scrollHandler=this.getScrollHandler(),this.keyPressHandler=this.getKeyPressScrollHandler(),this.scrollHandler&&window.addEventListener("scroll",A()(this.scrollHandler,200)),this.keyPressHandler&&document.addEventListener("keydown",A()(this.keyPressHandler,200)))},this.getScrollHandler=function(){var t=null,e=null;return this.options.pixelMode.enabled&&(t=new k(this.options,this.executable)).init(),this.options.elementMode.enabled&&(e=new T(this.options,this.executable)).init(),function(){n.elementMode.enabled&&document.querySelectorAll(n.elementMode.element).length!==n.elementMode.expected?e.track():n.pixelMode.enabled&&t.track()}},this.getKeyPressScrollHandler=function(){var e=this;return function(t){if(!(32===t.which||33===t.which||34===t.which||38===t.which||40===t.which||t.ctrlKey&&35===t.which||t.ctrlKey&&36===t.which&&e.scrollHandler))return null;e.scrollHandler()}}}function O(t,e){var r=this;this.options=t||{},this.executable=e,this.init=function(){t&&t.locators&&e&&"function"==typeof window[e]&&(this.observedElements=[],this.elementQuery=this.options.locators.join(","),this.updateTargets())},this.updateTargets=function(){var t=Array.from(document.querySelectorAll(r.elementQuery)),e=t.filter(function(t){return r.observedElements.indexOf(t)<0});r.observedElements=t,e.length&&r.observeElements(e)},this.onObserve=function(t,i){t.forEach(function(t){var e,n;t.isIntersecting&&(e=window[r.executable],n=t.target,e("track/scroll/impression",{t:"scroll",n:(n=F.parse(n)).action,l:n.location,d:n.description,data:n.data,opt:n.options}),i.unobserve(t.target))})},this.observeElements=function(t){var e=new IntersectionObserver(r.onObserve,{threshold:.5});t.forEach(function(t){return e.observe(t)})}}function E(a){this.inited=!1;var o=this;window.bfaYoutubeIframePlayerTracking||(window.bfaYoutubeIframePlayerTracking=function(t){o.processVideo(t)}),this.init=function(){this.inited=!0},this.processVideo=function(t){var e=t.getIframe(),n=e.getAttribute("id"),i=e.getAttribute("data-published"),r=e.getAttribute("src");t.addEventListener("onStateChange",function(t){if(o.inited){var e={id:n,duration:t.target.getDuration(),currentTime:t.target.getCurrentTime(),published:i,url:t.target.getVideoUrl(),source:"youtube",type:"embed"};switch(t.data){case 1:window[a].apply(this,["track/video/play",{data:e}]);break;case 2:window[a].apply(this,["track/video/pause",{data:e}]);break;case 0:window[a].apply(this,["track/video/finish",{data:e}]);break;case 3:window[a].apply(this,["track/video/startedBuffering",{data:e}])}}}),t.addEventListener("onError",function(t){o.inited&&(t={id:n,published:i,url:r,source:"youtube",errorCode:t.data},window[a].apply(this,["track/video/error",{data:t}]))})}}function x(n){this.inited=!1;var i=this;function t(t){/^https?:\/\/player.vimeo.com/.test(t.origin)&&i.processVideo(t)}window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t,!1),this.init=function(){this.inited=!0},this.processVideo=function(t){var e=JSON.parse(t.data);if("ready"===e.event&&this.registerListeners(e.player_id),this.inited)switch(e.event){case"play":window[n].apply(this,["track/video/play",{data:i.getVideoData(e)}]);break;case"pause":window[n].apply(this,["track/video/pause",{data:i.getVideoData(e)}]);break;case"finish":window[n].apply(this,["track/video/finish",{data:i.getVideoData(e)}])}},this.registerListeners=function(t){t=document.getElementById(t);t.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"play"}),"*"),t.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"pause"}),"*"),t.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"finish"}),"*")},this.getVideoData=function(t){var e=document.getElementById(t.player_id);return{id:t.player_id,duration:t.data.duration,currentTime:t.data.seconds,published:e.getAttribute("data-published")||e.parentElement.getAttribute("data-published"),url:e.getAttribute("src"),source:"vimeo"}}}function C(r){var e=this;this.initCounter=0,this.init=function(){window.FB?window.FB.Event.subscribe("xfbml.ready",function(t){"video"===t.type&&e.processVideo(t)}):this.initCounter<10&&(this.initCounter++,setTimeout(function(){e.init()},500))},this.processVideo=function(t){var e=document.getElementById(t.id),n=t.instance,i={id:t.id,published:e.getAttribute("data-published"),url:e.getAttribute("data-video-url"),source:"facebook",type:"embed"};n.subscribe("startedPlaying",function(){i.duration=t.instance.getDuration(),i.currentTime=t.instance.getCurrentPosition(),window[r].apply(this,["track/video/play",{data:i}])}),n.subscribe("paused",function(){i.duration=t.instance.getDuration(),i.currentTime=t.instance.getCurrentPosition(),window[r].apply(this,["track/video/pause",{data:i}])}),n.subscribe("finishedPlaying",function(){i.duration=t.instance.getDuration(),i.currentTime=t.instance.getCurrentPosition(),window[r].apply(this,["track/video/finish",{data:i}])}),n.subscribe("startedBuffering",function(){i.duration=t.instance.getDuration(),i.currentTime=t.instance.getCurrentPosition(),window[r].apply(this,["track/video/startedBuffering",{data:i}])}),n.subscribe("finishedBuffering",function(){i.duration=t.instance.getDuration(),i.currentTime=t.instance.getCurrentPosition(),window[r].apply(this,["track/video/finishedBuffering",{data:i}])}),n.subscribe("error",function(){window[r].apply(this,["track/video/error",{data:i}])})}}function M(){var t;this.domBinders=[],this.socialBinders=[],this.scrollBinders=[],this.generalBinders=[],this.videoBinders=[],this.parser=new s,this.init=function(){for(t=0;t<this.domBinders.length;t++)this.domBinders[t].init();for(t=0;t<this.socialBinders.length;t++)this.socialBinders[t].init();for(t=0;t<this.scrollBinders.length;t++)this.scrollBinders[t].init();for(t=0;t<this.generalBinders.length;t++)this.generalBinders[t].init();for(t=0;t<this.videoBinders.length;t++)this.videoBinders[t].init()},this.trigger=function(t){"updateTargets"===t.type&&this.scrollBinders.forEach(function(t){"function"==typeof t.updateTargets&&t.updateTargets()})}}var I={ATagWithInternalLinkHandler:function(t,e){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var n=p(t.getAttribute("href"));if(null===n||!f(n))return!1;n=["track/click/Nav-Link",{t:"click",n:"Nav-Link",l:(new s).findLocation(t),data:{url:g(n)}}];return e&&window[e]instanceof Function&&window[e].apply(this,n),!0},ATagWithExternalLinkHandler:function(t,e){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var n=p(t.getAttribute("href"));if(!n||!h(n))return!1;n={t:"click",n:"Exit-Link",l:(new s).findLocation(t),data:{url:n.url,anchorDesc:t.innerHTML}};if(t.hasAttribute("data-affiliate")){for(var i={},r=0,a=t.attributes.length;r<a;r++){var o=t.attributes[r];o.name.startsWith("data-vars")&&(i[o.name.replace("data-vars-","")]=o.value)}n.data=Object.assign(n.data,i)}return e&&window[e]instanceof Function&&window[e].apply(this,["track/click/Exit-Link",n]),!0},ATagDefaultHandler:function(t,e,n){if(null===t||"A"!==t.nodeName||!t.hasAttribute("data-bfa"))return!1;var i=(new s).parse(t);if(!v(i.options))return!1;i.data.url=m(t.getAttribute("href"));i=["track/"+n+"/"+i.action,{t:n,n:i.action,l:i.location,d:i.description,data:i.data,opt:i.options}];return e&&window[e]instanceof Function&&window[e].apply(this,i),!0},SelectTagChangedClickHandler:function(t,e){if(null===t||"SELECT"!==t.nodeName)return!1;var n=t.options[t.selectedIndex];if(!n)return!1;if(!n.hasAttribute("data-bfa"))return!1;t=(new s).parse(n);if(!v(t.options))return!1;n.hasAttribute("data-href")&&(t.data.url=m(n.getAttribute("data-href")));t=["track/click/"+t.action,{t:"click",n:t.action,l:t.location,d:t.description,data:t.data,opt:t.options}];return e&&window[e]instanceof Function&&window[e].apply(this,t),!0},DefaultHandler:function(t,e,n){if(null===t||!t.hasAttribute("data-bfa"))return!1;t=(new s).parse(t);if(!v(t.options))return!1;t=["track/"+n+"/"+t.action,{t:n,n:t.action,l:t.location,d:t.description,data:t.data,opt:t.options}];return e&&window[e]instanceof Function&&window[e].apply(this,t),!0}},P=n(65),A=n.n(P),F=new s;function D(){}D.prototype.buildConfig={bfaFunctionName:null,domBinder:{delegatedMapping:null,directMapping:null},generalBinder:{pageExitBinder:!1},inViewImpressionBinder:{enabled:!1,locators:[]},scrollBinder:{pixelMode:{enabled:!1},elementMode:{enabled:!1,element:"",expected:0},checkpoints:[],bottomBounds:[]},socialBinder:{facebookMapping:null},videoBinder:{youtube:!1,vimeo:!1,facebook:!1}},D.prototype.useDomDelegatedBinder=function(t){return this.buildConfig.domBinder.delegatedMapping=t,this},D.prototype.useDomDirectBinder=function(t){return this.buildConfig.domBinder.directMapping=t,this},D.prototype.usePageExitBinder=function(){return this.buildConfig.generalBinder.pageExitBinder=!0,this},D.prototype.useInViewImpressionBinder=function(t){return this.buildConfig.inViewImpressionBinder.enabled=!0,this.buildConfig.inViewImpressionBinder.locators=t,this},D.prototype.useScrollPixelModeBinder=function(){return this.buildConfig.scrollBinder.pixelMode.enabled=!0,this},D.prototype.useScrollElementsModeBinder=function(t,e){return this.buildConfig.scrollBinder.elementMode.enabled=!0,this.buildConfig.scrollBinder.elementMode.element=t,this.buildConfig.scrollBinder.elementMode.expected=e,this},D.prototype.useSocialBinder=function(t){return this.buildConfig.socialBinder.mapping=t,this},D.prototype.setBottomBoundElements=function(t){return this.buildConfig.bottomBounds=t,this},D.prototype.setPercentageCheckpoints=function(t){this.scrollBinder.checkpoints=t},D.prototype.useBfaFunction=function(t){this.bfaFunctionName=t},D.prototype.useVideoBinder=function(){this.buildConfig.videoBinder.youtube=!0,this.buildConfig.videoBinder.vimeo=!0,this.buildConfig.videoBinder.facebook=!0},D.prototype.build=function(){if(!this.buildConfig.bfaFunctionName)return null;var t,e,n,i,r,a=new M;return this.buildConfig.domBinder.delegatedMapping&&(t=new y(this.buildConfig.domBinder.delegatedMapping,this.buildConfig.bfaFunctionName),a.domBinders.push(t)),this.buildConfig.domBinder.directMapping&&(e=new b(this.buildConfig.domBinder.directMapping,this.buildConfig.bfaFunctionName),a.domBinders.push(e)),this.buildConfig.generalBinder.pageExitBinder&&(e=new w(this.buildConfig.bfaFunctionName),a.generalBinders.push(e)),this.buildConfig.socialBinder.facebookMapping&&(n=new _(this.buildConfig.socialBinder.facebookMapping,this.buildConfig.bfaFunctionName),a.socialBinders.push(n)),this.buildConfig.videoBinder.youtube&&(n=new E(this.buildConfig.bfaFunctionName),a.videoBinders.push(n)),this.buildConfig.videoBinder.vimeo&&(i=new x(this.buildConfig.bfaFunctionName),a.videoBinders.push(i)),this.buildConfig.videoBinder.facebook&&(i=new C(this.buildConfig.bfaFunctionName),a.videoBinders.push(i)),(this.buildConfig.scrollBinder.elementMode.enabled||this.buildConfig.scrollBinder.pixelMode.enabled)&&(r=new S(this.buildConfig.scrollBinder,this.buildConfig.bfaFunctionName),a.scrollBinders.push(r)),this.buildConfig.inViewImpressionBinder.enabled&&(r=new O({locators:this.buildConfig.inViewImpressionBinder.locators},this.buildConfig.bfaFunctionName),a.scrollBinders.push(r)),a.init(),a};var N=D;function j(e,t){this.settings=t||{},this._binderBuilder=new N;var n=this;return e._router.sub("plugin/binder/activate",function(t){d()(n.settings,t||{}),d()(n._binderBuilder.buildConfig,n.settings),e.domi.onDomReady(function(){var t=n._binderBuilder.build();null!==t&&(window.bfaBinder=t,e._router.sub("plugin/binder/trigger",window.bfaBinder.trigger.bind(window.bfaBinder)))})},this,null,!0),{}}window.bfaBinder={parser:new s},j.defaultId="binder",j.require=["domi"];var R=j,L=n(20),B=n.n(L),U=n(25),z=n.n(U),V=n(50),q=n.n(V),H=n(115),G=n.n(H),W=n(29),K=n.n(W);function Z(t,e,n,i,r,a){this.t=t||"",this.n=e||"",this.l=n||"",this.d=i||"",this.data=K()(r)?r:{},this.opt=K()(a)?a:{}}Z.tryParse=function(t){var e=c()(t,"t",""),n=c()(t,"n","");return B()(e)&&0!==e.length&&B()(n)&&0!==n.length?new Z(e,n,c()(t,"l",""),c()(t,"d",""),c()(t,"data",{}),c()(t,"opt",{})):null};var J=Z,Q={logger:"loggerAppender",sessionStorage:"sessionStorageAppender"};function Y(r,t){t=t||{},this.defaultSettings={storageKeyName:"bfa_debugStore",appendersConfig:{}},this.defaultSettings.appendersConfig[r.defs.bfaMode.develop]=[Q.logger],this.defaultSettings.appendersConfig[r.defs.bfaMode.test]=[Q.sessionStorage,Q.logger],this.settings=G()(t,this.defaultSettings),this._bfaMode=r._generalSettings.mode,r._onGeneralSettingsChange.add(function(){this._bfaMode=r._generalSettings.mode},this);var a=this;function e(t,e){if(t instanceof J&&e){if(z()(a.settings.appendersConfig,a._bfaMode))for(var n=a.settings.appendersConfig[a._bfaMode],i=0;i<n.length;i++)z()(a,n[i])&&a[n[i]].trackEvent(this.instanceId,t,e)}else r.log.warn("DebugTracker: can't store event data for "+this.instanceId+": not valid arguments")}function n(t){if(!B()(t)||""===t)throw new Error("Error occurred on _createDebugTracker call: instanceId arg has to be not empty string");return{instanceId:t,trackEvent:e}}return this[Q.sessionStorage]={trackEvent:function(t,e,n){var i=sessionStorage.getItem(a.settings.storageKeyName),i=null===i?{pageHref:document.location.href}:JSON.parse(i);q()(i[t])&&(i[t]=[]),i[t].push({eventType:e.t,eventName:e.n,eventLocation:e.l,eventDescription:e.d,dataObject:n}),sessionStorage.setItem(a.settings.storageKeyName,JSON.stringify(i))}},this[Q.logger]={trackEvent:function(t,e,n){this.logger.event(t,e,n)}},this[Q.logger].logger=r.createLogger("DebugTracker_"+Q.logger),r.createDebugTracker=n,{modifySBInstance:function(t){t.debugTracker=n(t.instanceId)}}}Y.defaultId="debugTracker",Y.require=["generalSettings","logger"],Y.debugTrackerAppenderTypes=Q;var $=Y,X=n(33),tt=n.n(X),et=n(40),nt=n.n(et),it=n(64);function rt(t){this._core=t,this._isDomReady=!1,this._domReady=new nt.a,this._domReady.addOnce(function(){this._isDomReady=!0},this,Number.MAX_VALUE);var e,n=this;return this._installDomi=function(t){t.domi={onDomReady:function(t,e){n._isDomReady?t.call(e):n._domReady.addOnce(t,e)},loadScript:function(t,e,n,i){var r=document.createElement("script");r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.src=t.src,!1!==t.async&&(r.async=!0),q()(t.attrs)||it.a.forOwn(t.attrs,function(t,e){r.setAttribute(e,t)}),tt()(e)&&(r.onload=function(){this.onerror=null,this.onload=null,e.apply(i)}),tt()(n)&&(r.onerror=function(){this.onerror=null,this.onload=null,n.apply(i)});t=document.body||document.getElementsByTagName("body")[0];t&&t.appendChild(r)}}},this._installDomi(t),"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener?document.addEventListener("DOMContentLoaded",n._domReady.dispatch,!1):document.attachEvent?document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n._domReady.dispatch()}):(e=window.onload,window.onload=function(){e&&e(),n._domReady.dispatch()}):n._domReady.dispatch(),{modifySBInstance:function(t){n._installDomi(t)}}}rt.defaultId="domi";var at=rt,ot=n(160),st=n.n(ot),ct=n(36),ut=n.n(ct),dt=n(23),lt=n.n(dt),pt=n(57),ft=n.n(pt),ht=n(38),gt=n(9);function mt(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var vt=gt.a.rules;function yt(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(t){return Promise.reject(t)}}}function bt(r){var t={trackingBehavior:ht.a.trackingBehavior.byDefault,extTrackerGlobalName:"fbq",tracker:null,configMapsDelegate:null,extFilesPaths:[],facebookId:"260954170738952",isEnabled:Promise.resolve(!0)};this._inited=!1,this._active=!1,this.settings=ut()(r.settings||{},t),this.generalSettings=r.getGeneralSettings();var a=this,i=["ViewContent","Search","Lead","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","CompleteRegistration"];this.activate=yt(function(){var i=this;return mt(i.settings.isEnabled,function(t){var e,n=!1;if(t&&!a._active&&a._inited)return e=function(t){if(n)return t;i.page&&a.user&&(i._active=!0,r.moduleActive.dispatch())},(t=function(){if(!i.tracker)return window[i.settings.extTrackerGlobalName]?(i.tracker=window[i.settings.extTrackerGlobalName],mt(vt.fetchCCPAOptOut(),function(t){t?i.tracker("dataProcessingOptions",["LDU"],1,1e3):i.tracker("dataProcessingOptions",[]),i.tracker("init",i.settings.facebookId)})):void(n=!0)}())&&t.then?t.then(e):e(t)})}),r.onGeneralSettingsChange(function(){a.generalSettings=r.getGeneralSettings()},this),r.onPageReady(function(){a.page=r.getPageInfo(),a.activate()},this),r.onPageChanged(function(){a.page=r.getPageInfo()},this),r.onUserReady(function(){a.user=r.getUserInfo(),a.activate()},this),r.onUserChanged(function(){a.user=r.getUserInfo()},this),this.getEventInfo=function(t,e,n){t=r.tryConvertToEventInfo(t,e,n);return r.canTrackEvent(r.moduleId,this.settings.trackingBehavior,t)?(t.data.page=this.page,t.data.user=this.user,t):(r.log.warn(r.moduleId+" cannot track current event. Type: "+e+"; Name: "+n+";"),null)},this._trackDefault=function(t,e){var n;t&&null!==e&&0<ft()(e).length&&(n="","fbEventName"in e&&(n=e.fbEventName,delete e.fbEventName),st()(i,n)?this.tracker("track",n,e):this.tracker("trackCustom",n,e),r.debugTracker.trackEvent(t,e))},this._trackPage=function(t){var e,n;this._active?(e=this.getEventInfo(t,"page","view"),r.mapper.isExists("track/page/view")?(n=r.mapper.map("track/page/view",e,{}),this._trackDefault(e,n)):r.log.warn("Mapping for `track/page/view` doesn't exist")):r.moduleActive.addOnce(lt()(this._trackPage,this,t),this)},r.subOn("track/page/view",this._trackPage,this),this._trackClick=yt(function(t,e){if(this._active){var n=this.getEventInfo(t,"click",e.eventName);if(n){if(r.mapper.isExists("track/click")){var i=r.mapper.map("track/click",n,{});return this._trackDefault(n,i),c()(this.page,"post.flags.ad",!1)&&"Share"===n.n&&(i=ut()({n:"Lead"},n),n=r.mapper.map("track/click",i,{}),this._trackDefault(i,n)),mt()}r.log.warn("Mapping for `track/click` doesn't exist")}}else r.moduleActive.addOnce(lt()(this._trackClick,this,t,e),this)}),r.subOn("track/click/{eventName}",this._trackClick,this),this._trackQuiz=function(t,e){var n,i;this._active?(n=this.getEventInfo(t,"quiz",e.eventName),r.mapper.isExists("track/quiz")?(i=r.mapper.map("track/quiz",n,{}),this._trackDefault(n,i)):r.log.warn("Mapping for `track/quiz` doesn't exist")):r.moduleActive.addOnce(lt()(this._trackQuiz,this,t,e),this)},r.subOn("track/quiz/{eventName}",this._trackQuiz,this),this._trackNewsletterSuccess=function(t,e){var n;this._active?(n=this.getEventInfo(t,"signup","email-success"),e=r.mapper.map(e.request_,n,{}),this._trackDefault(n,e)):r.moduleActive.addOnce(lt()(this._trackNewsletterSuccess,this,t),this)},r.subOn("track/signup/email-success",this._trackNewsletterSuccess,this),r.subOn("track/click/newsletter-signup",this._trackNewsletterSuccess,this),this._trackVideo=function(t,e){var n,i;this._active?(n=this.getEventInfo(t,"video",e.eventName),r.mapper.isExists("track/video")?(i=r.mapper.map("track/video",n,{}),this._trackDefault(n,i)):r.log.warn("Mapping for `track/video` doesn't exist")):r.moduleActive.addOnce(lt()(this._trackVideo,this,t,e),this)},r.subOn("track/video/{eventName}",this._trackVideo,this),this._trackAbVariation=function(t,e){var n,i;this._active?(n=this.getEventInfo(t,"abtest",e.eventName),r.mapper.isExists("track/abtest")?(i=r.mapper.map("track/abtest",n,{}),this._trackDefault(n,i)):r.log.warn("Mapping for `track/abtest` doesn't exist")):r.moduleActive.addOnce(lt()(this._trackAbVariation,this,t,e),this)},r.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),this._trackImpression=function(t,e){var n,i;this._active?r.mapper.isExists("track/scroll/impression")?(n=this.getEventInfo(t,"impression",e.eventName),i=r.mapper.map("track/scroll/impression",n,{}),this._trackDefault(n,i)):r.log.warn("Mapping for `track/scroll/impression` doesn't exist"):r.moduleActive.addOnce(lt()(this._trackImpression,this,t,e),this)},r.subOn("track/scroll/impression",this._trackImpression,this),this._trackBids=function(t,e){var n,i;this._active?r.mapper.isExists("track/bids")?(n=this.getEventInfo(t,"bids",e.eventName),i=r.mapper.map("track/bids",n,{}),this._trackDefault(n,i)):r.log.warn("Mapping for `track/bids` doesn't exist"):r.moduleActive.addOnce(lt()(this._trackBids,this,t,e),this)},r.subOn("track/bids",this._trackBids,this),this._declare=function(){var t,e=window;e.fbq||(t=e.fbq=function(){t.callMethod?t.callMethod.apply(t,arguments):t.queue.push(arguments)},e._fbq||(e._fbq=t),(t.push=t).loaded=!0,t.version="2.0",t.queue=[])},this.init=function(){a.settings.configMapsDelegate(r.mapper),a.tracker=a.settings.tracker,!a.tracker&&!window[a.extTrackerGlobalName]&&a.settings.extFilesPaths&&0<a.settings.extFilesPaths.length&&(a._declare(),r.domi.onDomReady(function(){a.settings.extFilesPaths.forEach(function(t){r.domi.loadScript({src:t},a.activate,null,a)})},a)),a._inited=!0,r.moduleInited.dispatch(),a.activate()}}bt.defaultId="FacebookIntegration",bt.require=["logger","domi","pageInfo","userInfo","mapper","trackingUtils","generalSettings","debugTracker"];var wt=bt,_t=n(21),kt=n(11);function Tt(a){var t={trackingBehavior:a.defs.trackingBehavior.byDefault,extTrackerGlobalName:"ga",googleAnalyticsId:"",tracker:null,extFilePath:"//www.google-analytics.com/analytics.js",configMapsDelegate:null};this._inited=!1,this._active=!1,this.settings=ut()(a.settings||{},t),this.generalSettings=a.getGeneralSettings();var n=this;return this.activate=function(){if(!this._active&&this._inited){if(!this.tracker&&this.generalSettings.mode===a.defs.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return;this.tracker=window[this.settings.extTrackerGlobalName],this.tracker("create",this.settings.googleAnalyticsId,"auto"),this.tracker("set","anonymizeIp",!0)}this.page&&this.user&&(this._active=!0,a.moduleActive.dispatch())}},a.onGeneralSettingsChange(function(){this.generalSettings=a.getGeneralSettings()},this),a.onPageReady(function(){this.page=a.getPageInfo(),this.activate()},this),a.onUserReady(function(){this.user=a.getUserInfo(),this.activate()},this),this._trackDefault=function(t,e,n){var i,r;this._active?(t||e||n)&&(i=a.tryConvertToEventInfo(t="videoplayer"===e&&!t?{}:t,e,n),a.canTrackEvent(a.moduleId,this.settings.trackingBehavior,i)&&(i.data.page=this.page,i.data.user=this.user,a.mapper.isExists("track/"+e)?(r=a.mapper.map("track/"+e,i,{label:"(no label)",value:(r=t.opt,screen&&screen.orientation&&screen.orientation.type&&r&&(r.dimension5=screen.orientation.type.replace("-primary","")),r||"")}),this.generalSettings.mode===a.defs.bfaMode.prod?this.tracker("send","event",r.category,r.action,r.label,r.value):a.debugTracker.trackEvent(i,r)):a.log.error("Mapping for `track/"+e+"` doesn't exist"))):a.moduleActive.addOnce(lt()(this._trackDefault,this,t,e,n),this)},this._trackPage=function(t){var e,n,i="";this._active?(e=a.tryConvertToEventInfo(t,"page","view"),a.canTrackEvent(a.moduleId,this.settings.trackingBehavior,e)&&(a.mapper.isExists("track/page/view")?((n=a.mapper.map("track/page/view",e)).page.match(/p=\d+/)&&(i="?"+n.page.match(/p=\d+/)[0]),0<ft()(n).length?(this.generalSettings.mode===a.defs.bfaMode.prod&&(this.tracker("set","page",window.location.pathname),this.tracker("send","pageview",window.location.pathname+i,{dimension1:"feedpager"})),a.debugTracker.trackEvent(e,n)):a.log.warn("Event won't be tracked to GA, because object is empty after mapping. Type: "+e.t+"; Name: "+e.n+";")):a.log.error("Mapping for `track/page/view` doesn't exist"))):a.moduleActive.addOnce(lt()(this._trackPage,this,t),this)},a.subOn("track/page/view",this._trackPage,this),this._trackClick=function(t,e){t.n.match("|")&&(t.n=t.n.replace(/\|/g,"/")),e.eventName.match("|")&&(e.eventName=e.eventName.replace(/\|/g,"/")),this._trackDefault(t,"click",e.eventName)},a.subOn("track/click/{eventName}",this._trackClick,this),this._trackPageExit=function(t,e){t={n:"Page-Exit",data:{scrolledDistance:Math.round(window.scrollY/(document.documentElement.offsetHeight-window.innerHeight)*100)}},this._trackDefault(t,"page",e.eventName),this._trackDefault({l:"Feed",n:"last-cell-visible",d:n.feedIndex},"update/feedindex")},this._trackGDPR=function(t,e){this._trackDefault(t,"gdpr",e.eventName)},this._trackNewsletter=function(t,e){this._trackDefault(t,"signup",e.eventName)},this._trackVideo=function(t,e){"share"!==e.eventName&&this._trackDefault(t,"video",e.eventName)},this._updateFeedIndex=function(t){t.feedItemTrack&&t.cardIndex&&(n.feedIndex=t.cardIndex)},this._trackAbVariation=function(t,e){this._trackDefault(t,"abtest",e.abTestName)},this._trackScroll=function(t,e){(void 0===t.data||void 0===t.d||"1"!==t.d&&"0"!==t.d||void 0===t.data.type||"package/hp-shopping"!==t.data.type)&&"NewsletterPromo"!==t.l&&"welcome-message"!==t.l&&0!==t.l.indexOf("Package")&&0!==t.l.indexOf("mega-package")&&"Nav"!==t.l&&-1===t.l.indexOf("Feed:package")&&-1===t.l.indexOf("buzzblocks/Package")||this._trackDefault(t,"scroll",e.eventName)},a.subOn("track/scroll/{eventName}",this._trackScroll,this),a.subOn("track/video/{eventName}",this._trackVideo,this),a.subOn("track/page/exit",this._trackPageExit,this),a.subOn("track/signup/{eventName}",this._trackNewsletter,this),a.subOn("track/gdpr/{eventName}",this._trackGDPR,this),a.subOn("track/update/feedindex",this._updateFeedIndex,this),a.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),this._trackVideoPlayer=function(t,e){this._trackDefault(t,"videoplayer",e.eventName)},a.subOn("track/videoplayer/{eventName}",this._trackVideoPlayer,this),this._trackRawEvent=function(t){var e,n,i,r;this._active?(i=a.tryConvertToEventInfo(t,"raw","ga"),a.canTrackEvent(a.moduleId,this.settings.trackingBehavior,i)&&(e=(r=i.data).category,n=r.action,i=void 0===(i=r.label)?"(no label)":i,r=void 0===(r=r.value)?null:r,this.generalSettings.mode===a.defs.bfaMode.prod?this.tracker("send","event",e,n,i,r):(console.groupCollapsed("GA tracked raw event"),console.table({category:e,action:n,label:i,value:r}),console.groupEnd()))):a.moduleActive.addOnce(lt()(this._trackRawEvent,this,t),this)},a.subOn("track/raw/ga",this._trackRawEvent,this),{init:function(){B()(n.settings.googleAnalyticsId)?tt()(n.settings.configMapsDelegate)?(n.settings.configMapsDelegate(a.mapper),n.generalSettings.mode===a.defs.bfaMode.prod?(n.tracker=n.settings.tracker,n.tracker||window[n.settings.extTrackerGlobalName]||!n.settings.extFilePath||a.domi.loadScript({src:n.settings.extFilePath},n.activate,null,n)):n.tracker={},n._inited=!0,a.moduleInited.dispatch(),n.activate()):a.log.error("Value of configMapsDelegate (in settings) property must be a `function` that have to set up mapping"):a.log.error("Must set googleAnalyticsId")}}}Tt.defaultId="GAIntegration",Tt.require=["logger","domi","trackingUtils","generalSettings","mapper","debugTracker","pageInfo","userInfo"];var St=Tt,Ot=n(130),e=n(55),Et=n.n(e);function xt(n,t){var e={mode:n.defs.bfaMode.prod,debug:!1,isConsentRequired:!1,approvedModules:[]};this._core=n;t=ut()(t||{},e),e=new nt.a;return this.setSettings=function(t){n._generalSettings=Et()(t||{}),n._onGeneralSettingsChange.dispatch(Et()(n._generalSettings))},this.updateSettings=function(t){n._generalSettings=d()(n._generalSettings||{},t||{}),n._onGeneralSettingsChange.dispatch(Et()(n._generalSettings))},n._onGeneralSettingsChange=e,this.setSettings(t),this._core._router.sub("general/settings/set",this.setSettings,this),this._core._router.sub("general/settings/update",this.updateSettings,this),{modifySBInstance:function(t){t.getGeneralSettings=function(){return Et()(n._generalSettings)},t.onGeneralSettingsChange=function(t,e){n._onGeneralSettingsChange.add(t,e)},t.isApproved=function(t){return!n._generalSettings.isConsentRequired||-1!==n._generalSettings.approvedModules.indexOf(t)}}}}xt.defaultId="generalSettings";var i=xt,u=n(131),Ct=n.n(u),P=n(311),Mt=n.n(P),L=n(22),It=n.n(L);function Pt(e,t){return this.settings=ut()(t||{},{varName:"bfa",eventsArrayName:"c"}),this.unhandledEventsArray=null,z()(window,this.settings.varName)&&(t=c()(window,this.settings.varName),z()(t,this.settings.eventsArrayName)&&It()(t[this.settings.eventsArrayName])&&(this.unhandledEventsArray=t[this.settings.eventsArrayName],0<this.unhandledEventsArray.length&&Mt()(this.unhandledEventsArray,function(t){return t[0]&&!Ct()(t[0],"track")&&!Ct()(t[0],"module")}).forEach(function(t){e.push.apply(e,t)},this))),e.inited.addOnce(function(){window[this.settings.varName]=function(){e.push.apply(e,arguments)},this.unhandledEventsArray&&0<this.unhandledEventsArray.length&&this.unhandledEventsArray.forEach(function(t){e.push.apply(e,t)},this),-1<window.location.search.indexOf("e2e_test")&&document.documentElement.setAttribute("data-bfa-ready","true")},this),{}}Pt.defaultId="globalBfaEndpoint";U=Pt;function At(t){return t instanceof Error?t.stack||t.message:t.toString()}function Ft(e,t){return{logLevel:t||1,log:function(t,e){Array.isArray(e)||(e=[e]),!0===Ft._enabled&&window.console&&window.console[t].apply(window.console,e)},event:function(t,e,n){3===this.logLevel&&(t=t+" '"+e.t+"'",e.printType&&n.type&&(t=t+" '"+n.type+"'"),this.log("groupCollapsed",t),this.log("log","EventInfo"),this.log("table",[[e]]),this.log("log","DataObject"),this.log("table",[[n]]),e.prettyPrintData&&this.log("log",JSON.stringify(n,null,2)),this.log("groupEnd"))},error:function(t){1<=this.logLevel&&this.log("error","BFA ["+e+"] "+At(t))},warn:function(t){2<=this.logLevel&&this.log("warn","BFA ["+e+"] "+At(t))}}}Ft._enabled=!1,Ft.enabled=function(t){return Ft._enabled=void 0!==t?!!t:Ft._enabled};var Dt=Ft;function Nt(e){function t(t){t.mode===e.defs.bfaMode.develop||!0===t.debug?!0!==e.log.enabled()&&e.log.enabled(!0):!0===e.log.enabled()&&e.log.enabled(!1)}return e.log=Dt("BFACore",e._generalSettings.logLevel),e._router.log=e.log,e.createLogger=function(t){return B()(t)&&""!==t||e.log.error("core.createLogger: `loggerName` argument must be a not empty string"),Dt(t,e._generalSettings.logLevel)},e.log.enabled=function(t){return Dt.enabled(t)},t(e._generalSettings),e._onGeneralSettingsChange.add(t,this),{modifySBInstance:function(t){t.log=Dt(t.instanceId,e._generalSettings.logLevel)}}}Nt.defaultId="logger",Nt.require=["generalSettings"];var V=Nt,H=n(76),jt=n.n(H),W=n(227),Rt=n.n(W);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){if(!1===B()(t)||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');q()(e)&&(e=null),this.destinationVarPath=t,this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=void 0,this.preFormatters=[],this.defaultValue=e}function Ut(t){this.options=t,this.mapToCollection=[]}function zt(t){Ut.call(this,t),this.templatesToApply=[]}function Vt(t,e){if(!t||!tt()(t))throw new Error("routeFunc should be a function that receives src object as parameter and returns bool");if(!(e&&e instanceof Ut))throw new Error("mapConfig should be an instance of BfaMapperMapConfig");this.routeFunc=t,this.mapConfig=e}function qt(t,e){this.mapName=t,this.options=e,this.routers=[],this.defaultMapConfig=null}function Ht(){this.mapRouters={},this.mapTemplates={},this._utils={utils:it.a,defs:ht.a}}function Gt(t,e){if(!1===B()(t)||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');q()(e)&&(e=null),this.destinationVarPath=t,this.mappings=[],this.defaultValue=e}Bt.prototype.mappingTypes={sourcePath:1,function:2},Bt.prototype.mapFrom=function(t,e){if(tt()(t))this.mappingType=this.mappingTypes.function,this.mappingFrom=t;else{if(!(B()(t)&&0<t.length))throw new TypeError('"mapFrom" is object of wrong type: '+Lt(t).toString());this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=t}return It()(e)&&Rt()(e,function(t){return t instanceof Function})&&this.preFormatters.push.apply(this.preFormatters,e),this},Bt.prototype.map=function(t,e,n){var i=this.defaultValue;if(!q()(this.mappingFrom))switch(this.mappingType){case this.mappingTypes.function:i=this.mappingFrom.call(n,t,e);break;case this.mappingTypes.sourcePath:i=c()(t,this.mappingFrom,this.defaultValue)}return q()(i)&&(i=this.defaultValue),0<this.preFormatters.length&&this.preFormatters.forEach(function(t){i=t.call(n,i)}),jt()(e,this.destinationVarPath,i),i},Ut.prototype.addMapTo=function(t,e){e=new Bt(t,e);return this.mapToCollection.push(e),e},((zt.prototype=Object.create(Ut.prototype)).constructor=zt).prototype.applyTemplateByName=function(t){-1===this.templatesToApply.indexOf(t)&&this.templatesToApply.push(t)},qt.prototype.getMapConfig=function(t,e){for(var n=null,i=0;i<this.routers.length;i++){var r=this.routers[i];if(!0===r.routeFunc.call(e,t)){n=r.mapConfig;break}}return n=null===n?this.defaultMapConfig:n},qt.prototype.createConfigForRoute=function(t){t=new Vt(t,new zt(this.options));return this.routers.push(t),t.mapConfig},qt.prototype.createDefaultConfig=function(){return this.defaultMapConfig=new zt(this.options),this.defaultMapConfig},Ht.prototype.addUtility=function(t,e){if(!this.validateName(t))throw new TypeError("`utilityName` have to be not empty string");if(z()(this._utils,t))throw new Error("utility with "+t+" already exists");return this._utils[t]=e,this},Ht.prototype.getOrCreateMap=function(t,e){if(!this.validateName(t))throw new TypeError("mapName must be a not empty string");if(this.mapRouters[t])return this.mapRouters[t].defaultMapConfig;e=new qt(t,e);return(this.mapRouters[t]=e).createDefaultConfig()},Ht.prototype.isExists=function(t){return z()(this.mapRouters,t)},Ht.prototype.getOrCreateRouter=function(t,e){if(!this.validateName(t))throw new TypeError("`routeName` should be not empty string");if(z()(this.mapRouters,t))return this.mapRouters[t];e=new qt(t,e);return this.mapRouters[t]=e},Ht.prototype.createMapTemplate=function(t,e){if(!this.validateName(t))throw new TypeError("`templateName` should be not empty string");if(z()(this.mapTemplates[t]))return this.mapTemplates[t];e=new Ut(e);return this.mapTemplates[t]=e},Ht.prototype.validateName=function(t){return!(!1===B()(t)||t.length<=0)},Ht.prototype.map=function(t,e,n){var i=this;if(!q()(n)&&null!==n||(n={}),q()(e)||null===e)return n;if(!z()(this.mapRouters,t))return n;var r=this.mapRouters[t].getMapConfig(e,i._utils);if(null===r)return n;t=r.mapToCollection;0<t.length&&t.forEach(function(t){t.map(e,n,i._utils)});r=r.templatesToApply;return 0<r.length&&r.forEach(function(t){z()(i.mapTemplates,t)&&i.mapTemplates[t].mapToCollection.forEach(function(t){t.map(e,n,i._utils)})}),n},Ht.prototype.formatters={strToLowerCase:function(t){return B()(t)?t.toLowerCase():t},strCutTo255Characters:function(t){return B()(t)&&255<t.length?t.substr(0,255):t},strToInt:function(e){try{return parseInt(e)}catch(t){return e}}},Gt.prototype.mappingTypes={sourcePath:1,function:2},Gt.prototype.mapFrom=function(t,e){var n={mappingFrom:t,preFormatters:[]};if(tt()(t))n.mappingType=this.mappingTypes.function;else{if(!(B()(t)&&0<t.length))throw new TypeError('"mapFrom" is object of wrong type: '+Lt(t).toString());n.mappingType=this.mappingTypes.sourcePath}return It()(e)&&Rt()(e,function(t){return t instanceof Function})&&n.preFormatters.push.apply(this.preFormatters,e),this.mappings.push(n),this},Gt.prototype.map=function(n,i,r){var a=this,o=(o=c()(i,this.destinationVarPath))||[];if(!It()(o))throw new TypeError('"Destination" is an object of wrong type: '+Lt(o).toString()+". Array is expected");this.mappings.forEach(function(t){var e=a.defaultValue;if(!q()(t.mappingFrom))switch(t.mappingType){case a.mappingTypes.function:e=t.mappingFrom.call(r,n,i);break;case a.mappingTypes.sourcePath:e=c()(n,t.mappingFrom,a.defaultValue)}q()(e)&&(e=a.defaultValue),0<t.preFormatters.length&&t.preFormatters.forEach(function(t){e=t.call(r,e)}),o.push(e)}),jt()(i,this.destinationVarPath,o)},Ut.prototype.addMapToArray=function(t,e){e=new Gt(t,e);return this.mapToCollection.push(e),e};var Wt=Ht;function Kt(t){this._core=t;var e=this;return this._installMapper=function(t){t.mapper=new Wt},{modifySBInstance:function(t){e._installMapper(t)}}}Kt.defaultId="mapper";X=Kt;function Zt(r){var t={trackingBehavior:ht.a.trackingBehavior.byDefault,extTrackerGlobalName:"NOLCMB",staticTracker:null,videoTracker:null,staticConfig:{apid:"P7A907367-6D97-4DFD-AF90-B51EDF8D9AC5",sfcode:"dcr",nsdkv:"511",apn:"BuzzFeed Webapp Static"},videoConfig:{apid:"P3816F089-E5B5-4BF1-9D71-A955F54BCDE3",sfcode:"dcr",nsdkv:"511",apn:"buzzfeedVideos"},configMapsDelegate:null,extFilesPaths:[],trackers:[],isEnabled:Promise.resolve(!0)};this._inited=!1,this._active=!1,this.settings=ut()(r.settings||{},t),this.generalSettings=r.getGeneralSettings();var n,i=this;function a(t,e){i._playheadCounter&&u({playheadPosition:i._playheadCounter}),t.playheadPosition=e||0,i._playheadCounter=t.playheadPosition,i._lastPlayed=t.assetid,i._loadedData=!0,i._videoPlaying=!1,i.videoTracker.ggPM("loadMetadata",t),i._loadedVideos||(i._loadedVideos={}),i._loadedVideos[t.assetid]||(i._loadedVideos[t.assetid]=t),s(t)}function o(t){i._playheadInterval&&(clearInterval(i._playheadInterval),i._playheadInterval=null),i._playheadCounter=t.playheadPosition,!i._playheadInterval&&i._videoPlaying&&(i.videoTracker.ggPM("play",t.playheadPosition),e(),i._playheadInterval=setInterval(function(){e()},1e3))}function s(t){if(i._lastPlayed!==t.assetid)return i._playheadInterval&&(clearInterval(i._playheadInterval),i._playheadInterval=null),i._loadedVideos&&i._loadedVideos[t.assetid]&&a(i._loadedVideos[t.assetid],t.playheadPosition),0;!i._loadedData&&i._loadedVideos&&i._loadedVideos[t.assetid]?a(i._loadedVideos[t.assetid]):(i._playheadCounter=t.playheadPosition,i._playheadInterval||(i.videoTracker.ggPM("play",t.playheadPosition),e(),i._videoPlaying=!0,i._playheadInterval=setInterval(function(){e()},1e3)))}function c(t){i._playheadInterval&&(i._videoPlaying=!1,clearInterval(i._playheadInterval),i._playheadInterval=null,i._playheadCounter=t.playheadPosition,i.videoTracker.ggPM("stop",i._playheadCounter))}function u(t){i._playheadCounter&&(i._videoPlaying=!1,clearInterval(i._playheadInterval),i._playheadCounter=t.playheadPosition,i.videoTracker.ggPM("end",i._playheadCounter),i._playheadInterval=null,i._playheadCounter=null,i._loadedData=!1)}function e(){i.videoTracker.ggPM("setPlayheadPosition",i._playheadCounter),i._playheadCounter++}this._canInitializeTracker=function(t){return 0===this.settings.trackers.length||-1!==this.settings.trackers.indexOf(t)},this.activate=(n=function(){var e=this,t=e.settings.isEnabled,n=function(t){if(!e._active&&e._inited&&(r.isApproved(i.constructor.defaultId)||t)){if(e.generalSettings.mode===ht.a.bfaMode.prod){if(!window[e.settings.extTrackerGlobalName])return;t=window[e.settings.extTrackerGlobalName];!e.staticTracker&&e._canInitializeTracker("static")&&(e.staticTracker=t.getInstance("static_instance"),e.staticTracker.ggInitialize(e.settings.staticConfig)),!e.videoTracker&&e._canInitializeTracker("video")&&(e.videoTracker=t.getInstance("video_instance"),e.videoTracker.ggInitialize(e.settings.videoConfig))}e.page&&(i._active=!0,r.moduleActive.dispatch())}};return(t=!t||!t.then?Promise.resolve(t):t).then(n)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(t){return Promise.reject(t)}}),r.onGeneralSettingsChange(function(){i.generalSettings=r.getGeneralSettings(),r.isApproved(i.constructor.defaultId)&&i.activate()},this),r.onPageReady(function(){i.page=r.getPageInfo(),i.activate()},this),r.onPageChanged(function(){i.page=r.getPageInfo()},this),this.getEventInfo=function(t,e,n){n=r.tryConvertToEventInfo(t,e,n);return r.canTrackEvent(r.moduleId,this.settings.trackingBehavior,n)?(n.data.page=this.page,n):(r.log.warn("Event won't be tracked to Nielsen because of `Event type` and `Tracking behavior`. Type: "+n.t+"; Name: "+n.n+"; Location: "+n.l+"; Desc: "+n.d+";"),null)},this._trackPage=function(t){var e,n;this._active?r.mapper.isExists("track/page/view")?(e=this.getEventInfo(t,"page","view"))&&(n=r.mapper.map("track/page/view",e,{}),this.generalSettings.mode===ht.a.bfaMode.prod?this.staticTracker.ggPM("staticstart",n):r.debugTracker.trackEvent(e,n)):r.log.warn("Mapping for `track/page/view` doesn't exist"):r.moduleActive.addOnce(lt()(this._trackPage,this,t),this)},r.subOn("track/page/view",this._trackPage,this),this._trackVideoplayer=function(t,e){if(this._active)if(r.mapper.isExists("track/videoplayer")){var n=this.getEventInfo(t,"video",e.eventName);if(n){var i=r.mapper.map("track/videoplayer",n,{});if(i.assetid&&"undefined"!==i.assetid)switch(e.eventName){case"video_view":a(i);break;case"resume":s(i);break;case"pause":c(i);break;case"flush":u(i);break;case"scrub":o(i)}}}else r.log.warn("Mapping for `track/videoplayer` doesn't exist");else r.moduleActive.addOnce(lt()(this._trackVideoplayer,this,t,e),this)},r.subOn("track/videoplayer/{eventName}",this._trackVideoplayer,this),this._trackVideo=function(t,e){if(this._active)if(r.mapper.isExists("track/video")){var n=this.getEventInfo(t,"video",e.eventName);if(n){var i=r.mapper.map("track/video",n,{});if(this.generalSettings.mode===ht.a.bfaMode.prod)switch(e.eventName){case"load":a(i);break;case"play":s(i);break;case"pause":c(i);break;case"finish":u(i);break;case"scrub":o(i)}else r.debugTracker.trackEvent(n,i)}}else r.log.warn("Mapping for `track/video` doesn't exist");else r.moduleActive.addOnce(lt()(this._trackVideo,this,t,e),this)},r.subOn("track/video/{eventName}",this._trackVideo,this),this.init=function(){i.settings.configMapsDelegate(r.mapper),i.generalSettings.mode===ht.a.bfaMode.prod?(i.staticTracker=i.settings.staticTracker,i.videoTracker=i.settings.videoTracker,!i.staticTracker&&!i.videoTracker&&!window[i.extTrackerGlobalName]&&i.settings.extFilesPaths&&0<i.settings.extFilesPaths.length&&r.domi.onDomReady(function(){i.settings.extFilesPaths.forEach(function(t){r.domi.loadScript({src:t},i.activate,null,i)})},i)):(i.staticTracker={ggPM:function(){},ggInitialize:function(){}},i.videoTracker={ggPM:function(){},ggInitialize:function(){}}),i._inited=!0,r.moduleInited.dispatch(),i.activate()}}Zt.defaultId="NielsenIntegration",Zt.require=["logger","domi","pageInfo","mapper","trackingUtils","generalSettings","debugTracker"];var et=Zt,ot=n(63),Jt=n.n(ot);function Qt(n,t){t=t||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,pageInfo:{uri:r()}},function(){if(window.history&&window.history.replaceState&&document.location.search){var e=["bfseed"],n=it.a.queryStringToObject(document.location.search),t=Object.keys(n).filter(function(t){return-1===e.indexOf(t)||(jt()(window,"BZFD.Context.page.".concat(t),n[t]),!1)}).map(function(t){return void 0===n[t]?encodeURIComponent(t):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))}).join("&");try{window.history.replaceState(null,null,"?".concat(t).concat(document.location.hash))}catch(e){window.raven&&window.raven.captureException(e)}}}(),this.pageReady=new nt.a,this.pageChanged=new nt.a,this.settings=ut()(t,this.defaultSettings);var i=this;function r(){return{href:document.location.href.replace(/\/p\/\.[0-9a-zA-Z]+\//,"/"),host:document.location.host,path:document.location.pathname.replace(/^\/p\/\.[0-9a-zA-Z]+\//,"/"),search:document.location.search,hash:document.location.hash,protocol:document.location.protocol}}function a(t,e){!0===i.settings.isReady&&t.call(e),i.pageReady.add(t,e)}function e(){return Et()(i.settings.pageInfo)}return n._router.sub("general/page/{action}",function(t,e){"ready"!==e.action?Jt()(t)?("set"===e.action?this.settings.pageInfo=d()({uri:r()},t):this.settings.pageInfo=d()(this.settings.pageInfo,t),this.pageChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&(this.settings.isReady=!0,this.pageReady.dispatch())):n.log.warn("page info must be a plain object"):this.isReady||(this.isReady=!0,this.pageReady.dispatch())},this,{action:["ready","update","set"]}),n._onPageReady=function(t,e){a(t,e)},n._getPageInfo=e,{modifySBInstance:function(t){t.getPageInfo=e,t.onPageReady=function(t,e){a(t,e)},t.onPageChanged=function(t,e,n){i.pageChanged[n?"addOnce":"add"](t,e)}}}}Qt.defaultId="pageInfo";var ct=Qt,dt=n(163),Yt=n.n(dt);function $t(t,e,n){if(n)return e?e(t()):t();try{var i=Promise.resolve(t());return e?i.then(e):i}catch(t){return Promise.reject(t)}}function Xt(){return n.e(8).then(n.bind(null,636))}function te(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=1<arguments.length?arguments[1]:void 0;if(!t||!e)return[];var n=[];return t.hasAttribute&&t.hasAttribute("data-".concat(e))?n=t.getAttribute("data-".concat(e)).split(","):t.querySelectorAll(".subbuzz[data-".concat(e,"]")).forEach(function(t){n=n.concat(te(t,e))}),Array.from(new Set(n))}var ee=n(47);function ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t){switch(ie(t)){case"string":var e=document.createElement("textarea");return e.innerHTML=t,e.value;case"object":var n,i=!0,r=Array.isArray(t)?[]:{};for(n in t)i=!1,r[n]=re(t[n]);return i?void 0:r}return t}var ae={enabled:Promise.resolve(!1)},e=(pt=[{key:"activate",value:function(){var t,e=this;!this.active&&this.inited&&this.page&&this.user&&(t=this.settings.enabled,Promise.resolve(t)===t?(this.active=!0,t.then(function(t){t&&(e.enabled=!0,e.identifyUser(e.user),e.trackPage(e.transformPageMeta()),e.sandbox.moduleActive.dispatch())})):sandbox.log.warn(sandbox.moduleId+" enabled setting should be a promise."))}},{key:"configureSandbox",value:function(){var e=this;this.sandbox.onPageReady(function(){e.page=e.sandbox.getPageInfo(),e.activate()}),this.sandbox.onUserReady(function(){e.user=e.sandbox.getUserInfo(),e.activate()}),this.sandbox.onUserChanged(function(){e.user=e.sandbox.getUserInfo(),e.identifyUser(e.user)}),this.sandbox.subOn("track/page/view",function(){return e.onPageView()}),this.sandbox.subOn("track/click/Exit-Link",function(t){t=t.data;return e.onAffiliateLinkClick(t)})}},{key:"onPageView",value:function(){var t=this.sandbox.getPageInfo();t&&!Yt()(this.page,t)&&(this.page=t,this.trackPage(this.transformPageMeta()))}},{key:"onAffiliateLinkClick",value:function(t){"affiliate"in t&&(t=re({affiliate:t.affiliate,campaign:t.campaign,href:t.url,name:t.anchorDesc,price:t.price,redirectUrl:t.redirectUrl,keywords:t.keywords,retailers:t.retailers}),this.trackEvent("AffiliateLinkClick",t))}},{key:"transformPageMeta",value:function(){var t=this.page||{},e=t.post||{},e={page:{meta:{bf_buzzid:e.id,bf_userid:e.authorId,type:t.hasQuiz?"quiz":e.format?e.format.type:"feed",section:("section"===t.name?t.section:void 0)||t.category||t.name,publisher:t.destination||"buzzfeed",title:e.title,description:t.description,author:e.author,tags:e.tags,platform:"web",edition:t.country?t.country.replace(/.*-/,""):void 0,categories:t.sections,badges:e.badges?e.badges.map(function(t){return t.name}):void 0,keywords:te(void 0,"keywords"),retailers:te(void 0,"retailers")}}};return re(e)}},{key:"identifyUser",value:function(t){var n=this;this.enabled&&t&&t.clientId&&(t=this.generalSettings.env||"dev",Object(ee.a)({env:t,legacy:!1}).then(function(t){var e;t&&(e=t=[{id:t,tag:"buzzfeedUserId"}],$t(Xt,function(t){(0,t.trackUser)({eventData:e})}),n.logEvent(t,"user","identify"))}))}},{key:"trackPage",value:function(t){var e;this.enabled&&(e=t,$t(Xt,function(t){(0,t.trackPageView)({eventData:e})}),this.logEvent(t,"page","view"))}},{key:"trackEvent",value:function(t,e){var n,i,r,a,o=this;this.enabled&&(i=(n={eventType:t,eventData:e,options:{success:function(){return o.logEvent(e,t,"track")}}}).eventType,r=n.eventData,a=n.options,$t(Xt,function(t){(0,t.trackEvent)({eventType:i,eventData:r,options:a})}))}},{key:"logEvent",value:function(t,e,n){t=Object.assign({},t);n=this.sandbox.tryConvertToEventInfo(t,e,n);this.sandbox.debugTracker.trackEvent(n,t)}}],ne(oe.prototype,pt),oe);function oe(t){var e=this;!function(t){if(!(t instanceof oe))throw new TypeError("Cannot call a class as a function")}(this),this.sandbox=t,this.configureSandbox(),this.settings=ut()(t.settings||{},ae),this.generalSettings=t.getGeneralSettings(),this.init=function(){e.inited=!0,e.sandbox.moduleInited.dispatch(),e.activate()}}e.defaultId="PermutiveIntegration",e.require=["domi","pageInfo","logger","debugTracker","trackingUtils","userInfo","generalSettings"];var se=n(48),ce=n(61),u=n(116),ue=n.n(u),de="dev",le={},pe={dev:{trackingURL:"https://nsq-api-public.dev.buzzfeed.io",debug:!0},stage:{trackingURL:"https://pixiedust-stage.buzzfeed.com",debug:!0},prod:{trackingURL:"https://pixiedust.buzzfeed.com",debug:!1},"app-west":{trackingURL:"https://pixiedust.buzzfeed.com",debug:!1}};pe.live=pe.prod;var fe={apiVersion:"1",delay:200,urlLengthLimit:2e3,batch:!0,samplingRate:0,requiredFields:["type","source","session_id"],acceptedDataTypes:["string","boolean","number"]},he={init:function(t){pe[t]?de=t:console.warn("Pixiedust: environment not recognized:",t)},get:function(t){if(t in le&&void 0!==le[t])return le[t];var e=pe[de];return(e&&t in e?e:fe)[t]},set:function(t,e){var n={};K()(t)?n=t:n[t]=e,ue()(le,n)}},P=n(312),ge=n.n(P),L=n(216),me=n.n(L);function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(i){return Object.keys(i).reduce(function(t,e){var n=null==(n=i[e])?"":n;return t[e]=n,t},{})}function be(){var n={};return{queue:[],timeout:null,history:[],push:function(t){var e=G()({},t,n);if(!this.validateData(e))return!1;t=this.queue[this.queue.length-1];return t&&t.type!==e.type?(this.sendData(),this.push(e)):(this.queue.push(e),this.getURL(this.queue).length>he.get("urlLengthLimit")?(this.queue.pop(),this.sendData(),this.push(e)):he.get("batch")?this.timeout||(this.timeout=setTimeout(this.sendData.bind(this),he.get("delay"))):this.sendData()),!0},validateData:function(t){for(var e=he.get("requiredFields"),n=0,i=e.length;n<i;n++)if(!(e[n]in t)){if(he.get("debug"))throw new Error("Pixiedust required event field: "+e[n]);return!1}var r,a=he.get("acceptedDataTypes");for(r in t){var o=t[r],s=ve(t[r]);if(null!=o&&-1===a.indexOf(s)){if(he.get("debug"))throw new Error('Pixiedust: field "'+r+'" is invalid data type: '+s);return!1}}if(this.getURL([t]).length>he.get("urlLengthLimit")){if(he.get("debug"))throw new Error("Pixiedust: single event exceeds url length limit",t);return!1}return!0},sendData:function(){var t;this.queue&&this.queue.length&&(t=this.getURL(this.queue),this.createPixel(t),this.history.push(t)),this.queue=[],clearTimeout(this.timeout),this.timeout=null},createPixel:function(t){(new Image).src=t},getURL:function(n){var t=ge()(me()(n.map(Object.keys)));n.forEach(function(e){Object.keys(e).forEach(function(t){null==e[t]&&(e[t]="")})}),n=n.map(ye);var i=t.reduce(function(t,e){return t[e]=n.map(function(t){return t[e]}),t},{});i._z=Date.now(),i._d="\v",i._n=n.length;t=Object.keys(i).map(function(t){var e=i[t],e=Array.isArray(e)?e:[e];return encodeURIComponent(t)+"="+encodeURIComponent(e.join("\v"))});return this.url()+"?"+t.join("&")},setSessionVars:function(e){Object.keys(e).forEach(function(t){null==e[t]&&(e[t]="")}),n=ue()(n,ye(e))},url:function(){return he.get("trackingURL")+"/v"+he.get("apiVersion")+".gif"},getHistory:function(){return this.history.slice()}}}H=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dispatch;this.enabled=!1,this.started=!1,this.version="1.1.0",this.dispatch=t||new be,this.queue=[]};H.prototype.push=function(t){return this.started&&this.enabled?(this.updateSessionUuid(),t.visit_id=this.sessionUuid,this.dispatch.push(t)):(this.queue.push(t),!0)},H.prototype.start=function(t,e){var n=this;if(this.started){if(he.get("debug"))throw new Error("Pixiedust instance may only be started once")}else he.init((t=t||{}).env),he.set({samplingRate:t.sampling_rate,requiredFields:t.required_fields}),this.enabled=Math.random()<he.get("samplingRate"),he.get("debug")&&this.setupTestMethods(),this.enabled&&(t="live"===t.env?"prod":t.env,this.sessionUuidCookieManager=new se.a({env:t,namespace:"bf-xdomain-tracking",cookieName:"bf-xdomain-session-uuid",daysExpiry:.5/24,throttleTimer:18e4}),this.updateSessionUuid().then(function(){for(n.started=!0;n.queue.length;)n.push(n.queue.shift());e&&e()}))},H.prototype.updateSessionUuid=function(){var e=this;return this.sessionUuidCookieManager.get().then(function(t){e.sessionUuid=t||Object(ce.a)(),e.sessionUuidCookieManager.set(e.sessionUuid)}).catch(function(t){console.log("Error getting session UUID: ".concat(t))})},H.prototype.setupTestMethods=function(){this.__testHistory=function(){if(!this.enabled&&he.get("debug"))throw new Error("Pixiedust is not enabled (perhaps due to sampling)");return this.dispatch.getHistory()}},H.prototype.setSessionVars=function(t){return this.dispatch.setSessionVars(t)},H.prototype.flush=function(){return this.dispatch.sendData()};var we=H;function _e(i){var n=this,t=it.a.queryStringToObject(document.location.search),t={sessionId:Date.now().toString(32)+(1e8*Math.random()|0).toString(32),e2e:t.e2e_test,impressionsSamplingRate:1,scrollDepthSamplingRate:1,instrumentationSamplingRate:1};this._inited=!1,this._active=!1,this.generalSettings=i.getGeneralSettings(),this.settings=ut()(i.settings||{},t);var r=this;this.activate=function(){!r._active&&r._inited&&this.page&&this.user&&this.user.clientId&&(r.pixiedust=new we,r.pixiedust.setSessionVars({session_id:r.settings.sessionId,client_id:r.user.clientId,source:r.settings.source||"buzz_web"}),r.pixiedust.start({env:r.generalSettings.env,sampling_rate:r.settings.samplingRate||0}),r._active=!0,i.moduleActive.dispatch())},i.onGeneralSettingsChange(function(){r.generalSettings=i.getGeneralSettings()},this),i.onPageReady(function(){r.page=i.getPageInfo(),r.activate()},this),i.onPageChanged(function(){r.page=i.getPageInfo()},this),i.onUserReady(function(){r.user=i.getUserInfo(),r.activate()},this),i.onUserChanged(function(){r.user=i.getUserInfo()},this),this.getEventInfo=function(t,e,n){t=i.tryConvertToEventInfo(t,e,n);return i.canTrackEvent(i.moduleId,this.settings.trackingBehavior,t)?(t.data.page=this.page,t.data.user=this.user,t.data.seedSocialFlags={},t):(i.log.warn(i.moduleId+" cannot track current event. Type: "+e+"; Name: "+n+";"),null)},this._shouldTrack=function(t){return!("dev"!==n.generalSettings.env&&!n.generalSettings.debug)||n.user.clientId&&n.user.clientId%100<100*t},this._shouldSample=function(t){return!("dev"!==n.generalSettings.env&&!n.generalSettings.debug)||Math.random()<t},this._isDocumentVisible=function(){return!document.visibilityState||"visible"===document.visibilityState},this._trackPage=function(t){var e;this._active?i.mapper.isExists("track/page/view")?this._isDocumentVisible()?(e=r.getEventInfo(t,"page","view"),this._trackDefault(e,"track/page/view")):it.a.onDocumentVisible(lt()(this._trackPage,this,t)):i.log.warn("Mapping for `pixiedust: track/page/view` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackPage,this,t),this)},i.subOn("track/page/view",this._trackPage,this),this._trackPageExit=function(t){var e;this._active?i.mapper.isExists("track/page/exit")?(e=r.getEventInfo(t,"page","exit"),this._trackDefault(e,"track/page/exit",!0)):i.log.warn("Mapping for `pixiedust: track/page/exit` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackPageExit,this,t),this)},i.subOn("track/page/exit",this._trackPageExit,this),this._trackClick=function(t,e){var n;this._active?i.mapper.isExists("track/click")?(n=this.getEventInfo(t,"click",e.eventName),this._trackDefault(n,"track/click",!0)):i.log.warn("Mapping for `track/click` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackClick,this,t,e),this)},i.subOn("track/click/{eventName}",this._trackClick,this),this._trackVideo=function(t,e){var n;this._active?i.mapper.isExists("track/video")?(n=this.getEventInfo(t,"video",e.eventName),this._trackDefault(n,"track/video")):i.log.warn("Mapping for `track/video` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackVideo,this,t,e),this)},i.subOn("track/video/{eventName}",this._trackVideo,this),this._trackVideoPlayer=function(t,e){if(this._active)if(i.mapper.isExists("track/videoplayer")){var n=this.getEventInfo(t,"videoplayer",e.eventName);if(n&&"flush"===n.n)return this.pixiedust.flush();this._trackDefault(n,"track/videoplayer")}else i.log.warn("Mapping for `track/videoplayer` doesn't exist");else i.moduleActive.addOnce(lt()(this._trackVideoPlayer,this,t,e),this)},i.subOn("track/videoplayer/{eventName}",this._trackVideoPlayer,this),this._trackImpression=function(t,e){var n;this._active?i.mapper.isExists("track/scroll/impression")?(n=this.getEventInfo(t,"impression",e.eventName),this._shouldTrack(c()(n,"opt.samplingRate",0)||this.settings.impressionsSamplingRate)?this._trackDefault(n,"track/scroll/impression"):i.log.warn("`track/scroll/impression` will not be tracked: events from current user are not being sampled")):i.log.warn("Mapping for `track/scroll/impression` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackImpression,this,t,e),this)},i.subOn("track/scroll/impression",this._trackImpression,this),this._trackScrollPost=function(t,e){var n;this._active?i.mapper.isExists("track/scroll/post")?this._shouldTrack(this.settings.scrollDepthSamplingRate)?(n=this.getEventInfo(t,"post",e.eventName),this._trackDefault(n,"track/scroll/post")):i.log.warn("`track/scroll/post` will not be tracked: events from current user are not being sampled"):i.log.warn("Mapping for `track/scroll/post` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackScrollPost,this,t,e),this)},i.subOn("track/scroll/post",this._trackScrollPost,this),this._trackAbVariation=function(t,e){var n;this._active?i.mapper.isExists("track/abtest")?(n=this.getEventInfo(t,"abtest",e.abTestName),this._trackDefault(n,"track/abtest")):i.log.warn("Mapping for `track/abtest` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackAbVariation,this,t,e),this)},i.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),this._trackAbeagleRequest=function(t,e){var n;this._active?i.mapper.isExists("track/abeagle/request")?(n=this.getEventInfo(t,"abeagle","request"),this._trackDefault(n,"track/abeagle/request")):i.log.warn("Mapping for `track/abeagle/request` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackAbeagleRequest,this,t,e),this)},i.subOn("track/abeagle/request",this._trackAbeagleRequest,this),this._trackQuiz=function(t,e){var n;this._active?i.mapper.isExists("track/quiz")?(n=this.getEventInfo(t,"quiz",e.eventName),this._trackDefault(n,"track/quiz")):i.log.warn("Mapping for `track/quiz` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackQuiz,this,t,e),this)},i.subOn("track/quiz/{eventName}",this._trackQuiz,this),this._trackBfp=function(t,e){var n;this._active?i.mapper.isExists("track/bfp")?(n=this.getEventInfo(t,"bfp",e.eventName),this._trackDefault(n,"track/bfp")):i.log.warn("Mapping for `track/bfp` doesn't exist"):i.moduleActive.addOnce(lt()(this._trackBfp,this,t,e),this)},i.subOn("track/bfp/{eventName}",this._trackBfp,this),this._trackInstrumentation=function(t){var e;n._active?i.mapper.isExists("track/website/instrumentation")?(e=c()(t,"opts.samplingRate",n.settings.instrumentationSamplingRate),n._shouldSample(e)?(e=r.getEventInfo(t,"website","instrumentation"),n._trackDefault(e,"track/website/instrumentation")):i.log.warn("`track/website/instrumentation` event will not be tracked, because it was not sampled.")):i.log.warn("Mapping for `track/website/instrumentation` doesn't exist"):i.moduleActive.addOnce(lt()(n._trackInstrumentation,n,t),n)},i.subOn("track/website/instrumentation",this._trackInstrumentation,this),this._trackDefault=function(t,e,n){t&&(t.data.env=this.generalSettings.mode===ht.a.bfaMode.prod?"prod":"dev",t.data.debug=this.generalSettings.debug,e=i.mapper.map(e,t,{}),0<Object.keys(e).length&&(this.settings.e2e&&(e.e2e_test=this.settings.e2e),this.pixiedust.push(e),n&&this.pixiedust.flush(),this.generalSettings.mode!==ht.a.bfaMode.prod&&(t.printType=!0,t.prettyPrintData=!0,i.debugTracker.trackEvent(t,e))))},this.init=function(){r.settings.configMapsDelegate(i.mapper),r._inited=!0,i.moduleInited.dispatch(),r.activate()}}_e.defaultId="PixiedustIntegration",_e.require=["logger","pageInfo","userInfo","debugTracker","mapper","trackingUtils","generalSettings"];var W=_e,ke=n(96),Te=n(6);n(26);var Se=function(){return BZFD.Config.bfwInfoCookie};function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(e,t){t=t||{},this.defaultSettings={cookieName:"bfa_test"},this.settings=ut()(t,this.defaultSettings);t=e.utils.readCookie(this.settings.cookieName);return this._isTestMode=0<t.length&&"true"===t[0].value,this.updateGeneralSettings=function(t){t.mode!==e.defs.bfaMode.test&&e.push("general/settings/update",{mode:e.defs.bfaMode.test})},this._isTestMode&&(this.updateGeneralSettings(e._generalSettings),e._onGeneralSettingsChange.add(this.updateGeneralSettings,this)),{}}Ee.defaultId="testMode",Ee.require=["generalSettings"];var ot=Ee,dt=n(75),xe=n.n(dt),pt=n(313),Ce=n.n(pt);function Me(){function e(t,e,n){if(!B()(t)||0===t.length)return!1;if(!(n instanceof J))return!1;var i=-1!==Ce()(xe()(ht.a.trackingBehavior),e)?e:ht.a.trackingBehavior.byDefault,e=n.opt,n=!1;return i===ht.a.trackingBehavior.ifSpecified?Jt()(e)&&It()(e.force)&&(-1!==e.force.indexOf("all")||-1!==e.force.indexOf(t))&&(n=!0):(ht.a.trackingBehavior.byDefault,(!Jt()(e)||!It()(e.ignore)||-1===e.ignore.indexOf("all")&&-1===e.ignore.indexOf(t)||It()(e.force)&&-1!==e.force.indexOf(t))&&(n=!0)),n}function n(t,e,n){return(t=t||{})instanceof J?t:(B()(t.t)&&0!==t.t.length||(t.t=e),B()(t.n)&&0!==t.n.length||(t.n=n),J.tryParse(t))}return{modifySBInstance:function(t){t.canTrackEvent=e,t.tryConvertToEventInfo=n}}}Me.defaultId="trackingUtils";u=Me;function Ie(i,t){t=t||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,userInfo:{isLoggedIn:!1,referrer:document.referrer,userAgent:navigator.userAgent,inApp:!1,clientId:null}};var r=this;function n(t,e){!0===r.settings.isReady&&t.call(e),r.userReady.add(t,e)}function e(){return Et()(r.settings.userInfo)}return this.userReady=new nt.a,this.userChanged=new nt.a,this.settings=ut()(t,this.defaultSettings),i._router.sub("general/user/{action}",function(t,e){var n=this;"update"===e.action?Jt()(t)?(this.settings.userInfo=d()(this.settings.userInfo,t),e=this.settings.userInfo,(t=i.utils.getAppReferrer(e.userAgent,e.referrer))&&(e.referrer=t,e.inApp=!0),this.userChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&Object(ee.a)({env:i._generalSettings.env}).then(function(t){n.settings.userInfo.clientId=t,n.settings.isReady=!0,n.userReady.dispatch()})):i.log.warn("user info must be a plain object"):i.log.warn("user info can only be updated")},this,{action:["ready","update","set"]}),i._onUserReady=function(t,e){n(t,e)},i._getUserInfo=e,{modifySBInstance:function(t){t.getUserInfo=e,t.onUserReady=function(t,e){n(t,e)},t.onUserChanged=function(t,e,n){r.userChanged[n?"addOnce":"add"](t,e)}}}}Ie.defaultId="userInfo";var P=Ie,L=n(19),H=gt.a.framework,dt=gt.a.rules,pt=o.c.getQueryParams(),o=H.needsConsent()?dt.hasConsented("tracking"):Promise.resolve(!0),Pe=new r.Core,H=window.BZFD,dt=H.Config,r=H.Context,H="true"===pt.bfadebug,pt={mode:"dev"===dt.env||H?Pe.defs.bfaMode.develop:Pe.defs.bfaMode.prod,webRoot:dt.webRoot,staticRoot:dt.staticRoot,env:dt.env,isConsentRequired:"quantcast"===pt.bfadebug||dt.isConsentRequired,logLevel:H?3:1,debug:H,source:"feedpager"},H={id:c()(r,"page.id"),country:c()(r,"page.localization.country"),type:"feed",language:c()(r,"page.localization.language"),name:c()(r,"page.name"),category:"",platform:"feedpager",uri:{cleanedPath:document.location.pathname}},r={referrer:document.referrer};Pe.plugin(i,pt).plugin(V).plugin(at).plugin(U).plugin(X).plugin(ct).plugin(P).plugin(u).plugin(ot).plugin($).plugin(R,{bfaFunctionName:"bfa",domBinder:{delegatedMapping:{click:[{event:"click",selector:"a",options:{handlers:["ATagWithExternalLinkHandler","ATagWithInternalLinkHandler","ATagDefaultHandler"]}},{event:"click",selector:"input"},{event:"click",selector:"button"}]}}}),Pe.registerModule(St,{extFilePath:"//www.google-analytics.com/analytics.js",googleAnalyticsId:c()(dt,"tracking.googleAnalytics.id"),configMapsDelegate:function(t){t.addUtility("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),t.addUtility("cleanLink",function(t){return t.replace("http://","").replace("https://","").replace("www.","")}),t.addUtility("getIdFromObjectId",function(t){return t="string"==typeof t&&-1<t.indexOf(":")?t.split(":")[1]:t}),t.addUtility("isNumeric",function(t){return!isNaN(parseFloat(t))&&isFinite(t)});var e=t.getOrCreateRouter("track/click"),n=t.getOrCreateRouter("track/video");t.createMapTemplate("gaTemplate").addMapTo("category","").mapFrom(function(t){return"in_feed"===t.l&&(t.l="Feed"),t.data.type?(t.data.type.match("news-package")&&(t.data.type="news"),t.l+":"+t.data.type):t.l});var i=e.createConfigForRoute(function(t){return-1!==t.n.indexOf("dfp")});i.applyTemplateByName("gaTemplate"),i.addMapTo("action","").mapFrom(function(t){var e=t.n;return e=t.n.match("|")?t.n.replace(/\|/g,"/"):e}),i.addMapTo("label","").mapFrom(function(t){return t.d});i=e.createConfigForRoute(function(t){return"Advertise"===t.n});i.applyTemplateByName("gaTemplate"),i.addMapTo("action","").mapFrom("t"),i.addMapTo("category","").mapFrom("l"),i.addMapTo("label","").mapFrom("d");i=e.createConfigForRoute(function(t){return"awareness"===t.l});i.applyTemplateByName("gaTemplate"),i.addMapTo("action","").mapFrom("t"),i.addMapTo("category","").mapFrom("l"),i.addMapTo("label","").mapFrom("d");i=n.createConfigForRoute(function(t){return"in_feed"===t.l});i.applyTemplateByName("gaTemplate"),i.addMapTo("action","").mapFrom("n"),i.addMapTo("label","").mapFrom("d");n=e.createConfigForRoute(function(t){return"Feed"===t.l&&!["FeedItem","Nav-Link"].includes(t.n)});n.addMapTo("action","click"),n.addMapTo("category").mapFrom(function(t){var e="in_feed"===t.l?"Feed":t.l;if(t.data.type){t=t.data.type.match("news-package")?"news":t.data.type;return"list:".concat(e,"/").concat(t)}return"list:".concat(e)}),n.addMapTo("label").mapFrom(function(t){return"".concat(t.data.obj_type||"buzz",":").concat(t.data.obj_id)}),n.addMapTo("value").mapFrom(function(t){return parseInt(t.d,10)||0});i=e.createConfigForRoute(function(t){return"Share"===t.l});i.addMapTo("category","Share"),i.addMapTo("action","").mapFrom(function(t){return"facebook"===t.d?"click:feed-module":"open-share-sheet"===t.n?"click:open-share-sheet":"click:feed-module/share-sheet"}),i.addMapTo("label","").mapFrom(function(t){return t.d}),t.getOrCreateMap("track/page/view").addMapTo("page","").mapFrom("data.url");n=t.getOrCreateRouter("track/page").createConfigForRoute(function(t){return"Page-Exit"===t.n});n.applyTemplateByName("gaTemplate"),n.addMapTo("action","").mapFrom("n",[t.formatters.strToLowerCase]),n.addMapTo("label","").mapFrom(function(t){return t.data.scrolledDistance+"%"});i=t.getOrCreateRouter("track/update/feedindex").createConfigForRoute(function(t){return"Feed"===t.l});i.applyTemplateByName("gaTemplate"),i.addMapTo("action","last-cell-visible"),i.addMapTo("label","").mapFrom(function(t){return t.d});n=e.createConfigForRoute(function(t){return"feed-filters"===t.l});n.addMapTo("category","").mapFrom(function(t){return void 0!==t.data.page_name&&t.data.page_name?"Feed/"+t.data.page_name:t.l}),n.addMapTo("action","").mapFrom("n"),n.addMapTo("label","").mapFrom("d"),n.addMapTo("value",null);i=e.createConfigForRoute(function(t){return"Topic-Filters"===t.l});i.addMapTo("category","Topic-Filters"),i.addMapTo("action","filter:click"),i.addMapTo("label","").mapFrom("d");n=e.createConfigForRoute(function(t){return"Bringme-Footer"===t.l});n.addMapTo("category","Bringme-Footer"),n.addMapTo("action","link:click"),n.addMapTo("label","").mapFrom("d");i=t.getOrCreateRouter("track/signup").createConfigForRoute(function(t){return"NewsletterPromo"===t.l});i.addMapTo("action","").mapFrom("n"),i.addMapTo("category","").mapFrom("l"),i.addMapTo("label","").mapFrom(function(t){return t.d||"(no label)"});n=e.createConfigForRoute(function(t){return"NewsletterPromo"===t.l});n.addMapTo("category","").mapFrom("l"),n.addMapTo("action","").mapFrom(function(t){return"click:"+t.n}),n.addMapTo("label","").mapFrom("d");i=e.createConfigForRoute(function(t){return"FeedSearch"===t.l});i.addMapTo("action","").mapFrom("n"),i.addMapTo("label","").mapFrom("data.d"),i.addMapTo("category","").mapFrom(function(t){return void 0!==t.data.page_name&&t.data.page_name?"Feed/"+t.data.page_name:t.l}),i.addMapTo("value",null),Object(Ot.b)(t),i=(n=t).getOrCreateRouter("track/videoplayer").createDefaultConfig(),n=n.createMapTemplate("videoTemplate"),i.applyTemplateByName("videoTemplate"),i.addMapTo("category","VideoPlayer"),i.addMapTo("action","").mapFrom(function(t){return"video_finish"===t.n?"video:playback":t.n}),i.addMapTo("label","").mapFrom(function(t){return"video_finish"===t.n?"100%":t.data.play_start_type}),n.addMapTo("value","").mapFrom(function(t){return{dimension3:t.data.video_id,dimension4:t.data.video_title,dimension5:t.data.orientation,dimension14:t.data.duration||0,dimension15:t.data.video_ts,dimension16:t.data.youtube_id}}),function(t){var e={feedpager:"Feed",bpager:"Buzz"},n=t.getOrCreateRouter("track/click"),t=t.getOrCreateRouter("track/scroll"),n=n.createConfigForRoute(function(t){return"Package/reviews"===t.l});n.addMapTo("category","").mapFrom(function(t){return z()(e,c()(t,"data.page.platform"))?e[c()(t,"data.page.platform")]:c()(t,"data.page.platform")}),n.addMapTo("action","").mapFrom(function(t){return t.n.match("|")&&(t.n=t.n.replace(/\|/g,"/")),t.n}),n.addMapTo("label","").mapFrom("d"),n.addMapTo("value","").mapFrom(function(t){return{dimension6:c()(t,"data.url")}});t=t.createConfigForRoute(function(t){return"Package/reviews"===t.l});t.addMapTo("category","").mapFrom(function(t){return z()(e,c()(t,"data.page.platform"))?e[c()(t,"data.page.platform")]:c()(t,"data.page.platform")}),t.addMapTo("action","impression"),t.addMapTo("label","").mapFrom("d")}(t),function(t){var e={feedpager:"Feed",bpager:"Buzz"},n=t.getOrCreateRouter("track/click"),t=t.getOrCreateRouter("track/scroll"),n=n.createConfigForRoute(function(t){return"buzzblocks/Package"===t.l});n.addMapTo("category","").mapFrom(function(t){return(z()(e,c()(t,"data.page.platform"))?e[c()(t,"data.page.platform")]:c()(t,"data.page.platform"))+":package"}),n.addMapTo("action","").mapFrom(function(t){return t.n.match("|")&&(t.n=t.n.replace(/\|/g,"/")),"click:"+t.n}),n.addMapTo("label","").mapFrom("d");t=t.createConfigForRoute(function(t){return"buzzblocks/Package"===t.l});t.addMapTo("category","").mapFrom(function(t){return(z()(e,c()(t,"data.page.platform"))?e[c()(t,"data.page.platform")]:c()(t,"data.page.platform"))+":package"}),t.addMapTo("action","impression"),t.addMapTo("label","").mapFrom(function(t){var e=t.d;return 0===t.n.indexOf("post|package")&&(e+=t.n.replace("post|package|","/")),e})}(t),function(t){t||console.log("Cannot bind GA mapping for feed-header: No mapper defined");var e=t.getOrCreateRouter("track/click"),t=e.createConfigForRoute(function(t){return"FeedHeader"===t.l&&"FeedHeaderBrand"===t.n});t.addMapTo("action","click:link"),t.addMapTo("category","feed_header"),t.addMapTo("label","brand");e=e.createConfigForRoute(function(t){return"FeedHeader"===t.l&&"FeedHeaderSponsor"===t.n});e.addMapTo("action","click:link"),e.addMapTo("category","feed_header"),e.addMapTo("label","sponsor")}(t);e=e.createConfigForRoute(function(t){return"Package"===t.l||"mega-package"===t.l});e.addMapTo("category","Feed").mapFrom(function(t){var e=t.l;return"Feed"+(e=t.n.match("|")?":"+e.replace(/\|/g,"/"):e).toLowerCase()}),e.addMapTo("action","").mapFrom(function(t){return t.n.match("|")&&(t.n=t.n.replace(/\|/g,"/")),"click:"+t.n}),e.addMapTo("label","").mapFrom("d")}}).registerModule(et,{extFilesPaths:["https://cdn-gl.imrworldwide.com/novms/js/2/ggcmb510.js"],configMapsDelegate:function(t){var e=t.getOrCreateMap("track/page/view");e.addMapTo("type","static"),e.addMapTo("assetid","").mapFrom(function(){return parseInt(Date.now()+1e10*Math.random(),10).toString(16)}),e.addMapTo("section","").mapFrom(function(){return"home"},[t.formatters.strToLowerCase]),e.addMapTo("segA","").mapFrom(function(t){return c()(t,"data.page.post.isPromoted")?"sponsored":"editorial"}),e.addMapTo("segB","desktop"),e.addMapTo("segC","").mapFrom("data.page.country");var n=t.getOrCreateRouter("track/video"),e=n.createConfigForRoute(function(t){return"video_view"===t.data.e});e.addMapTo("type","content"),e.addMapTo("assetid","").mapFrom("d"),e.addMapTo("isfullepisode","n"),e.addMapTo("program").mapFrom(function(t){return t.data.a||"BuzzFeed Video"}),e.addMapTo("title","").mapFrom("data.n"),e.addMapTo("length","").mapFrom(function(t){return Math.round(t.data.d)}),e.addMapTo("mediaURL","").mapFrom("data.u"),e.addMapTo("segB","desktop"),e.addMapTo("segC","").mapFrom("data.page.country"),e.addMapTo("airdate","").mapFrom(function(t){return t.data.ut.replace(/-/g,"").replace("T"," ").replace("Z","")}),e.addMapTo("adloadtype","2"),e.addMapTo("hasAds","0");e=n.createConfigForRoute(function(t){return"play"===t.data.e||"resume"===t.data.e});e.addMapTo("playheadPosition","").mapFrom("data.d"),e.addMapTo("assetid","").mapFrom("d"),n.createConfigForRoute(function(t){return"pause"===t.data.e}).addMapTo("playheadPosition","").mapFrom("data.d"),n.createConfigForRoute(function(t){return"scrub"===t.data.e}).addMapTo("playheadPosition","").mapFrom(function(t){return parseInt(t.data.st,10)}),n.createConfigForRoute(function(t){return"100%"===t.d}).addMapTo("playheadPosition","").mapFrom("data.d"),(t=t.getOrCreateRouter("track/videoplayer").createDefaultConfig()).addMapTo("type","content"),t.addMapTo("adloadtype","2"),t.addMapTo("title","").mapFrom(function(t){return"".concat(t.data.video_title)}),t.addMapTo("assetid","").mapFrom(function(t){return"".concat(t.data.video_id||t.data.transcoder_path||"").replace(/\//g,"")}),t.addMapTo("segB","").mapFrom(function(t){return"".concat(t.data.platform)}),t.addMapTo("segC","").mapFrom(function(t){return"".concat(t.data.page.country)}),t.addMapTo("program","").mapFrom(function(t){return"".concat(t.data.author)}),t.addMapTo("isfullepisode","y"),t.addMapTo("length","").mapFrom(function(t){return Math.round((t.data.length||0)/1e3)}),t.addMapTo("airdate","").mapFrom(function(t){return t.data.releasedAt?t.data.releasedAt.replace(/-/g,"").replace("T"," ").replace("Z","").replace(/\.[0-9]+/,""):""}),t.addMapTo("playheadPosition","").mapFrom(function(t){return Math.round((t.data.video_ts||0)/1e3)})},isEnabled:o}).registerModule(W,{samplingRate:"1",configMapsDelegate:function(e){e.addUtility("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),e.addUtility("isNumeric",function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),e.addUtility("strToInt",function(t){t=parseInt(t,10);return!isNaN(t)&&isFinite(t)?t:""}),e.addUtility("getIdFromObjectId",function(t){return t="string"==typeof t&&-1<t.indexOf(":")?t.split(":")[1]:t});var n,t=e.getOrCreateRouter("track/page/view").createConfigForRoute(function(t){t=c()(t,"data.url","");return""===t||!t.match(/\?p=(\d)/)}),i=["page","v"];(n=t).addMapTo("source","buzz_web"),n.addMapTo("user_agent",navigator.userAgent.toLowerCase()),n.addMapTo("screen_resolution","").mapFrom(function(){return window.screen.availWidth+" x "+window.screen.availHeight}),n.addMapTo("referrer","").mapFrom(function(){return window.document.referrer}),n.addMapTo("url","").mapFrom(function(t){var e=c()(t,"data.page.uri.path",null);return void 0===Oe(e)&&(e=null),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.indexOf(t,e=e||0)===e}),e=(e=null===(e=null===(e=null===e&&"Home"===window.BZFD.Context.page.name?"/index":e)?c()(t,"data.page.uri.href"):e)?document.location.href:e)&&!e.startsWith("http://")&&!e.startsWith("https://")?document.location.origin+e+c()(t,"data.page.uri.search",""):e}),n.addMapTo("page","").mapFrom(function(t){return window.BZFD.Context.page.name?this.capitalize(window.BZFD.Context.page.name):this.capitalize(t.data.page.category)}),n.addMapTo("author",""),n.addMapTo("author_id",""),n.addMapTo("buzz",""),n.addMapTo("buzz_id",""),n.addMapTo("page_edition","").mapFrom(function(t){return c()(t,"data.page.country",null)}),void 0!==i&&i.forEach(function(t){switch(t){case"page_type":n.addMapTo("page_type","feed");break;case"variation_id":n.addMapTo("variation_id","").mapFrom(function(t){return t.data.variation_id||""});break;case"unit":n.addMapTo("unit","").mapFrom("l",[e.formatters.strToLowerCase]);break;case"mode":n.addMapTo("mode","desktop");break;case"page_url":n.addMapTo("page_url","").mapFrom(function(t){var e=c()(t,"data.page.uri.path",null);return e=!(e=null===(e=null===(e=null===(e="Home"===window.BZFD.Context.page.name&&window.BZFD.Config.tracking.pixiedust.page_view_url?window.BZFD.Config.tracking.pixiedust.page_view_url.startsWith("/")?window.BZFD.Config.tracking.pixiedust.page_view_url:"/"+window.BZFD.Config.tracking.pixiedust.page_view_url:e)&&"Home"===window.BZFD.Context.page.name?"/index":e)?c()(t,"data.page.uri.href"):e)?document.location.href:e).startsWith("http://")&&!e.startsWith("https://")?document.location.origin+e+c()(t,"data.page.uri.search",""):e});break;case"os":n.addMapTo("os",-1!==navigator.appVersion.indexOf("Win")?"Windows":-1!==navigator.appVersion.indexOf("Mac")?"MacOs":-1!==navigator.appVersion.indexOf("X11")?"Unix":-1!==navigator.appVersion.indexOf("Linux")?"Linux":"Unknown");break;case"position":n.addMapTo("position","").mapFrom(function(t){if(t.data&&t.data.p)return this.strToInt(t.data.p)});break;case"content_id":n.addMapTo("content_id","").mapFrom(function(t){if(t.opt.dimension2)return"buzz:"+this.strToInt(t.opt.dimension2);if(t.opt.dimension3)return"video:"+this.strToInt(t.opt.dimension3);if(t.opt.dimension13){var e=t.opt.dimension13;return"adxbackfill"!==e&&this.strToInt(e),"creative:"+e}return"".concat(t.data.target_content_type,":").concat(t.data.target_content_id)});break;case"post_category":n.addMapTo("post_category","").mapFrom(function(t){if(t.data&&t.data.post_category)return t.data.post_category});break;case"unit_client_id":n.addMapTo("unit_client_id","");break;case"data_source":n.addMapTo("data_source","").mapFrom(function(t){return c()(t,"data.data_source",null)});break;case"treatment":n.addMapTo("treatment","").mapFrom(function(t){return c()(t,"data.treatment",null)});break;case"sub_unit":n.addMapTo("sub_unit","").mapFrom(function(t){return c()(t,"data.sub_unit",null)});break;case"v":n.addMapTo("v","").mapFrom(function(t){return c()(t,"data.platform","feedpager")})}}),t.addMapTo("type","pageview"),t.addMapTo("is_logged_in",!!Te.a.get(Se())),Object(ke.a)(e)},instrumentationSamplingRate:c()(dt,"tracking.pixiedust.instrumentation_sampling_rate")}).registerModule(wt,{extFilesPaths:["https://connect.facebook.net/en_US/fbevents.js"],configMapsDelegate:function(t){var e=kt.b.isXsmall()||kt.b.isSmall()?"mobile":"desktop",n=_t.a.getEdition();function i(t){return-1!==(e=t).n.indexOf("dfp")&&(e.n.match("|")&&(e.n=e.n.replace(/\|/g,"/")),!0)&&("display_card"===t.data.type||"dfp_native_video"===t.data.type);var e}var r=t.getOrCreateMap("track/page/view");r.addMapTo("page","").mapFrom("data.url"),r.addMapTo("fbEventName").mapFrom(function(t){return c()(t,"data.url","").match(/\?p=(\d)/)?"PageScroll":"PageView"});var a=t.getOrCreateMap("track/signup/email-success");a.addMapTo("fbEventName","newsletterSignup"),a.addMapTo("category").mapFrom("d");r=t.getOrCreateRouter("track/click"),a=r.createConfigForRoute(function(t){return"Share"===t.l});a.addMapTo("share","").mapFrom("d"),a.addMapTo("fbEventName","Share");a=t.getOrCreateRouter("track/video").createConfigForRoute(function(t){return"in_feed"===t.l});a.applyTemplateByName("gaTemplate"),a.addMapTo("action","").mapFrom("n"),a.addMapTo("label","").mapFrom("d"),a.addMapTo("value","").mapFrom(function(t){var e;return t.opt&&(t.opt.dimension5&&screen.orientation&&screen.orientation.type&&(t.opt.dimension5=screen.orientation.type.replace("-primary","")),e=t.opt),e}),a.addMapTo("fbEventName","Video");a=t.createMapTemplate("adUnit");a.addMapTo("creative_id","").mapFrom(function(t){return t.data.creativeId}),a.addMapTo("unit_type","").mapFrom(function(t){return t.data.type}),a.addMapTo("mode",e),a.addMapTo("page_edition",n),a.addMapTo("page_type","feed"),a.addMapTo("unit","").mapFrom(function(t){return t.l});a=t.getOrCreateMap("track/bids");a.addMapTo("fbEventName","CompleteRegistration"),a.addMapTo("value").mapFrom(function(t){return t.data.value}),a.addMapTo("currency").mapFrom(function(t){return t.data.currency});t=t.getOrCreateRouter("track/scroll/impression").createConfigForRoute(i);t.addMapTo("fbEventName","UnitImpression"),t.applyTemplateByName("adUnit");r=r.createConfigForRoute(i);r.addMapTo("fbEventName","UnitClick"),r.applyTemplateByName("adUnit")}}).registerModule(e,{enabled:a.b.checkIsOn()}),Pe.activatePlugins(),Pe.push("general/page/update",H),Pe.push("general/user/update",r),Pe.domi.onDomReady(function(){Pe.push("plugin/binder/activate")}),Pe.activate(),Object(L.e)(),Object(L.d)(),Object(L.c)();function Ae(t){t.AppEvents.logPageView()}var Fe,De=n(82),Ne=gt.a.rules,je=gt.a.api;!function e(){return Ne.hasConsented("tracking").then(function(t){t?De.a.init().then(Ae):Fe=Fe||je.setTCFListener(e)})}()},64:function(t,e,n){"use strict";var i=n(306),r=n.n(i),i=n(307),a=n.n(i),i=n(23),o=n.n(i);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={forOwn:function(t,e,n){a.a.apply(this,[t,o()(e,n)])},queryStringToObject:function(t){return t?(-1!==t.indexOf("?")&&(t=t.split("?")[1]),r()(t.split("&").map(function(t){return t.split("=").map(decodeURIComponent)}))):{}},readCookie:function(t){for(var e,n,i=document.cookie.split(";"),r=[],a=0;a<i.length;a++)i[a]=i[a].trim(),"object"!==s(t)||!t.exec||new RegExp(t).test(i[a])&&(e=/(.*)=(.*)$/g.exec(i[a]))&&r.push({name:e[1],value:e[2]}),"string"==typeof t&&(n=RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$"),(e=i[a].match(n))&&r.push({name:t,value:e[1]}));return r},setCookie:function(t,e,n){var i=new Date;i.setTime(i.getTime()+1e3*n*60*60*24);i="".concat(t,"=").concat(encodeURIComponent(e),";expires=").concat(i.toUTCString(),";path=/");document.cookie=i},checkType:function(t,e,n,i){return s(e)!==t?n+" has to be a "+t:!0===i&&isEmpty(e)?n+" has to be not empty":void 0},getAppReferrer:function(t,e){var n=t&&t.match(/fban(\/messenger)?|twitter|pinterest/i);if(n)switch(n[0].toLowerCase()){case"fban/messenger":return"http://msgr.facebook.com";case"fban":if(e&&-1===e.indexOf("m.facebook"))return"http://app.facebook.com";break;default:return"http://app."+n[0].toLowerCase()+".com"}return""},onDocumentVisible:function(e){document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",t))})},rejectOnTimeout:function(n){return new Promise(function(t,e){setTimeout(function(){return e({type:"timeout",msg:"".concat(n,"ms timeout exceeded")})},n)})}}},70:function(t,e,n){"use strict";var i=n(17);function r(t){return t+"|expiration"}e.a={set:function(t){i.a.supportsLocalStorage&&void 0!==t&&(localStorage.setItem(t.key,t.value),t.expires&&localStorage.setItem(r(t.key),Date.now()+t.expires))},get:function(t){return i.a.supportsLocalStorage?(e=localStorage.getItem(r(t)))&&e<=Date.now()?(this.remove(t),null):localStorage.getItem(t):null;var e},sessionSet:function(t){i.a.supportsLocalStorage&&void 0!==t&&sessionStorage.setItem(t.key,t.value)},sessionGet:function(t){return i.a.supportsLocalStorage?sessionStorage.getItem(t):null},remove:function(t){i.a.supportsLocalStorage&&(localStorage.removeItem(r(t)),localStorage.removeItem(t))},clear:function(){i.a.supportsLocalStorage&&localStorage.clear()}}},74:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var s=n(14);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t){return(t.match(/^stage\./)?"https://":"https://www.").concat(t)}var r=(i(u.prototype,[{key:"get",value:function(t){var e=this;return this.sourceOfTruthDomain===this.localDomain?Promise.resolve(s.a.get(t)):this.initIframe().then(function(){return e.cookies[t]||s.a.get(t)}).catch(function(){return s.a.get(t)})}},{key:"set",value:function(t){var n=this,i=t.name,r=t.value,a=t.days,t=t.secureOnly,o=void 0===t||t;s.a.set({name:i,value:r,days:a,localDomain:this.localDomain}),this.sourceOfTruthDomain!==this.localDomain&&this.initIframe().then(function(){var t={namespace:n.namespace,msgType:"destination-sync-write",cookieName:i,cookieVal:r,expiresDays:a,secureOnly:o},e=c(n.sourceOfTruthDomain);n.iframe.contentWindow.postMessage(JSON.stringify(t),e)}).catch(function(){return s.a.set({name:i,value:r,days:a,localDomain:n.localDomain})})}},{key:"cleanup",value:function(){var t;this.boundOnMessage&&window.removeEventListener("message",this.boundOnMessage),this.iframe&&(t=new ErrorEvent({message:"XDomainCookies were cleaned up before ready"}),this.iframe.dispatchEvent(t),this.iframe.remove()),this.iframeReady=null}},{key:"initIframe",value:function(){var n=this;if(this.iframeReady)return this.iframeReady;var i,t=new Promise(function(e,t){n.boundOnMessage=function(t){n.onMessage(t,e)},window.addEventListener("message",n.boundOnMessage),n.createIframe(t)});return this.iframeReady=Promise.race([(i=this.iframeTimeout,new Promise(function(t,e){var n={type:"timeout",msg:"".concat(i,"ms timeout exceeded")};setTimeout(function(){return e(n)},i)})),t]).catch(function(t){throw"prod"===n.env&&window.raven&&window.raven.captureException("timeout"===t.type?new Error("Destination Sync: ".concat(t.msg)):t),console.error(t),t}),this.iframeReady}},{key:"createIframe",value:function(e){var t="xdomaincookies-".concat(this.namespace),n=document.getElementById(t);if(n)return n.addEventListener("error",function(t){e(t)}),this.iframe=n,void(this.iframe.dataset.loaded&&this.updateFromIframe());var i=JSON.stringify({namespace:this.namespace,windowOrigin:window.location.origin}),n=document.createElement("iframe");n.style.display="none",n.addEventListener("error",function(t){e(t)}),n.id=t,n.src=(t=this.sourceOfTruthDomain,i=i,"".concat(c(t),"/").concat("destination-sync.html","#").concat(encodeURIComponent(i))),this.iframe=n,document.body.appendChild(n)}},{key:"updateFromIframe",value:function(){var t={namespace:this.namespace,msgType:"destination-sync-read"},e=c(this.sourceOfTruthDomain);this.iframe.contentWindow.postMessage(JSON.stringify(t),e)}},{key:"onMessage",value:function(t,e){var n={};try{n=JSON.parse(t.data)}catch(t){}n.namespace===this.namespace&&("destination-sync-init"===n.msgType&&(this.iframe.dataset.loaded=!0),"destination-sync-init"!==n.msgType&&"destination-sync-read"!==n.msgType||(this.cookies=n.cookies),e())}}]),u);function u(t){var e=this,n=t.sourceOfTruthDomain,i=t.localDomain,r=t.namespace,a=t.env,o=void 0===a?"dev":a,a=t.updateInterval,s=void 0===a?3e5:a,t=t.iframeTimeout,t=void 0===t?3e3:t;!function(t){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.sourceOfTruthDomain=n,this.localDomain=i,this.env=o,this.namespace=r,this.iframeTimeout=t,this.cookies={},n!==i&&this.initIframe().then(function(){setInterval(e.updateFromIframe.bind(e),s)}).catch(function(){})}},82:function(t,e,n){"use strict";var i,r,a=n(0),o=n(70),s=n(2),c=n(17),u=n(31),d=window.BZFD.Config.facebookApi.appId||null,l=window.BZFD.Config.facebookApi.version;function p(){return r||(r=new Promise(function(t){window.fbAsyncInit=function(){(i=window.FB).init({version:l,appId:d,status:!0,cookie:!0,xfbml:!0}),t(i)}}),s.b.createScript("//connect.facebook.net/en_US/sdk.js")),r}function f(){var t=o.a.sessionGet("offset");t&&window.scrollTo(0,t)}var h={parse:function(e){return p().then(function(t){return t.XFBML.parse(e)})},subscribe:function(e,n){return p().then(function(t){return t.Event.subscribe(e,n)})},unsubscribe:function(e,n){return p().then(function(t){return t.Event.unsubscribe(e,n)})},ui:function(t,e){i.ui(t,e)},openFeedDialog:function(t){var e=s.b.extend({},{method:"share",app_id:d,href:u.a.getUrl(),caption:u.a.getCaption(),description:u.a.getDescription(),name:u.a.getTitle(),picture:u.a.getPicture(),ref:"mobile_share",iframe_test:!0},t);e.app_id=d,t.redirect_uri=t.redirectUri||t.url,i?(o.a.sessionSet({key:"offset",value:window.scrollY}),h.ui(e,f),(t=a.b.findOne(document,"#fb_dialog_loader_close"))&&a.b.one(t,"click",function(t){return t.preventDefault()})):s.b.openPopup(s.b.prepareUrl("https://www.facebook.com/dialog/"+e.method+"/?",e))},share:function(t,e){"android"===c.a.os&&(t.display="popup",t.iframe_test=!1),e&&e.preventDefault(),h.openFeedDialog(t)}};h.init=p,e.a=h},9:function(t,e,n){"use strict";n.d(e,"b",function(){return i.a}),n.d(e,"a",function(){return r.a}),n.d(e,"h",function(){return g.a}),n.d(e,"c",function(){return v}),n.d(e,"e",function(){return y.a}),n.d(e,"f",function(){return k}),n.d(e,"d",function(){return T.a}),n.d(e,"g",function(){return S});var i=n(14),r=n(94);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function s(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function c(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(t){return Promise.reject(t)}}}n(92);var u=c(function(t,a){return!a||a<2||8<a?t:o((i=t,new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onabort=n.onerror=e,n.src=i})),function(t){var e=t.width,n=t.height,i=document.createElement("canvas"),r=i.getContext("2d");switch(4<a&&a<9?(i.width=n,i.height=e):(i.width=e,i.height=n),a){case 2:return void r.transform(-1,0,0,1,e,0);case 3:return void r.transform(-1,0,0,-1,e,n);case 4:return void r.transform(1,0,0,-1,0,n);case 5:return void r.transform(0,1,1,0,0,0);case 6:return void r.transform(0,1,-1,0,n,0);case 7:return void r.transform(0,-1,-1,0,n,e);case 8:return void r.transform(0,-1,1,0,0,e);default:return}return r.drawImage(t,0,0),i.toDataURL()});var i}),d=c(function(t){return o((i=t,new Promise(function(e,t){var n=new FileReader;n.onload=function(t){return e(t.target.result)},n.onabort=n.onerror=t,n.readAsArrayBuffer(i)})),function(t){var e=new DataView(t);if(65496!==e.getUint16(0,!1))return-2;for(var n=e.byteLength,i=2;i<n;){if(e.getUint16(i+2,!1)<=8)return-1;var r=e.getUint16(i,!1);if(i+=2,65505===r){if(1165519206!==e.getUint32(i+=2,!1))return-1;var a=18761===e.getUint16(i+=6,!1);i+=e.getUint32(i+4,a);var o=e.getUint16(i,a);i+=2;for(var s=0;s<o;s++)if(274===e.getUint16(i+12*s,a))return e.getUint16(i+12*s+8,a)}else{if(65280!=(65280&r))return;i+=e.getUint16(i,!1)}}return-1});var i}),l=(c(function(n){var i,t,e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).fixOrientation,r=void 0===e||e;if(!n)throw f;if(!function(t){var e=["image/jpg","image/jpeg","image/png","image/gif"].concat(function(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return a(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]));return!(!t||!t.type)&&-1!==e.indexOf(t.type)}(n))throw h;return t=s(function(){return o(l(n),function(t){i=t})},function(){var t,e;t=n,e=window.URL||window.webkitURL,i=t&&e&&e.createObjectURL?e.createObjectURL(t):null}),e=function(){return r?s(function(){return o(d(n),function(t){return o(u(i,t))})},function(){return i}):i},t&&t.then?t.then(e):e(t)}),c(function(t){return o((i=t,new Promise(function(e,n){var t=new FileReader;t.onload=function(t){t&&t.target&&t.target.result?e(t.target.result):n(p)},t.onabort=t.onerror=function(){return n(p)},t.readAsDataURL(i)})),function(t){if(!t||-1===t.indexOf("image"))throw p;return t});var i})),p="Unable to read file",f="`file` is required",h="Wrong file type";var g=n(45),m=n(48),v=function(t){t=t.env;return new m.a({namespace:"bf-xdomain-tracking",cookieName:"bf-xdomain-session-uuid",env:t}).get().then(function(t){return t||""}).catch(function(t){console.log("Error getting session UUID: ".concat(t))})},y=n(47);function b(t,e,n){if(!t.s){if(n instanceof w){if(!n.s)return void(n.o=b.bind(null,t,e));1&e&&(e=n.s),n=n.v}n&&n.then?n.then(b.bind(null,t,e),b.bind(null,t,2)):(t.s=e,t.v=n,(n=t.o)&&n(t))}}n(61),n(74),n(15),n(159);var w=(_.prototype.then=function(n,i){var r=new _,t=this.s;if(t){t=1&t?n:i;if(t){try{b(r,1,t(this.v))}catch(t){b(r,2,t)}return r}return this}return this.o=function(t){try{var e=t.v;1&t.s?b(r,1,n?n(e):e):i?b(r,1,i(e)):b(r,2,e)}catch(t){b(r,2,t)}},r},_);function _(){}function k(t){return!!(t||navigator.userAgent).toLowerCase().match(/gsa/)}var T=n(93);"".concat("sticky:","members-update"),new Map,new Map;var S=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"buzzfeed.com";try{if(new URL(t).hostname.includes(e))return!0}catch(e){if("/"===t[0])return!0}return!1}},92:function(t,e,n){"use strict";function i(t){return t+"|expiration"}var r=function(){try{return localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test"),!0}catch(t){return!1}}();e.a={set:function(t){r&&void 0!==t&&(localStorage.setItem(t.key,t.value),t.expires&&localStorage.setItem(i(t.key),Date.now()+t.expires))},get:function(t){return r?(e=localStorage.getItem(i(t)))&&e<=Date.now()?(this.remove(t),null):localStorage.getItem(t):null;var e},sessionSet:function(t){r&&void 0!==t&&sessionStorage.setItem(t.key,t.value)},sessionGet:function(t){return r?sessionStorage.getItem(t):null},remove:function(t){r&&(localStorage.removeItem(i(t)),localStorage.removeItem(t))},clear:function(){r&&localStorage.clear()}}},93:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(14);function r(){return i.a.get("bf-geo-country")||"US"}},94:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"needsConsent",function(){return l}),n.d(i,"isConsentStringCookieSet",function(){return p}),n.d(i,"getConsentFramework",function(){return f}),n.d(i,"getConsentFrameworkAsString",function(){return h});var r={};n.r(r),n.d(r,"init",function(){return k}),n.d(r,"pingTCF",function(){return T}),n.d(r,"setTCFListener",function(){return S}),n.d(r,"getTCData",function(){return O}),n.d(r,"uspApi",function(){return E}),n.d(r,"pingUSP",function(){return x}),n.d(r,"getUSPData",function(){return C}),n.d(r,"setUSPDefaultData",function(){return M});var a={};n.r(a),n.d(a,"fetchAdPurposeConsent",function(){return A}),n.d(a,"isEligibleForCCPA",function(){return F}),n.d(a,"fetchCCPAValue",function(){return D}),n.d(a,"fetchCCPAOptOut",function(){return N}),n.d(a,"fetchRawVendorConsents",function(){return j}),n.d(a,"fetchRawPublisherConsents",function(){return R}),n.d(a,"fetchTrackingConsent",function(){return L}),n.d(a,"hasConsented",function(){return B});function o(){return u()?"":window.location.search}var s=n(14),c=n(15),u=function(){return"undefined"==typeof window};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=function(){if(u())return!1;var t=Object(c.c)(o())["display-consent"]||"";if(["quantcast","gdpr","ccpa"].includes(t))return!0;var e=s.a.get("gdpr"),t=s.a.get("ccpa");return"string"==typeof e?"true"===e:"string"==typeof t&&"true"===t},p=function(){if(u())return!1;var t=s.a.get("euconsent-v2")||s.a.get("euconsent"),e=s.a.get("usprivacy");return"string"==typeof t||"string"==typeof e&&"Y"===e.charAt(2)},f=function(){return function(){var t=0;!function(){for(var t,n=[],r=window;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===window.top)break;r=r.parent}t||(function t(){var e,n=r.document,i=!!r.frames.__tcfapiLocator;return i||(n.body?((e=n.createElement("iframe")).style.cssText="display:none",e.name="__tcfapiLocator",n.body.appendChild(e)):setTimeout(t,5)),!i}(),r.__tcfapi=function(){var t,e=arguments;if(!e.length)return n;"setGdprApplies"===e[0]?3<e.length&&2===e[2]&&"boolean"==typeof e[3]&&(t=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):n.push(e)},r.addEventListener("message",function(n){var i="string"==typeof n.data,t={};try{t=i?JSON.parse(n.data):n.data}catch(n){}var r=t.__tcfapiCall;r&&window.__tcfapi(r.command,r.version,function(t,e){e={__tcfapiReturn:{returnValue:t,success:e,callId:r.callId}};i&&(e=JSON.stringify(e)),n.source.postMessage(e,"*")},r.parameter)},!1))}();function e(){var t=arguments;d(window.__uspapi)!==e&&setTimeout(function(){void 0!==window.__uspapi&&window.__uspapi.apply(window.__uspapi,t)},500)}var n;void 0===window.__uspapi&&(window.__uspapi=e,n=setInterval(function(){t++,window.__uspapi===e&&t<3?console.warn("USP is not accessible"):clearInterval(n)},6e3))}},h=function(){return"(".concat(f().toString(),")();")},g=n(24),m=n(45),v=n(158);function y(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var b="https://quantcast.mgr.consensu.org/choice";function w(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(t){return Promise.reject(t)}}}function _(t,e,n){if(n)return e?e(t()):t();try{var i=Promise.resolve(t());return e?i.then(e):i}catch(t){return Promise.reject(t)}}var k=n.n(v)()(w(function(){var n,t=window.location.hostname,i="".concat(b,"/3aud4J6uA4Z6Y/").concat(t,"/choice.js"),e=document.querySelector('script[src^="'.concat(i,'"]')),r=Object(c.c)(o())["display-consent"]||"";return["gdpr","ccpa"].includes(r)&&window.__tcfapi("addEventListener",2,function(t,e){e&&"cmpuishown"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus&&("gdpr"===r&&t.gdprApplies?window.__tcfapi("displayConsentUi",2,function(){}):"ccpa"!==r||t.gdprApplies||window.__uspapi("displayUspUi"))}),e?null:(t=function(){return n},(e=function(e){try{var t=y(Object(m.a)("".concat(i,"?timestamp=").concat(Date.now())),function(t){n=t})}catch(t){return e()}return t&&t.then?t.then(void 0,e):t}(function(){return y(Object(m.a)("".concat(b,".js")),function(t){n=t})}))&&e.then?e.then(t):n)})),T=function(){return _(k,function(){return new Promise(function(e){window.__tcfapi("ping",2,function(t){e(t)})})})},S=function(n){return _(k,function(){window.__tcfapi("addEventListener",2,function(t,e){n({tcData:t,success:e})})})},O=function(){return _(k,function(){return new Promise(function(n){window.__tcfapi("getTCData",2,function(t,e){n({tcData:t,success:e})})})})},E=w(function(t){return new Promise(function(n){window.__uspapi(t,1,function(t,e){n({uspData:t,success:e})})})}),x=function(){return _(k,function(){return E("uspPing")})},C=function(){return _(k,function(){return E("getUSPData")})},M=function(){return _(k,function(){return E("setUspDftData")})};function I(t,e,n){if(n)return e?e(t()):t();try{var i=Promise.resolve(t());return e?i.then(e):i}catch(t){return Promise.reject(t)}}var P,A=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return I(O,function(t){var e=t.success,n=t.tcData;if(n&&"gdprApplies"in n&&!n.gdprApplies)return!0;t=n.purpose.consents;if(!t[g.c.INFORMATION_STORAGE])return!1;var i=n.vendor.consents||{},n=null===r||r&&i&&r.every(function(t){return i[t]});return e&&t&&!!t[g.c.INFORMATION_STORAGE]&&!!t[g.c.CREATE_PERSONALISED_ADS]&&!!t[g.c.SELECT_PERSONALISED_ADS]&&!!t[g.c.APPLY_MARKET_RESEARCH]&&!!t[g.c.DEVELOP_PRODUCTS]&&n})},F=function(){return I(x,function(t){var e=t.success,n=t.uspData,i=n.mode,t=n.location,n=n.jurisdiction;return e&&i.includes("USP")&&n.includes(t.toUpperCase())})},D=function(){return I(F,function(t){return t&&document.querySelector("html").classList.add("show-ccpa"),s.a.get("usprivacy")})},N=function(){return I(D,function(t){return"string"==typeof t&&"Y"===t.charAt(2)})},j=function(i){return I(O,function(t){var e=t.tcData.vendor.consents;if(!i)return e;var n={};return i.forEach(function(t){n[t]=e[t]}),n})},R=function(i){return I(O,function(t){var e=t.tcData.publisher.consents;if(!i)return e;var n={};return i.forEach(function(t){n[t]=e[t]}),n})},L=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return I(N,function(t){return!t&&I(O,function(t){var e=t.tcData,t=t.success;try{if("gdprApplies"in e&&!e.gdprApplies)return!0;var n=e.vendor.consents||{},i=e.purpose.consents||{},r=null===a||a&&n&&a.every(function(t){return n[t]});return t&&i&&!!i[g.c.INFORMATION_STORAGE]&&!!i[g.c.CREATE_PERSONALISED_CONTENT_PROFILE]&&r}catch(t){return!1}})})},B=(P=function(t){t={ads:A,google:A.bind(null,g.a),tracking:L,permutive:L.bind(null,g.b)}[t];return!!t&&t()},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(P.apply(this,t))}catch(t){return Promise.reject(t)}});e.a={framework:i,rules:a,api:r}},96:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var e=n(5),i=n.n(e),r="track/website/instrumentation";function a(t){t=t.getOrCreateMap(r);return t.addMapTo("type","instrumentation"),t.addMapTo("platform","").mapFrom(function(t){return i()(t,"data.".concat("platform"))||i()(t,"data.page.platform")}),t.addMapTo("edition","").mapFrom("data.page.country"),t.addMapTo("category","").mapFrom(function(t){return i()(t,"data.page.category")||"home"}),t.addMapTo("target","").mapFrom("data.".concat("target")),t.addMapTo("value","").mapFrom("data.".concat("value")),t.addMapTo("tags","").mapFrom(function(t){return JSON.stringify(i()(t,"data.".concat("tags"),""))}),t}},97:function(t,e,n){"use strict";var i=n(161),r=n.n(i);e.a={renderString:function(t,e){return r.a.compile(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).render(e)}}}},[[630,0,1]]]);

"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(u,p,s,e,n,c){var t=u._snigelConfig;if(t){try{e=t.settings.adconsent.objName}catch(u){}n="__"+e}var o,f=void 0,i=u.performance,a=i&&i.now?function(){return Math.floor(i.now())}:function(){return 0};function r(e,n){n=n||{bubbles:!1,cancelable:!1,detail:f};var t=p.createEvent("CustomEvent");return t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),t}"function"!==_typeof(u.CustomEvent)&&(r.prototype=u.Event.prototype,u.CustomEvent=r);try{var l=function(e,n,t,o){u.console[e]&&w.level>=n&&console[e].apply(console,(t=t,e=e.toUpperCase()+":",o=o,t=[].slice.call(t),e&&t.unshift(e),t.unshift("display: inline-block; color: #fff; background: "+o+"; padding: 1px 4px; border-radius: 3px;"),t.unshift("%cAdConsent"),t))},d=function(e,n){return{region:e,loaded:!1,applies:f,version:n,status:"stub"}},g=function(o,i){return function(e,n,t){u[o](e,i?f:n,t,n)}},v=function(e,n,t){return!n||n===e.version||(C(t,null,!1),k("Wrong framework version detected: "+n),!1)},m=function(e,n,t){var o=U.applies&&f,n={tcString:f,tcfPolicyVersion:2,cmpId:229,cmpVersion:52,gdprApplies:o,eventStatus:!1===o?"tcloaded":f,cmpStatus:U.status,listenerId:n,isServiceSpecific:!0,useNonStandardStacks:!1,publisherCC:I.publisherCC,purposeOneTreatment:!1};k("Sending TCData structure:",n,t),C(t,n,!0)},b=function(e,n,t,o,i){e.queue.push({command:n,version:t,parameter:o,callback:i})},y=function(s,c,l){var o,e,i;l&&(o=s+"Locator",function e(){var n,t;u.frames[o]||((n=p.body)?((t=p.createElement("iframe")).style.display="none",t.name=o,n.appendChild(t)):setTimeout(e,5))}(),e=function(o){var e=o.data,i="string"==typeof e;try{var a=(i?JSON.parse(e):e)[s+"Call"];a&&u[s](a.command,a.version,function(e,n){try{var t;o&&o.source&&o.source.postMessage&&((t={})[s+"Return"]={returnValue:e,success:n===f||n,callId:a.callId},o.source.postMessage(i?JSON.stringify(t):t,"*"))}catch(e){}},a.parameter)}catch(e){}}),"function"!==_typeof(u[s])&&(i=function(e,n,t,o){var i=u[s];if(i.queue){for(var a in c)if(e===a){var r=!0;(0,c[a])(i,e,n,t,o);break}r||b(i,e,n,o,t)}else i(e,l?n:o,t,o)},u[s]=l?i:function(e,n,t){i(e,null,t,n)},u[s].queue=[],l&&(u.addEventListener?u.addEventListener("message",e,!1):u.attachEvent("onmessage",e)))},C=function(e,n,t){e&&e(n,t)},h=function t(e,n,o,i,a){var r;G.region!==f?B||(B=!0,0==G.region?R.dispatchCustomEventConsent(3,3):z&&((r=p.createElement("script")).type="text/javascript",r.src=A.cfg.apiBaseUrl+"/adconsent"+z+".js",r.async=!0,r.charset="utf-8",p.head.appendChild(r))):function(n){var t,e=null,o=s.getItem("snconsent_geo");if(o){var i=s.getItem("snconsent_geo_exp");if(i)try{parseInt(i)>=(new Date).getTime()&&(e=JSON.parse(u.atob(o)))}catch(e){}}e?n(e):((t=new XMLHttpRequest).open("GET","https://pro.ip-api.com/json/?fields=57354&key=33arzTfj1gigDqW"),t.timeout=5e3,t.onload=function(){var e=t.responseText.toLowerCase();s.setItem("snconsent_geo",u.btoa(e)),s.setItem("snconsent_geo_exp",(new Date).getTime()+36e5),n(JSON.parse(e))},t.onerror=t.ontimeout=function(){n(null)},t.send())}(function(e){var n=e?e.countrycode:null;"us"===n&&"california"===e.regionname?_(0,0,0,0,2):-1!=="at be bg hr cy cz dk ee fi fr de gr hu is ie it lv li lt lu mt nl no pl pt ro sk si es se gb".indexOf(n)?_(0,0,0,0,1):(n||(O("ErrorGeotargeting"),D("Geotargeting failed")),_(0,0,0,0,0)),t()})},_=function(e,n,t,o,i){if(G.region===f)if(N[i]){for(var a in x){var r=x[a];r.applies=r.region==i,r.applies?z=a:(r.loaded=!0,r.status="loaded")}G.region=i,T("Configured consent region "+N[i]),function(){if(1!==G.region&&L.processListeners(m),2!==G.region){var e=u[c],n=e.queue;if(n){e.queue=[];for(var t=0;t<n.length;t++){var o=n[t];e(o.command,o.version,o.callback,o.parameter)}}}}()}else D("Incorrect consent region "+i)},E=function(a,r,s){return function(e,n,t,o,i){i=!!i,G.region===f&&a.applies===f&&(i?_(0,0,0,0,r):(a.applies=!1)===s.applies&&_(0,0,0,0,0))}},S=function(e,n,t,o,i){q.enabled=i===f||!!i,q.callback=o},A=g(n);A.gdpr=g("__tcfapi",!0);var L=A.gdpr;L.listenerId=1,L.tcfListeners=[],L.addEventListener=function(e,n,t){v(U,e,n)&&(k("Adding event listener "+L.listenerId,n),n={id:L.listenerId++,callback:n||function(){}},L.tcfListeners.push(n),t(null,n.id,n.callback))},L.removeEventListener=function(e,n,t,o,i){if(v(U,t,o)){k("Removing event listener "+i);for(var a=0;a<L.tcfListeners.length;a++)if(L.tcfListeners[a].id==i)return L.tcfListeners.splice(a,1),void C(o,!0);D("Couldn't find listener id "+i+"."),C(o,!1)}},L.getTCData=function(e,n,t,o){v(U,t,o)&&m(0,0,o)},L.processListeners=function(e){for(var n=L.tcfListeners.slice(),t=0;t<n.length;t++)e(null,n[t].id,n[t].callback)},A.ccpa=g(c,!0),A.version=52,A.cmpId=229,A.cfg={apiBaseUrl:"https://cdn.snigelweb.com/adconsent/52",publisherCC:"US"};var I=A.cfg;A.log={levels:{off:0,error:1,warning:2,info:3,debug:4},level:2,error:function(){l("error",1,arguments,"#ff0000")},warn:function(){l("warn",2,arguments,"#ffe600")},info:function(){l("info",3,arguments,"#3b88a3")},debug:function(){l("debug",4,arguments,"#808080")}};var w=A.log,k=w.debug,T=w.info,P=w.warn,D=w.error;A.consent={regions:{0:"NONE",1:"GDPR",2:"CCPA"},region:f,api:{__tcfapi:d(1,2),__uspapi:d(2,1)}};var G=A.consent,N=G.regions,x=G.api,U=x.__tcfapi,V=x[c];A.analytics={enabled:!1,callback:f,send:function(e){q.sendEvent(N[G.region],e,a())},sendEvent:function(e,n,t){T("Sending analytics event action"+(q.enabled?"":" disabled")+": "+e+", label: "+n+", value: "+t),q.enabled&&(q.callback||function(e){u.gtag?gtag("event",e.action,{event_category:e.category,event_label:e.label,event_value:e.value}):u.ga?ga("send",{hitType:"event",eventCategory:e.category,eventAction:e.action,eventLabel:e.label,eventValue:e.value,nonInteraction:e.nonInteraction}):P("Unable to find Google Analytics module (gtag or ga).")})({category:"AdConsent",action:e,label:n||e,value:t||0,nonInteraction:!0})}};var q=A.analytics,O=q.send;A.event={fired:{},dispatchCustomEvent:function(e,n,t){t&&j[e]||(j[e]=!0,k("Emitting custom event "+e+" with details: ",n),p.dispatchEvent(new CustomEvent(e,n)))},dispatchCustomEventConsent:function(e,n){var t={0:"N/A",1:"NoConsent",2:"PartialConsent",3:"FullConsent"};O(t[n]),1==G.region&&0!=e&&O("Publisher"+t[e]),R.dispatchCustomEvent("cmpConsentAvailable",{detail:{consentSummary:{mapping:{0:"not available",1:"no consent",2:"partial consent",3:"full consent"},publisherConsent:e,vendorsConsent:n,gdprApplies:U.applies,uspApplies:V.applies}}})}};var R=A.event,j=R.fired,J=(o=u.location.search)?o.replace(/^\?/,"").split("&").reduce(function(e,n){var t=n.split("="),n=t[0],t=1<t.length?t[1]:f;return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(t)):e[n]=t||"",e},{}):{},M=("true"==J.sn_debug?"debug":null)||("true"==J.adconsent_debug?"debug":null)||J.adconsent_log;if(w.level=w.levels[M]||w.level,u[e])return D("Stub is tried to load again!");if(u.__tcfapi||u[c])return P("A cmp is already registered in the system. AdConsent is stopping.");u[e]=A;var z=f,B=!1;y("__tcfapi",{start:h,setGDPRApplies:E(U,1,V),enableGoogleAnalytics:S,ping:function(e,n,t,o){var i={gdprApplies:U.applies,cmpLoaded:U.loaded,cmpStatus:U.status,displayStatus:"disabled",apiVersion:"2.0",cmpVersion:52,cmpId:229,gvlVersion:f,tcfPolicyVersion:2};C(o,i,!0)},getTCData:L.getTCData,addEventListener:function(e,n,t,o,i){L.addEventListener(t,o,m)},removeEventListener:L.removeEventListener},!0),y(c,{start:h,setUSPApplies:E(V,2,U),enableGoogleAnalytics:S,getUSPData:function(e,n,t,o,i){!1===V.applies?v(V,t,o)&&C(o,{version:1,uspString:"1---"},!0):b(e,n,t,i,o)}},!0),y(n,{start:h,setPublisherCC:function(e,n,t,o,i){"string"!=typeof i||2!=i.length?C(o,{message:"Invalid publisher country code detected. Ignoring call."},!1):(I.publisherCC=i.toUpperCase(),C(o,null,!0))},setConsentRegion:_,setGDPRApplies:E(U,1,V),setUSPApplies:E(V,2,U),enableGoogleAnalytics:S})}catch(u){if(t&&t.passThroughException)throw u;console.error(u)}}(window,document,localStorage,"adconsent","__cmp","__uspapi");

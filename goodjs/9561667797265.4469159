var naver_adbd=naver_adbd||{};naver_adbd.Manager=function(e){function o(){var e="offset",t="client",d=this;d.blockedDOMInfo={};var s={nullProps:[e+"Parent"],zeroProps:[]};s.zeroProps=[e+"Height",e+"Width",t+"Height",t+"Width"],this.init=function(e){},this.validateNode=function(e){var t,o=(document.body,!1),n=!1,i="da_iframe_time"!==(t=e).id&&0===t.childNodes.length;if(i&&void 0===naver_corp_da.ActiveViewEmpty)return{result:o=!0,domInfo:d.blockedDOMInfo};function r(e,t){for(;e&&1===e.nodeType&&!0!==n;)t(e.parentNode),e=e.parentNode}for(var a=0;a<s.nullProps.length&&!0!=i;a++){if(null==e[s.nullProps[a]]){var l,o=!0;void 0!==window.getComputedStyle&&(l=window.getComputedStyle(e,null),d.blockedDOMInfo.props="nullProps",d.blockedDOMInfo.nodeName=e.nodeName.trim()||"",d.blockedDOMInfo.className=e.className.trim()||"",d.blockedDOMInfo.id=e.id.trim()||"",d.blockedDOMInfo.style="none"===l.getPropertyValue("display").toLowerCase()?l.getPropertyValue("display").toLowerCase():l.getPropertyValue("visibility").toLowerCase()||"",d.blockedDOMInfo.parent="visible",r(e,function(e){return e&&1!==e.nodeType?(n=!0,0):void("none"===window.getComputedStyle(e,null).getPropertyValue("display").toLowerCase()&&(n=!0,d.blockedDOMInfo.parent="none"))}));break}if(!0===o)break}for(a=0;a<s.zeroProps.length&&!0!=i&&!0!==o;a++)0===e[s.zeroProps[a]]&&(o=!0,void 0!==window.getComputedStyle)&&(l=window.getComputedStyle(e,null),d.blockedDOMInfo.props="zeroProps",d.blockedDOMInfo.nodeName=e.nodeName.trim()||"",d.blockedDOMInfo.className=e.className.trim()||"",d.blockedDOMInfo.id=e.id.trim()||"",d.blockedDOMInfo.style="none"===l.getPropertyValue("display").toLowerCase()?l.getPropertyValue("display").toLowerCase():l.getPropertyValue("visibility").toLowerCase()||"",d.blockedDOMInfo.parent="visible",r(e,function(e){return e&&1!==e.nodeType?(n=!0,0):void("none"===window.getComputedStyle(e,null).getPropertyValue("display").toLowerCase()&&(n=!0,d.blockedDOMInfo.parent="none"))}));return function(e,t){for(;e&&1===e.nodeType&&!o;)t(e),e=e.parentNode}(e,function(e){var t;void 0!==window.getComputedStyle&&("none"!==(t=window.getComputedStyle(e,null)).getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")||(o=!0,d.blockedDOMInfo.props="display,visibility",d.blockedDOMInfo.nodeName=e.nodeName.trim()||"",d.blockedDOMInfo.className=e.className.trim()||"",d.blockedDOMInfo.id=e.id.trim()||"",d.blockedDOMInfo.style="none"===t.getPropertyValue("display").toLowerCase()?t.getPropertyValue("display").toLowerCase():t.getPropertyValue("visibility").toLowerCase()||""))}),{result:o,domInfo:d.blockedDOMInfo}}}var n=e?e.media:"",i={"m.naver.com":{NM_OLD:{id:"nmap_news_1",su:"SU10101"},NM_NEW:{id:"nmap_news_channel_1",su:"SU10412"}},"test.m.naver.com":{NM_OLD:{id:"nmap_news_1",su:"SU10512"},NM_NEW:{id:"nmap_news_channel_1",su:"SU12500"}},"www.naver.com":{id:"da_iframe_time",su:"SU10079"},"test.www.naver.com":{id:"da_iframe_time",su:"SU10310"}},r={_hostUrl:"//pb.m.naver.com",_logPlace:null,setHostUrl:function(e){this._hostUrl=e},log:function(e){this._init();var t=document.createElement("img");t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("src",this._appendDummy(this._hostUrl+e)),this._logPlace.appendChild(t)},_init:function(){var e;null===this._logPlace&&((e=document.createElement("div")).style.display="none",document.body.appendChild(e),this._logPlace=e)},_appendDummy:function(e){return 0<e.indexOf("?")?e+="&dummy=":e+="?dummy=",e+=Math.random()}},a={_bakeryManager:null,_timerId:null,BakeryManager:function(){this.checkTable=function(){var e=document.location.host;if(void 0!==i[e]){0<=e.indexOf("test")&&r.setHostUrl("//test-pb.m.naver.com");var t="m.naver.com"===e||"test.m.naver.com"===e?(o=i[e][n].id,i[e][n].su):(o=i[e].id,i[e].su),e=document.getElementById(o);if(null===e)return a._sendLog("/abpenable",t,"ad:null"),void a._sendLog("/abpblock",t,"ad:null");var o=a._createBaitNode();!0===a._checkADBD(o)&&a._sendLog("/abpenable",t,"bait:hidden"),a._clearBaitNode(o);o=a._checkBlocked(e);!0===o.result&&(e="",o.domInfo&&(e=o.domInfo.nodeName+":"+o.domInfo.style+";props:"+o.domInfo.props+";id:"+o.domInfo.id+";class:"+o.domInfo.className,"nullProps"!==o.domInfo.props&&"zeroProps"!==o.domInfo.props||(e+=";parent:"+o.domInfo.parent)),a._sendLog("/abpblock",t,e))}}},activate:function(){null!==this._bakeryManager&&(this._bakeryManager=null),AgentDetect.IS_IE&&AgentDetect.searchBrowserVersion()<8||(this._bakeryManager=new this.BakeryManager,clearTimeout(this._timerId),this._timerId=setTimeout(this._bakeryManager.checkTable,4e3))},deactivate:function(){this._bakeryManager=null,clearTimeout(this._timerId)},_checkADBD:function(e){var t,o="offset",n="client",i=[o+"Parent"],r=[o+"Height",o+"Width",n+"Height",n+"Width"],a=!1;for(null!==document.body.getAttribute("abp")&&(a=!0),t=0;t<i.length;t++){if(null==e[i[t]]){a=!0;break}if(!0===a)break}for(t=0;t<r.length&&!0!==a;t++)0===e[r[t]]&&(a=!0);return void 0!==window.getComputedStyle&&("none"!==(n=window.getComputedStyle(e,null)).getPropertyValue("display")&&"hidden"!==n.getPropertyValue("visibility")||(a=!0)),a},_checkBlocked:function(e){if("none"===a._validCtActiveView())return{result:!1};var t=new o;return t.init(),t.validateNode(e)},_sendLog:function(e,t,o){r.log(e+"?su="+t+"&domInfo="+o)},_createBaitNode:function(){var e=function(e,t){var o,n=t,i=document.createElement(e);if(n)for(o in n)n.hasOwnProperty(o)&&i.setAttribute(o,n[o]);return i}("div",{class:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",style:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important"});return document.body.appendChild(e),e},_clearBaitNode:function(e){if(null===e)return!0;try{e.remove()}catch(e){}return!0},_validCtActiveView:function(){var e=document.getElementById("ct"),t="";return t=null!==e?(e.currentStyle||getComputedStyle(e,null)).display:t}};return a};

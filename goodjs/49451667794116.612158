b$.module("b$.view.bdom",function(){b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("DesignElement").extend(null,{namespaceURI:"http://backbase.com/2013/view",localName:"ViewElement",getHTMLNode:function(){return this.getDisplay()}})}),b$.module("b$.portal.view.bdom.default",function(){var t=b$.bdom.Namespace,e=(b$.view.bdom.Component,b$.bdom.getNamespace("http://backbase.com/2013/view").getClass("ViewElement")),i=b$.view.perspective.Perspective,r=b$.view.perspective.PerspectiveType,n=b$.view.perspective.PerspectiveParameters,o=b$._private.template.SimpleURITemplate,p=b$._private.htmlAPI,l=b$._private.xml,a=new(t.extend(function(e){t.call(this,e)},{}))("http://backbase.com/2013/portalView");this.NS=a;function d(a,i,s,e){b$.portal.portalServer.loadItemHTML(a.originalItem,function(e,r){var t=e.substring(0,e.indexOf("<body>"))+"</html>",n=e.substring(e.indexOf("<body>")+6,e.indexOf('<script type="text/backbase-xml')),o="";-1!==e.indexOf('<script type="text/backbase-xml">')&&(o=e.substring(e.indexOf('<script type="text/backbase-xml">')+33,e.indexOf("<\/script>",e.indexOf('<script type="text/backbase-xml">')+33)));t=l.parse(t);b$.portal._private.definition.getResourcesFromDefinition(t,"",function(){var e=p.createElementFromString(n),t=a.ownerDocument;a.destroy();var i=l.parse(o),t=b$.portal.importPortalModel(i,t,null,e);s&&s(t,r);e=e.viewController;e.ownerDocument.documentElement.designMode&&e.enableDesignMode()},function(){var e=p.createElementFromString("<span>This part of the page can't be rendered </span>");e.viewController=i.viewController,i.appendChild(e);e=l.parse(o),e=b$.portal.portalServer.itemXMLDOC2JSON(e);a.setItem(e),s&&s()})},e,!0)}var s,m={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},h=e.extend(function(){e.apply(this,arguments),this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers)},{localName:"portalViewElement",namespaceURI:"http://backbase.com/2013/portalView",insertDisplayChild:function(e,t){if((!e.model||!e.model._ssr)&&e.injectDisplaySelf(e,t)&&e.htmlNode)if(e.getPreference){var i,r=this.getDisplay("area",!0)||this.getDisplay(),n=parseInt(e.getPreference("area"),10)||0,o=r[n]?n:r.length-1,a=parseInt(e.getPreference("order"),10)||0;if(r[o].childNodes.length)for(var s=r[o].childNodes.length-1;0<=s;s--)r[o].childNodes[s]!==e.htmlNode&&r[o].childNodes[s].viewController&&a<parseInt(r[o].childNodes[s].viewController.getPreference("order"),10)&&(i=r[o].childNodes[s].viewController);t&&t.htmlNode?t.htmlNode.parentNode.insertBefore(e.htmlNode,t.htmlNode):i?r[o].insertBefore(e.htmlNode,i.htmlNode):r[o].appendChild(e.htmlNode)}else(this.getDisplay("area")||this.getDisplay()).appendChild(e.htmlNode)},dragIsTarget:function(){return this.isPossibleDragTarget},refreshHTML:function(r,e){var n=this.model.parentNode,o=this.ownerDocument;d(this.model,null,function(e,t){var i;n.appendChild(e),i=o.all[b$.portal.portalReflector.getID(n)],e=o.all[b$.portal.portalReflector.getID(e)],i.insertDisplayChild(e),r&&r(e,t)})},loadChildren:function(e,h){var t=[];if(this.model._children){e?t.push(e):t=this.model._children;for(var c=this,i=t.length-1;0<=i&&!b$.portal.portalModel.getElementById(t[i].name);i--)b$.portal.portalServer.loadItemHTML(t[i],function(e,t){var i=e.substring(0,e.indexOf("<body>"))+"</html>",l=e.substring(e.indexOf("<body>")+6,e.indexOf('<script type="text/backbase-xml')),d="";-1!==e.indexOf('<script type="text/backbase-xml">')&&(d=e.substring(e.indexOf('<script type="text/backbase-xml">')+33,e.indexOf("<\/script>",e.indexOf('<script type="text/backbase-xml">')+33)));i=b$._private.xml.parse(i);b$.portal._private.definition.getResourcesFromDefinition(i,"",function(){for(var e=b$._private.htmlAPI.createElementFromString(l),t=b$._private.xml.parse(d),i=b$._private.xml.textContent(b$.ua.querySelector(t,"property[name=area] value"))||0,r=b$._private.xml.textContent(b$.ua.querySelector(t,"property[name=order] value"))||0,n=c.htmlAreas[i],o=!0,a=null,s=0;s<n.childNodes.length;s++){if(n.childNodes[s].getAttribute("data-pid")==e.getAttribute("data-pid")){o=!1;break}(!n.childNodes[s].viewController||r<n.childNodes[s].viewController.getPreference("order"))&&(a=n.childNodes[s])}o&&(a?n.insertBefore(e,a):n.appendChild(e));b$.portal.importPortalModel(t,b$.portal.portalModel,c.model,e);h&&h(e.viewController)},null,!0)},null,!0,-1,null)}},getPreference:function(e,t){e=this.model?this.model.getPreference(e):this.getAttribute(e);return t?decodeURIComponent(e):e},setPreference:function(e,t){return this.model.setPreference(e,t)},isPreference:function(e){e=this.getPreference(e);return null!=e&&""!=e},setHightlightDropArea:function(e,t){t=this.getTarget(e,t);this.removeHightlightDropAreas(),t.classList.add("bp-drop-zone-highlight"),s=t},removeHightlightDropAreas:function(e,t){t=this.getTarget(e,t);s&&s.classList.remove("bp-drop-zone-highlight"),t.classList.remove("bp-drop-zone-highlight")},getHTMLareas:function(){var e=this.getDisplay("area",!0);return e=!e.length?p.findCaptureClass("bp-area",this.htmlNode):e},getTargetAreaId:function(e,t){for(var i=this.getHTMLareas(),r=null,n=null,o=1/0,a=0;a<i.length;a++){var s=p.getBoxObject(i[a],"border");if(function(e,t,i,r,n,o){if(i<=e&&e<=i+n&&r<=t&&t<=r+o)return!0;return!1}(e,t,s.x,s.y,s.w,s.h)){r=a;break}s=Math.abs(s.x+s.w/2-e)+Math.abs(s.y+s.h/2-t);s<o&&(o=s,n=a)}return null==r&&(r=this.tmp_lastTargetAreaId||(null==n?0:n)),this.tmp_lastTargetAreaId=r},getTarget:function(e,t){return this.getHTMLareas()[this.getTargetAreaId(e,t)]},getAreaPreference:function(){return void 0!==this.area?this.area:(e=this.model?parseInt(this.model.getPreference("area"),10):parseInt(this.getAttribute("area"),10),isNaN(e)?0:e);var e},getOrderPreference:function(){return void 0!==this.order?this.order:(e=this.model?parseInt(this.model.getPreference("order"),10):parseInt(this.getAttribute("order"),10),isNaN(e)?0:e);var e},m_dragEnter:function(e,t){if(m[this.model.securityProfile]<m.CONTRIBUTOR)return!1;var i=e.clientX,e=e.clientY;this.appendChild(this.ownerDocument.dragIndicator),this.setHightlightDropArea(i,e)},m_dragOut:function(e,t){if(m[this.model.securityProfile]<m.CONTRIBUTOR)return!1;var i=e.clientX,r=e.clientY,e=this.ownerDocument.dragIndicator.getDisplay();e&&(e.parentNode.removeChild(e),this.removeChild(this.ownerDocument.dragIndicator)),delete this.tmp_lastTargetAreaId;for(var n=this.childNodes,o=0;o<n.length;o++)n[o].tmp_order=n[o].getOrderPreference(),delete n[o].area,delete n[o].order;this.reflow(),this.removeHightlightDropAreas(i,r)},m_dragMove:function(e,t){if(m[this.model.securityProfile]<m.CONTRIBUTOR)return!1;var i=document.body.scrollTop||document.body.parentNode.scrollTop||0,r=document.body.scrollLeft||document.body.parentNode.scrollLeft||0,n=e.clientX+r,o=e.clientY+i,a=null,e=t.dataTransfer.getData("x-bb-nodelist");e&&e[0]&&(a=e[0]);i=this.getHTMLareas(),e=this.getTargetAreaId(n,o),this.getTarget(n,o);t.__tmpArea=e,t.__tmpOrder=0,this.ownerDocument.dragIndicator.area=e;var s=this.getAreaOrderedChildren()[e],l=!1;if(s)for(var d,h,c=0;c<s.length;c++)s[c]!=this.ownerDocument.dragIndicator&&(l||(h=p.getBoxObject(s[c].htmlNode,"border"),("horizontal"==this.layout.dir.direction&&n<h.x+h.w/2||"vertical"==this.layout.dir.direction&&o<h.y+h.h/2)&&(l=!0,this.ownerDocument.dragIndicator.order=t.__tmpOrder,d=this.ownerDocument.dragIndicator.getDisplay(),(h=s[c].getDisplay()).parentNode.insertBefore(d,h),t.__tmpOrder++,a==s[c].model?d.display="none":d.display="block")),s[c].order=t.__tmpOrder,t.__tmpOrder++);l||(this.ownerDocument.dragIndicator.order=t.__tmpOrder,i[e]||console.log("____________________________________________",this),i[e].appendChild(this.ownerDocument.dragIndicator.getDisplay()));i=this.ownerDocument.dragIndicator,e=t.dataTransfer.getData("x-bb-nodelist");e&&(a=e[0]),i.getDisplay().style.display="block",t.dragOptions.htmlNode.catalogItemJson||a.parentNode==i.parentNode&&a.getAreaPreference()==i.area&&(a.order+1!=i.order&&a.order-1!=i.order||(i.getDisplay().style.display="none")),this.reflow()},m_dragDrop:function(e,t,i){var r,n,o,a=this;if(m[a.model.securityProfile]<m.CONTRIBUTOR)return!1;function s(e,t,i){i=a.model.ownerDocument.createPreference(e,i);return i.value=t,i}function l(e,t,i,r){e.getPreferenceNode(t)?e.setPreference(t,i):(r=s(t,i,r),e.setPreferenceNode(r))}i.isCatalog||a===i.parentNode||i.parentNode.childNodes.forEach(function(e){e!==i&&(e.model.setPreference("order",e.tmp_order),e.model.save())}),a.childNodes.forEach(function(e){var t;e!==i&&e.tmp_order&&(t=s("order",parseFloat(e.tmp_order),"double"),e.model.setPreferenceNode(t),e.model.save())}),i.isCatalog&&t.dragOptions.htmlNode&&t.dragOptions.htmlNode.catalogItemJson?(n=(r=t.dragOptions.htmlNode.catalogItemJson).extendedItemName,t=b$.portal.portalView.getElementsByTagName("page").pop(),(o=function(e){var t=a.model.createExtendedElementFromJSON(e);e.children&&e.children.forEach(function(e){t.appendChild(extend(e),!0)});return t}(r)).parentItemName=a.model.name,l(o,"area",a.ownerDocument.dragIndicator.area+"","string"),l(o,"order",a.ownerDocument.dragIndicator.order+"","double"),"master"===t.pageType&&(o.extendedItemName=n),o.save(function(){o.contextItemName?d(o,a.htmlNode,function(e){var t;e.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0,a.model.appendChild(e),t=a.ownerDocument.all[b$.portal.portalReflector.getID(a.model)],e=a.ownerDocument.all[b$.portal.portalReflector.getID(e)],t.insertDisplayChild(e)}):(o.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0,a.model.appendChild(o))},function(){})):(i.model.setPreference("area",a.ownerDocument.dragIndicator.area.toString()),l(i.model,"order",a.ownerDocument.dragIndicator.order+"","double"),i.model.parentItemName=a.model.name,a.model.appendChild(i.model),i.model.save()),i.parentNode&&i.parentNode.reflow(),a.reflow()},createPerspective:function(e,t){return new i(new o("/","page"),e,t)},getCurrentPerspective:function(){return this.perspective},setCurrentPerspective:function(e){this.perspective=e},addHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addEventListener(t,e[t])},removeHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.removeEventListener(t,e[t])},processConfig:function(){try{var e,t=this.getPreference("config");t&&(e=JSON.parse(t),b$.mixin(this,e))}catch(e){console.log("Error parsing config: "+e)}},persistConfig:function(){try{var e,t=this.getPreference("config"),i=JSON.parse(t);for(e in i)i[e]!==this[e]&&(i[e]=this[e]);t=JSON.stringify(i),this.setPreference("config",t),this.model.save()}catch(e){console.log("Error persisting config: "+e)}},addToConfig:function(e,t){try{var i=this.getPreference("config"),r=JSON.parse(i);r[e]=t,i=JSON.stringify(r),this.setPreference("config",i),this.model.save()}catch(e){console.log("Error adding preference to config: "+e)}},removeFromConfig:function(e){try{var t=this.getPreference("config"),i=JSON.parse(t);delete i[e],t=JSON.stringify(i),this.setPreference("config",t),this.model.save()}catch(e){console.log("Error removing preference from config: "+e)}}});this.portalViewElement=h;var c=b$.view.bdom.layout;h.extend(function(e,t){h.apply(this,arguments),this.layout=new c.NoLayout(this)},{localName:"application",renderDisplay:function(){return this.htmlNode}}),h.extend(function(e,t){h.apply(this,arguments),this.perspective=this.createPerspective(new r("Dashboard"),new n),this.addEventListener("PerspectiveModified",function(e){this.setCurrentPerspective(this.createPerspective(new r(e.newValue),new n))},!1,this)},{localName:"portal",injectDisplaySelf:function(){},insertDisplayChild:function(e){e.model&&e.model._ssr||b$._private.ssrRootElement.appendChild(e.htmlNode)},attachHTMLChildren:function(){for(var e=this.childNodes,t=0;t<e.length;t++){var i=e[t].getHTMLNode();i.parentNode&&1==i.parentNode.nodeType||document.body.appendChild(i)}},showDesignTools:function(){},hideDesignTools:function(){}},{template:function(e){return'<div class="'+this.cls+" "+this.cls+'--area"></div>'}}),h.extend(function(e,t){h.apply(this,arguments),this.layout=new c.NoLayout(this),this.isPossibleDragTarget=!0},{localName:"page",pageType:void 0,createDisplay:function(){var e;this.htmlNode||(this.htmlNode=this.renderDisplay(this.getDisplayModel())),this.htmlAreas||(this.htmlAreas=this.getDisplay("area",!0)),(!(this.htmlNode.viewController=this).htmlAreas||this.htmlAreas.length<=0)&&(this.htmlAreas=[],(e=p.findCaptureClass("bp-area",this.htmlNode))[0]&&(p.addClass(e[0],"--area"),this.htmlAreas.push(e[0]))),this.model.manageable?this.pageType="master":""==this.model.extendedItemName?this.pageType="normal":this.pageType="inherited"},readyHTML:function(){h.prototype.readyHTML.call(this)},showDesignTools:function(){},hideDesignTools:function(){}},{template:function(e){return'<div class="'+this.cls+'"><div class="'+this.cls+'--area"></div></div>'}}),h.extend(function(e,t){h.apply(this,arguments),this.layout=new c.AutoLayout(this),this.isPossibleDragTarget=!1,this.flex=1,this.area=0,this.order=0},{localName:"dragIndicator",setHTMLWidthHeight:function(e,t){var i=this.htmlNode;p.setWidthHeightPB(i,e,t),p.setWidthHeightPB(i.firstChild,e-p.getPadding(i)-p.getBorder(i),t-p.getPadding(i,"tb")-p.getBorder(i,"tb"))},renderDisplay:function(e){return e||((e=document.createElement("div")).className="bp-drag-indicator",e.innerHTML='<div class="bp-drag-indicator-in"><span class="bp-drag-text"></span></div>'),e},getAreaPreference:function(){return this.area},getOrderPreference:function(){return this.order},setAreaPreference:function(e){this.area=e},setOrderPreference:function(e){this.order=e}})}),b$.module("b$.portal.view.bdom.container",function(){var i=b$.bdom.getNamespace("http://backbase.com/2013/portalView").getClass("portalViewElement"),r=b$.view.bdom.layout;i.extend(function(e,t){i.apply(this,arguments),this.layout=new r.NoLayout(this)},{localName:"container",createDisplay:function(){this.htmlNode||(this.htmlNode=this.renderDisplay(this.getDisplayModel())),this.htmlAreas||(this.htmlAreas=this.getDisplay("area",!0)),this.htmlNode.viewController=this},constrainProportions:function(e,t){for(var i,r=0,n=e.concat(new Array(t)).splice(0,t),o=0;o<t;o++)n[o]=Math.round(100*(n[o]||0))/100,r+=n[o];if(0===r)for(o=0;o<t;o++)n[o]=Math.round(100/t*100)/100;else if(100!==r)for(i=r/100,o=0;o<t;o++)n[o]=n[o]/i;return n}},{template:function(){return'<div class="bp-container"><div class="bp-area"></div></div>'}})}),b$.module("b$.portal.view.bdom.widget",function(){var i=b$.view.perspective.PerspectiveType,r=b$.view.perspective.PerspectiveParameters,n=b$.view.perspective.Perspective,o=b$._private.template.SimpleURITemplate,l=b$._private.htmlAPI,a=b$._private.simpleResponseCache_getData,s=b$.bdom.getNamespace("http://backbase.com/2013/portalView").getClass("portalViewElement"),e=s.extend(function(e,t){s.apply(this,arguments),this.id="none",this.flex=1},{localName:"widget",createDisplay:function(){return this.htmlNode=this.renderDisplay(),this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode},renderDisplay:function(){var e=document;return this.htmlNode||(this.htmlNode=b$.portal.view.loadChrome(this,e)),this.bindChromeHandlers(),this.htmlAreas=[],this.htmlAreas[0]=l.cssSelector(".bp-widget-body",this.htmlNode)[0],this.htmlNode},setHTMLWidthHeight:function(e,t){var i=this.htmlNode;void 0!==e&&l.setWidth(i,e),void 0!==t&&(l.setHeight(i,t),l.setHeightPB(this.htmlAreas[0],t-this.htmlHead.offsetHeight-this.htmlFoot.offsetHeight))},DOMReady:function(){var i=this;this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers),this.id=this.model.name,i.model&&(i.model.addEventListener("PrefModified",function(e){var t;e.target!==i.model||(t=e.relatedNode)&&((e=this.ownerDocument.createEvent("UIEvent")).initUIEvent("change",!0,!1,window,null),t.dispatchEvent(e,!1))},!1,i),i.model.addEventListener("PrefFallback",function(e){e.target===i.model&&i.refreshHTML()},!1,i),this.addEventListener("PerspectiveModified",function(e){var t;e.target.model!==this.model||"Maximized"!==e.newValue&&"Widget"!==e.newValue||((t=this.ownerDocument.createEvent("MutationEvent")).initMutationEvent("Maximized"===e.newValue?"maximize":"restore",!0,!1,this,null,null,null,null),this.model.dispatchEvent(t,!0))},!1,this))},bindChromeHandlers:function(){var s=this;l.bindEvent(this.htmlNode,"click",function(e){for(var t,i=e.target,r=l.cssSelector(".bp-widget-pref",this)[0];;){if(t=i.getAttribute("data-action"))switch(t){case"widget-preferences":s.dispatchCustomEvent("preferences-form",!0,!0,{context:s});break;case"widget-maximize":s.setPerspective("Maximized");break;case"widget-restore":s.setPerspective("Widget"),i.setAttribute("data-action","widget-minimize");break;case"widget-minimize":s.setPerspective("Minimized"),i.setAttribute("data-action","widget-restore");break;case"widget-refresh":s.refreshHTML();break;case"widget-close":s.model.destroyAndSave();break;case"pref-ok":for(var n=l.cssSelector("form",r)[0],o=0;o<n.elements.length;o++){var a=n.elements[o];"text"===a.type?a.value!==s.model.getPreference(a.name)&&(console.log(a.name,a.value),s.model.setPreference(a.name,a.value)):"checkbox"===a.type&&a.checked!==s.model.getPreference(a.name)&&(console.log(a.name,a.checked),s.model.setPreference(a.name,a.checked))}s.model.save(),r.style.display="none";break;case"pref-cancel":r.style.display="none"}if(i==e.currentTarget)break;if(!(i=i.parentNode))break}})},setTitle:function(e){this.model.setPreference("title",e),this.model.save()},getDefinition:function(){return{}},setPerspective:function(e){var t;e!==this.perspective.getType().getName()&&(this.perspective=new n(new o(this.getDefinition().sUrl||this.sSrc,"page"),new i(e),new r),(t=this.ownerDocument.createEvent("MutationEvent")).initMutationEvent("PerspectiveModified",!0,!1,this,this.perspective,e,null,null),this.dispatchEvent(t))},getContextVariableValue:function(e){e=this.perspective.getParameters().getByName(e);return e&&e.getValue()||""}});this.Widget=e,defaultChrome='<div class="bp-widget Xbp-ui-dragRoot Xbp-ui-dragGrip"><div class="bp-widget-head"></div><div class="bp-widget-pref"></div><div class="bp-widget-body"></div><div class="bp-widget-foot"></div></div>';l=b$._private.htmlAPI;b$.portal.view.loadChrome=function(e,t){var i={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},r=e.model,n={};r&&(n=r.getJSON());var o=e.getAttribute("widgetChrome");return o=o?(o=o.replace("$(contextRoot)",b$.portal.portalModel.serverURL),n.widgetTitle=e.getAttribute("title"),a(o)):defaultChrome,r&&(r=i[r.securityProfile],n.showEdit=i.CONTRIBUTOR<=r,n.showDelete=i.CREATOR<=r,n.enableDND=i.CONTRIBUTOR<=r,n.showMaximize=!0),l.createElementFromString(Mustache.to_html(o,n),t)}}),b$.module("b$.portal.view.bdom.widget.backbase",function(){var e=b$.bdom.getNamespace("http://backbase.com/2013/portalView").getClass("widget"),o=b$.view.perspective.PerspectiveType,a=b$.view.perspective.PerspectiveParameters,s=b$.view.perspective.Perspective,l=b$._private.template.SimpleURITemplate,d=b$._private.htmlAPI,t=new b$._private.AsyncComponentBuilder;e.extend(null,{localName:"backbaseWidget",createDisplay:function(){return this.htmlNode=this.renderDisplay(),this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode},renderDisplay:function(){var e=document;return this.htmlNode||(this.htmlNode=b$.portal.view.loadChrome(this,e)),this.bindChromeHandlers(),this.htmlHead=d.cssSelector(".bp-widget-head",this.htmlNode)[0],this.htmlFoot=d.cssSelector(".bp-widget-foot",this.htmlNode)[0],this.htmlAreas=[],this.htmlAreas[0]=d.cssSelector(".bp-widget-body",this.htmlNode)[0],this.body=this.htmlAreas[0],this.isClientSideRenderedOnly=!(this.body&&this.body.firstChild),this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly?this.buildWidgetByDefinition():this.buildWidget(),this.htmlNode},readyHTML:function(){e.prototype.readyHTML.call(this)},updateByDefinition:function(n){t.buildWidget(this.myDefinition.sUrl,!0,this,function(e){if(this.processed)n&&n();else{this.myDefinition=e,this.includes=e.getIncludesFromDefinition(this),e.getPreferencesFromDefinition(this),this.isClientSideRenderedOnly&&this.body.appendChild(e.getHTMLBodyFromDefinition());var e=this.body,t=d.cssSelector(".bp-g-include",e);if(t.length)for(var i=0;i<this.includes.length;i++){var r=this.includes[i];r.htmlNode=t[i],r.addEventListener("content",function(){this.htmlNode.innerHTML="";for(var e=0;e<this.content.length;e++)this.htmlNode.appendChild(this.content[e])})}this.processed=!0,this.isClientSideRenderedOnly&&this.refreshIncludes(),n&&n()}}.bind(this))},buildWidget:function(r){var n=(n=this.getAttribute("src")).replace("$(contextRoot)",b$.portal.portalModel.serverURL),e=this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly;t.buildWidget(n,e,this,function(e){var t=e.XListeners;if(this.myDefinition=e,this.model)for(var i in t)t.hasOwnProperty(i)&&this.model.addEventListener(i,t[i],!1,this);this.perspective=new s(new l(n,"page"),new o("Dashboard"),new a),t.load&&t.load.call(this),r&&r()}.bind(this))},buildWidgetByDefinition:function(){this.buildWidget(this.updateByDefinition.bind(this))},refreshIncludes:function(){for(var e=0,t=this.includes.length;e<t;e++)this.includes[e].refresh()},getOriginURI:function(){return this.getDefinition().sUrl},getDefinition:function(){return this.myDefinition},getBody:function(){return this},getIncludes:function(){return this.includes}})});

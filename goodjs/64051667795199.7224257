!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["initialize_sparkle/initialize_sparkle.js"]=r():e["initialize_sparkle/initialize_sparkle.js"]=r()}(this,function(){return n={126:function(e,r,n){"use strict";function o(e){return!(!e||"object"!=typeof e||(r=e,"[object RegExp]"===(e=Object.prototype.toString.call(r))||"[object Date]"===e||r.$$typeof===t));var r}var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,r){return!1!==r.clone&&r.isMergeableObject(e)?l(Array.isArray(e)?[]:{},e,r):e}function i(e,r,n){return e.concat(r).map(function(e){return a(e,n)})}function s(e){return Object.keys(e).concat((r=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]));var r}function c(e,r){try{return r in e}catch(e){return!1}}function u(t,o,i){var u={};return i.isMergeableObject(t)&&s(t).forEach(function(e){u[e]=a(t[e],i)}),s(o).forEach(function(r){var e,n;(!c(e=t,n=r)||Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))&&(c(t,r)&&i.isMergeableObject(o[r])?u[r]=function(e){if(!e.customMerge)return l;e=e.customMerge(r);return"function"==typeof e?e:l}(i)(t[r],o[r],i):u[r]=a(o[r],i))}),u}function l(e,r,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||o,n.cloneUnlessOtherwiseSpecified=a;var t=Array.isArray(r);return t===Array.isArray(e)?t?n.arrayMerge(e,r,n):u(e,r,n):a(r,n)}l.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return l(e,r,n)},{})},e.exports=l},135:function(e,r){e.exports=function(e,r){try{return JSON.parse(e)}catch(e){return r}}},274:function(e,r,n){e.exports=n(275)},275:function(e,r,n){var u=n(276),t=n(277),o=n(278),i=n(279),a=n(280).BLOOMBERG_AD_NETWORK_ID,s=n(126),c={query:{enabled:!1,values:{}},superburst:{enabled:!1,srnd:null}};function l(e){return c.superburst.enabled&&(e.srnd=c.superburst.srnd),e}function b(e){return c.query.enabled?s(e,c.query.values):e}function d(r){i(function(e){e.isBlocked&&e.isUsingOverlay||(e=o(e),function(r,e){var n=document.getElementById(r);if(!n)return console.warn("Could not locate ad target element!"),Promise.reject();var t,o,t=((o=u(".params",t=n))||console.error("Could not find ad parameters:",t,"Error:",error),o.targetingModifiers=[window.__bloomberg__.byzantium.getTags,window.__bloomberg__.byzantium.getAdRecommendations,l,b],s({targeting:{url:window.location.pathname}},o)),o=u("#page-level-ad-config-".concat(t.pageId),document,{}),i=s.all([o,t,{targeting:e}]);window.Sparkle.cmd.push(function(){window.Sparkle.createAd(i).then(function(e){e.onRender(function(){n.setAttribute("data-ad-status","rendered"),window.__bloomberg__.eventBus.publish("hub-ad-render",{element:n,config:i})}),e.onEmpty(function(){n.setAttribute("data-ad-status","empty"),window.__bloomberg__.eventBus.publish("hub-ad-empty",{element:n,config:i})})}).catch(function(e){console.error("Could not instantiate ad:",r,"Error:",e)})})}(r,e))})}function f(e){if(e)for(var r=e.querySelectorAll(".page-ad"),n=0,t=r.length;n<t;++n)d(r[n].id)}function p(){c.query={enabled:!1,values:{}}}function w(){for(var e=document.getElementsByClassName("ad"),r=0;r<e.length;++r)e[r].setAttribute("debug",!0);window.Sparkle.cmd.push(function(){window.Sparkle.showDebugInformation(),window.Sparkle.showDebugInformationOnRender()})}window.Sparkle.cmd.push(function(){window.Sparkle.init({networkCode:a,breakpoints:{mobile:0,tablet:760,small_desktop:1020,large_desktop:1280},adBlockerShouldBeBlocked:"ja"!==(document.getElementsByTagName("html")[0].getAttribute("lang")||"en")}),window.__bloomberg__.ads.renderAdsInElement=f,window.__bloomberg__.ads.updateCorrelator=window.Sparkle.updateCorrelator.bind(window.Sparkle),window.__bloomberg__.ads.disableRenderByQuery=p,window.showMeTheMoney=w}),document.querySelector(".superburst-container")&&(window.__bloomberg__.fetchSuperBurstParam=new Promise(function(n){window.addEventListener("message",function e(r){r.data.hasOwnProperty("srnd")&&(c.superburst={enabled:!0,srnd:r.data.srnd},window.removeEventListener("message",e),n(r.data))})})),(t=t()).debugAds&&w(),c.query={enabled:!0,values:t},window.__bloomberg__.ads.queue.forEach(d),window.__bloomberg__.ads.queue=[],window.__bloomberg__.ads.enqueue=d,f(document),window.__bloomberg__.eventBus.subscribe("zones-lazy-loaded",function(e){f(e.container)},{replay:!1})},276:function(e,r,n){var t=n(135);e.exports=function(e,r,n){e=(r=r||document).querySelector(e);return e?t(e.textContent,n):n}},277:function(e,r){e.exports=function(){var e=window.location.search,o={},r=new RegExp("([^?=&]+)(=([^&]*))?","g");return e.replace(r,function(e,r,n,t){o[r]=t}),o}},278:function(e,r){e.exports=function(e){var r=e.userState,r=void 0===r?{}:r,e=e.isBlocked;return r.isTerminalSubscriber?{subscriber:"term"}:r.isBBGSubscriber?{subscriber:"yes"}:e?{subscriber:"wall"}:{subscriber:"no"}}},279:function(e,r){function n(r,e){var n,t=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)),t}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){var r,n;r=t,e=o[n=e],n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}e.exports=function(s){window.__bloomberg__.eventBus.subscribe("user-sign-in-status",function e(r){var n,t,o,i,u=r.isBBGSubscriber,r=r.isTerminalSubscriber,r={isBBGSubscriber:Boolean(u),isTerminalSubscriber:Boolean(r)};function a(e){n({isBlocked:e="block"===e,isUsingOverlay:e,userState:t}),window.__bloomberg__.eventBus.unsubscribe("fortress-decision",a)}o=s,i=r,window._fence?window._fence.ready(function(){window._fence.isBlockedPromise.then(function(e){e.isFortressEnabled||o(c(c({},e),{},{userState:i}))})}):o({}),n=s,t=r,window.__bloomberg__.eventBus.subscribe("fortress-decision",a),window.__bloomberg__.eventBus.unsubscribe("user-sign-in-status",e)})}},280:function(e,r){e.exports={BLOOMBERG_AD_NETWORK_ID:"5262"}}},t={},o.m=n,o.c=t,o.d=function(e,r,n){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)o.d(n,t,function(e){return r[e]}.bind(null,t));return n},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=274);function o(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}var n,t});

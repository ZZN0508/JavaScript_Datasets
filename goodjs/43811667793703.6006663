(this.$WP=this.$WP||[]).push(["lMO0v3",(e,n)=>{"use strict";var o,r,a,s,t,c,i,u,l,d,v,f,p;function h(n){var[e,t]=r(!1);return a(()=>{var e=j(n,()=>t(!0));return()=>e()},[n]),e}var g={expires:365},m={ADVERTISING:"advertising",ANALYTICS:"analytics & customisation",ALL:"all",ESSENTIAL:"essential"},C={advertising:"ADV","analytics & customisation":"ANA",all:"ALL"};function b(e,n){var t=e.findIndex(e=>e===n);e.splice(t,1)}var w={id:1402,test:!1},E=["//c.evidon.com/sitenotice/evidon-sitenotice-tag.js","//c.evidon.com/geo/country.js","//c.evidon.com/sitenotice/1402/snthemes.js","//c.evidon.com/sitenotice/1402/tripadvisor/settings.js"],P=[],A=[];function L(e){e&&Object.entries(e).forEach(([e,n])=>{f.set(e,!!n)}),e=(t=>{var i=[],o=[];if(void 0!==t){if(t.all)return'{"out":"","in":"ALL"}';var e=function(e,n){if(null==e)return{};for(var t,i={},o=Object.keys(e),r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||(i[t]=e[t]);return i}(C,["all"]);Object.keys(e).forEach(e=>{var n;e!==m.ESSENTIAL&&(n=C[e],(!0===t[e]?i:o).push(n))})}return JSON.stringify({out:o.join(),in:i.join()})})(e),i.set("TATrkConsent",btoa(e),g),P.forEach(e=>e()),P.length=0}function y(e){if("function"!=typeof e)throw new Error("Invalid argument. Expected a function - got "+typeof e);var n=()=>{"timeout"!==v&&e()};switch(v){case"disabled":case"received":e();break;case"pending":P.push(n)}return()=>b(P,n)}function j(e,n,t){if(!Object.values(m).includes(e))throw new Error(`"${e}" is not a known consent category. Supported values are: ${Object.values(m).join(", ")}`);if("function"!=typeof n)throw new Error('Invalid argument. "onConsent" should be a function');if(!["function","undefined"].includes(typeof t))throw new Error('Invalid argument. "onDeclined" should be a function');var i=()=>{f.get(e)||f.get(m.ALL)?n():t&&t()};if(e===m.ESSENTIAL)return n(),()=>{};switch(v){case"disabled":n();break;case"timeout":t&&t();break;case"received":i();break;case"pending":P.push(i)}return()=>b(P,i)}function O(){var e;null!=(e=evidon)&&e.notice&&evidon.notice.showPreferencesDialog("prior-consent")}function S(){var[e,i]=r(void 0);return a(()=>{var t,e,n=(t=i,e=()=>{var e,n;null!=(e=evidon.notice)&&null!=e.isGDPR&&e.isGDPR()?t("GDPR"):null!=(e=evidon.notice)&&null!=e.isCCPA&&e.isCCPA()?t("CCPA"):"br"===(null==(e=evidon.notice)||null==(n=e.country)?void 0:n.code)?t("LGPD"):t("NONE")},evidon&&evidon.notice||"disabled"===v?e():A.push(e),()=>b(A,e));return()=>n()},[]),{isPending:void 0===e,isRequired:"GDPR"===e||"LGPD"===e}}var k=({children:e,category:t=m.ALL,deferOnly:i=!1})=>{var[n,o]=r(!1);return a(()=>{var e=()=>{o(!0)},n=i?y(e):j(t,e);return()=>n()},[t,i]),n&&e},I=({children:e})=>{var[n]=s(u),t=s(l)["isWebview"],i=t||"RegistrationController"===n.page&&!n.params.fullscreen;return a(()=>{var e,n,t;i||(((null==(e=window)||null==(n=e.location)?void 0:n.hostname)||"").includes("tripadvisor-preview")?v="disabled":"uninitialized"===v&&(v="pending",t=setTimeout(()=>{v="timeout",L()},5e3),function({onConsentUpdate:o,userId:e}){if("undefined"==typeof window||!window.document)return Promise.reject(new Error("Attempted to load Evidon during SSR"));e&&(evidon.userId=e),evidon.priorConsentCallback=(e,n,t)=>{var i=Object.values(e).every(e=>!0===e);o(i?{all:i}:Object.assign({},e))},evidon.closeCallback=()=>{},evidon.consentWithdrawnCallback=()=>{},evidon.consentChangedCallback=()=>{location.reload()},evidon.consentDeclinedCallback=()=>{evidon.notice.dropSuppressionCookie(30)};e=E.map(e=>c(e,"WP"));return Promise.all(e)}({onConsentUpdate:e=>{v="received",L(e)}}).then(()=>{clearTimeout(t),A.forEach(e=>e()),A.length=0})))},[i]),o.createElement(o.Fragment,null,!i&&E.map(e=>o.createElement(d,{path:e,key:e})),e,!i&&"Home"===n.page&&o.createElement(p,null))};return e({enqueue:y,requestConsent:j,showConsentPreferences:O,useConsent:h,useOptInRequired:S}),[()=>{globalThis.evidon=globalThis.evidon||Object.assign({},w),v="uninitialized",f=new Map,p=t.component.onUsage(()=>n("lMO0v3/GzJMLX"),"default"),e({CategoriesEnum:m,ConsentGate:k,ConsentProvider:I,enqueue:y,requestConsent:j,showConsentPreferences:O,useConsent:h,useOptInRequired:S})},[e=>(o=e.default,r=e.useState,a=e.useEffect,s=e.useContext),e=>c=(t=e).importScript,e=>i=e.default,e=>(u=e.Route,l=e.Device),e=>d=e.PreloadedScript]]},["cDcdfi","pLbCP4","vmXh3M","2R4xv2","E8NZou"]]);

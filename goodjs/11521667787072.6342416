define("modules/clean/react/modal_dig",["require","exports","tslib","classnames","dompurify","react","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/react/components/css","modules/clean/react/components/modal_controller","modules/clean/ux_analytics/utils","modules/core/i18n"],function(t,e,n,i,a,l,d,u,p,o,c,m,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactModal=e.SimpleModal=e.Modal=e.ModalWithCSS=e.ModalButtons=e.ModalButton=void 0,i=n.__importDefault(i),a=n.__importStar(a),l=n.__importDefault(l),c=n.__importStar(c);var r,h=u.Modal.Header,f=u.Modal.Footer,_=u.Modal.Body,v=(r=l.default.Component,n.__extends(b,r),b.prototype.invokeCBThenCloseModal=function(t,e,a){void 0===a&&(a=!1),"function"==typeof t&&t.call(this,e);t=e.defaultPrevented;(t="isDefaultPrevented"in e?e.isDefaultPrevented():t)||(this.props.autoClose||a)&&c.unmountModal()},b.prototype.dismissModal=function(t){var e=this.props,a=e.onDismiss,e=e.onDismissCompleted;this.invokeCBThenCloseModal(a,t,!0),e&&e.call(this,t)},b.prototype.onCancelActionClicked=function(t){this.dismissModal(t)},b.prototype.onAcceptActionClicked=function(t){var e=this.props.onAccept;this.invokeCBThenCloseModal(e,t)},b.prototype.componentDidMount=function(){m.dispatchModalOpened(),u.Modal.setAppElement(document.body)},b.prototype.componentWillUnmount=function(){m.dispatchModalClosed()},b.prototype.render=function(){var t=this.props,e={"db-modal-wrapper":!0,"uxa-modal":!0,"clean-react-modal":!0,"db-modal--default-maestro-style":"default-maestro"===t.style};t.className&&(e[t.className]=!0);var a=i.default(e),n=m.getModalId({id:t.id,className:t.className}),o=this.state.open,s=this.onCancelActionClicked.bind(this),r=this.onAcceptActionClicked.bind(this),e=t.onShow;return l.default.createElement("div",{className:a},l.default.createElement("div",{ref:this.modal,className:"db-modal db-modal__dig"},l.default.createElement("div",{ref:this.modalBox,className:"db-modal-box"},l.default.createElement(u.Modal,{open:o,className:"db-modal-"+t.style,onRequestClose:s,onAfterOpen:e,"aria-labelledby":"db-modal-title",overlayClassName:"db-modal-overlay",ariaHideApp:!1,id:c.MODAL_ROOT_ID,"data-testid":c.MODAL_ROOT_TESTID,width:t.width||"standard",withCloseButton:c.CLOSE_BUTTON_TEXT},l.default.createElement("div",{className:"db-modal__dig-container",id:n},t.title&&l.default.createElement(h,{hasBottomSpacing:"title-standard",className:"db-modal-title",id:"db-modal-title"},l.default.createElement(p.Title,null,l.default.createElement("span",{className:"db-modal-title-text"},t.title))),l.default.createElement(_,{ref:this.modalContainer,className:"db-modal-content",hasVerticalSpacing:!1},t.children),l.default.createElement(f,{className:"db-modal-buttons"},t.buttonComponent||l.default.createElement(l.default.Fragment,null,t.helpLink&&l.default.createElement(d.Button,{hasNoUnderline:!0,variant:"transparent",className:"dbmodal-extra-link-button db-modal__unclickable-parent"},t.helpLink),t.altAction&&l.default.createElement(d.Button,{hasNoUnderline:!0,variant:"transparent",className:"db-modal__alt-action db-modal__unclickable-parent"},t.altAction),t.dismissButtonText?l.default.createElement(d.Button,{className:"dbmodal-button dbmodal-button__cancel",key:"tertiary-dismiss",variant:"opacity",onClick:s},t.dismissButtonText):l.default.createElement("span",null),t.acceptButtonText&&l.default.createElement(d.Button,{className:"dbmodal-button dbmodal-button__accept",key:"primary",variant:"primary",disabled:t.acceptButtonDisabled,onClick:r,isLoading:t.submitting},t.acceptButtonText))))))))},b.displayName="Modal",b.defaultProps={acceptButtonText:s.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),dismissButtonText:null,buttonComponent:null,onAccept:function(){},onDismiss:function(){},onShow:function(){},autoClose:!0,style:"default",acceptButtonDisabled:!1},b),s={show:function(t){var e={acceptButtonText:t.confirm_text,trackingIdPrefix:t.trackingIdPrefix,onAccept:t.confirm_callback,dismissButtonText:t.cancel_text,onDismiss:t.cancel_callback,onDismissCompleted:t.cancel_completed_callback,title:t.title_text,width:t.width,className:"simple-modal",autoClose:t.autoclose,style:t.style,onShow:t.on_show},t=t.body_react?l.default.createElement("div",{className:"simple-modal-content"},t.body_react):l.default.createElement("div",{className:"simple-modal-content",dangerouslySetInnerHTML:{__html:a.sanitize(t.body_html)}}),t=l.default.createElement(v,n.__assign({},e),t);return c.mountModal(t)}};function b(t){t=r.call(this,t)||this;return t.state={open:!0},t.modal=l.default.createRef(),t.modalBox=l.default.createRef(),t}e.SimpleModal=s,e.ModalButton=function(t){var e=t.className,a=t.children,t=n.__rest(t,["className","children"]);return l.default.createElement(d.Button,n.__assign({className:i.default(e,"dbmodal-button","button-"+t.variant,"dbmodal-button__"+t.variant)},t),a)},e.ModalButton.displayName="ModalButton",e.ModalButtons=function(t){var e=t.className,t=n.__rest(t,["className"]);return l.default.createElement("div",n.__assign({className:i.default(e,"db-modal-buttons")},t))},e.ModalButtons.displayName="ModalButtons",e.ModalWithCSS=o.requireCssWithComponent(v,["/static/css/dig-components/index.web-vfldraCVQ.css"]),e.Modal=e.ModalWithCSS,e.ReactModal=e.ModalWithCSS}),define("modules/clean/react/button_dig",["require","exports","tslib","classnames","react","dig-components/buttons","modules/core/browser"],function(t,e,n,o,s,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.link_button=e.button=e.LinkButton=e.Button=void 0,o=n.__importDefault(o),s=n.__importDefault(s),a=n.__importStar(a);function i(t){var e={};e["button-"+t.variant]=!(!t.variant||"standard"===t.variant);var a=t.importance||"primary",a=d[a]||"primary";return t.importance&&"styleless"!==t.importance&&(e["button-"+t.importance]=!0,e[t.importance]=!0),t.className&&(e[t.className]=!0),t.importance,t.variant,(t=n.__rest(t,["importance","variant"])).className=o.default(e),{digVariant:a,domAttributes:t}}var l,d={secondary:"outline",tertiary:"transparent",styleless:"transparent",primary:"primary"},u=(l=s.default.Component,n.__extends(p,l),p.prototype.render=function(){var t=this.props,e=i(t),a=e.digVariant,e=e.domAttributes;return s.default.createElement(r.Button,n.__assign({},e,{variant:a}),t.children)},p.defaultProps={importance:"primary"},p);function p(){return null!==l&&l.apply(this,arguments)||this}e.Button=u;var c,m=(c=s.default.Component,n.__extends(h,c),h.prototype.render=function(){var t=this.props,e=i(t).domAttributes;return delete e.disabled,s.default.createElement(r.Button,n.__assign({onClick:function(){t.href&&a.open_tab(t.href)}},e,{variant:"transparent"}),t.children)},h.defaultProps={importance:"primary"},h);function h(){return null!==c&&c.apply(this,arguments)||this}e.LinkButton=m,e.button=u,e.link_button=m}),define("modules/clean/react/input_dig",["require","exports","tslib","classnames","dig-components/text_fields","dig-components/typography","create-react-class","react","react-dom","ts-keycode-enum","modules/clean/react/form_error_mixin","modules/clean/react/sprite","modules/core/cancelable_promise","modules/core/i18n"],function(a,t,d,u,p,c,e,m,o,n,s,h,r,f){"use strict";function _(e,t){var a=function(t){if(t<=e)return"password-input-dot-selected"},n="password-input-meter",a=m.default.createElement("div",{className:n=(t=void 0===t?!1:t)?"password-input-meter-standalone":n,ref:"meter"},m.default.createElement("div",{className:"password-input-dot "+a(4)}),m.default.createElement("div",{className:"password-input-dot "+a(3)}),m.default.createElement("div",{className:"password-input-dot "+a(2)}),m.default.createElement("div",{className:"password-input-dot "+a(1)}));return t?m.default.createElement("span",{className:"standalone-password-meter-container"},a):a}Object.defineProperty(t,"__esModule",{value:!0}),t.textarea=t.text=t.password=t.password_strength_meter=void 0,u=d.__importDefault(u),e=d.__importDefault(e),m=d.__importDefault(m),o=d.__importStar(o),s=d.__importDefault(s),t.password_strength_meter=_;function i(i,l){return e.default({displayName:i+"."+l,mixins:[s.default],getDefaultProps:function(){return{errorWrapperClassName:"text-input-error-wrapper",expandedWidthOffset:90,expandable:!1,animationCurve:"easeOutSine",animationDuration:300,compatiblePlaceholder:!1}},getInitialState:function(){return{inputWidth:0,expanded:!1,value:this.props.defaultValue}},zxcvbnPromise:void 0,UNSAFE_componentWillMount:function(){var e=this;this.props.measureStrength&&(this.zxcvbnPromise=r.makeCancelable(new Promise(function(t,e){a(["zxcvbn"],t,e)}).then(d.__importStar)),this.zxcvbnPromise.then(function(t){t=t.default;e.setState({zxcvbn:t})}))},componentWillUnmount:function(){this.zxcvbnPromise&&this.zxcvbnPromise.cancel()},componentDidMount:function(){this._renderFinished();var t=this.inputComponent.current.offsetWidth;return this.setState({inputWidth:t})},componentDidUpdate:function(){return this._renderFinished()},inputComponent:m.default.createRef(),render:function(){var t={"text-input-input":!0,autofocus:this.props.autofocus,"password-input":"password"===l},e={"text-input":!0,"text-wip-migration-wip":!0,"text-input-expandable":this.props.expandable,"text-input-inline":this.props.inline,"textarea-input":"textarea"===i};e[this.props.variant||"standard"]=!0,this.props.className&&this.props.className.split(/\s/).forEach(function(t){return e[t]=!0});var a=this.renderErrorIfEnabled(),n=void 0;(null!=this.props.error&&this.props.error.message_text||null!=(null!=this.props.error?this.props.error.message_html:void 0))&&(n=this.state.errorWrapperIdName);var o=p.TextInput;"textarea"===i&&(o=p.TextArea);var s,r={id:this.props.id,name:this.props.name,"aria-describedby":n,"aria-label":n,className:u.default(t),type:l,value:this.props.value||(null!=this.props.valueLink?this.props.valueLink.value:void 0)||this.state.value,onChange:this.onChangeInternal,onFocus:this.onFocusInternal,onBlur:this.onBlurInternal,onKeyDown:this.onKeyDownInternal,autoFocus:this.props.autofocus,ref:this.inputComponent,placeholder:this.props.placeholder||""};for(s in this.props)void 0===r[s]&&"autofocus"!==s&&(r[s]=this.props[s]);o=m.default.createElement(o,d.__assign({},r));return m.default.createElement("div",{style:this.props.style,className:u.default(e)},!this.props["error-after"]&&a,m.default.createElement("div",{className:"text-input-wrapper"},this._renderPasswordStrengthBar(),o,this.props.expandable&&m.default.createElement("a",{href:"#",onClick:this.onCloseClick,ref:"closeButton",className:"close-button u-mar-left-xs"},m.default.createElement(h.Sprite,{group:"web",name:"xclose",alt:f.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})})),this.props.label&&!(this.props.value||null!=this.props.valueLink&&this.props.valueLink.value||this.state.value)&&m.default.createElement(c.Text,{size:"standard",tagName:"label",htmlFor:this.props.id},this.props.label)),this.props["error-after"]&&a)},getValue:function(){return this.inputComponent.current.value},setValue:function(t){return this.inputComponent.current.value=t,this.setState({value:t})},resizeComponent:function(){var t=this.inputComponent.current;return t.style.height="1px",t.style.height=t.scrollHeight+"px"},_renderPasswordStrengthBar:function(){return this.props.measureStrength?_(this.state.score):null},_renderFinished:function(){return this.props.autoresize&&this.resizeComponent(),"function"==typeof this.props.afterRender?this.props.afterRender():void 0},onCloseClick:function(t){if(null!=t&&t.preventDefault(),this.props.expandable){var e=o.findDOMNode(this.refs.closeButton),a=this.inputComponent.current;return e.style.opacity="0",a.style.width=this.state.inputWidth+"px","function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t),this.setState({expanded:!1})}"function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t)},onChangeInternal:function(t){if("function"==typeof this.props.onChange&&this.props.onChange(t),null!=this.props.value||(this.props.valueLink?this.props.valueLink.requestChange(t.target.value):this.setState({value:t.target.value})),this.props.measureStrength){var e=this.state.zxcvbn&&t.target.value?Math.max(1,this.state.zxcvbn(t.target.value).score):0;return this.setState({score:e})}},onFocusInternal:function(t){if("function"==typeof this.props.onFocus&&this.props.onFocus(t),!1!==this.props.expandable){var e=t.target,a=o.findDOMNode(this.refs.closeButton),n=this.state.inputWidth;0===n&&(n=this.inputComponent.current.offsetWidth,this.setState({inputWidth:n}));t=n+this.props.expandedWidthOffset,n=t-parseInt(e.style.paddingRight)+a.offsetWidth/2;return a.style.left=n+"px",e.style.width=t+"px",e.style.opacity="1",this.setState({expanded:!0})}},onBlurInternal:function(t){var e=t.target.value;return!0===this.props.closeOnBlur&&0===e.length&&this.onCloseClick(),"function"==typeof this.props.onBlur?this.props.onBlur(t):void 0},onKeyDownInternal:function(t){if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(t),null!=this.state.expanded!=0&&t.keyCode===n.Key.Escape)return t.target.blur(),this.onCloseClick()}})}t.password=i("input","password"),t.text=i("input","text"),t.textarea=i("textarea","text")});

(window.coreWebpackJsonp=window.coreWebpackJsonp||[]).push([[21],{205:function(n,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return d}));var e=i(0),c=i.n(e),a=i(37),o=i(24),s=i(131),r=i(251),u=i(348),l=i(260);function p(n,t,i,e,c,a,o){try{var s=n[a](o),r=s.value}catch(u){return void i(u)}s.done?t(r):Promise.resolve(r).then(e,c)}var d=n=>{let{data:{homepageLink:t,notificationsLink:i,accountLabel:d,signInLabel:b,accessibilityLinks:g,searchLink:f,menuLabel:m,moreLabel:h,closeButtonLabel:L,navigationLinks:k}}=n;const v="https://account.bbc.com/account",I=Object(o.f)(),{host:y,language:w}=Object(r.b)(),j=!w||"cy"!==w&&"gd"!==w&&"en"!==w||w.endsWith("-GB")?w:"".concat(w,"-GB"),O="https://".concat(y).concat(I.pathname),[B,E]=Object(e.useState)({signedIn:!1,prompt:d,url:v}),P="ckns_id",W=y&&!y.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return Object(e.useEffect)((()=>{const n=Object(s.b)(P).ckns_id;(function(){var t,i=(t=function*(){try{const i=yield Object(a.a)(W),e=yield i.json();if("GREEN"===e["id-availability"])if(n)try{const t=JSON.parse(window.atob(n));E({signedIn:!0,prompt:t.dn?t.dn:d,url:v})}catch(t){E({signedIn:!1,prompt:b,url:e.signin_url})}else E({signedIn:!1,prompt:b,url:e.signin_url})}catch(i){E({signedIn:!1,prompt:d,url:v})}},function(){var n=this,i=arguments;return new Promise((function(e,c){var a=t.apply(n,i);function o(n){p(a,e,c,o,s,"next",n)}function s(n){p(a,e,c,o,s,"throw",n)}o(void 0)}))});return function(){return i.apply(this,arguments)}})()()}),[]),c.a.createElement(u.a,{signedIn:B.signedIn,signInPrompt:B.prompt,signInUrl:B.url,signInPtrt:O,language:j,homepageLink:t,notificationsLink:i,accessibilityLinks:g,searchLink:f,menuLabel:m,moreLabel:h,closeButtonLabel:L,footerNavigationId:l.a,items:k})}}}]);
webpackJsonp([20],{1870:function(e,t,a){a(27),e.exports=a(1871)},1871:function(e,t,a){"use strict";(function(e){var t,n,i,l,r,u,c,s,o,d=w(a(9)),m=w(a(10)),h=w(a(15)),g=w(a(11)),p=w(a(12)),f=w(a(1)),b=w(a(19)),v=w(a(2)),N=w(a(3)),E=w(a(38));a(16),a(39);var I=w(a(0)),y=w(a(20)),A=a(4),L=a(8),D=w(a(14)),M=a(13),S=w(a(7)),Z=a(32);a(1872);var z=w(a(17));function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t,a,n){a&&(0,d.default)(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function R(e,t,a,n,i){var l={};return Object.keys(n).forEach(function(e){l[e]=n[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}var T=E.default.TabPane,B=a(24),G=(0,A.observer)((n=function(t){function n(e){(0,f.default)(this,n);var a=(0,v.default)(this,t.call(this,e));a.refreshInterval=null,k(a,"LeaguesData",i,a),k(a,"isLoading",l,a),k(a,"isSwitching",r,a),k(a,"currentLeague",u,a),k(a,"recentMatch",c,a),k(a,"leagues",s,a),k(a,"tabWidth",o,a);var d=(0,Z.parse)(location.search);return a.type=d.type,a.size=d.size||10,a.count=d.count||3,a}return(0,N.default)(n,t),n.prototype.componentWillMount=function(){this.loadData()},n.prototype.componentDidMount=function(){var e=this;this.screenChange(),window.addEventListener("resize",function(){return e.screenChange()}),this.refreshInterval||(this.refreshInterval=setInterval(function(){e.refreshScheduleStatus()},12e4))},n.prototype.componentWillUnmount=function(){var e=this;this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null),window.removeEventListener("resize",function(){return e.screenChange()})},n.prototype.screenChange=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;this.tabWidth=(e-65)/this.count},n.prototype.loadData=function(){var e=(0,p.default)(g.default.mark(function e(){var t,a,n,i,l=this;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,t=M.BASE_URL_PC+"/game/home_list?t="+(new Date).getTime(),e.prev=2,e.next=5,D.default.get(t);case 5:(a=e.sent)&&a.results&&a.results.length>0&&(n={},i=[],this.type?a.results.map(function(e,t){"football"===l.type&&2!==e.type||"basketball"===l.type&&1!==e.type?(i.push(e.league),n[e.league]=e,0===t&&(l.currentLeague=e.league)):l.type===e.league&&(i.push(e.league),n[e.league]=e,l.currentLeague=e.league)}):a.results.map(function(e,t){i.push(e.league),n[e.league]=e,0===t&&(l.currentLeague=e.league)}),this.size&&this.size<i.length&&(i.length=this.size),this.leagues=i,this.LeaguesData=n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:this.isLoading=!1;case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),n.prototype.refreshScheduleStatus=function(){var t=(0,p.default)(g.default.mark(function t(){var a,n,i;return g.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=2;break}return t.abrupt("return");case 2:return a=M.BASE_URL_PC+"/game/game_status_list?ran="+(new Date).getTime(),t.prev=3,t.next=6,e.ajax({context:this,type:"get",url:a,dataType:"jsonp",jsonp:"callBack",jsonpCallback:"game_status_list"});case 6:(n=t.sent)&&n.results&&n.results.length>0&&(i={},n.results.map(function(e){i[e.id]=e}),this.LeaguesData[this.currentLeague].list=this.LeaguesData[this.currentLeague].list.map(function(e){var t=i[e.id];return t&&(e.homeScore=t.homeScore,e.guestScore=t.guestScore,e.currentTime=t.currentTime,e.gameStatus=t.gameStatus,e.statusDesc=t.statusDesc,e.appStatusDesc=t.appStatusDesc),e})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])}));return function(){return t.apply(this,arguments)}}(),n.prototype.onLeagueChange=function(e){var t=this;this.currentLeague=e,this.isSwitching=!0,setTimeout(function(){t.isSwitching=!1},10)},n.prototype.getRecentMatch=function(e){for(var t=0,a=0,n=0;n<e.length;n++){var i=e[n];if(n===e.length-1)t=i.id;else if(i.gameStatus<3&&(a++,t=i.id,2===a))break}return this.currentLeague+"_"+t},n.prototype.render=function(){var e=this,t=(0,A.observer)(function(t){var n=t.match,i="match.html?id="+n.id;return 3400===n.leagueId&&(i="//worldcup.cctv.com/2018/match/"+n.radarId+"/index.shtml"),I.default.createElement("a",{className:(0,S.default)("match-container",{going:2===n.gameStatus},{end:n.gameStatus>2}),href:i,target:"_blank",style:{width:e.tabWidth+"px"}},I.default.createElement("div",{className:"top-container"},I.default.createElement("div",{className:"league"},n.leagueName+" "+(1===n.extType?n.gameRound||"":n.roundType||""))),I.default.createElement("div",{className:"middle-container"},isNBA(n.leagueId)?I.default.createElement("div",{className:"team"},I.default.createElement(z.default,{className:"logo",src:n.guestPicUrl,loader:B}),I.default.createElement("div",{className:"name"},n.guestName)):I.default.createElement("div",{className:"team"},I.default.createElement(z.default,{className:"logo",src:n.homePicUrl,loader:B}),I.default.createElement("div",{className:"name"},n.homeName)),1===n.gameStatus?I.default.createElement("div",{className:"info"},I.default.createElement("div",{className:"date"},new Date(n.startTime.replace(/-/g,"/")).format("MMæœˆddæ—¥")),I.default.createElement("div",{className:"time"},new Date(n.startTime.replace(/-/g,"/")).format("hh:mm")),I.default.createElement("div",{className:"status"},n.statusDesc)):I.default.createElement("div",{className:"info"},I.default.createElement("div",{className:"status"},n.statusDesc),isNBA(n.leagueId)?I.default.createElement("div",{className:"score"},n.guestScore,":",n.homeScore):I.default.createElement("div",{className:"score"},n.homeScore,":",n.guestScore)),isNBA(n.leagueId)?I.default.createElement("div",{className:"team"},I.default.createElement(z.default,{className:"logo",src:n.homePicUrl,loader:B}),I.default.createElement("div",{className:"name"},n.homeName)):I.default.createElement("div",{className:"team"},I.default.createElement(z.default,{className:"logo",src:n.guestPicUrl,loader:B}),I.default.createElement("div",{className:"name"},n.guestName))),I.default.createElement("div",{className:"bottom-container"},I.default.createElement("div",{className:(0,S.default)("desc",{going:2===n.gameStatus&&n.liveChannel})},n.liveChannel&&I.default.createElement("img",{src:(n.gameStatus,a(523))}),I.default.createElement("span",null,n.appStatusDesc))))}),n=this.type&&"football"!==this.type&&"basketball"!==this.type;return I.default.createElement(h.default,{spinning:this.isLoading},I.default.createElement("div",{className:(0,S.default)("entrance-container",{single:n})},I.default.createElement("div",{className:"league-container"},this.leagues.map(function(t,a){return I.default.createElement("div",{key:a,className:(0,S.default)("league",{active:t===e.currentLeague}),onClick:function(){return e.onLeagueChange(t)}},I.default.createElement("span",null,t))}),!this.isLoading&&I.default.createElement("a",{className:"btn-center",href:"/index.html#"+this.leagueId,target:"_blank"},I.default.createElement("div",{className:"name"},"æ¯”èµ›ä¸­å¿ƒ >"))),!this.isSwitching&&I.default.createElement(E.default,{ref:function(t){return e.nav=t},activeKey:this.getRecentMatch(this.schedule),animated:{inkBar:!1,tabPane:!1},tabBarGutter:0},this.schedule.map(function(a){return I.default.createElement(T,{tab:I.default.createElement(t,{match:a}),key:e.currentLeague+"_"+a.id})}))))},(0,b.default)(n,[{key:"schedule",get:function(){return this.LeaguesData&&this.currentLeague?this.LeaguesData[this.currentLeague].list:[]}},{key:"leagueId",get:function(){return this.LeaguesData&&this.currentLeague?this.LeaguesData[this.currentLeague].id:0}}]),n}(I.default.Component),i=R(n.prototype,"LeaguesData",[L.observable],{enumerable:!0,initializer:function(){return null}}),l=R(n.prototype,"isLoading",[L.observable],{enumerable:!0,initializer:function(){return!1}}),r=R(n.prototype,"isSwitching",[L.observable],{enumerable:!0,initializer:function(){return!1}}),u=R(n.prototype,"currentLeague",[L.observable],{enumerable:!0,initializer:function(){return"çƒ­é—¨"}}),c=R(n.prototype,"recentMatch",[L.observable],{enumerable:!0,initializer:function(){return 0}}),s=R(n.prototype,"leagues",[L.observable],{enumerable:!0,initializer:function(){return[]}}),o=R(n.prototype,"tabWidth",[L.observable],{enumerable:!0,initializer:function(){return 200}}),R(n.prototype,"schedule",[L.computed],(0,m.default)(n.prototype,"schedule"),n.prototype),R(n.prototype,"leagueId",[L.computed],(0,m.default)(n.prototype,"leagueId"),n.prototype),R(n.prototype,"screenChange",[L.action],(0,m.default)(n.prototype,"screenChange"),n.prototype),R(n.prototype,"loadData",[L.action],(0,m.default)(n.prototype,"loadData"),n.prototype),R(n.prototype,"refreshScheduleStatus",[L.action],(0,m.default)(n.prototype,"refreshScheduleStatus"),n.prototype),R(n.prototype,"onLeagueChange",[L.action],(0,m.default)(n.prototype,"onLeagueChange"),n.prototype),t=n))||t;y.default.render(I.default.createElement(G,null),document.getElementById("root"))}).call(t,a(23))},1872:function(e,t){},523:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGtmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wMS0xMVQxMTo1NTowOCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0xNlQxNzo0NDo0NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDEtMTZUMTc6NDQ6NDcrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDVhYjM4YWQtZTkwOS1iMTRkLWE5NDQtYjdmZTBkZjYzZDNhIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OTNhZjJlZjEtMjljMC0xMDRmLWEyZmYtNTZlYmNkOGJmODFhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MThjYTliOWMtMzNjMy0xYzRlLTgwOGItMzU3ZTMwZDE4ZDBkIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOGNhOWI5Yy0zM2MzLTFjNGUtODA4Yi0zNTdlMzBkMThkMGQiIHN0RXZ0OndoZW49IjIwMTktMDEtMTFUMTE6NTU6MDgrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzZDNiYmY5LWU0OGMtZWE0Zi04ODQ2LWViYTY3YWE2ZGQxMCIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0xMVQxMTo1NTowOCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDVhYjM4YWQtZTkwOS1iMTRkLWE5NDQtYjdmZTBkZjYzZDNhIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTE2VDE3OjQ0OjQ3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsgFpiEAAABfSURBVCgVYzgoK8QMxP1A/BWI/5OIvwBxL8gMBiBRT4YB6LgaZNBzKhj0mAGP5BUgbgDiP8QYhs+gC0AMkjcB4uvUMAiEOaAR8m9QGATy2g1KvEZyYFMt+qmWIKmSRQBkRYyllBjbgQAAAABJRU5ErkJggg=="}},[1870]);
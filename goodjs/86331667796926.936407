!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=20)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,n){n=n(4);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(7),o=n(8),r=n(9),a=n(11);e.exports=function(e,t){return i(e)||o(e,t)||r(e,t)||a()}},function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0})},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}},function(e,t,n){var i=n(10);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var i=n(2),o=n(13).f,n=Function.prototype,r=n.toString,a=/^\s*function ([^ (]*)/;!i||"name"in n||o(n,"name",{configurable:!0,get:function(){try{return r.call(this).match(a)[1]}catch(e){return""}}})},function(e,t,n){var i=n(2),o=n(14),r=n(18),a=n(19),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(2),o=n(4),r=n(15);e.exports=!i&&!o(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(16),n=n(3),o=i.document,r=n(o)&&n(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(n,e,t){!function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}.call(this,t(17))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(3);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var o=n(3);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";n.r(t),n(6);function i(){c()(this,i),this.appendScriptToDom=function(e,t,n,i,o,r,a){e[o]||(e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(o),e[o]=function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].q=e[o].q||[],r=t.createElement(n),a=t.getElementsByTagName(n)[0],r.async=1,r.src=i,a.parentNode.insertBefore(r,a))},this.snowplowVersion=function(){var e=this.snowplowSrc&&this.snowplowSrc.match(/sp-(\d+\.\d+\.\d+)\.js/);return e&&e[1]},this.addGlobalContexts=function(e){"2.10.2"===this.snowplowVersion()&&this.winObj.snowplowKW("addGlobalContexts",e)},this.initSnowplow=function(e,t,n,i,o,r){i=i||30,this.winObj=e,this.snowplowSrc=r||"//dc8xl0ndzn2cb.cloudfront.net/sp.js",this.appendScriptToDom(e,e.document,"script",this.snowplowSrc,"snowplowKW"),e.snowplowKW("newTracker","cf","pixel.keywee.co",{appId:t,cookieDomain:n,eventMethod:"get"}),e.snowplowKW("setVisitorCookieTimeout",33696e3),o&&e.snowplowKW("enableActivityTracking",i,i)}}function u(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}function h(e,t){var n,i,o=b();return n=e,i=t,Object.keys(o).filter(function(e){return n<=e&&(!i||e<=i)}).map(function(e){return o[e]})}function o(){var t,i,o,e,n,r,a,s;function c(e){return 1===e.length?u(e[0].categories):e.reduce(function(e,t){return e.concat(u(t.categories))},[])}function l(e,n){return 1===e.length?e[0][n]:e.reduce(function(e,t){return e+t[n]},0)}r=v.document.title,a=0<v.location.href.indexOf("kwp_4="),n=e||f,(s=b()[n]||{date:n}).categories||(s.categories={}),s.categories.general||(s.categories.general={articles_read:0,keywee_articles_read:0,time_spent:0,category:"general"}),(n=s.categories.general).last_visited_article!==r&&(n.articles_read++,a&&n.keywee_articles_read++,n.last_visited_article=r),n=e||f,r=s,(e=b())[n]=r,E(e),s=h(p),n=h(w),r=h(f,f),e=k.getAndUpdateSessionData(new Date),t=c(s),i=c(n),r=l(c(r),"keywee_articles_read"),o={noad30:s.length,noadcm:n.length,nokart:r,pvps:e.pageViews,slensec:e.sessionLengthSeconds},["articles_read","keywee_articles_read","time_spent"].forEach(function(n){var e=n.split("_").map(function(e){return e[0]}).join("");[[e+"30d",t],[e+"cm",i]].forEach(function(e){var t=e[0],e=e[1],e=l(e,n);o[t]=y(e)})}),0<(e=o).kar30d&&0===e.nokart?e.kru=1:e.kru=0,e=o=e,m.sendCustom("KWCEPV",e),m.send("PageView")}function a(e,t,n,i,o){e=1e3*(e=e||30),setInterval(function(e,t,n,i){var o,r=(r=window.pageYOffset||document.documentElement.scrollTop,o=document.body,s=document.documentElement,c=window.innerHeight,s=Math.max(o.scrollHeight,o.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight),y(Math.min(100,r/(s-c)*100))),a=null,s=r!==_,c=y((new Date-d)/6e4);!s||30<c||(a={tsop:c,lop:r,noaip:(c=document.getElementsByTagName("iframe"),Array.prototype.slice.call(c).filter(function(e){return e.dataset.googleContainerId}).length),noims:e.getNumberImagesViewed()},t&&(a.erps=t.getEstimatedRevPerSession()),(i=i.getFirstTimeElapsedSessionDurationThresholds())&&i.forEach(function(e){a["slen".concat(e)]=1}),n.sendCustom("KWCEPA",a),_=r)}.bind(null,t,n,i,o),e)}var r,s=n(0),c=n.n(s),t=n(5),l=n.n(t),s=n(1),t=n.n(s),g=(t()(M,[{key:"init",value:function(e,t,n){this.initFBEvents(this.window);var i=this;this.fbPixelId=e,!(this.applyLDU=!0)===n&&(this.applyLDU=!1),t&&window.snowplowKW?window.snowplowKW(function(){var e=this.cf;i.domainUserId=e.getDomainUserId(),i.initPixel()}):i.initPixel()}},{key:"initFBEvents",value:function(e){var t,n=e,e=e.document;n.fbq||(t=n.fbq=function(){t.callMethod?t.callMethod.apply(t,arguments):t.queue.push(arguments)},n._fbq||(n._fbq=t),(t.push=t).loaded=!0,t.version="2.0",t.queue=[],(n=e.createElement("script")).async=!0,n.src="//connect.facebook.net/en_US/fbevents.js",(e=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,e))}},{key:"initPixel",value:function(){var e={};this.domainUserId&&(e.external_id=this.domainUserId),!0===this.applyLDU?(this.logger.log("FB Pixel: Applying LDU"),this.window.fbq("dataProcessingOptions",["LDU"],0,0)):(this.logger.log("FB Pixel: LDU disabled"),this.window.fbq("dataProcessingOptions",[])),this.logger.log("FB Pixel: Initializing pixel ".concat(this.fbPixelId)),this.window.fbq("init",this.fbPixelId,e),this.emptyQueue()}},{key:"emptyQueue",value:function(){this.queue&&(this.queue.forEach(function(e){var t=l()(e,3),n=t[0],e=t[1],t=t[2];this.handleFireFbEvent(n,this.fbPixelId,e,t)}.bind(this)),this.queue=null)}},{key:"sendCustom",value:function(e,t){this.queue?this.queue.push(["trackSingleCustom",e,t]):this.handleFireFbEvent("trackSingleCustom",this.fbPixelId,e,t)}},{key:"send",value:function(e,t){this.queue?this.queue.push(["trackSingle",e,t]):this.handleFireFbEvent("trackSingle",this.fbPixelId,e,t)}},{key:"handleFireFbEvent",value:function(e,t,n,i){var o=null!=i?i.eventID:null,r=null!=i?i.fireOnce:null,a="string"==typeof o||"number"==typeof o;null!=i&&delete i.fireOnce,a&&!0===r?this.fireFbEventOnce(e,t,n,o,i):this.fireFbEvent(e,t,n,i)}},{key:"fireFbEvent",value:function(e,t,n,i){this.logger.log("fbq(".concat(e,", ").concat(t,", ").concat(n,", ").concat(JSON.stringify(i),")")),this.window.fbq(e,t,n,i)}},{key:"fireFbEventOnce",value:function(e,t,n,i,o){var r="kw_fb_events_fire_once_".concat(n,"_").concat(i),a=this.localStorageHandler.getStoredObject(r);this.logger.log("Indicated fireOnce FB event eventName: ".concat(n,", eventID: ").concat(i)),1===a?this.logger.log("Not firing - event was fired previously"):(this.logger.log("First time, firing the event"),this.fireFbEvent(e,t,n,o),this.localStorageHandler.storeObject(r,1))}}]),M),s=function(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),e=e.getDate().toString();return t+(n[1]?n:"0"+n[0])+(e[1]?e:"0"+e[0])},d=new Date,f=s(d),p=s(new Date((new Date).setDate(d.getDate()-30))),w=s(new Date(d.getFullYear(),d.getMonth(),1)),y=function(e){return+(Math.round(e+"e+2")+"e-2")},v=null,S=null,k=null,m=null,b=function(){return S.getStoredObject("keyweeHistory")},E=function(e){S.storeObject("keyweeHistory",e)},_=null,P=(t()(R,[{key:"getCookie",value:function(e){e=("; "+this.document.cookie).split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()}},{key:"createCookie",value:function(e,t,n){var i=n?((i=new Date).setTime(i.getTime()+864e5*n),"; expires="+i.toGMTString()):"",i=e+"="+t+i+"; path=/;";this.domain&&(i=i+" Domain="+this.domain),this.document.cookie=i}}]),R),C=(t()(q,[{key:"getNumberImagesViewed",value:function(){var e=this.localStorageHandler.getStoredObject("imagesInfo"),t=e["kw.images_storage"],n=e["kw.current_page_url"],i=this.document.URL,o=e["kw.max_images_per_page"],r=0,t=t?t:0;o&&(r=o);o=this.getCurrentAmountOfImages();if(n===i){if(!(r<o))return t;t=t-r+o}else t+=o,e["kw.current_page_url"]=i;return e["kw.images_storage"]=t,e["kw.max_images_per_page"]=o,this.localStorageHandler.storeObject("imagesInfo",e),t}},{key:"getCurrentAmountOfImages",value:function(){var t=this.window,e=this.document.getElementsByTagName("img");return Array.prototype.slice.call(e).filter(function(e){return e.getBoundingClientRect().top<0}).filter(function(e){return 10<e.height/t.screen.availHeight*100&&10<e.width/t.screen.availWidth*100}).length}}]),q),I=[30,60,90,120,180],O=(t()(N,[{key:"initSessionData",value:function(e){this.cookieHandler.createCookie("kw.session_ts",e,1/48),this.setPageViewsPerSessionCount(1)}},{key:"setPageViewsPerSessionCount",value:function(e){this.cookieHandler.createCookie("kw.pv_session",e,1)}},{key:"getCurrentPageViewPerSession",value:function(){var e=this.cookieHandler.getCookie("kw.pv_session"),t=0;return t=e?parseInt(e):t}},{key:"getAndUpdateSessionData",value:function(e){var t=e.getTime(),n=1,i=0,e=this.getExisitingSessionStart();return e?(n=this.getCurrentPageViewPerSession()+1,i=Math.floor((t-e)/1e3),this.setPageViewsPerSessionCount(n)):(this.initSessionData(t),this.localStorageHandler.clearLocalStorage("imagesInfo"),this.localStorageHandler.clearLocalStorage("kw.elapsed_session_duration_thresholds")),{pageViews:n,sessionLengthSeconds:i}}},{key:"getExisitingSessionStart",value:function(){var e=this.cookieHandler.getCookie("kw.session_ts"),t=null;return t=e?parseInt(e):t}},{key:"getFirstTimeElapsedSessionDurationThresholds",value:function(){var t=this.getAndUpdateSessionData(new Date).sessionLengthSeconds,n=this.localStorageHandler.getStoredObject("kw.elapsed_session_duration_thresholds")||{},i=[];return I.forEach(function(e){e<=t&&!n[e]&&(n[e]=!0,i.push(e))}),this.localStorageHandler.storeObject("kw.elapsed_session_duration_thresholds",n),i}}]),N),T=(n(12),t()(F,[{key:"trySetLocalStorage",value:function(e){this.isStorageValid(e)?(this.logger.log("Storage is valid"),this.storage=e.localStorage):(this.logger.log("Storage is not valid"),this.storage=!1)}},{key:"isStorageValid",value:function(e){try{var t=(new Date).toString(),n=e.localStorage;n.setItem(t,t);var i=n.getItem(t)===t;return n.removeItem(t),i}catch(e){return this.handleStorageError(e),!1}}},{key:"clearLocalStorage",value:function(e){try{this.storage&&this.storage.removeItem(e)}catch(e){this.handleStorageError(e)}}},{key:"storeObject",value:function(e,t){try{this.storage&&this.storage.setItem(e,JSON.stringify(t))}catch(e){this.handleStorageError(escape)}}},{key:"getStoredObject",value:function(e){try{var t=this.storage&&this.storage.getItem(e);return t?JSON.parse(t):{}}catch(e){return this.handleStorageError(e),{}}}},{key:"handleStorageError",value:function(e){try{"NS_ERROR_FILE_CORRUPTED"==e.name?console.error("NS_ERROR_FILE_CORRUPTED error: It looks like your browser storage has been corrupted. Please clear your storage by going to Tools -> Clear Recent History -> Cookies and set time range to 'Everything'. This will remove the corrupted browser storage across all sites."):"QuotaExceededError"==e.name?console.error("QuotaExceededError, Keywee Tracker will not be able to use Local Storage properly."):console.error(e)}catch(e){console.error(e)}}}]),F),x=(t()(A,[{key:"fbIdentifierCtx",value:function(){var e=this.cookieHandler.getCookie("_fbp")||"",t=this.cookieHandler.getCookie("_fbc")||"",n=this.cookieHandler.getCookie("keywee.kwp_4")||"";return{schema:"iglu:co.keywee/custom_fb_identifiers/jsonschema/1-0-0",data:{fbp:e.toString(),fbc:t.toString(),kw_aid:n.toString()}}}}]),A),j=(t()(D,[{key:"log",value:function(e){this.enabled&&console.log(e)}},{key:"error",value:function(e){this.enabled&&console.error(e)}},{key:"warn",value:function(e){this.enabled&&console.warn(e)}}]),D),H=(t()(U,[{key:"ensureInitialized",value:function(){var e;!0!==this.initialized&&(this.logger.log("Initializing Pico Handler"),(e=this).win.addEventListener("pico.loaded",function(){e.logger.log("Handling 'pico.loaded' event"),e.attachPicoEventsHandler()}),this.initialized=!0)}},{key:"attachPicoEventsHandler",value:function(){var e,t,n=document.querySelector(".PicoSignal");n?(this.logger.log("Found Pico signal element"),e=n.getAttribute("data-pico-status"),this.handlePicoStatus(e),(t=this).observer=new MutationObserver(function(e){e.forEach(function(e){"attributes"==e.type&&"data-pico-status"==e.attributeName&&(e=n.getAttribute("data-pico-status"),t.handlePicoStatus(e))})}),this.observer.observe(n,{attributes:!0})):this.logger.log("Could not find Pico signal element")}},{key:"registerHandler",value:function(e,t){switch(this.ensureInitialized(),this.logger.log("Registering Pico handler for status: ".concat(e)),e){case this.PICO_STATUSES_ANONYMOUS:this.onAnonymous=t;break;case this.PICO_STATUSES_EXCLUDED:this.onExcluded=t;break;case this.PICO_STATUSES_REGISTERED:this.onRegistered=t;break;case this.PICO_STATUSES_PAYING:this.onPaying=t;break;default:this.logger.warn("Unknown Pico status: ".concat(e))}}},{key:"handlePicoStatus",value:function(e){this.logger.log("Handling Pico status: ".concat(e));var t=null;switch(e){case this.PICO_STATUSES_ANONYMOUS:t=this.onAnonymous;break;case this.PICO_STATUSES_EXCLUDED:t=this.onExcluded;break;case this.PICO_STATUSES_REGISTERED:t=this.onRegistered;break;case this.PICO_STATUSES_PAYING:t=this.onPaying;break;default:this.logger.warn("Unknown Pico status: ".concat(e))}if(t){var n=0,i={};try{this.win.Pico&&this.win.Pico.user&&this.win.Pico.user.email?(i=this.win.Pico.user,n=this.getStringHashCode(i.email)):this.logger.warn("No Pico user found")}catch(e){this.logger.error("Error trying to generate hash code for pico user: ".concat(e))}t({userID:n,user:i})}else this.logger.log("No handler was found for Pico status: ".concat(e))}},{key:"getStringHashCode",value:function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}}]),U);function U(e,t){c()(this,U),this.initialized=!1,this.logger=t,this.win=e,this.PICO_STATUSES_ANONYMOUS="anonymous",this.PICO_STATUSES_EXCLUDED="excluded",this.PICO_STATUSES_REGISTERED="registered",this.PICO_STATUSES_PAYING="paying"}function D(e){c()(this,D);var t=e.location.href,e=new RegExp("kw_log_level=1");this.enabled=e.test(t)}function A(e){c()(this,A),this.cookieHandler=e}function F(e,t){c()(this,F),this.logger=t,this.trySetLocalStorage(e)}function N(e,t){c()(this,N),this.cookieHandler=e,this.localStorageHandler=t}function q(e,t){c()(this,q),this.localStorageHandler=e,this.window=t,this.document=t.document}function R(e,t){c()(this,R),this.document=e,this.domain=t}function M(e,t,n){c()(this,M),this.init=this.init.bind(this),this.initPixel=this.initPixel.bind(this),this.initFBEvents=this.initFBEvents.bind(this),this.window=e,this.localStorageHandler=t,this.logger=n,this.queue=[]}window.kwa?(r=new function e(r){c()(this,e),this.trackingInitiated=!1,this.logger=new j(r),this.picoHandler=new H(r,this.logger),this.snowplowManager=new i,this.localStorageHandler=new T(r,this.logger),this.facebookEventSender=new g(r,this.localStorageHandler,this.logger),this.setKeyweeAdId=function(e){var t=new RegExp("kwp_4=([^&#]*)","i").exec(r.location.href),t=t&&unescape(t[1])||"";""!==t&&this.cookieHandler.createCookie("keywee.kwp_4",t,30),r.snowplowKW&&r.snowplowKW("setUserIdFromCookie","keywee.kwp_4")},this.getConfig=function(e){var t=r.document.createElement("script");t.type="text/javascript",t.src="//cdn.keywee.co/config/"+e+".js",t.async=!0,this.testConfigPath&&(t.src=this.testConfigPath),this.logger.log("Fetching config from: ".concat(t.src)),r.document.getElementsByTagName("head")[0].appendChild(t)},this.initiateTracking=function(){var e,t,n,i,o;!0!==this.trackingInitiated?(t=this.config,e=this.testDomain||t.domain,this.cookieHandler=new P(r.document,e),n=new C(this.localStorageHandler,r),i=new O(this.cookieHandler,this.localStorageHandler),t.appId&&(this.snowplowManager.initSnowplow(r,t.appId,e,this.pixelPeriodTimeSec,t.ping_activity,t.snowplow_src),this.setKeyweeAdId(e),e=new x(this.cookieHandler).fbIdentifierCtx(),this.snowplowManager.addGlobalContexts([e])),t.fbPixelId&&(this.facebookEventSender.init(t.fbPixelId,t.eid,this.initOptions.applyLDU),t.bt,a(this.pixelPeriodTimeSec,n,null,this.facebookEventSender,i),t=i,n=this.localStorageHandler,i=this.facebookEventSender,m=i,v=r,S=n,k=t,o={},w<(t=p)&&(t=w),h(t).forEach(function(e){o[e.date]=e}),E(o)),this.sendPageView(),this.trackingInitiated=!0):this.logger.log("initiateTracking: Tracker was previously initialized")},this.loadConfig=function(e){!0!==this.trackingInitiated?(this.config=Object.assign(e,this.initOptions),e.in_eu&&!this.trackEU||this.initiateTracking()):this.logger.log("loadConfig: Tracker was previously initialized")},this.init=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!0!==this.trackingInitiated?(this.logger.log("Init called with appId: ".concat(e,", config: ").concat(t)),this.initOptions=t,this.pixelPeriodTimeSec=t.pixelPeriodTimeSec,this.testDomain=t.testDomain,this.testConfigPath=t.testConfigPath,void 0===t.trackEU?this.trackEU=!0:this.trackEU=t.trackEU,this.getConfig(e)):this.logger.log("init: Tracker was previously initialized")},this.sendPageView=function(){r.snowplowKW&&r.snowplowKW("trackPageView"),this.config.fbPixelId&&o(this.config.fbPixelId)},this.setCustomUrl=function(e){r.snowplowKW&&r.snowplowKW("setCustomUrl",e)},this.applyFunc=function(){try{var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=e.slice(1),n=e[0];if("initialize"===n)this.init.apply(this,t);else if("sendPageView"===n)this.sendPageView.apply(this,t);else if("loadConfig"===n)this.loadConfig.apply(this,t);else if("setCustomUrl"===n)this.setCustomUrl.apply(this,t);else if("sendCustomFBEvent"===n)this.facebookEventSender.sendCustom.apply(this.facebookEventSender,t);else if("sendFBEvent"===n)this.facebookEventSender.send.apply(this.facebookEventSender,t);else if("log"===n)this.logger.log.apply(this.logger,t);else if("onPicoStatus"===n)this.picoHandler.registerHandler.apply(this.picoHandler,t);else if("isCreated"===n)return!0}catch(t){n=e[0],console.log("Error in keywee-analytics-tracker occurred trying to run the function ".concat(n,": "),t)}}}(window),window.kwa.q?(window.kwa.q.forEach(function(e){r.applyFunc.apply(r,e)}),window.kwa=r.applyFunc.bind(r)):(console.warn("Keywee Tracker Queue has not been created yet, skipping and waiting for kwa('initialize')"),1==window.kwa("isCreated")?console.warn("Keywee Tracker has already been initialized. Please check if you have more than one reference to 'cdn.keywee.co/dist/analytics.min.js' on the page"):window.kwa=r.applyFunc.bind(r))):console.warn("Keywee Tracker script is not referenced correctly. Please check if you have an explicit <script src='cdn.keywee.co/dist/analytics.min.js'/> on your page")}]);

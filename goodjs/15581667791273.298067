Rmodules&&"function"==typeof Rmodules.define&&Rmodules.define("R.ui","1.4.1",["R^1"],[],function(e,t){var n=function(e){"use strict";return e.$,e.ui={},e.ui}(e);return function($,V){"use strict";function j(e,t,n){function c(){N._autoplayInterval||(N._autoplayInterval=setInterval(function(){N.scroll(1,V,1)},O.autoScrollDelay))}function d(){clearInterval(N._autoplayInterval),N._autoplayInterval=null}function u(){F=Math.min(U,G.itemsContainer.width()/A|0),Q.slideWidth=A*Math.floor(F),Q.slides=Math.ceil(U/Math.floor(F))-1,O.imageLazyLoad&&$.imageLazyLoad(G.itemsContainer,O.imageLazyLoad)}function h(){W.on("touchstart",i),W.on("touchmove",o),W.on("touchend",a)}function s(e){var t=G.slideshow.find("ul"),n=t.find("li");switch(e){case K:n.slice(0,F).appendTo(t);break;case Y:n.slice(-F).prependTo(t);break;default:return 1}}function l(e,t){q=!0,$.animate(G.slideshow,{left:e},O.scrollDuration,null,function(){q=!1,v(t)})}function f(e){Q.slideWidth||u(),e=(e=!e||e<0?0:e)>Q.slides?Q.slides:e,Q.index=e,W.addClass("animate").css("transform","translate3d(-"+e*Q.slideWidth+"px, 0, 0)")}function i(e){Q.longTouch=!1,setTimeout(function(){Q.longTouch=!0},250),Q.touchstartx=e.originalEvent.touches[0].pageX,Q.movex=0,W.removeClass("animate")}function o(e){var t,n,i=e.originalEvent.touches[0].pageX;Q.movex=Q.index*Q.slideWidth+(Q.touchstartx-i),O.previewNextPage?Math.abs(Q.movex)<30||($.browser.isMobile&&e.preventDefault(),q||!Q.released||z.length<O.indexMinPages||(Q.released=!1,0<Q.movex?(n=k+1>=z.length?0:k+1,v(O.onScrollStart,[N,n,k]),k=n,l(-Q.slideWidth,function(){s(K),G.slideshow.css({left:0}),v(O.onScrollEnd,[N,k,n])})):(t=k-1<0?z.length-1:k-1,v(O.onScrollStart,[N,t,k]),s(Y),G.slideshow.css({left:-Q.slideWidth}),k=t,l(0,function(){v(O.onScrollEnd,[N,k,t])})),p(z[k].n))):W.css("transform","translate(-"+Q.movex+"px,0)")}function a(){var e;return O.previewNextPage?void(Q.released=!0):(e=Math.abs(Q.index*Q.slideWidth-Q.movex),void(Q.movex&&((e>Q.slideWidth/2||!1===Q.longTouch)&&(Q.movex>Q.index*Q.slideWidth&&Q.index<Q.slides?Q.index++:Q.movex<Q.index*Q.slideWidth&&0<Q.index&&Q.index--),f(Q.index))))}function m(e){var t=$.getUniqueId(),e=R?J($.applyTemplate(R,e,B)):e;return J("<li>",{"data-index":t,class:O.css.itemClass}).append(e)}function g(e,t){switch(O.indexStyle){case ie.LIST:case ie.FIXED_LIST:return function(t,e){var n,i,s;if(e?e.empty():e=J("<ul></ul>",{class:O.css.indexClass}),0<z.length)for(n=0,i=X.length;n<i;n++)s=J("<li></li>",{text:n,class:O.css.indexItemClass}),O.indexClickable&&s.click(function(e){return function(){t(e)}}(n)),e.append(s);return e}(e,t)}}function p(e){switch(O.indexStyle){case ie.LIST:case ie.FIXED_LIST:return t=e,void G.index.children().removeClass(O.css.indexItemActiveClass).eq(t).addClass(O.css.indexItemActiveClass)}var t}function v(e,t){$.isFunction(e)&&e.apply(null,t)}function C(e,t){function n(e,t){return-1!==$.find(e,function(e){return e===t})}var i,s,l,o,a,r,c,d=0,u=(e||G.itemsContainer.width())/A|0;if(O.itemStyle!==te.LIQUID_FIXED&&O.itemStyle!==te.FIXED||(u=Math.min(O.itemsPerPage,u)),0===(e=Math.min(U,u))&&(e=1),u!==M||t){switch(O.itemAlign===ne.CENTER&&(e-=1-e%2),M=u,F=e,c=Math.ceil(U/M)-1,z=[],O.itemAlign){case ne.LEFT:l=0;break;case ne.CENTER:l=(-(F/2|0)+H.length)%H.length;break;case ne.RIGHT:l=(H.length-F+1)%H.length}if(o=(l-1+H.length)%H.length,r=l-1,0<H.length)for(;(s=function(e,t){var n=[],i=F,s=N.getScrollLoop();if((e=(e+1+H.length)%H.length)!==t){for(;0<i&&(H[e]&&(n.push(e),i--),e=(e+1+H.length)%H.length,s===ee.SOFT||e!==t););return n}}(r,a))&&!function(t){return-1!==$.find(z,function(e){return e.items[0]===t[0]})}(s)&&(n(s,l)?d=0:d!==c||n(s,o)||d--,O.indexStyle===ie.LIST?i=d:O.indexStyle===ie.FIXED_LIST&&(i=0===d?0:d===c?2:1),z.push({items:s,n:i}),r=s[s.length-1],null==a&&(a=0<z.length&&z[0].items[0]),r!==o);)d++;if(O.lastPageFill===le.AUTO&&z[d].items.length!==z[0].items.length)for(var e=z[d].items.length,h=z[0].items.length-e,f=0;f<h;f++)z[d].items.push(z[0].items[f]);!function(){var e=0,t=2;if(X=[],G.index||0!==z.length&&O.indexStyle!==ie.NONE){for(;z[e]&&e===z[e].n;)X.push(e),e++;O.indexStyle===ie.LIST&&(t=z.length-1),X[t]=z.length-1,G.index=g(N.scrollTo,G.index)}else G.index=J()}()}}function r(e){for(var t=J("<ul></ul>",{class:O.css.pageClass}),n=[],i=z[e].items,s=w(e),l=0,o=i.length;l<o;l++)n.push(H[i[l]].width(s));return t.append(n),t}function x(e,t){var n,i,s;if($.isNumber(e))return e<0&&(e+=H.length+t),e;if(e instanceof J){for(e=e[0],n=0,i=H.length;n<i;n++)if((s=H[n])&&e===s[0])return n;return null}if($.isDom(e)){for(n=0,i=H.length;n<i;n++)if((s=H[n])&&e===s[0])return n;return null}throw"Wrong parameter"}function w(e){return e=e===V?k:e,(O.itemStyle===te.LIQUID_FIXED||O.itemStyle===te.LIQUID_FLOW?100/z[e].items.length:100/M).toFixed(3)+"%"}function b(e){_===ee.NONE?(0===e?G.prevButton.addClass(O.css.scrollButtonDisabledClass):G.prevButton.removeClass(O.css.scrollButtonDisabledClass),e===z.length-1?G.nextButton.addClass(O.css.scrollButtonDisabledClass):G.nextButton.removeClass(O.css.scrollButtonDisabledClass)):H.length<=M?(G.prevButton.addClass(O.css.scrollButtonDisabledClass),G.nextButton.addClass(O.css.scrollButtonDisabledClass)):(G.prevButton.removeClass(O.css.scrollButtonDisabledClass),G.nextButton.removeClass(O.css.scrollButtonDisabledClass))}function I(){O.indexMinPages&&z.length>=O.indexMinPages?G.index.show():G.index.hide()}function S(){if(O.previewNextPage){var n=z[k];return u(),C(),J.each(z,function(e,t){return t.items[0]===n.items[0]?(k=e,!1):void 0}),p(z[k].n),0}C(null,!0),k=$.clamp(k,0,z.length-1),_=N.getScrollLoop(),I(),0<z.length&&P(k,0,Z.NONE,!0,!0)}function P(e,t,n,i,s,l){if(e!==k&&!q||s){q=!0;var o,a=k;switch(t===V&&(t=O.scrollDuration),n===V&&(n=O.scrollEffect),i||v(O.onScrollStart,[N,k,e]),b(e),n){case Z.NONE:o=E;break;case Z.ALPHA:o=T;break;case Z.SLIDE:o=D}p(z[e].n),W.addClass(O.css.scrollingClass),o(e,t,l).done(function(){k=e,q=!1,W.removeClass(O.css.scrollingClass),i||v(O.onScrollEnd,[N,e,a])}),O.imageLazyLoad&&$.imageLazyLoad(G.itemsContainer,O.imageLazyLoad)}}function L(e,t){return 0===e&&t===z.length-1?-1:e===z.length-1&&0===t?1:t-e}function E(e,t,n){var i=J.Deferred(),e=r(e);return G.activePage&&G.activePage.remove(),(G.activePage=e).css("left",0),e.appendTo(G.itemsContainer),e.children("li").css("opacity",1),i.resolve(),i.promise()}function T(e,t,d){function n(e,t,n){for(var i,s,l=e.length,o=O.scrollDuration/(.25*(l-1)+1),a=.25*o,r=0,c=0<d?(i=l-1,s=-1):(i=0,s=l,1);i!==s;)r+=a,window.setTimeout(function(e,t,n,i){return function(){0<n&&e.css("visibility","visible"),$.animate(e,{opacity:n},t,null,i)}}(e.eq(i),o,t,i+c===s?n:V),r),i+=c}var i=J.Deferred(),s=r(e),l=G.activePage.children("li"),o=s.children("li");return d===V&&(d=L(k,e)),o.css("opacity",0),o.css("visibility","hidden"),s.appendTo(G.itemsContainer),n(o,1),n(l,0,function(){G.activePage.remove(),G.activePage=s,i.resolve()}),i.promise()}function D(e,t,n){var i,s=J.Deferred(),l=r(e),n=0<(n=n===V?L(k,e):n)?(i=G.activePage.position().left+G.activePage.width(),G.activePage.position().left-G.activePage.width()):(i=G.activePage.position().left-G.activePage.width(),G.activePage.position().left+G.activePage.width());return l.css("left",i),l.appendTo(G.itemsContainer),G.activePage.animate({left:n},t),l.animate({left:0},t,null,function(){G.activePage.remove(),G.activePage=l,s.resolve()}),s.promise()}function y(){setTimeout(function(){v(O.afterFirstRender,[N]),O.afterFirstRender=null},0)}var N,O,R,B,A,M,F,W,k,z,X,_,H=[],U=0,G={},q=!1,Q={released:!0,longTouch:!1,touchmovex:0,movex:0,index:0,slideWidth:0,slides:0};this.getElement=function(){return W},this.getItems=function(){return H},this.getItemsNumber=function(){return U},this.getItem=function(e){return H[x(e)]},this.addItems=function(e,t,n){var i,s,l,o=[],a=[];for(null==t&&(t=-1),$.isArray(e)||(e=[e]),O.hideOnEmpty&&U>=O.hideOnMin&&J(O.hideOnEmpty).show(),t=x(t,1),s=0,l=e.length;s<l;s++)i=m(e[s]).width(A),O.noPagination&&o.push(i),!1===n?(H[t]||U++,H[t]=i):(H.splice(t,0,i),U++),a.push(t),t++;return O.noPagination||O.previewNextPage?(H[t]?H[t].before(o):H[H.length-2].after(o),u()):S(),y(),v(O.onItemAdd,[N,a]),N},this.removeItems=function(e,t){for(var n,i,s=[],l=[],o=0,a=(e=!$.isArray(e)?[e]:e).length;o<a;o++)s.push(x(e[o],0));for(s.sort(),o=(s=$.getUnique(s)).length-1;0<=o;o--)n=s[o],i=H[n],l.push(i),i&&(U--,i.remove()),!1===t?H[n]=null:H.splice(n,1);return O.noPagination?(u(),Q.index>Q.slides&&(Q.index--,f(Q.slides))):S(),U<O.hideOnMin&&O.hideOnEmpty&&J(O.hideOnEmpty).hide(),v(O.onItemRemoval,[N,s,l]),N},this.scroll=function(e,t,n){if(!e||O.previewNextPage)return N;e=k+e;return t===V&&(t=O.scrollDuration),P(e=_===ee.NONE?$.clamp(e,0,z.length-1):(e+z.length)%z.length,t,V,V,V,n),N},this.scrollTo=function(e,t){return O.previewNextPage||(t===V&&(t=O.scrollDuration),e=0<=e?Math.min(e,z.length-1):z.length-Math.min(-e,z.length)&&z.length,P(X[e],t)),N},this.scrollToItem=function(e,t,n){return t=t||ne.LEFT,n===V&&(n=O.scrollDuration),O.scrollMode===se.SIMPLE&&(e=Math.max(e*A,0),t===ne.CENTER?e-=(G.itemsContainer.width()-A)/2:t===ne.RIGHT&&(e-=G.itemsContainer.width()-A),G.itemsContainer.stop().animate({scrollLeft:e},n)),N},this.resetScroll=function(e){return N.scrollTo(0,e)},this.resize=function(e){var t=k*F,n=F;return O.itemAlign===ne.CENTER?t+=F/2|0:O.itemAlign===ne.RIGHT&&(t+=F-1),t=Math.min(H.length-1,t),C(e=parseInt(e,10),!0),t=t/F|0,e=w(),G.activePage&&G.activePage.children().width(e),G.prevPage&&G.prevPage.children().width(e),G.nextPage&&G.nextPage.children().width(e),I(),_=N.getScrollLoop(),n!==F?P(t,0,Z.NONE,!0,!0):(p(t),b(t)),v(O.onResize,[N]),N},this.getVisibleIndexes=function(){var e,t,n,i=z&&z[k]&&z[k].items;return O.noPagination?(t=G.slideshow.find("img"),n=parseInt(t.css("borderLeftWidth"),10)||0,t=parseInt(t.css("borderRightWidth"),10)||0,n=A-n-t,t=parseInt(G.itemsContainer.scrollLeft()/n,10),n=Math.round(G.slideshow.width()/n),J.map(H,function(e,t){return t}).slice(t,t+n)):(O.previewNextPage&&(e=G.slideshow.find("img"),t=parseInt(e.css("borderLeftWidth"),10)||0,n=parseInt(e.css("borderRightWidth"),10)||0,e=parseInt(G.slideshow.css("marginLeft"),10)||0,F*A+F*(t+n)+e<G.itemsContainer.width())&&(e=z[k+1]?k+1:0,i=i.concat(z[e].items[0])),i)},this.getItemsPerPage=function(){return F},this.getElements=function(e){for(var t=z[e].items,n=[],i=0,s=t.length;i<s;i++)n.push(t[i]);return n},this.getScrollLoop=function(){return H.length>2*F?O.scrollLoop:O.scrollLoop===ee.NONE?ee.NONE:ee.HARD},function(e,t,n){function i(){N.scroll(-1,V,-1)}function s(){N.scroll(1,V,1)}var l,o,a;if(N=this,O=J.extend(!0,j.getPcOptions(),n),(W=J(e)).addClass(O.css.slideshowClass),G.slideshow=W.find("."+O.css.slideshowBodyClass),G.itemsContainer=W.find("."+O.css.itemsContainerClass),G.prevButton=O.buttonPrevEl||W.find("."+O.css.prevButtonClass),G.nextButton=O.buttonNextEl||W.find("."+O.css.nextButtonClass),A=t.itemWidth,function(){if(!A)throw"itemData.itemWidth is required";if(O.itemStyle===te.FIXED&&!O.itemsPerPage)throw"options.itemsPerPage is required if options.itemStyle is FIXED";if(O.indexStyle===ie.SCROLLBAR)throw"IndexStyle.SCROLLBAR is not implemented"}(),O.css.itemRemoveButton&&G.itemsContainer.on("click","."+O.css.itemRemoveButton,function(e){N.removeItems(J(e.target).closest("."+O.css.itemClass))}),l=t.itemTemplate?t.itemTemplate.data:t.itemElements,R=t.itemTemplate&&t.itemTemplate.html,B=t.itemTemplate&&t.itemTemplate.escapeData,$.isArray(l))for(U=l.length,o=0;o<U;o++)H.push(m(l[o]).width(A));function r(e){var t=G.itemsContainer.scrollLeft(),e=Q.slideWidth*(Math.ceil(t/Q.slideWidth)+e);G.itemsContainer.stop().animate({scrollLeft:e},300,"swing")}U>=O.hideOnMin&&O.hideOnEmpty&&J(O.hideOnEmpty).show(),v(O.beforeFirstRender,[N]),J(document).on("click","."+O.css.itemClass,function(e){var n,i,t=J(e.currentTarget).attr("data-index"),t=(n=t,J.each(H,function(e,t){return J(t).attr("data-index")===n?(i=e,!1):void 0}),i);v(O.onItemClick,[N,t,e])}),O.noPagination?(a=J("<ul></ul>",{class:O.css.pageClass}).append(H),G.itemsContainer.addClass(O.css.noPaginationClass),G.itemsContainer.append(a),y(),u(),function(){var e=null;G.itemsContainer.scroll(function(){e&&clearTimeout(e),e=setTimeout(function(){e=null,v(O.onScrollEnd)},250)})}(),O.scrollMode===se.SIMPLE||!$.browser.isTablet&&!$.browser.isMobile?(J(window).on("resize",function(){u(),v(O.onResize,[N])}),G.itemsContainer.addClass(O.css.simpleScrollClass),G.prevButton.click(function(){r(-1)}),G.nextButton.click(function(){r(1)})):(J(window).on("orientationchange",function(){u(),v(O.onOrientationChange,[N])}),h(),G.prevButton.click(function(){f(Q.index-1)}),G.nextButton.click(function(){f(Q.index+1)}))):O.previewNextPage?(k=0,a=J("<ul></ul>",{class:O.css.pageClass}).append(H),G.itemsContainer.addClass(O.css.previewNextClass).append(a),C(),W.find("."+O.css.indexContainerClass).append(G.index),I(),h(),u(),p(0),J(window).on("resize",function(){var e=$.browser.isTablet||$.browser.isMobile?O.onOrientationChange:O.onResize;S(),v(e,[N])}),y()):(G.prevButton.click(i),G.nextButton.click(s),J(window).resize(function(){setTimeout(N.resize,1)}),O.swipe&&($.onSwipeLeft(G.itemsContainer,s),$.onSwipeRight(G.itemsContainer,i)),C(),W.find("."+O.css.indexContainerClass).append(G.index),_=N.getScrollLoop(),0<z.length&&P(0,0,Z.NONE,!0,!0),I(),U<O.hideOnMin&&O.hideOnEmpty?J(O.hideOnEmpty).hide():y()),!O.noPagination&&O.autoScroll&&(c(),O.autoScrollPauseOnHover&&W.hover(d,c),O.autoScrollPauseOnBg&&(J(window).focus(c),J(window).blur(d)))}.apply(this,arguments)}var J=$.$,K=1,Y=2,Z={NONE:1,ALPHA:2,SLIDE:3},ee={NONE:1,SOFT:2,HARD:3},te={FIXED:1,FLOW:2,LIQUID_FIXED:3,LIQUID_FLOW:4},ne={LEFT:1,CENTER:2,RIGHT:3},ie={LIST:1,SCROLLBAR:2,FIXED_LIST:3,NONE:4},se={SIMPLE:"SIMPLE",DRAG:"DRAG"},le={NONE:"NONE",AUTO:"AUTO"};j.getPcOptions=function(){return{indexStyle:ie.LIST,indexClickable:!0,indexMinPages:2,itemStyle:te.FLOW,itemAlign:ne.LEFT,scrollEffect:Z.ALPHA,scrollLoop:ee.HARD,lastPageFill:le.NONE,autoScroll:!1,autoScrollDelay:2e3,autoScrollPauseOnHover:!0,autoScrollPauseOnBg:!0,scrollDuration:400,imageLazyLoad:"data-r-src",hideOnMin:1,noPagination:!1,previewNextPage:!1,scrollMode:se.DRAG,css:{slideshowClass:"r-slideshow",slideshowBodyClass:"r-slideshow-body",pageClass:"r-slideshow-page",itemsContainerClass:"r-slideshow-items",itemClass:"r-slideshow-item",prevButtonClass:"r-slideshow-scroll-button-prev",nextButtonClass:"r-slideshow-scroll-button-next",scrollButtonDisabledClass:"r-slideshow-scroll-button-disabled",scrollingClass:"r-slideshow-scrolling",indexContainerClass:"r-slideshow-index-container",indexClass:"r-slideshow-index",indexItemClass:"r-slideshow-index-item",indexItemActiveClass:"r-slideshow-index-item-active",noPaginationClass:"r-slideshow-no-paginate",simpleScrollClass:"r-slideshow-simple-scroll",previewNextClass:"r-slideshow-preview-next"}}},j.getSpOptions=function(){return J.extend(j.getPcOptions(),{indexStyle:ie.FIXED_LIST,indexClickable:!1,scrollEffect:Z.SLIDE,scrollLoop:ee.SOFT,scrollDuration:200,swipe:!0})},j.ScrollEffect=Z,j.ScrollLoop=ee,j.ScrollMode=se,j.ItemStyle=te,j.ItemAlign=ne,j.IndexStyle=ie,j.LastPageFill=le,$.ui.Slideshow=j,$.ui.Slideshow}(e),function(m){"use strict";var g=m.$,n={defaultTab:0,tabActiveClass:"rTabsTabActive",tabDisabledClass:"rTabsTabDisabled",eventName:"click",pagesContainer:document};m.ui.Tabs=function(l,e){function o(e,t){m.isFunction(e)&&e.apply(null,t)}function a(e,t){var n,i,s;if(m.isNumber(e))return e<0&&(e+=h.length+t),e;if(e instanceof g){for(e=e[0],n=0,i=h.length;n<i;n++)if((s=h[n])&&e===s[0])return n;return null}if(m.isDom(e)){for(n=0,i=h.length;n<i;n++)if((s=h[n])&&s===h[0])return n;return null}if(e)throw"Wrong parameter";return null}var r,c,d,s,u=this,h=[],f=[];this.disable=function(e){void 0===e?l.addClass(d.tabDisabledClass):(e=a(e,0),h[e]&&h[e].addClass(d.tabDisabledClass))},this.enable=function(e){void 0===e?l.removeClass(d.tabDisabledClass):(e=a(e,0),h[e]&&h[e].removeClass(d.tabDisabledClass))},this.focus=function(e,t){var n,i,s;l.hasClass(d.tabDisabledClass)||(e=a(e),n=h[e],i=f[e],s=r,e=c,!n||n.hasClass(d.tabDisabledClass)||n===r&&i===c||(t||o(d.beforeChange,[u,r,c,n,i]),r&&r.removeClass(d.tabActiveClass),c&&c.hide(),n.addClass(d.tabActiveClass),i&&i.show(),r=n,c=i,t||o(d.afterChange,[u,r,c,s,e])))},this.getElement=function(){return l},this.getTabs=function(){return h},this.getPages=function(){return f},this.getActiveTab=function(){return r},this.getActivePage=function(){return c},this.refresh=function(e){var i=g(d.pagesContainer);return h=[],f=[],g.each(l.find("li"),function(t,e){var n=g(e),e=n.find("a");h[t]=n,(n=i.find(e.attr("href"))).length&&(f[t]=n),e.off(s).on(s,function(e){e.preventDefault(),e.stopPropagation(),u.focus(t)})}),u.focus(d.defaultTab,e),u},function(e,t){e.data("R.ui.Tabs",u),d=g.extend(!0,{},n,t),s=d.eventName+".RuiTabs",u.refresh(!0),o(d.onReady,[u])}.apply(this,arguments)},m.ui.Tabs}(e),n});

var _min=("undefined"!=typeof __min?__min:null)||_min||{},_min=function(y){"use strict";function e(i,e,t){var n,r,o,a,s,l,c,u=[],d=((c=new C(i,e,t.UrlReporter,!0)).setMasQueueLength(1),c.init(),u.push(c),function(){return c}),p=((l=new C(i,e,t.UrlReporter,!0)).init(),u.push(l),function(){return l}),h=((s=new C(i,e,t.UrlReporter,!0)).init(),u.push(s),function(){return s}),g=((a=new C(i,e,t.UrlReporter,!0)).enableStorage("_minEE1"),a.init(),u.push(a),function(){return a}),v=((o=new C(i,e,t.UrlReporter,!0)).init(),u.push(o),function(){return o}),m=((r=new C(i,e,t.VideoData,!1,_.ReportMethods.GET)).init(),u.push(r),function(){return r.setValidator(i.validateScraperURL),r}),f=((n=new C(i,e,t.UrlReporter,!1)).init(),u.push(n),function(){return n});return{getVideoViewsReporter:p,getCounterServerReporter:g,getPlayerContent:m,getPlayerContentDelayed:f,send:function(e,t){var n=null;switch(t=function(e,t){e===_.Emitter.VIDEO_VIEWS&&(t.hadImpressionSession=i.parseBool(t.hadImpressionSession),t.hadImpressionSession?_n.setHadImpressionSession():t.hadImpressionSession=_n.hadImpressionSession());return t}(e,t),e){case _.Emitter.NEW_VIDEO_EVENT:n=m();break;case _.Emitter.NEW_SCRAPE_EVENT:n=f();break;case _.Emitter.CLICK:case _.Emitter.VIEWPORT:n=g();break;case _.Emitter.URL_REPORT:case _.Emitter.DAILY_USER:n=v();break;case _.Emitter.VIDEO_VIEWS:n=p();break;case _.Emitter.CUSTOM_EVENTS:n=h();break;case _.Emitter.CROWD_SOURCE:n=d()}n.push(e,t)},flushAll:function(){u.forEach(function(e){e.flush()})}}}function n(e,t,n){if(""!==n){e[E]+=n+" ";for(var i,r,o=(n=0===n.indexOf(t)?n.slice(1):n).split("&"),a=/^qadt([\d\w]+)$/,s=0;s<o.length;s++)r=(i=o[s].split("="))[0],a.test(r)&&(e[r=r.replace(a,"$1")]=i[1])}}function t(l,n,c,i){function t(e){e=e||!1;var t,n=a();0<(t=function(e){if(e.length<=1)return e;var i=[];e.forEach(function(e,t,n){i.push(JSON.stringify(e))});e=i.filter(function(e,t){return i.indexOf(e)===t});return i=[],e.forEach(function(e,t,n){i.push(JSON.parse(e))}),i}(t=l.getlistAsArray(n[p]))).length&&o([t],e),n[p]=[],s(n)}function r(e,t){var n=a();n[t]=l.getlistAsArray(n[t]),n[t].push(e),s(n)}function a(){var e=n.getItem(d);if(e){if((e=JSON.parse(e)).clicks)for(var t=0;t<e.clicks.length;t++)e.clicks[t]=i.extract(e.clicks[t]);if(e.clicksDelay)for(t=0;t<e.clicksDelay.length;t++)e.clicksDelay[t]=i.extract(e.clicksDelay[t])}else e={};return e}function s(e){if(e.clicks)for(var t=0;t<e.clicks.length;t++)e.clicks[t]=i.compress(e.clicks[t]);if(e.clicksDelay)for(t=0;t<e.clicksDelay.length;t++)e.clicksDelay[t]=i.compress(e.clicksDelay[t]);n.setItem(d,JSON.stringify(e))}function o(e,t,n){if(!l.isArray(e))return l.log("Report not an array"),0;un.getGroupCode();for(var i=0;i<e.length;i++)for(var r=l.isArray(e[i])?e[i]:[e[i]],o=0;o<r.length;o++){var a=JSON.parse(JSON.stringify(r[o]));c.send(_.Emitter.CLICK,a),n&&(s={url:a.url,user_agent:navigator.userAgent,source:an.getAnalyticsSource(),publisher:dn.getPublisherIdNumber(),category:"rightClick",action:"sendLogDelayById",label:"highlight_id",value:a.highlight_id},c.send(_.Emitter.CUSTOM_EVENTS,s)),(a=l.cloneObject(a)).id,a.product;var s=cn.get(a.id,_.Emitter.CLICK_TYPE_CLICK,_.Emitter.CLICK_TYPE_CLICK,a.test_mode,a.product);s.isSent()||(a.uniq=!0,c.send(_.Emitter.CLICK,a),s.setAnalyticState(),a.id,a.product),P.dispatchEvent(_.Events.DomWindow.CLICK)}(dn.getCanReportImmediately()||t)&&c.getCounterServerReporter().flush()}function e(){setTimeout(t,0,!0)}function u(e){!function(e,t){var n,i,r=typeof e;if(("string"==r||"number"==r)&&((n=a())[t]=n[t]||[],0!==(i=n[t]).length)){for(var o=0;o<i.length;o++)if(i[o].id===e){i.splice(o,1);break}s(n)}}(e,h)}var d="minAnalytics",p="clicks",h="clicksDelay",g=new A.utils.Debounce(_.FLUSH_ANALYTICS,t);return{init:function(){t(),P.addEventListener(_.Events.PLAYER_VIDEO_CHANGED,t,this),P.addEventListener(_.Events.PLAYER_PLAYING,e,this)},log:function(e){r(e,p),e.product==_.Emitter.PRODUCT_IN_ARTICLE?t():g.start()},logDelay:function(e){r(e,h)},removeLogDelayById:u,sendLogDelayById:function(e){var t=function(e,t){var n,i=typeof e;if("string"==i||"number"==i){if((i=a())[t]=i[t]||[],0===(n=i[t]).length)return null;for(var r=0;r<n.length;r++)if(n[r].id===e)return n[r];return null}}(e,h);t&&(t.type=_.Emitter.ANALYTICS_CLICK_EVENT,o([t],null,!0),u(e))}}}function i(t,e,o){return{init:function(){var e;t.isClickByPointEnabled()&&(e=function(e){for(var t=o.getAllActiveApv(),n=0;n<t.length;n++){var i,r=t[n];r.getMinuteLogo()&&(!(i=r.getMinuteLogo().getLogoElement()).offsetParent||0!=(i=i.getBoundingClientRect()).left&&0!=i.top&&0!=i.width&&(0==e.x||0==e.y&&e.target==window.document.body||Math.abs(i.left-e.x)<=i.width&&Math.abs(i.top-e.y)<=i.width&&P.dispatchEvent(_.Events.CLICK_FROM_POINT,{containerUnique:r._containerUnique})))}},document&&document.body?document.body.addEventListener("click",e,!0):document.addEventListener("DOMContentLoaded",function(){document.body.addEventListener("click",e,!0)},!1))}}}if(_min.debug)window._minAlreadyLoaded=!1;else{if(window._minAlreadyLoaded)return void console.warn("Minute.ly already loaded");window._minAlreadyLoaded=!0}var v=(r.prototype.addEventListener=function(e,t,n){var i=3<(i=l(arguments)).length?i.slice(3):[];this.listeners[e]=this.listeners[e]||[],this.listeners[e].push({context:n,callback:t,isOnce:!1,args:i})},r.prototype.addEventListenerOnce=function(e,t,n){var i=3<(i=l(arguments)).length?i.slice(3):[];this.listeners[e]=this.listeners[e]||[],this.listeners[e].push({context:n,callback:t,isOnce:!0,args:i})},r.prototype.removeEventListener=function(e,t,n){if(this.listeners[e]){for(var i=this.listeners[e].length,r=[],o=0;o<i;o++){var a=this.listeners[e][o];a.context===n&&a.callback===t||r.push(a)}this.listeners[e]=r}},r.prototype.removeAllEventListener=function(){this.listeners={}},r.prototype.dispatchEvent=function(e,t){var t={type:e,data:t},n=l(arguments).slice(2),n=[t].concat(n),i=this.listeners[e];if(i){for(var r,o,a=i.length,s=0;s<a;s++)(o=i[s])&&o.callback&&(r=n.concat(o.args),o.callback.apply(o.context,r),0);for(s=a-1;0<=s;s--)(o=i[s])&&o.isOnce&&i.splice(s,1)}},r),_={};function l(e){return Array.prototype.slice.call(e)}function r(){this.listeners=Object.create(null)}_.Urls={ServerData:["http://data.minute.ly/","https://z2d7c5q4.ssl.hwcdn.net/"][nt="https:"==window.location.protocol?1:0],ServerAnalytics:["http://data.minute.ly/","https://z2d7c5q4.ssl.hwcdn.net/"][nt],UrlReporter:["http://counter.snackly.co/","https://counter.snackly.co/"][nt],VideoData:["http://vdata.minute.ly/","https://b3g8i8r3.ssl.hwcdn.net/"][nt],Configuration:["http://apv.configuration.minute.ly/","https://r7c2k6b3.ssl.hwcdn.net/"][nt],Logger:["http://logger.snackly.co/","https://logger.snackly.co/"][nt],Error:["http://errors.snackly.co/","https://errors.snackly.co/"][nt]},_.styles={},_.styles.OBJECT_FIT="object-fit",_.values={},_.values.RELATIVE="relative",_.values.ABSOLUTE="absolute",_.values.HIDDEN="hidden",_.values.COVER="cover",_.values.NONE="none",_.values.BLOCK="block",_.values.HUNDRED_PERCENT="100%",_.APVStates={Disposed:"disposed",New:"new",Blocked:"blocked",Disabled:"disabled",Active:"active"},_.config={},_.config.WindowIntervals={SCROLL:"scroll",RESIZE:"resize",URL:"url",ECHO_TIME:"echoTime",ECHO_REPEAT:"echoRepeat"},_.FLUSH_ANALYTICS=5e3,_.WindowKeys={COMPATIBILITY:"compatibility"},_.Events={WINDOW_DISPOSE:"windowDispose",TEST_MODE_READY:"testModeReady",WINDOW_SERVICE_READY:"windowServiceReady",POST_MESSAGE_RESPONSE:"postMessageResponse",VIDEOS_UPDATE:"videosUpdate",APV_DISPOSED:"apvDisposed",PLAYER_VIDEO_VIEW_CLICK:"playerVideoViewClick",APV_LOGO_CLICK:"apvLogoClick",PLAYER_FOUND:"playerFound",PLAYER_PLACEHOLDER_FOUND:"playerPlaceholderFound",PLAYER_PLAYING:"playerPlaying",PLAYER_VIDEO_CHANGED:"playerVideoChanged",IMPRESSION:"impressionAnalytics",CLIENT_INIT_ANALYTICS:"clientInitAnalyticsEvent",DAILY_USER:"dailyUserCreated",FIRST_VIDEO_VIEW:"firstVideoView",SYSTEM_RUNNING:"systemRunning",NEW_VIDEO_DATE:"newVideoData",LOAD_MORE_FOUND:"loadmorefound",AUXCLICK_EVENT:"auxclick",MESSAGE_EVENT:"message",FORCE_FIND_ELMS:"forceFindElements",INARTICLE_CLICK:"inArticleClick",MOUSE_UP:"mouseup",REGULAR_CLICK:"regularClick",CONFIG_READY:"configReady",CLICK_FROM_POINT:"clickFromPoint",URL_MANIPULATION_INTERVAL_SERVICE:"URLManipulationIntervalService",ONE_SECONDS_INTERVAL:"ONE_SECOND",THREE_SECONDS_INTERVAL:"THREE_SECONDS"},_.playmode={VIEWPORT:"viewport",HOVER:"hover",BLOCKINGHOVER:"blockinghover"},_.Events.Element={VISIBLE:"elmVisible",NON_VISIBLE:"elmNonVisible",ANALYTICS_VISIBLE:"elmVisibleAnalytics",CLICK:"elmClick",CONTEXT_MENU_OPEN:"elmContextMenuOpen",CONTEXT_MENU_CLOSE:"elmContextMenuClose",MUTANT:"elmMutant",MOUSE_ENTER:"mouseenter",FIRST_MOUSE_ENTER:"firstmouseenter",MOUSE_LEAVE:"mouseleave",READY:"ready",UPDATE_CAROUSEL_ELEMENT:"updateCarouselContainer"},_.Events.Players={PLAYING:"playing",PAUSED:"paused",LOADED:"loaded",ENDED:"ended",ERROR:"error",AD_EVENT:"adEvent"},_.Events.DomWindow={SCROLL:"scroll",FOCUS:"focus",SAFARI_FOCUS:"safariFocus",BLUR:"blur",RESIZE:"resize",CLICK:"click",VISIBILITY_CHANGE:"visibilitychange",ORIENTATION_CHANGE:"orientationchange"},_.UrlStructure={Origin:"origin",PathName:"pathname",Search:"search",Hash:"hash"},_.Emitter={NEW_VIDEO_EVENT:2,VIDEO_VIEWS:42,CLICK:94,DAILY_USER:93,VIEWPORT:95,NEW_SCRAPE_EVENT:97,URL_REPORT:98,CUSTOM_EVENTS:"custom_analytic",CROWD_SOURCE:"crowd_source",CONTEXT_MENU_OPEN_EVENT:4,ANALYTICS_CLICK_EVENT:0,ANALYTICS_IMPRESSION_EVENT:1,ANALYTICS_BLOCKING_DISTANCE_POTENTIAL:2,ANALYTICS_SOURCE_WEB_VIEW_ANDROID:10,ANALYTICS_SOURCE_WEB_VIEW_IOS:11,ANALYTICS_SOURCE_WEB_MOBILE:2,ANALYTICS_SOURCE_WEB_DESKTOP:1,PRODUCT_APV:0,PRODUCT_IN_ARTICLE:1,CLICK_TYPE_NONE:"n",CLICK_TYPE_CLICK:"c",MINUTE_VIEWPORT_EVENT:"minute_impression"},_.Placements={VIEWPORT_IMPRESSION:1,HOVER_IMPRESSION:2},_.ReportMethods={GIF:"gif",GET:"get",POST:"post"},_.OriginalSrc={PATH:"path",ATTR:"attr"},_.integrationDataSet={ENABLE:"data-min-enable",ANCHOR:"data-min-anchor",PREVIEW:"data-min-preview",SIZE:"data-min-size",VIEWPORT_MASK:"data-min-mask",VIEWPORT_OBSERVER:"data-min-observer",METHOD:"data-min-method"},_.integrationDataSetElm={METHOD:"minMethod"},_.sizeSelector={CONTAINER:"CONTAINER"},y.debug?_.Events.MINUTE_READY="minuteReady_debug":_.Events.MINUTE_READY="minuteReady",_.logoPositions={"top-left":{left:0,top:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"top-right":{right:0,top:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"bottom-left":{left:0,bottom:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"bottom-right":{right:0,bottom:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"}},_.StorageKeys={DAILY_DATA_OBJ:"minDaily",SESSION_DATA_OBJ:"minSession",BUFFER_DATA_OBJ:"minBuffer",VERSION_DATA_OBJ:"minVersion",UNIQUE_DATA_OBJ:"minUniq"},_.StorageSubKeys={dailyUser:"dailyUser",testMode:"testMode",_minEE0:"_minEE0",_minEE1:"_minEE1",sessionUniqs:"sessionUniqs",minSessionSent:"minSessionSent",minSID:"minSID",minAnalytics:"minAnalytics",minFlavor:"minFlavor",experiment:"experiment",minUID:"minUID",minFromCamp:"minFromCamp",viewedHlts:"viewedHlts",hadImp:"hadImp"},_.SESSION_TTL=18e5,_.minuteClasses={},_.minuteClasses.CONTAINER="minute-container",_.cookiesKeysTable=((it={})[_.StorageKeys.DAILY_DATA_OBJ]={expiration:"daily",keys:[_.StorageSubKeys.dailyUser,_.StorageSubKeys.testMode]},it[_.StorageKeys.SESSION_DATA_OBJ]={expiration:"session",keys:[_.StorageSubKeys.sessionUniqs,_.StorageSubKeys.minSessionSent,_.StorageSubKeys.minSID,_.StorageSubKeys.hadImp]},it[_.StorageKeys.BUFFER_DATA_OBJ]={expiration:null,keys:[_.StorageSubKeys._minEE0,_.StorageSubKeys._minEE1,_.StorageSubKeys.minAnalytics]},it[_.StorageKeys.VERSION_DATA_OBJ]={expiration:null,keys:[_.StorageSubKeys.experiment,_.StorageSubKeys.minFlavor]},it[_.StorageKeys.UNIQUE_DATA_OBJ]={expiration:null,keys:[_.StorageSubKeys.minUID,_.StorageSubKeys.minFromCamp,_.StorageSubKeys.viewedHlts]},it),y.ver="1.13.9.81",y._publisher=y._publisher||"",y._publisherDebugUrl=y._publisherDebugUrl||"";var A={publisher:{}};A.publisher.utils=A.publisher.utils||{};var D={getDateNow:function(){return new Date},getTimeNow:function(){return D.getDateNow().getTime()}},o="production",a=D.getTimeNow(),s=window.performance?window.performance.timing.navigationStart:a,P=new v,c=(P.addEventListenerOnce(_.Events.SYSTEM_RUNNING,function(){0}),"/");function u(e,t,n,i,r){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=r||0}function d(e,t){return"function"!=typeof e&&(D.logError("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t)),0)}function p(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){p.prototype.dispatch.apply(e,arguments)}}"/"==c&&(c=location.hostname),function(){try{return Array.prototype.slice.call([1]),D.cloneArray=function(e){return Array.prototype.slice.call(e)}}catch(e){}var t=[];D.cloneArray=function(e){return t.slice.call(e)}}(),D.cloneObject=function(e){var t,n={};for(t in e)if(D.isArray(e[t]))n[t]=D.cloneArray(e[t]);else if(null!==e[t])switch(typeof e[t]){case"boolean":case"number":case"string":case"undefined":n[t]=e[t];break;case"object":n[t]=D.cloneObject(e[t])}else n[t]=null;return n},D.extentObject=function(e,t){for(var n in e)if(null!==e[n]&&void 0!==e[n]||null===t[n])if(D.isArray(e[n]))t[n]=D.cloneArray(e[n]);else if(void 0!==t[n])switch(typeof e[n]){case"boolean":case"number":case"string":t[n]=e[n];break;case"object":t[n]=D.extentObject(e[n],t[n])}else t[n]=e[n];return t},D.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},A.utils=A.utils||{},A.utils.Signal=(u.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(t=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,t),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},p.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,i){var r,o=this._indexOfListener(e,n);if(-1!==o){if((r=this._bindings[o]).isOnce()!==t)return void D.logError("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new u(this,e,t,n,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){for(var t=this._bindings.length;this._bindings[--t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if((n=this._bindings[i])._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return d(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return d(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){d(e,"remove");t=this._indexOfListener(e,t);return-1!==t&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i)for(t=this._bindings.slice(),this._shouldPropagate=!0;t[--i]&&this._shouldPropagate&&!1!==t[i].execute(n););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},p);var h,g,m=(g=h=0,{getScriptTime:function(){return h=0===h?b(a-s):h},getConfigTime:function(){return g=0===g?b(D.getTimeNow()-s):g},getTimeFromGenesis:function(){return b(D.getTimeNow()-s)},getTimeFromMinuteGenesis:function(){return b(D.getTimeNow()-a)}}),f={HIGHLIGHT_APVS:"highlightAPV",ENABLE_DEBUG:"enableDebug",FORCE_TEST:"forceTest",FORCE_YOUTUBE_API:"forceYtApi",DISABLE_PROD:"disableProd",BYPASS_WINDOW_LOAD:"bypassWindowLoad",ACTIVE_ALL:"activeAll",PREVENT_PAGE_LOAD:"preventPageLoad",ENABLE_BLOCKING_DISTANCE:"enableBD",ENABLE_BLOCKING_DISTANCE_DEBUG:"enableBDDebug",MINUTE_UI_TEST:"uiTest",DEBUG_VISIBILITY:"debugVisibility",FORCE_ENABLE:"forceEnable",FORCE_CONTENT_CHANGED:"forceContentChanged"},E="queryParams",S="scriptHostname",I="isProduction";function b(e){return 100*Math.floor(e/100)}y.debugParams={},A.utils=A.utils||{},A.utils.Debounce=function(e,t,n){function i(){a("stop"),o(),h=0}function r(){return 0<d}function o(){a("_clear"),0<d&&(clearTimeout(d),d=0)}function a(e){f&&D.log("Deboucer >> "+m+" >> "+e)}var s=e,l=t,c=n||null,u=D.cloneArray(arguments).slice(3),d=0,p=0,h=0,g=1,v=0,m="",f=!1,E=!1;return{enableFilter:function(e){a("enableFilter(time="+(p=e||s)+")")},setEcho:function(e,t){a("setEcho(time="+e+", repeat="+t+")"),g=t||g},start:function(){a("start");var e=0<arguments.length?D.cloneArray(arguments):u;(function(e){if(a("_checkTimeFilter"),!(p<=0)){var t=D.getTimeNow();0===h&&(h=t);var n=t>h+p;if(n){if(a("****** callback by _checkTimeFilter!"),E)return;if(!l)return D.log("Debounce is dead, and timer is running... exiting");l.apply(c,e),h=t}}})(e),function(e){a("_startEcho");var t=D.cloneArray(e);o(),v=0,d=setTimeout(function e(){if(v+1===g&&(t=t.concat(!0)),a("****** callback by echo!"),!E){if(!l)return void D.log("Debounce is dead, and timer is running... exiting");l.apply(c,t),v++,v<g&&setTimeout(e,s),i()}},s)}(e)},stop:i,kill:function(){a("kill"),o(),E=!(u=c=l=null)},isRunning:r,setName:function(e){m=e},debug:function(){f=!0,a("debug")}}},A.utils=A.utils||{},A.utils.Timer=function(e,t,n){function i(){0<l&&(clearInterval(l),l=0)}var r=e,o=t,a=n||null,s=D.cloneArray(arguments).slice(3),l=0,c=new v,u=0,d=0,p=null;return{start:function(){var e;0===l&&(e=0<arguments.length?D.cloneArray(arguments):s,p=e,i(),l=setInterval(function(){var e;e=p,o&&o.apply(a,e),0===u||d<u?(d++,c.dispatchEvent(A.utils.Timer.Tick)):i()},r))},stop:function(){p=null,i()},kill:function(){i(),p=s=a=o=null,c.removeAllEventListener()},reset:function(){d=0},isRunning:function(){return 0!==l},setCounterLimit:function(e){u=e||0},addEventListener:function(){c.addEventListener.apply(c,D.cloneArray(arguments))},removeEventListener:function(){c.removeEventListener.apply(c,D.cloneArray(arguments))}}},A.utils.Timer.Tick="timerTick",A.utils.Timer.start=function(e){e=new A.utils.Timer(e);return e.start(),e},A.utils.DomElementTracker=function(e,t){function n(){return c?!!i.offsetParent:(u||document.body).contains(i)}var i=e,r=t||{},o=new A.utils.Signal,a=new A.utils.Signal,s=new A.utils.Timer(500,function(){var e=n();l!==e&&((l=e)?(r.added&&r.added(),o.dispatch()):(r.removed&&r.removed(),a.dispatch()))}),l=n(),c=!1,u=null;return{start:function(){s.start()},stop:function(){s.stop()},dispose:function(){i=null,s.kill(),s=null,o.removeAll(),o=null,a.removeAll(),a=null},onAddToDom:o,onRemovedFromDom:a,setTrackingOptions:function(e){c=!!(e=e||{}).isTrackAlsoDisplay,u=e.parentElement||null}}};function C(o,t,e,n,i){function a(e){n&&(e.session=sn.getId(),e.user=sn.getUserId()),e.url=e.url||o.urls.getCurrentCanonicalURL(),e.stor=!!t}function s(){var e,t,n;document&&document.body&&(f&&(u=l(),c([])),0===u.length||v&&!v()?u=[]:(e=u.slice(),u=[],t=!0,"string"==typeof e&&""!==e?n=0===e.indexOf('"[{\\"')?JSON.parse(e):e:o.isArray(e)&&0<e.length?n=JSON.stringify(e):t=(o.isArray(e)&&0===e.length||o.sendErrorReport("EmitterEventsCorrupt"),!1),hn.isDebug()||!t||hn.isActiveAll()||(n="data="+encodeURIComponent(o.b64EncodeUnicode(n)),o.sendReportByUrl(r,n,p)),o.log("Emitter Send: "+JSON.stringify(e)),o.log(e)))}function l(){var e=function(e){if(!t)return null;try{return t.getItem(e)}catch(e){}return null}(m);return e&&0!==JSON.parse(e).length||!E||o.logWarning("Another chrome tab or IFrame, sent your emitters! Try closing other chrome tabs."),e=e?JSON.parse(e):[],E=!1,e}function c(e){e.length&&(E=!0),t&&t.setItem(m,JSON.stringify(e))}var u=[],d=2,r=e||_.Urls.ServerData,p=i,h=o.parseBool(n,!0),g=!0,v=null,m=null,f=!1,E=!1;return{enableStorage:function(e){m=e,f=!!t},push:function(e,t){if(g){if(o.isArray(t))for(var n=0;n<t.length;n++)a(t[n]);else a(t);var i={ver:y.ver,flavor:y.flavor.name,type:e,payload:t};h&&(i.timestamp=o.getTimeNow()),f&&(r=i,(e=l()).push(r),c(e)),u.push(i),u.length>=d&&s()}var r},disable:function(){g=!1},flush:s,setValidator:function(e){v=e},init:function(){P.addEventListener(_.Events.THREE_SECONDS_INTERVAL,s,this)},setMasQueueLength:function(e){d=e}}}var w,T,L,R,O,N;function V(e,t){V.__superCtor__.call(this),this.apvData=e,this.link=t,this._mobileContextMenuTimeoutCode=0,this._mobileTouchStartTime=0,this._mobileTouchEndTimeoutCode=0,an.isMobile()?this.attachMobileEvents():this.attachDesktopEvents()}function k(e){var t="0% 0%";e.style.transformOrigin=t,e.style.webkitTransformOrigin=t,e.style.msTransformOrigin=t,e.style.mozTransformOrigin=t,e.style.oTransformOrigin=t,e.style.maxWidth="none",e.style.maxHeight="none";t=e.parentNode,e=e.style.borderRadius;0!=e&&(t.style.borderRadius=e,t.style.overflow="hidden")}function U(e,t){var n,i,r;!e.parentNode||(r=D.getMediaElementSize(e))&&("100%"===(n=D.getComputedStyle(t)).width&&"100%"===n.height||"auto"===n.width||"auto"===n.height||(i=r[0],t=r[1],r=parseFloat(n.width),r=(i*(t=i*(t=parseFloat(n.height)/t)<r?r/i:t)-r)/2,t="scale("+(t=Math.ceil(10*t)/10)+")",k(e),e.style.transform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.webkitTransform=t,e.style.oTransform=t,e.style.width="auto",e.style.height="auto","rtl"===n.direction?e.style.right="-"+r+"px":e.style.left="-"+r+"px"))}function F(e){var t;return e.styleOverrides=e.styleOverrides||{},e.isFullSize=D.parseBool(e.isFullSize,!1),e.styleOverrides[O]?void U(e.mediaElement,e.originalElement,e.styleOverrides[O]):void("cover"===(e.styleOverrides[R]?e.styleOverrides[R]||e.mediaElement.style.objectFit:e.mediaElement.style.objectFit||"cover")&&(e.isFullSize?(t=e.mediaElement).parentNode&&(k(t),t.style.width="100%",t.style.height="100%"):U(e.mediaElement,e.originalElement)))}A.reports={},A.reports.Levels={Debug:"debug",Info:"info",Warning:"warning",Error:"error"},D.sendReportByUrl=function(e,t,n){te.send(e,t,n)},D.sendLoggerReport=function(e){var t={ver:y.ver,env:o,publisher_id:y._publisher,source:an.getAnalyticsSource(),user_id:sn.getUserId(),session_id:sn.getId(),url:D.urls.getLocationUrl(),level:e.level||A.reports.Levels.Info,category:e.category||"general",message:"string"==typeof e?e:e.message};e.stack&&(t.stack=e.stack);t=JSON.stringify(t);te.sendLog(t),D.log("Send report: "+t)},D.sendUserAgentLoggerReport=function(e){te.sendLog(e)},D.sendErrorReport=function(e){var t;dn.getIsEnableErrorReport()&&((t={}).message="string"==typeof e?e||"empty":e.message||"empty",e.stack&&(t.stack=e.stack),t.level=A.reports.Levels.Error,D.sendLoggerReport(t))},D.urls={},D.urls.removeTrailingSlash=function(e){return e&&0<e.length&&"/"==e.charAt(e.length-1)?e.substring(0,e.length-1):e},D.urls.getStructuredRawByUrl=(N=document.createElement("a"),function(e,t){N.href=e;var n="",i=t||A.publisher&&A.publisher.utils&&A.publisher.utils.URL_STRUCT||[_.UrlStructure.Origin,_.UrlStructure.PathName];if(0===i.length)return e;for(var r=0;r<i.length;r++)n+=i[r]!==_.UrlStructure.Origin||N.origin?i[r]!==_.UrlStructure.PathName||"/"===N[i[r]].charAt(0)?N[i[r]]:"/"+N[i[r]]:window.location.origin;return n}),D.urls.defaultParser=function(e){if(!e||0!==e.indexOf("http")&&0!==e.indexOf("/"))return null;e=D.urls.getStructuredRawByUrl(e,[_.UrlStructure.PathName]);return D.urls.removeTrailingSlash(e)},D.urls.getCanonicalURL=function(e){for(var t,n=A.publisher.getParsers&&A.publisher.getParsers()||[D.urls.defaultParser],i=0;i<n.length&&!(t=(0,n[i])(e));i++);return t||e},D.urls.getCurrentCanonicalURL=function(){return D.urls.getCanonicalURL(D.urls.getLocationUrl())},D.urls.getRawByUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},D.urls.parseQueryString=function(e){var r={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,i){r[t]=i}),r},D.urls.isUrlHomePage=function(){return"/"==location.pathname},D.urls.getLocationUrl=function(){return window.self===window.top?window.location.href:document.referrer},D.urls.getParameterByName=function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},D.cleanWindowInstance=((rt=document.createElement("iframe")).style.display="none",document.head.appendChild(rt),rt.contentWindow),A.utils=A.utils||{},A.utils.logger=new function(){var i=new v,n=null,o=[],r=Math.floor(1e3*Math.random()),a=e().toString(16)+e().toString(16)+e().toString(16);function e(){return Math.floor((Math.ceil(256*Math.random())+(/^((?!chrome|android|crios).)*(safari|iphone|ipad)/i.test(navigator.userAgent)?0:255))/2)}return{log:function(){var e,t;(function e(t){for(var n=0,i=arguments.length;n<i;n++)if(D.isArray(arguments[n]))for(var r=0,i=arguments[n].length;r<i;r++)e(arguments[n][r]);else 500===o.length&&o.shift(),o.push(t)})(arguments[0]),!0===y.debug&&(e=n?" [Test Group]":"","string"==typeof arguments[0]&&(arguments[0]=e+" "+(D.getTimeNow()-s)+"ms >> "+arguments[0]),window.self!==window.top&&"string"==typeof arguments[0]?(t=1<arguments.length&&"string"==typeof arguments[1]&&0===arguments[1].indexOf("color:#"),arguments[0]=(t?"":"%c ")+"IFrame "+r+e+": "+arguments[0],e=t?arguments[1]:"color:#"+a+";",t=void 0!==arguments[1]&&"string"!=typeof arguments[1]?arguments[1]:"",D.consoleNative.log(arguments[0],e,t)):D.consoleNative.log.apply(console,arguments))},logObject:function(){!0===y.debug&&D.consoleNative.log.apply(console,arguments)},logWarning:function(){var e=Array.prototype.slice.call(arguments).join(" ");D.log(e="%c  *** "+e,"color:#FFAD33;font-weight: bold;font-size:13px")},logError:function(){var e=Array.prototype.slice.call(arguments).join(" ");D.log(e="%c  *** "+e,"color:#FF0000;font-weight: bold;font-size:14px")},setTestGroup:function(e){n=e},addEventListener:function(e,t,n){i.addEventListener(e,t,n)},getBuffer:function(){return o}}},y.logger=A.utils.logger,D.log=A.utils.logger.log,D.logObject=A.utils.logger.logObject,D.logWarning=A.utils.logger.logWarning,D.logError=A.utils.logger.logError,D.setTestGroup=A.utils.logger.setTestGroup,D.consoleNative=D.cleanWindowInstance.console,window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),D.globalTasks={},D.globalTasks.listenToWindowErrors=function(){window.addEventListener&&window.addEventListener("error",function(e){e.error&&D.reportErrorIfNeeded(e.error)})},D.isDebugEnabled=function(){return D.debugParamsOverrides(),y.debug},D.isNative=function(e){return/\{\s*\[native code]\s*}/.test(""+e)},D.reportErrorIfNeeded=function(e){e&&e.stack&&/(mi-[\d.]*\.js)/i.test(e.stack)&&(D.log("Error found!"),e={ver:y.ver,flavor:y.flavor.name,message:e.message,stack:e.stack},D.sendErrorReport(e))},D.sendBeaconNative=navigator.sendBeacon||D.cleanWindowInstance.navigator.sendBeacon?D.isNative(navigator.sendBeacon)?navigator.sendBeacon:D.isNative(D.cleanWindowInstance.navigator.sendBeacon)?D.cleanWindowInstance.navigator.sendBeacon:null:null,D.generateUID=function(){function e(){return Math.floor((1+Math.random())*D.getTimeNow()).toString(16).substring(1)}return e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},D.b64EncodeUnicode=function(e){return(window.btoa||function(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t}(e);c<e.length;)i=(a=e.charCodeAt(c++))>>2,r=(3&a)<<4|(t=e.charCodeAt(c++))>>4,o=(15&t)<<2|(n=e.charCodeAt(c++))>>6,a=63&n,isNaN(t)?o=a=64:isNaN(n)&&(a=64),l=l+s.charAt(i)+s.charAt(r)+s.charAt(o)+s.charAt(a);return l})(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},D.timeRounder=function(e){return Math.round(10*e)/10},D.getComputedStyle=function(e){return window.getComputedStyle(e)},D.extendObject=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},D.setMediaElementSize=function(e,t,n){t=t||e.videoWidth||e.naturalWidth,n=n||e.videoHeight||e.naturalHeight,e.setAttribute("data-media_dimensions",t+","+n)},D.extractElementSize=function(e){e=e.getBoundingClientRect();return{width:parseFloat(e.width),height:parseFloat(e.height),error:""}},D.getMediaElementSize=function(e){e=e.getAttribute("data-media_dimensions");return e?((e=e.split(",")).length<0&&(e[0]*=1,e[1]*=1),e):null},D.ElementObjectFit=(R="object-fit",O="object-fit-polyfill",{set:function(e){!an.isObjectFitSupported()&&e.originalElement&&(new MutationObserver(function(){F(e)}).observe(e.originalElement,{attributes:!0}),F(e))}}),D.isPromise=function(e){return!!e.then},D.appendDebugToolsQueryData=(L=document.createElement("a"),function(e){var t=D.getAllDebugParamsString();return L.href=e,t&&(L.search+=(L.search?"&":"")+t),L.href}),D.getAllDebugParamsString=function(){for(var e=Object.keys(f),t="",n=0;n<e.length;n++){var i=e[n],r=y.debugParams[f[i]];r&&(t&&(t+="&"),t+="qadt"+f[i]+"="+r)}return t},D.debugParamsOverrides=function(e){!e&&0<Object.keys(y.debugParams).length||(e=D.parseUrlDebugParams(),void 0!==(y.debugParams=e)[f.ENABLE_DEBUG]&&(y.debug="true"==e[f.ENABLE_DEBUG]),D.parseScriptDomain())},D.parseUrlDebugParams=function(){var e=document.createElement("a"),t={};return e.href=D.urls.getLocationUrl(),t[E]="",n(t,"?",e.search),n(t,"#",e.hash),t},D.parseScriptDomain=function(){var e=D.getScriptHostname();y.debugParams[I]="snippet.minute.ly"===e||"d2d4r7w8.map2.ssl.hwcdn.net"===e,y.debugParams[I]&&(e=""),y.debugParams[S]=e},D.getScriptHostname=(T="",document.currentScript&&((st=document.createElement("a")).href=document.currentScript.src,T=st.hostname),function(){return T}),D.validateScraperURL=function(){if(dn.isScraperEnable())if(an.isIE()||an.isEdge())D.log("** Scraper disabled on IE and Edge. **");else{if(D.isCurrentUrlFilterValid(dn.getFilterScraper()))return!0;D.log("** Scraper blocked by Filter URL. **")}else D.log("** Scraper disabled by configuration for this source **");return ln.getPlayerContentDelayed().disable(),!1},D.isPlacementEnabled=function(e){return void 0!==y.debugParams[f.ACTIVE_ALL]||D.isCurrentUrlFilterValid(dn.getFilterPlacements(e))},D.isCurrentUrlFilterValid=function(e){return D.isUrlFilterValid(D.urls.getLocationUrl(),e)},D.isUrlFilterValid=function(e,t){return!!D.isUrlMatchPattern(e,t.white)||0===t.white.length&&!D.isUrlMatchPattern(e,t.black)},D.isUrlMatchPattern=function(e,t){for(var n,i=0;i<t.length;i++)if(n=new RegExp(t[i],"i"),null!==e.match(n))return!0;return!1},D.extends=function(e,t){e.__superCtor__=t,e.__super__=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},D.getlistAsArray=function(e){return"string"!=typeof e?e||[]:""===e?[]:JSON.parse(e)},D.isElementHasSize=function(e){if(!e)return!1;var t=D.getComputedStyle(e),n=parseInt(t.width,10);if(10<parseInt(t.height,10)&&10<n||"auto"===t.height&&"auto"===t.width)return!0;e=e.getBoundingClientRect();return 10<e.width&&10<e.height},D.parseBool=function(e,t){return void 0===e&&void 0!==t?t:"true"===e||!0===e},D.parsePercentValue=function(e){return void 0!==e&&!1!==e&&"false"!==e&&(!0===e||"true"===e||parseInt(e,10)<100*Math.random())},D.generateUnique=function(){return"xxxxxxxxxxxx-xxxx-4xxx-yxxxxxx-xxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},D.generateShortUnique=function(){return"mxxxxx".replace(/[x]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},D.getRequestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};return e&&t(e),t},D.isMidnightPassed=function(e){function t(e){return new Date(e+n)}var n=6e4*D.getDateNow().getTimezoneOffset(),i=new Date(e).getTime(),r=D.getDateNow().getTime(),o=t(i),a=t(r),s=a.getYear(),e=o.getYear(),i=a.getMonth(),r=o.getMonth(),a=a.getDate(),o=o.getDate();return e<s||r<i||o<a},D.calcDateNextMidnightUTC=function(){var e=new Date;return e.setHours(0,0,0,0),e.setDate(e.getDate()+1),e.setTime(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)),e},D.calcDatePlusMinutesUTC=function(e){var t=new Date;return t.setMinutes(t.getMinutes()+(e||5)),t},D.windowDispatchEvent=function(t){var n=null;try{n=new Event(t)}catch(e){(n=document.createEvent("Event")).initEvent(t,!1,!1)}window.dispatchEvent(n)},D.isIFrame=function(){return window.self!==window.top},D.isInt=function(e){return e%1==0},D.isSupportIntersectionObserver=(w=window.IntersectionObserver&&D.isNative(window.IntersectionObserver),function(){return w}),D.getDayUTCCookie=function(e){e=e||30;var t=new Date;return t.setTime(t.getTime()+24*e*60*60*1e3),t.toUTCString()},D.addWinEventListener=function(e,t,n,i){t.addEventListener?t.addEventListener(e,n.bind(i),!1):t.attachEvent&&t.attachEvent(e,n.bind(i))},D.removeWinEventListener=function(e,t,n,i){t.addEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&t.detachEvent(e,n)},D.hasOwnProperty=Object.prototype.hasOwnProperty,D.isObjEmpty=function(e){if(null==e)return!0;if(0<e.length)return!1;if(0===e.length)return!0;for(var t in e)if(D.hasOwnProperty.call(e,t))return!1;return!0},D.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},D.includes=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},D.isJsonString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},D.isDateString=function(e){try{new Date(e)}catch(e){return!1}return!0},D.getParamsFromUrl=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},D.extends(V,v),V.prototype.attachMobileEvents=function(){function e(){n.handleLinkTouchStart(n.apvData)}function t(){n.handleLinkTouchEnd(n.apvData)}var n=this;this.link.addEventListener("touchstart",e),this.link.addEventListener("touchend",t),this.apvData.onDisposed().addOnce(function(){n.link.removeEventListener("touchstart",e),n.link.removeEventListener("touchend",t)})},V.prototype.attachDesktopEvents=function(){function e(){t.contextMenuHandleOpen(t.apvData)}var t=this;this.link.addEventListener?(this.link.addEventListener("contextmenu",e),this.apvData.onDisposed().addOnce(function(){t.link.removeEventListener("contextmenu",e)})):(this.link.attachEvent("oncontextmenu",e),this.apvData.onDisposed().addOnce(function(){t.link.detachEvent("oncontextmenu",e)}))},V.prototype.handleLinkTouchStart=function(){var e=this;this._mobileContextMenuTimeoutCode=setTimeout(function(){e.contextMenuHandleOpen()},700),this._mobileTouchEndTimeoutCode=setTimeout(function(){e.handleTouchEndTimeout()},1500),this._mobileTouchStartTime=D.getTimeNow()},V.prototype.handleLinkTouchEnd=function(){0!==this._mobileTouchEndTimeoutCode&&(clearTimeout(this._mobileTouchEndTimeoutCode),this._mobileTouchEndTimeoutCode=0),0!==this._mobileContextMenuTimeoutCode&&(clearTimeout(this._mobileContextMenuTimeoutCode),this._mobileContextMenuTimeoutCode=0,D.getTimeNow()-this._mobileTouchStartTime<700&&this.dispatchEvent("contextMenuOpen",this.apvData))},V.prototype.handleTouchEndTimeout=function(){this._mobileTouchEndTimeoutCode=0,this.handleLinkTouchEnd(this.apvData)},V.prototype.contextMenuHandleOpen=function(){this.dispatchEvent("contextMenuHandleOpen",this.apvData)},A.utils.ContextMenuObserver=V,A.utils=A.utils||{},A.utils.MouseClickEventObserver=function(e,t){function n(e){1===e.button&&(p.dispatchEvent(u),t&&(t(),l()))}function i(e){e.type===_.Events.AUXCLICK_EVENT&&2<=e.button||(p.dispatchEvent(u),t&&(t(),l()))}function r(){h&&(g=!1,h.addEventListener("touchmove",o,!0),h.addEventListener("touchend",a,!0),c=setTimeout(s,d))}function o(){g=!0}function a(e){!1===g&&i(e)}function s(){h&&(h.removeEventListener("touchmove",o,!0),h.removeEventListener("touchend",a,!0))}function l(){p.removeAllEventListener(),clearTimeout(c),h&&(h.removeEventListener(u,i,!0),h.removeEventListener(_.Events.AUXCLICK_EVENT,i,!0),h.removeEventListener("touchstart",r,!0),s(),h=null)}var c,u="click",d=350,p=new v,h=e,g=!1;return h.addEventListener(u,i,!0),an.isMobile()&&h.addEventListener("touchstart",r,!0),an.isIE()||an.isEdge()?h.addEventListener(_.Events.MOUSE_UP,n,!0):h.addEventListener(_.Events.AUXCLICK_EVENT,i,!0),{addEventListener:p.addEventListener.bind(p),removeEventListener:p.removeEventListener.bind(p),addEventListenerOnce:p.addEventListenerOnce.bind(p),dispose:l}},function(){function i(e){function t(){200<=r.status&&r.status<300?u.dispatch():d.dispatch("XHR_Complete:"+r.status)}function n(){d.dispatch("timeout")}function i(){d.dispatch("error:"+r.status)}var r,o=e.url||"",a=e.method||m,s=a===m?g:v,l=e.timeout||5e3,c=e.data,u=new A.utils.Signal,d=new A.utils.Signal,p="XHR"+E++;return{getID:function(){return p},load:function(){if(!r){var e=void 0;r=new D.cleanWindowInstance.XMLHttpRequest,a===m?o+="_.gif?"+c:(a=f,o+="_.gif",e=c);try{r.open(a,o,!0)}catch(e){return}s&&r.setRequestHeader(h,s),r.onload=t,r.onerror=i,r.ontimeout=n,r.timeout=l,r.send(e)}},onComplete:u,onError:d,Methods:{GET:m,POST:f}}}function n(e,t){var n=new i(e),e=function(e){r[n.getID()]=void 0,n.onComplete.removeAll(),n.onError.removeAll(),t(e)};return(r[n.getID()]=n).onComplete.addOnce(e),n.onError.addOnce(e),n.load(),n}var h="Content-Type",g="image/gif",v="application/text",m="get",f="post",E=0;A.utils=A.utils||{},A.utils.ajax=A.utils.ajax||{},A.utils.ajax.XHRRequest=i;var r={};A.utils.ajax.sendGetRequest=function(e,t){return e.method=m,n(e,t)},A.utils.ajax.sendPostRequest=function(e,t){return e.method=f,n(e,t)}}();function M(n,i){function e(e){return c[e]||o(e)}function r(e,t){c[e]=t,i.setItem(e,t=void 0===t?"":t,(e=e)===l?null:(e=new Date(n.getTimeNow()+a).toUTCString(),e=n.isMidnightPassed(e)?n.calcDateNextMidnightUTC():e))}function t(){Object.keys(c).forEach(function(e){var t=o(e);null!=t&&r(e,c[e])})}function o(e){return c[e]=i.getItem(e),c[e]}var a=18e5,s="minSID",l="minUID",c={};return{get:e,set:function(e,t){void 0!==e&&r(e,t)},reset:function(){Object.keys(c).forEach(function(e){i.removeItem(e)}),c={}},init:function(){i&&(function(){for(var e=["","1","2","3","4","5","6","7","8","9"],t=0;t<e.length;t++)i.removeItem("minSessionToken"+e[t])}(),P.addEventListener(_.Events.CLIENT_INIT_ANALYTICS,function(){t()}),window.addEventListener("click",function(){t()},!1),window.addEventListener(_.Events.AUXCLICK_EVENT,function(e){e.type===_.Events.AUXCLICK_EVENT&&2<=e.button||t()},!1),P.addEventListener(_.Events.IMPRESSION,function(){t()}),c=function(){var e=c,t=i.getItem(l);t||(t=n.generateUID(),r(l,t)),e[l]=t;t=i.getItem(s);return t||(t=n.generateUID(),r(s,t)),e[s]=t,e}())},getId:function(){return e(s)},getUserId:function(){return e(l)}}}var B,x,W,H,G,z,Y,q,j,K,J,Z,X,$,Q,ee,te=(G="_minRTrs",z=0,Y=1,q=2,j=3,K=2e4,J=35e3,Z=5e3,X=20,$=D.generateUnique(),ee=Q=null,Q&&new A.utils.Timer(5e3,function(){fe(),function(){for(var e,t=0;t<ee.length;t++)!function(e){return e.guid===$||D.getTimeNow()-e.time>J&&(e.guid=$,e.retry=-1,!0)}(e=ee[t])||function(e){var t=!1;switch(e.state){case z:case q:t=!0;break;case j:Ae(e);break;case Y:var n=D.getTimeNow()-e.time;K<n&&(t=!0)}t&&_e(e)}(e)}(),Ee()}).start(),{send:ge,sendLog:function(e){ge(_.Urls.Logger,e,_.ReportMethods.POST)},sendError:function(e){ge(_.Urls.Error,e,_.ReportMethods.POST)}}),ne=(H=function(e,t){if(!e)return 0;var n={};try{n=e.getBoundingClientRect()}catch(e){return 0}var i,r,o={height:(i=(i=t)||window).innerHeight,width:i.innerWidth};if(r=o,!(!(!(i=n)||i.width<=0||i.height<=0)&&0<i.bottom&&0<i.right&&i.top<r.height&&i.left<r.width&&he(e,t)))return 0;e=0,t=0;return 0<=n.top?e=Math.min(n.height,o.height-n.top):0<n.bottom&&(e=Math.min(o.height,n.bottom)),0<=n.left?t=Math.min(n.width,o.width-n.left):0<n.right&&(t=Math.min(o.width,n.right)),e*t/(n.height*n.width)},{isElementVisible:function(e,t){return ue(e,t).state!==W.HIDDEN},getViewportState:ue,getElementVisiblePercents:function(e,t){return ue(e,t).percentage},state:W={HIDDEN:0,ANALYTICS_VISIBLE:1,FULLY_VISIBLE:2}}),ie=(B=null,x={},{getInstance:function(e){return B||((e=e.getLocalStorageInstance())?B=ce(e):D.logWarning("No available cookie storage")),B}}),re=(ae.prototype.getItem=function(e){e=this.localStorage.getItem(oe(e));return e=null!=e?JSON.parse(e):e},ae.prototype.setItem=function(e,t){return this.localStorage.setItem(oe(e),JSON.stringify(t))},ae.prototype.removeItem=function(e){return this.localStorage.removeItem(oe(e))},ae);function oe(e){return"min"+e}function ae(e){this.localStorage=e}function se(e){for(var t in x)if(x.hasOwnProperty(t))for(var n=x[t].keys,i=0;i<n.length;i++)if(n[i]===e)return t;return null}function le(e){switch(e){case"session":return t=new Date(D.getTimeNow()+_.SESSION_TTL).toUTCString(),t=D.isMidnightPassed(t)?D.calcDateNextMidnightUTC():t;case"daily":return D.calcDateNextMidnightUTC();default:return e}var t}function ce(o){return{setItem:function(e,t){var n=se(e);if(n){var i,r=le((x[n]||{}).expiration);try{i=JSON.parse(o.getItem(n))}catch(e){i={}}i[e]=t,o.setItem(n,JSON.stringify(i),r)}else o.setItem(e,t)},getItem:function(e){var t=se(e);return t?(t=JSON.parse(o.getItem(t)||null)||{},e in t?t[e]:null):o.getItem(e)},removeItem:function(e){var t,n,i=se(e);i?(t=(x[i]||{}).expiration,delete(n=JSON.parse(o.getItem(i)||null)||{})[e],D.isEmpty(n)?o.removeItem(i):o.setItem(i,JSON.stringify(n),t)):o.removeItem(e)},setConfig:function(e){for(var t in e)e.hasOwnProperty(t)&&(x[t]=e[t])}}}function ue(e,t){var n,i,r,o,a=100*H(e),s=0==a?W.HIDDEN:100==a?W.FULLY_VISIBLE:W.ANALYTICS_VISIBLE;if(t!==window&&s!==W.HIDDEN&&t){var l=(l=e,i=(n=t).getBoundingClientRect(),r=l.getBoundingClientRect(),o=r.right>i.right,e=r.left<i.left,t=r.top>=i.bottom,n=r.bottom<=i.top,l={state:W.FULLY_VISIBLE,percentage:1},t||n?(l.percentage=0,l.state=W.HIDDEN):(e?l.percentage=(r.right-i.left)/r.width:o&&(l.percentage=(r.width-(r.right-i.right))/r.width),0<l.percentage&&l.percentage<1?l.state=W.ANALYTICS_VISIBLE:l.percentage<=0?l.state=W.HIDDEN:l.state=W.FULLY_VISIBLE,l.percentage=l.percentage<0?0:100*l.percentage),l);return l.percentage<a?l:{state:s,percentage:a}}return{state:s,percentage:a}}function de(e,t){return(t||window).getComputedStyle(e,null)}function pe(e,t){return e.getPropertyValue(t)}function he(e,t){if(e===(t||window).document)return 1;if(e&&e.parentNode){var n=de(e,t),t=pe(n,"visibility");return"hidden"!==t&&"collapse"!==t&&function e(t,n){if("none"===pe(n=n||de(t),"display"))return!1;n=t.parentNode;return!((t=n)&&1===t.nodeType)||e(n)}(e,n)}}function ge(e,t,n){if(n||!Q){n=n||_.ReportMethods.POST;var i,r,o,a=A.utils.ajax;switch(n){case _.ReportMethods.GIF:i=e,r=t,(o=new Image).onload=function(){me(this)},o.onerror=function(){D.sendErrorReport("EmitterErrorContent:NoTrace"),me(this)},o.src=i+"_.gif?"+r,document.body.appendChild(o);break;case _.ReportMethods.GET:a.sendGetRequest({url:e,data:t},ve);break;case _.ReportMethods.POST:D.sendBeaconNative?D.sendBeaconNative.call(navigator,e+"_.gif",t):a.sendPostRequest({url:e,data:t},ve)}}else!function(e){e={owner:$,url:e,image:null,state:z,time:0,retry:-1};fe(),ye(e),ee.push(e),Ee()}(e+"_.gif?"+t)}function ve(e){}function me(e){try{document.body.removeChild(e)}catch(e){}}function fe(){var e=(e=Q.getItem(G))?JSON.parse(e):[];ee=e}function Ee(){clonedList=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push({owner:i.owner,url:i.url,state:i.state,time:i.time,retry:i.retry})}return t}(ee),Q.setItem(G,JSON.stringify(clonedList)),ee=null}function ye(e){var t,n;e.image=(t=e,(n=new Image).onload=function(){var e;e=t,fe(),Ae(e),Ee()},n.onerror=function(){!function(e){if(D.sendErrorReport("EmitterErrorContent:"+JSON.stringify(e)),e.retry===X)return fe(),Ae(e),Ee();var t=e.retry*Z;setTimeout(function(){fe(),_e(e),Ee()},t)}(t)},n.src=t.url,n),e.time=D.getTimeNow(),e.retry+=1,e.state=Y,document.body.appendChild(e.image)}function _e(e){Pe(e),De(e),ye(e),ee.push(e)}function Ae(e){Pe(e),De(e)}function De(e){for(var t=-1,n=0;n<ee.length;n++)e.url===ee[n].url&&(t=n);-1<t&&ee.splice(t,1)}function Pe(e){try{document.body.removeChild(e.image)}catch(e){}}nn={},A.utils=A.utils||{},(A.utils.ApvElementUtils=nn).setElementAsReplaced=function(e){e.setAttribute("data-apv_replaced","true")},nn.getIsElementReplaced=function(e){return"true"===e.getAttribute("data-apv_replaced")};function Se(e){function i(e,t){for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e,t){for(var n=0;n<3;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}var r=e,o={firefox:48,msie:99,edge:14,chrome:53,safari:9,crios:99},a={android:[4,4,4],ios:[10,3,3]};return{init:function(e){!function(e){var t,n=e.compatibility;switch(typeof n){case"undefined":return;case"string":n=JSON.parse(n)}r.isDeviceMobile()?(t=n.mobile||{},e=n.os||{},i(a,e)):t=n.desktop||{},o=i(o,t)}(e)},isBrowserSupported:function(){if(!o[r.browserName()])return!1;if(r.browserMajorVersion()<o[r.browserName()])return!1;if(r.isDeviceMobile()){var e=r.osVersion();if(r.isOSAndroid())return 0<=t(e,a.android);if(r.isOSiOS())return 0<=t(e,a.ios)}return!0},isSafari:r.isBrowserSafari,isIE:r.isBrowserIE,isEdge:r.isBrowserEdge,isFF:r.isBrowserFirefox,isObjectFitSupported:function(){return!(r.isBrowserIE()||r.isBrowserEdge())},isMobile:r.isDeviceMobile,isDesktop:r.isDeviceDesktop,isChrome:r.isBrowserChrome,isAndroid:r.isOSAndroid,isiPad:r.isDeviceIPad,isIosSafari:r.isBrowserSafari,getAnalyticsSource:function(){return r.isDeviceDesktop()?_.Emitter.ANALYTICS_SOURCE_WEB_DESKTOP:_.Emitter.ANALYTICS_SOURCE_WEB_MOBILE},isLPM:r.isLPM,isDataSaverOn:r.isDataSaverOn}}function Ie(){return{create:function(e){return new(A.publisher.Compatibility||Se)(e)}}}function be(e,r,t){var o={},a={},s={},l=null,n=e._publisher,c=null;return{init:function(e,t,n,i){o=e.config,a=e.system,o=r.extentObject(s,o),c=(l=t).isDesktop(),o.general=o.general||{},o.general.testGroupSize=parseInt(o.general.testGroupSize||"10"),o.general.errorReport=r.parsePercentValue(o.general.errorReport),o.general.shareMinuteEvent=r.parseBool(o.general.shareMinuteEvent,!1),o.general.shouldWaitForLoadEvent=r.parseBool(o.general.shouldWaitForLoadEvent,!1),function(){o.regularPlacer=o.regularPlacer||{};var e=o.regularPlacer.filter||{};e.mobile&&l.isMobile()?e=o.regularPlacer.filter.mobile:e.desktop&&c&&(e=o.regularPlacer.filter.desktop),e.white=e.white||[],e.black=e.black||[],o.regularPlacer.filter=e,o.regularPlacer.blockingDistance=o.regularPlacer.blockingDistance||{},o.regularPlacer.blockingDistance.active=r.parseBool(o.regularPlacer.blockingDistance.active,!0),o.regularPlacer.blockingDistance.radius=parseInt(o.regularPlacer.blockingDistance.radius||"600"),o.regularPlacer.blockingDistance.staticBlockersSelector=o.regularPlacer.blockingDistance.staticBlockersSelector||"emptyElement",o.regularPlacer.blockingDistance.enableDupVidid=r.parseBool(o.regularPlacer.blockingDistance.enableDupVidid,!1),o.regularPlacer.validRatio=parseFloat(o.regularPlacer.validRatio||.9),o.regularPlacer.showLogo=r.parseBool(o.regularPlacer.showLogo,!0),o.regularPlacer.logoPosition=o.regularPlacer.logoPosition||"top-right",o.regularPlacer.clickByPoint=r.parseBool(o.regularPlacer.clickByPoint,!1),o.regularPlacer.applyZIndexReorder=r.parseBool(o.regularPlacer.applyZIndexReorder,!0),o.regularPlacer.renderModulus=parseInt(o.regularPlacer.renderModulus||60),o.regularPlacer.minimumWidth=parseInt(o.regularPlacer.minimumWidth||100),o.regularPlacer.watchFull=o.regularPlacer.watchFull||{},l.isMobile()&&o.regularPlacer.watchFull.mobile?o.regularPlacer.watchFull=o.regularPlacer.watchFull.mobile:c&&o.regularPlacer.watchFull.desktop&&(o.regularPlacer.watchFull=o.regularPlacer.watchFull.desktop),o.regularPlacer.watchFull.active=r.parseBool(o.regularPlacer.watchFull.active,!1),o.regularPlacer.watchFull.active&&(o.regularPlacer.watchFull.minimumWidth=parseInt(o.regularPlacer.watchFull.minimumWidth||500),o.regularPlacer.watchFull.text=o.regularPlacer.watchFull.text||"Watch Full Video",o.regularPlacer.watchFull.position=o.regularPlacer.watchFull.position||["bottom","left"]),l.isMobile()?o.regularPlacer.playmode=_.playmode.VIEWPORT:o.regularPlacer.playmode="hover"==o.regularPlacer.playmode?_.playmode.HOVER:_.playmode.VIEWPORT,o.regularPlacer.maxApvsPerPage=parseInt(o.regularPlacer.maxApvsPerPage||999),o.regularPlacer.noDuplicateVideos=r.parseBool(o.regularPlacer.noDuplicateVideos,!1),o.regularPlacer.trackSize=r.parseBool(o.regularPlacer.trackSize,!0)}(),o.inArticlePlacer=o.inArticlePlacer||{},c&&o.inArticlePlacer.desktop?o.inArticlePlacer=o.inArticlePlacer.desktop:!c&&o.inArticlePlacer.mobile&&(o.inArticlePlacer=o.inArticlePlacer.mobile),o.inArticlePlacer.active=r.parseBool(o.inArticlePlacer.active,!1),o.inArticlePlacer.showLogo=r.parseBool(o.inArticlePlacer.showLogo,!0),o.inArticlePlacer.logoPosition=o.inArticlePlacer.logoPosition||"top-right",o.inArticlePlacer.viewportMask=o.inArticlePlacer.viewportMask||"emptySelector",o.inArticlePlacer.filter=o.inArticlePlacer.filter||{},o.inArticlePlacer.filter.white=o.inArticlePlacer.filter.white||[],o.inArticlePlacer.filter.black=o.inArticlePlacer.filter.black||[],o.inArticlePlacer.watchFull=o.inArticlePlacer.watchFull||{},o.inArticlePlacer.watchFull.active=r.parseBool(o.inArticlePlacer.watchFull.active,!1),o.inArticlePlacer.watchFull.active&&(o.inArticlePlacer.watchFull.minimumWidth=parseInt(o.inArticlePlacer.watchFull.minimumWidth||500),o.inArticlePlacer.watchFull.text=o.inArticlePlacer.watchFull.text||"Watch Full Video",o.inArticlePlacer.watchFull.position=o.inArticlePlacer.watchFull.position||["bottom","left"]),o.scraper=o.scraper||{},o.scraper.filter=o.scraper.filter||{},o.scraper.filter.white=o.scraper.filter.white||[],o.scraper.filter.black=o.scraper.filter.black||[],o.scraper.enableEventCollection=r.parseBool(o.scraper.enableEventCollection,!1),o.scraper.type2=r.parseBool(o.scraper.type2,!1),o.scraper.IAContainers=o.scraper.IAContainers||"emptySelector",o.scraper.autopush&&r.isArray(o.scraper.autopush)?o.scraper.autopush=o.scraper.autopush:o.scraper.autopush=[],a.rezVideo||(a.rezVideo={s:100,m:200,l:300}),P.dispatchEvent(_.Events.CONFIG_READY,this)},getFilterPlacements:function(e){return(e==_.Emitter.PRODUCT_IN_ARTICLE?o.inArticlePlacer:o.regularPlacer).filter},getStaticBlockerSelector:function(){return o.regularPlacer.blockingDistance.staticBlockersSelector},getEpsilonPercentage:function(){return 10},getMaxApvsPerPage:function(){return o.regularPlacer.maxApvsPerPage},getMinimumWidth:function(){return o.regularPlacer.minimumWidth},getValidRatio:function(){return o.regularPlacer.validRatio},getLogoPosition:function(){return o.regularPlacer.logoPosition},getRenderModulus:function(){return o.regularPlacer.renderModulus},shouldApplyZIndexReorder:function(){return o.regularPlacer.applyZIndexReorder},getShowLogo:function(){return o.regularPlacer.showLogo},getRegularPlacerWatchFullSettings:function(){return o.regularPlacer.watchFull},isClickByPointEnabled:function(){return o.regularPlacer.clickByPoint},getBlockingDistanceRadius:function(){return o.regularPlacer.blockingDistance.radius},noDuplicateVideos:function(){return o.regularPlacer.noDuplicateVideos},isBlockingServiceActive:function(){return o.regularPlacer.blockingDistance.active},shouldTrackSize:function(){return o.regularPlacer.trackSize},getTestGroupSize:function(){return o.general.testGroupSize},getIsEnableErrorReport:function(){return o.general.errorReport},shareMinuteEvent:function(){return o.general.shareMinuteEvent},shouldWaitForLoadEvent:function(){return o.general.shouldWaitForLoadEvent},getPublisherId:function(){return n},getPublisherIdNumber:function(){return"number"!=typeof n&&(n=n.replace("MIN-","")),parseInt(n)},getRezVideo:function(){return a.rezVideo},getRezVertical:function(){return a.rezVertical},getViewportAnalyticsPercentage:function(){return 50},getViewportAnalyticsTimeSpan:function(){return 1},getViewportPercentage:function(){return 1},getEffectApvTransitionVideo:function(){return"opacity 0.5s ease-out"},getCanReportImmediately:function(){return!!r.sendBeaconNative&&!l.isEdge()},getTooltip:function(){return"Optimized by minute.ly"},getBaseVideoUrl:function(){return a.baseVideoUrl||""},getRelativePlacements:function(){return o.placements||[]},getServerVersion:function(){return a.server_version},getBaseLinkUrl:function(){return"https://minute.ly"},getPlaymode:function(e){if(l.isMobile())return _.playmode.VIEWPORT;var t=o.regularPlacer.playmode;return e===_.Emitter.PRODUCT_IN_ARTICLE&&(t=o.inArticlePlacer.playmode),-1===Object.values(_.playmode).indexOf(t)?_.playmode.VIEWPORT:t},isInArticlePlacerActive:function(){return o.inArticlePlacer.active},getInArticleViewportMask:function(){return document.querySelector(o.inArticlePlacer.viewportMask)||window},getInArticleShowLogo:function(){return o.inArticlePlacer.showLogo},getInArticleLogoPosition:function(){return o.inArticlePlacer.logoPosition},getInArticlePlacerWatchFullSettings:function(){return o.inArticlePlacer.watchFull},isScraperEnable:function(){return c},getFilterScraper:function(){return o.scraper.filter},isScraperEnableEventCollection:function(){return o.scraper.enableEventCollection},getScraperType2:function(){return o.scraper.type2},getIAContainers:function(){return o.scraper.IAContainers},getAutopushCriteria:function(){return o.scraper.autopush}}}function Ce(d,i,t,e){function a(e){e=1==e?2:0;return t.isMobile()&&e++,e}function s(e,t){return e.hltId+"_"+t}function l(){var e=i.getItem(c);return e?e.split(","):[]}function n(e,t){for(var n=null,i=a(t),r=0;r<e.length;r++){var o=e[r];o.weights[i]&&(n&&d.logError("more than one hlt is set to product"),n=o)}return n}function p(e,t){switch(e.length){case 0:return null;case 1:return e[0]}return function(e,t){for(var n=l(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++)if(s(e[o],t)==r)return e[o];return null}(e,t)||function(e,t){for(var n=0,i=0;i<e.length;i++)n+=(r=e[i]).weights[g[v[t]]];for(var r,o=Math.random(),a=0,s=0;s<e.length;s++)if(o<(a+=(r=e[s]).weights[g[v[t]]])/n)return r;d.logWarning("shouldnt get here")}(e,t)}function h(e){return e.weights.split||d.logWarning("weights are not string, make sure no two snippets and config is well"),e.weights=e.weights.split?e.weights.split(","):e.weights,e.weights=e.weights.map(Number),e}function r(e){for(var t=[],n={},i=0;i<v.length;i++)n[v[i]]=[];for(var r=0;r<e.length;r++)for(var o=h(o=e[r]),a=0;a<v.length;a++){var s=g[v[a]];0<o.weights[s]&&n[v[a]].push(o)}for(var l,i=0;i<v.length;i++){var c,u=p(n[v[i]],i);u&&(c=d.cloneObject(u),l=c,u=v[i],l&&(l.weights=[0,0,0,0],l.weights[g[u]]=1),function(e,t){for(var n=Object.keys(t),i=0;i<e.length;i++){var r=!1,o=e[i];if(n.length===Object.keys(o).length){for(var a=0;a<n.length;a++){if(e[i][n[a]]!==t[n[a]]){r=!1;break}r=!0}if(r)return!0}}return!1}(t,c=l)&&d.logError("shouldnt choose two of the exact same"),t.push(c))}return t}function o(e){if(0==e.length)return e;for(var t=0;t<e.length;t++){var n=e[t];n.rank&&(d.isArray(n.rank)?d.logWarning("BlockingD: should not run twice on rank param..."):n.rank=n.rank.split(","),n.rank=parseFloat(n.rank[g.REGULAR]),n.rank=(n=n.rank,u?Math.floor(100*Math.random())+1:n))}return e}var g={};g.REGULAR=t.isDesktop()?0:1,g.IN_ARTICLE=t.isDesktop()?2:3;var v=Object.keys(g),c="ViewedHlts",u=!1;return{init:function(){(u=Math.floor(100*Math.random())<e.getEpsilonPercentage())&&d.log("BlockingD: This page is now Epsilon")},initActiveHighlights:function(e){var t=[];switch(e.length){case 0:t=[];break;case 1:t=[h(e[0])];break;default:t=r(e)}return o(t)},setHighlightViewed:function(e,t){!function(e,t){var n=l(),t=s(e,t);if(!(-1<n.indexOf(t))){for(;200<n.length;)n.shift();n.push(t),i.setItem(c,n.toString())}}(n(e,t),t)},getHltByProduct:n,hasAPVByProduct:function(e,t){for(var n=a(t),i=!1,r=0;r<e.length;r++){var o=e[r];0<o.weights[n]&&0!=!!o.vidUrl&&(i&&d.logError("shouldnt be more than one highlight per product at this stage"),i=!0)}return i},supportVertical:function(e){return!!(e=n(e,_.Emitter.PRODUCT_APV))&&d.parseBool(e.hasVertical,!1)}}}function we(o,e,t,r,a){function s(e,t){return t+"_"+e}function l(e,t,n){e[t]?e[t].push(n):e[t]=[n]}function n(e){for(var t=0;t<e.length;t++){(i=e[t]).highlights=a.initActiveHighlights(i.highlights);var n=r.create(i);d.push(n);var i=s(n.getPublisherVideoId(),n.getArticleUrl());h[i]?o.logWarning("didn't add duplicate unifiedKey"):(l(p,n.getArticleUrl(),n),l(h,n.getArticleUrl(),n),l(h,i,n),n.getDoesCollect()&&l(g,i,n))}}function c(){return i||localStorage&&!!localStorage.getItem("minActiveAll")}var i,u=[],d=[],p={},h={},g={};return{init:function(e){u=e.videos||[],i=y.debugParams[f.ACTIVE_ALL]||y.debugParams[f.MINUTE_UI_TEST],o.log("VideoManager total original video count: "+u.length),n(u),o.log("VideoManager total videos for IA: "+Object.keys(h).length+" and Regulars: "+Object.keys(p).length)},isDebug:function(){return!1},appendVideos:function(e){c()||(e=e.videos||[],u=u.concat(e),o.log("VideoManager append total original video count: "+u.length),n(e),o.log("VideoManager total valid video count: "+d.length),P.dispatchEvent(_.Events.VIDEOS_UPDATE))},isActiveAll:c,getArticlesListLength:function(){return d.length},getRegularArticleDataByURL:function(e){if(c())return p[Object.keys(p)[0]][0];if(e){e=o.urls.getCanonicalURL(e);var t=p[e];if(t&&0!=t.length){if(1===t.length)return t[0];for(var n=void 0,i=0;i<t.length;i++){var r=t[i];if(r.hasAPVByProduct(_.Emitter.PRODUCT_APV)){if(n){o.logError("more than one video is set as featured/regular for url: "+e);break}n=r}}return n}}},generateArticleData:function(e){return r.create({id:0,videoId:e,articleUrl:o.urls.getCurrentCanonicalURL(),doesCollect:!1,highlights:[]},!0)},hasInArticleArticleDataForUrl:function(e){return!(!e||!c()&&!h[e])},getInArticleArticleData:function(e,t){return t=t||(o.urls.isUrlHomePage()?e:o.urls.getCurrentCanonicalURL()),(e=h[t+"_"+e])&&0!==e.length?(1<e.length&&o.logError("Not suppose to get multiple publisher video id in the same Article Url."),e[0]):null},getCrowdSourceArticleData:function(e,t){return t=t||o.urls.getCurrentCanonicalURL(),(e=g[t+"_"+e])&&0!==e.length?(1<e.length&&o.logError("Not suppose to get multiple publisher video id in the same Article Url."),e[0]):null}}}function Te(){function t(e){var t=e;return t.selectors=t.selectors||{},{getPreviewSelector:function(){return t.selectors.preview},getSizeSelector:function(){return t.selectors.size||""},getAnchorSelector:function(){return t.selectors.anchor},getContainerSelector:function(){return t.selectors.container},getName:function(){return t.name},getMethod:function(){return t.method},getViewportMaskSelector:function(){return t.selectors.viewportMask},getViewportObserverSelector:function(){return t.selectors.viewportObserver}}}return{create:function(e){return new t(e)}}}function Le(i,e){var r,o=i,a=e,s=[];return{init:function(e){if(0!==(r=e.getRelativePlacements()).length)for(var t=0;t<r.length;t++){var n=r[t];if(!n.selectors)return i.log("no selectors where set"),void(n.selectors={});n.selectors.preview=n.selectors.preview||"img",n.selectors.anchor=n.selectors.anchor||"a",n.selectors.click=n.selectors.click||"",s.push(a.create(n))}else o.log("Configuration has NO PLACEMENTS!")},getAllPlacements:function(){return s}}}function Re(l,c){function u(e){return encodeURIComponent(D.b64EncodeUnicode(e))}function d(e){hn.appendVideos(e)}var p,h=l.isMobile()?1e4:5e3,g=function(){},v="[article_url]",m="[params]",f=[];return{loadNextArticle:function(e){var t,n,i,r,o,a,s;l.isBrowserSupported()&&(p=p||y._publisherDebugUrl||_.Urls.Configuration+"api/"+c.getServerVersion()+"/web/configuration/"+y._publisher+"/"+v+"/"+m+".json?",e.onSuccess=e.onSuccess||d,e.onTimeout=e.onTimeout||g,i=p,t=e.pageUrl||D.urls.getCurrentCanonicalURL(),n=("jsc"+D.b64EncodeUnicode(t||"JsonMinuteReadyNoURL")).replace(/=/g,""),i=(i=i.replace(v,u(t))).replace(m,u(JSON.stringify({config:!1}))),i+="callback="+n,-1<f.indexOf(t)||(f.push(t),i=i,e={callbackName:n,onTimeout:e.onTimeout,onSuccess:e.onSuccess},r=(e=e||{}).callbackName||"void",o=e.onSuccess||g,a=e.onTimeout||g,s=window.setTimeout(function(){window[r]=g,a()},h),window[r]=function(e){window.clearTimeout(s),o(e),window[r]=function(){}},(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src=i,document.getElementsByTagName("head")[0].appendChild(e)))}}}function Oe(t,n,e,i,r,o){function a(){if(1==n.__minNoTestMode)return u=!1,o.setItem(s,!1),t.logWarning("Owl no test mode!"),0;var e;if(void 0!==r){if("clear"!==r)return u="true"==r,o.setItem(s,!0),t.log("Force test group: "+u),0;t.log("Force RESET test group"),o.removeItem(s)}null!=(e=o.getItem(s))||(e=Math.floor(100*Math.random()+1)<=h,o.setItem(s,e,t.calcDateNextMidnightUTC())),u=e,d||(t.log("** Is Test Group: "+u),d=!0)}var s="testMode",l=0,c=2,u=null,d=!1,p=l,h=null;return{init:function(e,t){h=e,p=c,a()},isReady:function(){return p===c},isTestGroup:function(){return u},getGroupCode:function(){return!0===u?"1":"0"},reset:function(){d=!1,p=l,h=u=null,sn.reset()}}}var Ne,Ve,ke,Ue,Fe,Me,Be,xe,We,He,Ge,ze,Ye,qe,je,Ke,Je,Ze,Xe,$e,Qe=function(u,d){function t(e){var t,n,i,r,o,a,s,l=u.cloneObject(e),c=d.getBaseVideoUrl();return function(){if(t=parseInt(l.id),s=l.articleUrl,i=u.parseBool(l.doesCollect),n=parseInt(l.minVidId),r=l.videoRatio?parseFloat(l.videoRatio):1.78,o=l.highlights,a=l.vidId,o&&u.isArray(o))for(var e=0;e<o.length;e++)o[e].vidUrl="https://"+c+o[e].vidUrl}(),{getArticleId:function(){return t},getArticleUrl:function(){return s},getDoesCollect:function(){return i},getPublisherVideoId:function(){return a},getVideoDBId:function(){return n},getHighlights:function(){return o},getVideoRatio:function(){return r},hasAPVByProduct:function(e){return pn.hasAPVByProduct(o,e)}}}return{create:function(e){return new t(e)}}},et=(Me=100,xe=Be=50,{init:function(){function e(){P.dispatchEvent(_.Events.DomWindow.BLUR)}var t,n;(n=new A.utils.Debounce(xe,vt,null,_.Events.DomWindow.SCROLL)).enableFilter(),an.isMobile()&&an.isSafari()&&(t=new A.utils.Debounce(1e3,vt,null,_.Events.DomWindow.SAFARI_FOCUS)).enableFilter(),window.addEventListener(_.Events.DomWindow.FOCUS,function(e){n.start(),t&&t.start()}),window.addEventListener?window.addEventListener(_.Events.DomWindow.BLUR,e,!1):window.attachEvent&&window.attachEvent(_.Events.DomWindow.BLUR,e),gt(_.Events.DomWindow.RESIZE,Be),y.debugParams[f.DEBUG_VISIBILITY]&&D.log("DEBUG_VISIBILITY: scroll is calculated relative to window"),gt(_.Events.DomWindow.SCROLL,Me),(an.isMobile||an.isiPad())&&void 0!==window.onorientationchange&&window.addEventListener(_.Events.DomWindow.ORIENTATION_CHANGE,function(){setTimeout(function(){vt(_.Events.DomWindow.ORIENTATION_CHANGE,!0)},1e3)}),window.addEventListener("visibilitychange",function(){vt(_.Events.DomWindow.VISIBILITY_CHANGE)})}}),tt=function(){var i={id:"a",highlight_id:"b",comp:"c",publisher:"d",hadImpression:"e",hadImpressionSession:"f",url:"g",script_time:"h",config_time:"i",event_time_from_genesis:"j",event_time_from_minute_genesis:"k",test_mode:"l",playMode:"m",sub_test_group:"n",source:"o",type:"p",placementFunction:"q",uniq:"r",product:"s",placement:"t"},r=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}(i);return{compress:function(e){var t,n={};for(t in e)void 0!==i[t]?n[i[t]]=e[t]:n[t]=e[t];return n},extract:function(e){var t,n={};for(t in e)void 0!==r[t]?n[r[t]]=e[t]:n[t]=e[t];return n}}},nt=function(n,i){function r(){return{time:n.getTimeNow(),list:[]}}function o(){var e,t=i.getItem(l);c=t&&s.test(t)?(-1===(t=(e=t).replace("time:",'"time":').replace("list:",'"list":')).indexOf("[]")&&(t=t.replace("[",'["').replace("]",'"]'),(e=t.split("["))[1]=e[1].replace(/,/g,'","'),t=e.join("[")),JSON.parse(t)):c||r()}function a(e){var t=e;return{isSent:function(){return o(),-1<c.list.indexOf(t)},setAnalyticState:function(){var e;c.time=n.getTimeNow(),-1<c.list.indexOf(t)&&n.logError("Duplicated key in Usher! _key: "+t),c.list.push(t),c.time=n.getTimeNow(),e=(e=JSON.stringify(c)).replace(/"/g,""),i.setItem(l,e)}}}var s=/{(time):\d+,(list):\[([\d\w,]*)+]}/,l="sessionUniqs",c={};return{get:function(e,t,n,i,r){return new a(e.toString()+t+n+(i?"t":"f")+r)},init:function(){c=r(),o()}}},it=function(r,t,o,e,n,i){function a(e,t){(l||t)&&n.send(_.Emitter.VIEWPORT,r.cloneObject(e))}var s=null,l=!1,c=null;return{init:function(e){s=t.isTestGroup(),o.isMobile(),l=!0,c=e},pushAnalytics:a,sendSessionImpression:function(e,t,n){(n=i.get(e.getArticleId(),t.placementFunction,_.Emitter.CLICK_TYPE_NONE,s,n)).isSent()||(a(t),n.setAnalyticState())},getAnalyticPayloadWithArticleData:function(e,t,n){var i=n&&n.getBelongToUrl()||r.urls.getCurrentCanonicalURL(),i={id:e.getArticleId(),highlight_id:n.getHighlightId(),comp:o.isBrowserSupported()?1:0,publisher:y._publisher,hadImpression:c.hadImpression(e.getPublisherVideoId()),hadImpressionSession:c.hadImpressionSession(),url:i,script_time:m.getScriptTime(),config_time:m.getConfigTime(),event_time_from_genesis:m.getTimeFromGenesis(),event_time_from_minute_genesis:m.getTimeFromMinuteGenesis(),test_mode:s,source:o.getAnalyticsSource()};return r.extendObject(i,t)}}},rt=function(n,e,i){return{dispatchImpression:function(e){var t;e&&i.shareMinuteEvent()&&(t={url:e.apvData&&e.apvData.getBelongToUrl()||n.urls.getCurrentCanonicalURL(),target_url:e.apvData._rawAnchorValue||e.articleData.getArticleUrl(),test_group:un.isTestGroup(),minute_apv_id:e.apvData.getHighlightId()},e.apvData.uniq||(t=new CustomEvent(_.Emitter.MINUTE_VIEWPORT_EVENT,{detail:t}),window.dispatchEvent(t)))}}},ot=(ke=6e4,Ue=0,Fe=[],{addLinkSelector:function(e){for(var t=D.cloneArray(e.getClickElements()),n=0;n<t.length;n++)ct(t[n],e);ct(e.getContainerElement(),e)},addLogoClickListener:function(t){t.hasDisposed()||t.getDomAdapter().addEventListener(_.Events.APV_LOGO_CLICK,function(e){lt(t)})},sendDelayedClicks:function(){var e=hn.getRegularArticleDataByURL(D.urls.getCurrentCanonicalURL());e&&gn.sendLogDelayById(e.getArticleId())},addManualAnchor:function(e){e.getManualClick()&&ct(e.getManualClick(),e)},sendClick:pt}),at=(Ve="minSessionSent",{sendUrlReport:function(){var e,t;Ne=!1,sn.get(Ve)||(sn.set(Ve,!0),Ne=!0),e=Ne,t={id:y._publisher,user_agent:navigator.userAgent,uniq:e,test_mode:un.isTestGroup(),url:D.urls.getCurrentCanonicalURL(),referrer:document.referrer.substr(0,200),source:an.getAnalyticsSource(),comp:an.isBrowserSupported(),stor:!!rn.getLocalStorageInstance(),script_time:m.getScriptTime(),config_time:m.getConfigTime(),event_time_from_genesis:m.getTimeFromGenesis(),event_time_from_minute_genesis:m.getTimeFromMinuteGenesis()},ln.send(_.Emitter.URL_REPORT,D.cloneObject(t)),e&&(t.uniq=!1,ln.send(_.Emitter.URL_REPORT,t)),P.dispatchEvent(_.Events.CLIENT_INIT_ANALYTICS)}}),st=function(t,n,i,r,e,o,a,s){return{start:function(){var e;r.getItem(_.StorageSubKeys.dailyUser)||(e={id:y._publisher,user_agent:navigator.userAgent,test_mode:n.isTestGroup(),url:t.urls.getCurrentCanonicalURL(),referrer:document.referrer.substr(0,200),source:i.getAnalyticsSource(),comp:i.isBrowserSupported(),stor:!0,script_time:o.getScriptTime(),config_time:o.getConfigTime(),event_time_from_genesis:o.getTimeFromGenesis(),event_time_from_minute_genesis:o.getTimeFromMinuteGenesis(),daily_user:a.getUserId()},ln.send(_.Emitter.DAILY_USER,e),r.setItem(_.StorageSubKeys.dailyUser,!0,t.calcDateNextMidnightUTC()),P.dispatchEvent(_.Events.DAILY_USER))}}};function lt(e){var t=e.getArticleData();t&&(ut(t.getArticleId()),pt(t,{type:_.Emitter.ANALYTICS_CLICK_EVENT,uniq:!1,placementFunction:_.Placements.HOVER_IMPRESSION,product:e.getProduct(),placement:e.getName(),playMode:e.getPlaymodeEnum()},!1,e),P.dispatchEvent(_.Events.REGULAR_CLICK,e))}function ct(e,t){var n;t.hasDisposed()||-1<Fe.indexOf(e)||(n=new A.utils.MouseClickEventObserver(e,function(){lt(t)}),t.onDisposed().addOnce(function(){setTimeout(n.dispose.bind(n),2e3)}),function(e,t){t=new A.utils.ContextMenuObserver(e,t);t.addEventListener("contextMenuOpen",ht),t.addEventListener("contextMenuHandleOpen",dt)}(t,e),Fe.push(e))}function ut(e){0<Ue&&(clearTimeout(Ue),Ue=0,gn.removeLogDelayById(e))}function dt(e){var t,n=e.data,i=n.getArticleData();ut(t=i.getArticleId()),Ue=setTimeout(function(){ut(t)},ke);e=n.getProduct(),n=fn.getAnalyticPayloadWithArticleData(i,{type:_.Emitter.CONTEXT_MENU_OPEN_EVENT,placementFunction:_.Placements.HOVER_IMPRESSION,uniq:!1,product:e},n);gn.logDelay(n)}function pt(e,t,n,i){var r=t.product||0,o=r===_.Emitter.PRODUCT_IN_ARTICLE;i=i||yn.getApvDataByKeyProduct(e.getPublisherVideoId(),r),(o||n||dn.getCanReportImmediately())&&P.dispatchEvent(_.Events.INARTICLE_CLICK,i),yn.getShouldSendClickEvent(i)&&(t=fn.getAnalyticPayloadWithArticleData(e,t,i),gn.log(t)),yn.setClickAlreadySent(i)}function ht(e){e=e.data;gn.removeLogDelayById(e.getArticleData().getArticleId())}function gt(e,t){var n=new A.utils.Debounce(t,vt,null,e);n.enableFilter(),window.addEventListener(e,function(e){n.start()},!0)}function vt(e,t){P.dispatchEvent(e,!!t)}function mt(){mt.__superCtor__.call(this)}function ft(){ft.__superCtor__.call(this)}function Et(){Et.__superCtor__.call(this),this.apvData=null,this.domAdapter=null,this.apvPlayer=null,this.articleData=null}function yt(){yt.__superCtor__.call(this)}function _t(e){return e.stopImmediatePropagation(),!1}function At(){At.__superCtor__.call(this),this.ATTR_MEDIA_SIZE="data-media_file_size",this.mediaHeightIndex="",this._apvElement=null,this.alreadyPlayed=!1}function Dt(){Dt.__superCtor__.call(this)}function Pt(){}function St(e){hn.hasInArticleArticleDataForUrl(e.url)||En.loadNextArticle({onSuccess:It,pageUrl:e.url})}function It(e){hn.appendVideos(e)}function bt(){bt.__superCtor__.call(this)}function Ct(){this._onPlayerFeaturedInstanceFound=new A.utils.Signal,this._currentScraperData=null,this._placeholderFoundList=[],this._topMostPlaceholder=null,this._alreadySentFeatured=!1}function wt(){this._articleData=null,this.scrapData=null,this._onDisposed=new A.utils.Signal,this._onPlayerAction=new A.utils.Signal,this._onPlayerProgress=new A.utils.Signal,this._onVideoView=new A.utils.Signal,this._onError=new A.utils.Signal,this._onPlayerInstanceFound=new A.utils.Signal,this._onPlayerVideoChanged=new A.utils.Signal,this._analyser=null,this._progressTimer=null,this._handleFocusInEvent=null,this._handleFocusOutEvent=null,this._doesCollect=null,this._sessionId=D.generateUID()}function Tt(){this._state=0,this._onPlayerInstanceFound=new A.utils.Signal,this._onPlayerPlaceholderFound=new A.utils.Signal,this._onContainerPlaceholderList=new A.utils.Signal,this._foundList={},this._validatePlayerConfig(),this._setStateIdle()}function Lt(e){this._detectorCollection=e,this._pluginHash=[],this._init()}function Rt(){this._onPlayerInstanceFound=new A.utils.Signal,this._onPlayerFeaturedInstanceFound=new A.utils.Signal,this._onPlayerPlaceholderFound=new A.utils.Signal,this._onContainerPlaceholderList=new A.utils.Signal,this._detectorList=[],this._pickerList=[],this._counter=0,this._scraperTimer=null}function Ot(){Ot.__superCtor__.call(this),this._driverList=[]}function Nt(){}function Vt(){this._playerOnHold={},P.addEventListener(_.Events.VIDEOS_UPDATE,this.handleVideosUpdate.bind(this))}function kt(){this._playerOnHold={},P.addEventListener(_.Events.VIDEOS_UPDATE,this.handleVideosUpdate.bind(this))}function Ut(){}!function(){function e(){this._observedElements=[]}A.analytics=A.analytics||{};var o=0,n=1,i=2,r=3;(A.analytics.ViewportAnalyticsService=e).prototype.init=function(){var e=this;dn.getViewportAnalyticsPercentage(),P.addEventListener(_.Events.DomWindow.RESIZE,function(){e._debounceStartAll()}),P.addEventListener(_.Events.DomWindow.SCROLL,function(){e._debounceStartAll()}),e._debounceStartAll()},e.prototype.register=function(e){e.getDomAdapter().addEventListener(_.Events.Element.READY,this.addObservedElement,this),e.getDomAdapter().addEventListener(_.Events.Element.MUTANT,this.notifyVisibleFromMutant,this),e.onDisposed().addOnce(this.unregister,this)},e.prototype.unregister=function(e){e.getDomAdapter().removeEventListener(_.Events.Element.READY,this.addObservedElement,this),e.getDomAdapter().removeEventListener(_.Events.Element.ANALYTICS_VISIBLE,this.handleDomAdapterViewportEvent,this),e.getDomAdapter().removeEventListener(_.Events.Element.MUTANT,this.notifyVisibleFromMutant,this),this.removeSubjectByApvData(e)},e.prototype.addObservedElement=function(e){var t=e.data,e=un.isTestGroup()?t.apvData.getElementToReplace():t.apvData.getApvPlayer().getApvElement(),n={};n.id=t.apvData.getUniqId(),n.articleData=t.apvData.getArticleData(),n.elem=e,n.product=t.apvData.getProduct(),n.apvData=t.apvData,n.viewportMaskElement=t.apvData.getViewportMaskElement(),n.state=o;for(var i=!1,r=0;r<this._observedElements.length;r++)if(this._observedElements[r].id===t.apvData.getUniqId()){this._observedElements[r]=n,i=!0;break}i||this._observedElements.push(n),this.attachClickListeners(n.apvData),n.debounce=new A.utils.Debounce(dn.getViewportAnalyticsTimeSpan(),this._handleObservedElementDebounce,this,n),n.debounce.enableFilter(),n.apvData.getDomAdapter().addEventListener(_.Events.Element.ANALYTICS_VISIBLE,this.handleDomAdapterViewportEvent.bind(this))},e.prototype.removeSubjectByApvData=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t];if(e.getUniqId()===n.id){n.apvData=null,n.articleData=null,n.viewportMaskElement=null,n.elem=null,n.debounce.kill(),n.debounce=null,this._observedElements.splice(t,1);break}}},e.prototype.handleDomAdapterViewportEvent=function(e){var t=e.data.apvData,e=e.data.percentsVisible>=dn.getViewportAnalyticsPercentage();this.notifyVisible(t,e)},e.prototype._debounceStartAll=function(){for(var e=0;e<this._observedElements.length;e++)this._observedElements[e].debounce.start()},e.prototype.notifyVisible=function(e,t){for(var n=0;n<this._observedElements.length;n++){var i=this._observedElements[n];if(i.apvData===e)return i.isVisible=t,void i.debounce.start()}},e.prototype.notifyVisibleFromMutant=function(e){var t=this;setTimeout(function(){t.notifyVisible(e.data.apvData)},e.data.timeout)},e.prototype._handleObservedElementDebounce=function(e){this.doUpdate(e)&&0<=dn.getViewportAnalyticsTimeSpan()&&setTimeout(this.doUpdate.bind(this,e,!0),dn.getViewportAnalyticsTimeSpan())},e.prototype.doUpdate=function(e,t){var n=!(!D.isIFrame()&&!document.hasFocus())&&e.isVisible;return(!e.apvData||!e.apvData.hasDisposed())&&(n?this._handleVisible(e,!!t):e.state=i,n)},e.prototype._handleVisible=function(e,t){switch(e.state){case n:t&&(this._inViewport(e),e.state=r);break;case o:case i:e.state=n}},e.prototype._inViewport=function(e){e.apvData&&e.apvData.getShouldSendImpression()&&this.sendImpression(e)},e.prototype.sendImpression=function(e){this.setHadImpressionSession(),e.apvData.setImpressionHasSent();var t={type:_.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:_.Placements.VIEWPORT_IMPRESSION,uniq:!1,product:e.apvData.getProduct(),placement:e.apvData.getName(),script_time:m.getScriptTime(),config_time:m.getConfigTime(),playMode:e.apvData.getPlaymodeEnum()};dn.getRezVertical()&&(t.vertical=e.apvData.isApvVertical());t=fn.getAnalyticPayloadWithArticleData(e.articleData,t,e.apvData);Sn.dispatchImpression(e),fn.pushAnalytics(t),yn.setImpressionSent(e.apvData),this.sendSessionImpression(e),pn.setHighlightViewed(e.apvData.getHighlights(),e.apvData.getProduct()),P.dispatchEvent(_.Events.IMPRESSION)},e.prototype.sendSessionImpression=function(e){var t=e.apvData.getProduct(),n=fn.getAnalyticPayloadWithArticleData(e.articleData,{type:_.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:_.Placements.VIEWPORT_IMPRESSION,uniq:!0,product:t,placement:e.apvData.getName(),script_time:m.getScriptTime(),config_time:m.getConfigTime(),playMode:e.apvData.getPlaymodeEnum()},e.apvData);dn.getRezVertical()&&(n.vertical=e.apvData.isApvVertical()),fn.sendSessionImpression(e.articleData,n,t)},e.prototype.attachClickListeners=function(e){yn.getIsClickRegistered(e)||(e.getProduct()===_.Emitter.PRODUCT_APV&&ot.addLogoClickListener(e),ot.addManualAnchor(e),ot.addLinkSelector(e),yn.setIsClickRegistered(e,!0))},e.prototype.hadImpression=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t];if(n.articleData.getPublisherVideoId()===e&&n.apvData.getDidImpressionSent()&&n.apvData.getProduct()===_.Emitter.PRODUCT_IN_ARTICLE)return!0}return!1},e.prototype.hadImpressionSession=function(){return D.parseBool(on.getItem(_.StorageSubKeys.hadImp))},e.prototype.setHadImpressionSession=function(){on.setItem(_.StorageSubKeys.hadImp,!0)}}(),$e=document.referrer,window.self===window.top?(A.publisher.getFirstArticleUrl=function(){return A.publisher.utils.isUrlHomePage(location.href)?location.origin:""},A.publisher.getCustomUrl=function(){return window.location.href}):A.publisher.getCustomUrl=A.publisher.getFirstArticleUrl=function(){return $e},(nn=new A.utils.Debounce(500,function(){})).enableFilter(200),P.addEventListener(_.Events.DomWindow.SCROLL,nn.start.bind(nn)),function(){function r(e){if(s)return s;for(var t=Object.keys(e||{}),n=0;n<t.length;n++){var i=t[n];if(0<=i.indexOf("__reactInternalInstance"))return s=i.replace(a,"$1")}return null}function t(e){return n(e)||i(e)}function n(e){try{return e[r(e)]._currentElement._owner.getPublicInstance()}catch(e){}return null}function i(e){try{return e[r(e)].memoizedProps.children.filter(function(e){return!!e.props&&!!e.props.id})[0].props.store}catch(e){}return null}A.publisher.utils=A.publisher.utils||{};var o=A.publisher.utils,a=/__reactInternalInstance([.]+)$/i,s="";o.getReactData=function(e){return r(e)?t(e):null},o.isAnvatoPlayer=function(e){try{return!!e.querySelector("iframe").contentWindow.anvp}catch(e){}return!1},o.getReactVersion=function(e){return n(e)?15:i(e)?16:0},o.getNflFrameDataRegex=function(){return"^(?:persistent-video-player|video-player|playaction-\\d+-)$"},o.getPlayerIFrameData=function(e){e=e.querySelector("iframe");if(!e)return!1;var t,n=e.contentWindow.anvp,i=new RegExp(o.getNflFrameDataRegex(),"i");for(t in n)if(i.test(t)&&n[t].config)return n[t].config;D.logError("Not suppose to get here, wrong element provided.")},o.getPlayerFeatured=function(e){var t,n=e.querySelector("iframe"),i=/^(?:video-player|playaction-0-)$/i;if(!n)return i.test(e.id);for(t in n.contentWindow.anvp)if(i.test(t))return!0;return!1},o.getPlayerComponent=function(e){return function(e){for(var t=D.cloneArray(e.children),n=0;n<t.length;n++){var i=t[n],i=i[r(i)];if(i&&i._currentElement&&i._currentElement._owner&&i._currentElement._owner._instance&&i._currentElement._owner._instance.player)return i._currentElement._owner._instance.player}return null}(e)||i(e)},o.getPlayerEventDispatcher=function(e){var t=e;return(t=e instanceof HTMLElement?o.getPlayerComponent(e):t)&&t._eventDispatcher},o.getAdsComponent=function(e){e=e.querySelector(".ima3Container");return e?t(e):null},o.getVideoUrlByContainer=function(e){var t=o.getReactData(e);if(t){if(t.props&&t.props.data)return t.props.data.shareUrl;if(t.props&&t.props.children&&t.props.children.props&&t.props.children.props.title)return t.props.children.props.title.url}return e.getAttribute("data-url")},o.getAnchorElement=function(e){return e},o.getPlayerInitialVideoId=function(e){return e.props&&e.props.initialVideo&&e.props.initialVideo.id},o.getVideoDataFromPlayer=function(e,t){return e.currentVideo&&e.currentVideo[t]},o.isFigurePlayerReady=function(e,t){return e.currentVideo&&e.currentVideo.id&&t.querySelector("[data-test-id]")&&r(t)&&t[r(t)]},o.getPlayerPoster=function(e){return e.querySelector(".poster")};var l=/^https?:\/\/www\.nfl\.com\/m\/share\?p=(.+)/i,c=/^https?:\/\/www\.nfl\.com\/share\/(.+)/i,u="http://www.nfl.com";o.parseSharedUrl=function(e){return c.test(e)?u+"/now/"+e.replace(c,"$1"):l.test(e)?u+decodeURIComponent(e.replace(l,"$1")):e},o.parseCommercialsUrl=function(e){return c.test(e)?u+"/super-bowl/commercials/"+e.replace(c,"$1"):e},o.isElementLazyLoad=function(e){if(an.isIE()||an.isEdge())return!1;var t=e.containerElement.querySelectorAll("img");if(0===t.length)return!0;e="https://static.nfl.com/static/content/public/static/wildcat/assets/icons/ic_playVideo.svg";return 1<=t.length&&t[0].src===e||(1!==t.length||t[0].src===e)&&!(1<t.length&&t[0].src!==e)&&(D.logError("HOW DID WE GET HERE???"),!1)};var d=["/super-bowl/commercials","/videos"];o.isUrlHomePage=function(e){e=D.urls.getCanonicalURL(e);return""===e||-1<d.indexOf(e)}}(),function(){function e(){var n={},t={},i={},r={};return{addItem:function(e){var t=e.getSubType?e.getSubType():A.scrap.player.SubTypes.DEFAULT;n[e.getType()]=n[e.getType()]||{},n[e.getType()][t]=e},addDetector:function(e){-1!=Object.values(A.scrap.PlayersNameEnum).indexOf(e.getName())&&(i[e.getName()]=e)},getDetector:function(e){return i[e]},getAllRegisterdDetectors:function(){return i},getItem:function(e,t){return n[e]&&n[e][t||A.scrap.player.SubTypes.DEFAULT]},addDriver:function(e){-1<Object.keys(A.scrap.REGISTRED_DRIVERS).indexOf(e.getName())&&(t[e.getName()]=e)},getDriver:function(e){return t[e]},getAllItemTypes:function(){return Object.keys(n)},getAllRegisterdItem:function(){return n},addPicker:function(e){r[e.getName()]=e},getPicker:function(e){return r[e]},getAllRegisteredPickers:function(){return r}}}A.scrap=A.scrap||{},A.scrap.utils=A.scrap.utils||{},A.scrap.player=A.scrap.player||{},A.scrap.detector=A.scrap.detector||{},A.scrap.driver=A.scrap.driver||{},A.scrap.picker=A.scrap.picker||{},A.scrap.plugin=A.scrap.plugin||{},A.scrap.utils.defineError=function(e,t,n){n=n?" "+n:"",D.logError("Scraper "+(e?"'"+e.getName()+"' ":"")+"'"+t+"' Not Defined."+n)},A.scrap.REGISTRED_DRIVERS=JSON.parse("{}"),A.scrap.PlayersNameEnum=JSON.parse('{"NFL":"NFL"}'),A.scrap.PlayerEnum={DEFAULT:99,DEFAULT_99:99,Flowplayer:1,OOYALA:2,YOUTUBE:6,DailyMotion:6,Jwplayer:8,VideoJSIFrame:12,VideoJS:13,NBA:15,Edge:17,ThePlatformFoxSports:26,ThePlatformBravo:29,NFL:32,ThePlatformCnbc:33,CINCOPA:34,VjsNew:36,Channel10:37,MLB:39,EdgeBrightcove:39,CBSsports:40,WsbtvAnvato:41,JWFox:42,ZEE5:43,Vidible:44,DUMONT:46,MMM:47,Fotbolls:48,MLB_FORGE:49,MAGENTA:50,ESPORT:51};var t,n,i,r=A.scrap.ScrapPlugin={VIDEO_VIEW:1,VISUAL_CLICKS:3,PLAYER_CONTENT_CHANGED:5,PLAYER_FOUND:7,PLACEHOLDER_FOUND:8,PLAYER_VIDEO_CHANGED:9};A.scrap.ScrapPluginAll=[r.VIDEO_VIEW,r.VISUAL_CLICKS,r.PLAYER_FOUND,r.PLACEHOLDER_FOUND,r.PLAYER_VIDEO_CHANGED],A.scrap.player.SubTypes={DEFAULT:"default"},A.scrap.driver={},A.scrap.driver.PlayerAction={NONE:"none",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",ENDED:"ended",SEEK_START:"seekStart",SEEK_END:"seekEnd",VOLUME_CHANGE:"volume",MUTE_CHANGE:"mute",FULLSCREEN:"fullscreen",NEW_VIDEO:"newVideo",REPLAY:"replay",FOCUS:"focus"},A.scrap.utils={},A.scrap.utils.roundValue=function(e){return Math.round(1e3*e)/1e3},A.scrap.consts={VOLUME_EMPTY:-2,TIME_EMPTY:-1},A.scrap.factory=(t=new e,n=new e,i=new e,r=new e,{addPlugin:i.addItem,getPlugin:i.getItem,addDetector:t.addDetector,getDetector:t.getDetector,getAllRegisterdDetectors:t.getAllRegisterdDetectors,addDriver:n.addDriver,getDriver:n.getDriver,addPicker:r.addPicker,getPicker:r.getPicker,getAllRegisteredPickers:r.getAllRegisteredPickers})}(),Xe=A.scrap.utils.defineError,Ut.shouldRun=function(){return!0},Ut.prototype.getType=function(){Xe(null,"getType")},Ut.prototype.setPlayerCollection=function(e){},Ut.prototype.addDriver=function(e){},A.scrap.plugin.Base=Ut,D.extends(kt,A.scrap.plugin.Base),kt.getType=function(){return A.scrap.ScrapPlugin.PLACEHOLDER_FOUND},kt.getName=function(){return"PlaceholderFound"},kt.prototype.getType=function(){return kt.getType()},kt.prototype.setPlayerCollection=function(e){e.onPlayerPlaceholderFound().add(this.handleDetector_PlayerPlaceholderFound,this)},kt.prototype.handleVideosUpdate=function(){for(var e=Object.keys(this._playerOnHold),t=0;t<e.length;t++){var n=e[t],i=this._playerOnHold[n];i&&hn.hasInArticleArticleDataForUrl(i.url)&&(this.sendEvent(i),this._playerOnHold[n]=null)}},kt.prototype.handleDetector_PlayerPlaceholderFound=function(e){hn.getInArticleArticleData(e.videoId,e.url)?this.sendEvent(e):(D.log("Player Placeholder found - WAITING for ArticleData:"),D.logObject(e),this._playerOnHold[e.videoId]=e)},kt.prototype.sendEvent=function(e){var t=hn.getInArticleArticleData(e.videoId,e.url);return t?(D.log("Player Placeholder Found - READY:"),D.logObject(e),void P.dispatchEvent(_.Events.PLAYER_PLACEHOLDER_FOUND,{container:e.element,playerJS:e.playerJS,videoId:e.videoId,articleUrl:e.url,articleData:t})):(D.log("Player Placeholder Found - does NOT have correct Video ID:"),void D.logObject(e))},A.scrap.plugin.PlaceholderFound=kt,A.scrap.factory.addPlugin(kt),D.extends(Vt,A.scrap.plugin.Base),Vt.getType=function(){return A.scrap.ScrapPlugin.PLAYER_FOUND},Vt.getName=function(){return"PlayerFound"},Vt.prototype.getType=function(){return Vt.getType()},Vt.prototype.setPlayerCollection=function(e){e.onPlayerInstanceFound().add(this.handleDetector_PlayerInstanceFound,this)},Vt.prototype.handleVideosUpdate=function(){for(var e=Object.keys(this._playerOnHold),t=0;t<e.length;t++){var n=e[t],i=this._playerOnHold[n];i&&hn.hasInArticleArticleDataForUrl(i.url)&&(this.sendEvent(i),this._playerOnHold[n]=null)}},Vt.prototype.handleDetector_PlayerInstanceFound=function(e){hn.getInArticleArticleData(e.videoId,e.data.url)?this.sendEvent(e):(D.log("Player Found - WAITING for articleData:"),D.logObject(e),this._playerOnHold[e.playerId]=e)},Vt.prototype.sendEvent=function(e){var t=hn.getInArticleArticleData(e.videoId,e.url);return t?(D.log("Player Found - READY:"),D.logObject(e),void P.dispatchEvent(_.Events.PLAYER_FOUND,{container:e.playerPlaceholder,playerJS:e.playerJS,videoId:e.videoId,articleUrl:e.url,autoplay:e.isPlayerStarted,articleData:t})):(D.log("Player Found - does NOT have correct Video ID:"),void D.logObject(e))},A.scrap.plugin.PlayerFound=Vt,A.scrap.factory.addPlugin(Vt),D.extends(Nt,A.scrap.plugin.Base),Nt.getType=function(){return A.scrap.ScrapPlugin.PLAYER_VIDEO_CHANGED},Nt.getName=function(){return"PlayerVideoChanged"},Nt.prototype.getType=function(){return Nt.getType()},Nt.prototype.addDriver=function(e){e.onPlayerVideoChanged().add(this.handleDriver_PlayerVideoChanged,this)},Nt.prototype.handleDriver_PlayerVideoChanged=function(e){P.dispatchEvent(_.Events.PLAYER_VIDEO_CHANGED,{container:e.scrapData.playerPlaceholder,playerJS:e.scrapData.playerJS,articleUrl:e.scrapData.url,videoId:e.scrapData.videoId,newVideoId:e.videoId})},A.scrap.plugin.PlayerVideoChanged=Nt,A.scrap.factory.addPlugin(Nt),D.extends(Ot,A.scrap.plugin.Base),Ot.getType=function(){return A.scrap.ScrapPlugin.VIDEO_VIEW},Ot.getName=function(){return"VideoViews"},Ot.prototype.getType=function(){return Ot.getType()},Ot.prototype.addDriver=function(e){this._driverList.push(e),e.onVideoView().add(this.handleVideoView,this)},Ot.prototype.handleVideoView=function(e){P.dispatchEvent(_.Events.PLAYER_PLAYING,{videoId:e.videoId,counter:e.counter});e={url:e.url,vid:e.videoId,test_mode:un.getGroupCode(),comp:an.isBrowserSupported()?1:0,source:an.getAnalyticsSource(),publisher:y._publisher,hadImpression:e.hadImpression,hadImpressionSession:_n.hadImpressionSession(),counter:e.counter,script_time:m.getScriptTime(),config_time:m.getConfigTime()};ln.send(_.Emitter.VIDEO_VIEWS,e)},A.scrap.plugin.VideoViews=Ot,A.scrap.factory.addPlugin(Ot),(A.scrap.DetectorsCollector=Rt).prototype.onPlayerInstanceFound=function(){return this._onPlayerInstanceFound},Rt.prototype.onPlayerFeaturedInstanceFound=function(){return this._onPlayerFeaturedInstanceFound},Rt.prototype.onContainerPlaceholderList=function(){return this._onContainerPlaceholderList},Rt.prototype.onPlayerPlaceholderFound=function(){return this._onPlayerPlaceholderFound},Rt.prototype.init=function(){this.initPlayers(),this.initPicker(),this.startTimer(),this.detectNewPlayers()},Rt.prototype.initPlayers=function(){for(var e,t=A.scrap.factory.getAllRegisterdDetectors(),n=Object.keys(t),i=0;i<n.length;i++)(e=new(A.scrap.factory.getDetector(n[i]))).onPlayerInstanceFound().add(this.handleDetector_PlayerInstanceFound,this),e.onPlayerPlaceholderFound().add(this.handleDetector_PlayerPlaceholderFound,this),e.onContainerPlaceholderList().add(this.handleDetector_ContainerPlaceholderList,this),this._detectorList.push(e);0===this._detectorList.length&&D.log("No scrapers found to initialize.")},Rt.prototype.initPicker=function(){for(var e,t=A.scrap.factory.getAllRegisteredPickers(),n=Object.keys(t),i=0;i<n.length;i++)e=A.scrap.factory.getPicker(n[i]),this.createPicker(e);0===this._pickerList.length&&(this.createPicker(A.scrap.picker.Base),D.log("No picker found to initialize - using Base"))},Rt.prototype.addDriver=function(e){for(var t=0;t<this._pickerList.length;t++)this._pickerList[t].addDriver(e);e.onDisposed().addOnce(this.handleDriver_Disposed,this)},Rt.prototype.createPicker=function(e){e=new e;e.setPlayerCollection(this),e.onPlayerFeaturedInstanceFound().add(this.handlePicker_PlayerFeaturedInstanceFound,this),this._pickerList.push(e)},Rt.prototype.handleDetector_PlayerInstanceFound=function(e){e.index=this._counter,this._onPlayerInstanceFound.dispatch(e),this._counter++},Rt.prototype.handleDetector_PlayerPlaceholderFound=function(e){this._onPlayerPlaceholderFound.dispatch(e)},Rt.prototype.handlePicker_PlayerFeaturedInstanceFound=function(e){this._onPlayerFeaturedInstanceFound.dispatch(e)},Rt.prototype.handleDetector_ContainerPlaceholderList=function(e){this._onContainerPlaceholderList.dispatch(e)},Rt.prototype.handleDriver_Disposed=function(e){for(var t=0;t<this._detectorList.length;t++)this._detectorList[t].playerDisposed(e.getID())},Rt.prototype.startTimer=function(){P.addEventListener(_.Events.THREE_SECONDS_INTERVAL,this.detectNewPlayers,this)},Rt.prototype.detectNewPlayers=function(){for(var e=0;e<this._detectorList.length;e++)this._detectorList[e].detectNewPlayers()},(A.scrap.PluginsCollector=Lt).prototype.addDriver=function(e){for(var t=0;t<this._pluginHash.length;t++)this._pluginHash[t].addDriver(e)},Lt.prototype._init=function(){for(var e=0;e<A.scrap.ScrapPluginAll.length;e++){var t,n=A.scrap.factory.getPlugin(A.scrap.ScrapPluginAll[e]);n&&(!n.shouldRun||n.shouldRun()?((t=new n).setPlayerCollection(this._detectorCollection),this._pluginHash.push(t)):D.log("Plugin "+(n.getName()||n.getType())+" is not running."))}},function(){function e(){e.__superCtor__.call(this),this._driverHash={},this._detectorCollection=new A.scrap.DetectorsCollector,this._detectorCollection.onPlayerInstanceFound().add(this.handleDetector_PlayerInstanceFound,this),this._detectorCollection.init(),this._pluginsCollection=new A.scrap.PluginsCollector(this._detectorCollection),A.scrap.startUrlTracker(this._detectorCollection)}D.extends(e,v);var i=A.publisher.utils;e.prototype.handleDetector_PlayerInstanceFound=function(e){this._driverHash[e.playerId]||this.createScrapDriver(e)},e.prototype.handleDriver_Disposed=function(e){this._driverHash[e.getID()]=void 0},e.prototype.createScrapDriver=function(e){var t,n=Object.keys(A.scrap.REGISTRED_DRIVERS);i.getDriverName?t=A.scrap.factory.getDriver(i.getDriverName(e)):1==n.length?t=A.scrap.factory.getDriver(A.scrap.REGISTRED_DRIVERS[n[0]]):0==n.length||D.logWarning("Dont know what driver to set, need coordinator (_pubUtils.getDriverName)"),t?(n=hn.getCrowdSourceArticleData(e.videoId,e.url),(t=new t).setArticleData(n),t.setScrapData(e),this._pluginsCollection.addDriver(t),(this._driverHash[e.playerId]=t).onDisposed().addOnce(this.handleDriver_Disposed,this),this._detectorCollection.addDriver(t),t.init()):D.log("No driver registered. Please add your driver on 'registeredDrivers' configuration! ")},A.scrap.ScraperService=e}(),je=A.publisher.utils,Ke=/[^\d\w\s\-?!\u0590-\u05fe\.,]/g,Je=A.scrap.player.EState={IDLE:1,SEARCHING:2,FOUND:3},Ze=A.scrap.utils.defineError,Tt.prototype._validatePlayerConfig=function(){},Tt.prototype.onPlayerInstanceFound=function(){return this._onPlayerInstanceFound},Tt.prototype.onPlayerPlaceholderFound=function(){return this._onPlayerPlaceholderFound},Tt.prototype.onContainerPlaceholderList=function(){return this._onContainerPlaceholderList},Tt.prototype.detectNewPlayers=function(e){this.isIdle()&&(this._state=Je.SEARCHING,setTimeout(this._detectNewPlayers.bind(this),e||0))},Tt.prototype.playerDisposed=function(e){this._hasPlayerInstanceFound(e)&&(this._foundList[e]=!1)},Tt.prototype._detectNewPlayers=function(){},Tt.prototype._collectScraperData=function(e,t){var n={},i={};return(n.data=i).duration=this._getVideoDuration(),i.version="NoName",i.video_id=this._getVideoId(e,t),i.stream=this._getVideoStream(e,t),i.url=this._getPlayerUrl(e,t),i.raw_url=this._getPlayerUrlRaw(e,t),i.title=(this._getVideoTitle(e,t)||"").replace(Ke,"").substring(0,255),i.raw_title=D.b64EncodeUnicode(this._getVideoTitle(e,t)||""),i.publisher=dn.getPublisherId(),i.player_id=this.getScraperPlayerId(e,t),n.index=-1,n.videoId=i.video_id,n.playerId=this._getPlayerId(e,t)||n.videoId,n.url=i.url,n.playerJS=e,n.playerHtmlElement=t,n.playerConfig=this._configPlayer,n.isLive=this._getIsLive(e,t),n.isAutoPlay=this._getIsAutoPlay(e,t),n.isPlayerStarted=n.isAutoPlay||this._getIsPlayerStarted(e,t),n.playerPlaceholder=this._getPlayerPlaceholder(e,t),n.isFeatured=this._getIsFeatured(e,t),n},Tt.prototype._setStateIdle=function(){this._state=Je.IDLE},Tt.prototype.isIdle=function(){return this._state===Je.IDLE},Tt.prototype._sendPlayerInstanceFound=function(e){this._onPlayerInstanceFound.dispatch(e)},Tt.prototype._addPlayerInstanceFound=function(e){return this._foundList[e]=!0},Tt.prototype._hasPlayerInstanceFound=function(e){return this._foundList.hasOwnProperty(e)},Tt.prototype._getVideoId=function(e,t){Ze(this,"_getVideoId")},Tt.prototype._getVideoStream=function(e,t){Ze(this,"_getVideoStream")},Tt.prototype._getVideoTitle=function(e,t){return je&&je.getVideoTitle&&je.getVideoTitle(e)?je.getVideoTitle(e):document.title},Tt.prototype.getScraperPlayerId=function(e,t){return null},Tt.prototype._getIsLive=function(e,t){return!1},Tt.prototype._getIsAutoPlay=function(e,t){return null},Tt.prototype._getIsFeatured=function(e,t){},Tt.prototype._getIsPlayerStarted=function(e,t){return!1},Tt.prototype._getPlayerId=function(e,t){return""},Tt.prototype._getPlayerSubType=function(e,t){return this._configPlayer.subType&&A.scrap.player.SubTypes[this._configPlayer.subType]||""},Tt.prototype._getPlayerUrl=function(e,t){return D.urls.getCurrentCanonicalURL()},Tt.prototype._getPlayerUrlRaw=function(e,t){return D.urls.getStructuredRawByUrl(D.urls.getLocationUrl())},Tt.prototype._getPlayerPlaceholder=function(e,t){return null},Tt.prototype.getVideoTags=function(e,t){if(je&&je.getTags)return je.getTags(e)},Tt.prototype._getVideoDuration=function(e,t){return 0},A.scrap.detector.Base=Tt,ze=A.scrap.utils.defineError,Ye=A.scrap.driver.PlayerAction,qe=!1,wt.prototype.getID=function(){return this.scrapData.playerId},wt.prototype.getType=function(){ze(null,"getType")},wt.prototype.getName=function(){ze(null,"getName")},wt.prototype.setArticleData=function(e){this._articleData=e},wt.prototype.getArticleData=function(){return this._articleData},wt.prototype.setScrapData=function(e){this.scrapData=e},wt.prototype.checkVideoView=function(){ze(null,"checkVideoView")},wt.prototype.onPlayerAction=function(){return this._onPlayerAction},wt.prototype.onDisposed=function(){return this._onDisposed},wt.prototype.onPlayerProgress=function(){return this._onPlayerProgress},wt.prototype.onVideoView=function(){return this._onVideoView},wt.prototype.onError=function(){return this._onError},wt.prototype.onPlayerInstanceFound=function(){return this._onPlayerInstanceFound},wt.prototype.onPlayerVideoChanged=function(){return this._onPlayerVideoChanged},wt.prototype.sendPlayerActionEvent=function(e,t){this._onPlayerAction.dispatch("status",t)},wt.prototype.sendPlayerProgressEvent=function(e){this._onPlayerProgress.dispatch(e)},wt.prototype.readyToSendCrowdSourceEvents=function(e,t){return!0},wt.prototype.sendPlayerEvent=function(e,t){this._doesCollect&&this.readyToSendCrowdSourceEvents()&&this.isFirstVideoPlaying()&&this.getPlayerCurrentVideoId&&this._articleData.getPublisherVideoId()===this.getPlayerCurrentVideoId()&&(e={cs_id:this._sessionId,article_id:this._articleData.getArticleId(),min_vid_id:this._articleData.getVideoDBId(),video_id:this.getPlayerCurrentVideoId(),min_playhead:this.getCurrentPlayhead(),min_event_type:t,min_metadata:this.getMeteData(t),event_timestamp:(new Date).getTime(),player:this.getPlayerName(),raw_event:JSON.stringify(e)},ln.send(_.Emitter.CROWD_SOURCE,e))},wt.prototype.isFirstVideoPlaying=function(){return!0},wt.prototype.getMeteData=function(){},wt.prototype.getPlayerName=function(){return"base"},wt.prototype.init=function(){this._articleData=this._articleData||hn.generateArticleData(this.scrapData.id),this._canCollectEvents()?(this.startListenWindowFocusEvent(),this.sendCurrentFocusState(),qe=!0):D.log("Will not collect video events"),this.trackDisposableDomElement()},wt.prototype._canCollectEvents=function(){this._doesCollect=D.parseBool(this._doesCollect,!1);var e=an.isChrome()&&an.isDesktop()&&!an.isEdge()&&!an.isIE()&&!an.isSafari()&&!an.isFF();return this._doesCollect=!qe&&dn.isScraperEnableEventCollection()&&this._articleData.getDoesCollect()&&e,this._doesCollect},wt.prototype.trackDisposableDomElement=function(){var e=this._getDisposableDomElement();e&&(this._domTracker=new A.utils.DomElementTracker(e),this._domTracker.setTrackingOptions({parentElement:this._getDisposableDomElementParent()}),this._domTracker.onRemovedFromDom.add(this.dispose,this),this._domTracker.start())},wt.prototype._getDisposableDomElement=function(){return null},wt.prototype._getDisposableDomElementParent=function(){return null},wt.prototype.dispose=function(){this._onDisposed.dispatch(this),this._analyser&&(this._analyser.dispose(),this._analyser=null),this._articleData=null,this.scrapData=null,this._onPlayerAction.removeAll(),this._onPlayerAction=null,this._onPlayerProgress.removeAll(),this._onPlayerProgress=null,this._onVideoView.removeAll(),this._onVideoView=null,this._onDisposed.removeAll(),this._onDisposed=null,this.stopProgressTimer(),this._progressTimer=null,this._domTracker&&(this._domTracker.dispose(),this._domTracker=null),this.stopListenWindowFocusEvent()},wt.prototype.getCurrentVideoId=function(){ze(this,"getCurrentVideoId")},wt.prototype.stopProgressTimer=function(){this._progressTimer&&this._progressTimer.stop()},wt.prototype.startListenWindowFocusEvent=function(){this._handleFocusInEvent||(this._handleFocusInEvent=this.handleFocusInEvent.bind(this),this._handleFocusOutEvent=this.handleFocusOutEvent.bind(this),window.addEventListener?(window.addEventListener("focus",this._handleFocusInEvent,!1),window.addEventListener("blur",this._handleFocusOutEvent,!1)):window.attachEvent&&(window.attachEvent("focus",this._handleFocusInEvent),window.attachEvent("blur",this._handleFocusOutEvent)))},wt.prototype.stopListenWindowFocusEvent=function(){this._handleFocusInEvent&&(window.removeEventListener?(window.removeEventListener("focus",this._handleFocusInEvent,!1),window.removeEventListener("blur",this._handleFocusOutEvent,!1)):window.detachEvent&&(window.detachEvent("focus",this._handleFocusInEvent),window.detachEvent("blur",this._handleFocusOutEvent)),this._handleFocusInEvent=null,this._handleFocusOutEvent=null)},wt.prototype.handleFocusInEvent=function(e){this.sendPlayerActionEvent(Ye.FOCUS,!0),this.sendPlayerEvent({focus:!0},"focus")},wt.prototype.handleFocusOutEvent=function(e){this.sendPlayerActionEvent(Ye.FOCUS,!1),this.sendPlayerEvent({focus:!1},"focus")},wt.prototype.sendCurrentFocusState=function(){this.sendPlayerActionEvent(Ye.FOCUS,document.hasFocus()),this.sendPlayerEvent({focus:document.hasFocus()},"focus")},A.scrap.driver.Base=wt,Ge=A.publisher.utils,Ct.prototype.setPlayerCollection=function(e){e.onPlayerInstanceFound().add(this.handleDetector_PlayerInstanceFound,this,1)},Ct.prototype.addDriver=function(e){e.onPlayerInstanceFound().add(this.handleDriver_PlayerInstanceFound,this)},Ct.prototype.onPlayerFeaturedInstanceFound=function(){return this._onPlayerFeaturedInstanceFound},Ct.prototype.isScrapDataValid=function(e){return!(!e||(e.data.player_id?!D.validateScraperURL()||(""===e.url||D.urls.isUrlHomePage()?(D.log("Scrap cancel: I think I am on homepage..."),1):e.isLive?(D.log("Scrap canceled: Live player instance."),1):e.data.video_id&&e.data.stream?Ge.shouldScrap&&!Ge.shouldScrap(e)&&(D.log("Scrap canceled: due to publisher utils"),1):(D.log("Scrap canceled: Missing data. video_id: '"+e.data.video_id+"', stream: '"+e.data.stream+"'"),1)):(D.log("Scraper cancel: missing Player_id for scraper"),1)))},Ct.prototype.setFeatureFlag=function(e){Ge.setFeatureFlag?e.data.featured=Ge.setFeatureFlag():this._alreadySentFeatured?e.data.featured=!1:(void 0!==e.isFeatured?e.data.featured=e.isFeatured:(this.setTopMostContainer(),this._topMostPlaceholder?e.data.featured=!!this._topMostPlaceholder.contains(e.playerPlaceholder):(D.logError("Top most placeholder is not set, This has to be set!"),e.data.featured=!1)),e.data.featured&&(this._alreadySentFeatured=!0))},Ct.prototype.handleDetector_PlayerInstanceFound=function(e){this.isScrapDataValid(e)&&(this.setFeatureFlag(e),this._currentScraperData=e,this.sendPlayerFeaturedInstanceFound())},Ct.prototype.handleDriver_PlayerInstanceFound=function(e){this.handleDetector_PlayerInstanceFound(e)},Ct.prototype.getAllPlayersContainer=function(){if(Ge.getIAContainers)return Ge.getIAContainers();for(var e=document.querySelectorAll(dn.getIAContainers()),t=[],n=0;n<e.length;n++){var i=e[n];i.offsetParent&&t.push(i)}return t},Ct.prototype._setPlayersPlaceholderList=function(){for(var e=this.getAllPlayersContainer(),t=0;t<e.length;t++){var n=e[t];-1<this._placeholderFoundList.indexOf(n)||this._placeholderFoundList.push(n)}},Ct.prototype.setTopMostContainer=function(){if(this._setPlayersPlaceholderList(),0!=this._placeholderFoundList.length){this._topMostPlaceholder=this._placeholderFoundList[0];for(var e=1;e<this._placeholderFoundList.length;e++){var t=this._placeholderFoundList[e];t.offsetTop<this._topMostPlaceholder.offsetTop&&(this._topMostPlaceholder=t)}}else D.logWarning("No places were set to the picker to choose from")},Ct.prototype.sendPlayerFeaturedInstanceFound=function(){this.isScrapDataValid(this._currentScraperData)&&(this.sendScrapEvent(),this._onPlayerFeaturedInstanceFound.dispatch(this._currentScraperData)),this._currentScraperData=null},Ct.prototype.shouldAutopushEvent=function(e){for(var t=dn.getAutopushCriteria(),n=0;n<t.length;n++){var i,r=t[n],o=!0;r&&r.hoursAgo&&(i=36e5*r.hoursAgo,(u=new Date).setTime(u.getTime()-i),o=e.published_at>u);var a=!0,s=[];Array.isArray(r.tags)&&(s=r.tags);for(var l=0;l<s.length;l++){var c=s[l];if(-1==e.tags.indexOf(c)){a=!1;break}}var u=!0;if(r.urls&&(u=D.isUrlMatchPattern(e.raw_url,r.urls)),o&&a&&u)return!0}return!1},Ct.prototype.sendScrapEvent=function(){var e=this._currentScraperData.data,t=hn.getInArticleArticleData(e.video_id,e.url);e.exist=!!t,A.scrap.metaDataEnhancer&&(n=(new A.scrap.metaDataEnhancer).getPayloadMetaData(this._currentScraperData),e=D.extentObject(n,e));var n=localStorage&&!!localStorage.getItem("_minForcePush");!e.exist&&(n||dn.getScraperType2()||this.shouldAutopushEvent(e))&&ln.send(_.Emitter.NEW_VIDEO_EVENT,e),ln.send(_.Emitter.NEW_SCRAPE_EVENT,e)},A.scrap.picker.Base=Ct,A.scrap.startUrlTracker=function(e){},D.extends(bt,A.scrap.detector.Base),bt.getName=function(){return A.scrap.PlayersNameEnum.NFL},bt.prototype.getType=function(){return A.scrap.PlayerEnum.NFL},bt.prototype._detectNewPlayers=function(){bt.__super__._detectNewPlayers.call(this);for(var e="object"==typeof anvp?anvp.getAll():[],t=[],n=0;n<e.length;n++)document.querySelector("iframe#"+e[n])&&t.push(document.querySelector("iframe#"+e[n]));this._collectScraperDataList(t),this._setStateIdle()},bt.prototype._collectScraperDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t],n=this._collectScraperData(n);if(this._hasPlayerInstanceFound(n.videoId))return;this._sendPlayerInstanceFound(n),this._addPlayerInstanceFound(n.videoId)}},bt.prototype._getVideoId=function(e){e=this._getAnvpConfig(e).derivedMetadata;return e&&e.id},bt.prototype._getVideoStream=function(e){return"https://nfl-mcp-download.storage.googleapis.com/pub/variant/"+this._getAnvpConfig(e).video+".m3u8"},bt.prototype.getScraperPlayerId=function(){return A.scrap.PlayerEnum.DEFAULT},bt.prototype._getAnvpConfig=function(e){return e&&anvp[e.id]&&anvp[e.id].config},bt.prototype._getVideoTitle=function(e){return this._getAnvpConfig(e).derivedMetadata.friendlyName},bt.prototype._getPlayerPlaceholder=function(e){return e},A.scrap.detector.NFL=bt,A.scrap.factory.addDetector(bt),A.scrap.startUrlTracker=function(e){e.onPlayerInstanceFound().add(St)},Pt.prototype.getPayloadMetaData=function(e){var t={},n=this.getPublishedAt(e);return n&&!isNaN(n)&&(t.published_at=n,10===(""+t.published_at).length&&(t.published_at=1e3*t.published_at)),t.tags=this.getPageTags(e),t},Pt.prototype.getPageTags=function(e){e=this.getTags(e);return e="string"!=typeof e?JSON.stringify(e):e},Pt.prototype.getPublishedAt=function(e){var t=document.querySelector("meta[itemprop='uploadDate']")||document.querySelector("meta[name='date']")||document.querySelector("meta[name='datePublished']")||document.querySelector("meta[itemprop='datePublished']")||document.querySelector("*[property='v:published']")||document.querySelector("*[property='v:published']")||document.querySelector("*[property*='video:published]'")||document.querySelector("time");return t&&t.getAttribute("content")?new Date(t.getAttribute("content").replace(/-/g,"/")).getTime():t&&t.dateTime?new Date(t.dateTime).getTime():null},Pt.prototype.getTags=function(e){var t=document.querySelector("meta[name='keywords']");return t?t.content:""},A.scrap.baseMetaDataEnhancer=Pt,D.extends(Dt,A.scrap.baseMetaDataEnhancer),Dt.prototype.getPublishedAt=function(e){var t=document.querySelectorAll(".nfl-o-video-player"),n=document.querySelector("main script[type='application/ld+json'"),i=null;n&&-1<n.innerText.indexOf("datePublished")&&(n=JSON.parse(n.innerText).datePublished,i=new Date(n).getTime());for(var r=0;r<t.length;r++){var o=t[r].parentElement,a=o.querySelector("script"),o=o.contains(e.playerJS);if(a&&o&&-1<a.innerText.indexOf("datePublished")){a=JSON.parse(a.innerText).datePublished;i=new Date(a).getTime();break}}return i},A.scrap.metaDataEnhancer=Dt,A.apv=A.apv||{},A.apv.players=A.apv.players||{},D.extends(At,v),(A.apv.players.ApvPlayerBase=At).States={STATE_HAVE_NOTHING:0,STATE_HAVE_METADATA:1,STATE_HAVE_CURRENT_DATA:2,STATE_HAVE_FUTURE_DATA:3,STATE_HAVE_ENOUGH_DATA:4},At.prototype.init=function(e){this._apvData=e,P.addEventListener(_.Events.DomWindow.RESIZE,this.handleResizeEvent,this),this.mediaHeightIndex=this.getNearestSize(),this._apvElement=document.createElement("video"),this._apvElement.className="minute_apv",this._apvElement.setAttribute("minVideoID",this._apvData.getArticleData().getArticleId()),this._apvElement.setAttribute("muted",""),this._apvElement.muted=!0,this._apvElement.volume=0,this._apvElement.setAttribute("playsinline",""),this._apvElement.setAttribute("webkit-playsinline",""),this._apvElement.setAttribute("disableRemotePlayback",""),this.setLoopPlay(),this._apvElement.style.transition=dn.getEffectApvTransitionVideo(),this.attachVideoEvents(),this.buildVideoSources()},At.prototype.attachVideoEvents=function(){function e(){t.hasStartPlaying()?D.getRequestAnimationFrame(e):t.dispatchEvent(_.Events.Players.LOADED)}var t=this,n=0;this._handleVideoEvent_LoadedMetadata=function(e){0<n&&(clearTimeout(n),n=0),t.dispatchEvent("loadedmetadata"),t.handleMediaMetadataLoaded()},this._handleVideoEvent_Play=function(e){return t.handleVideoEvent_Play(e),_t(e)},this._handleVideoEvent_Error=function(e){return t.handleVideoEvent_Error(e),_t(e)},this._handleVideoEvent_Ended=function(e){return t.handleVideoEvent_Ended(),_t(e)},this._handleCanPlayThrough=function(){t._apvElement&&t._apvElement.removeEventListener("canplaythrough",t._handleCanPlayThrough),t._handleCanPlayThrough=null,e()},this._apvElement.addEventListener("loadedmetadata",this._handleVideoEvent_LoadedMetadata),this._apvElement.addEventListener("play",this._handleVideoEvent_Play),this._apvElement.addEventListener("error",this._handleVideoEvent_Error),this._apvElement.addEventListener("ended",this._handleVideoEvent_Ended),this._apvElement.addEventListener("canplaythrough",this._handleCanPlayThrough),this._apvElement.addEventListener("timeupdate",_t),this._apvElement.addEventListener("playing",_t),this._apvElement.addEventListener("waiting",_t),this._apvElement.addEventListener("load",_t),this._apvElement.addEventListener("progress",_t),this._apvElement.addEventListener("durationchange",_t)},At.prototype.handleResizeEvent=function(){this._apvData&&D.ElementObjectFit.set({mediaElement:this.getApvElement(),originalElement:this._apvData.getElementSize(),isFullSize:this._apvData.getProduct()===_.Emitter.PRODUCT_IN_ARTICLE})},At.prototype.buildVideoSources=function(){var e=this.getFullVideoUrl("mp4");dn.getPlaymode(this._apvData.getProduct())==_.playmode.VIEWPORT&&(this._apvElement.src=e),this._apvElement.setAttribute("data-src",e),this._apvElement.setAttribute(this.ATTR_MEDIA_SIZE,dn.getRezVideo()[this.mediaHeightIndex])},At.prototype.setSource=function(){this._apvElement.src=this._apvElement.dataset.src,this._apvElement.load()},At.prototype.setLoopPlay=function(){try{this._apvElement.setAttribute("loop","")}catch(e){}},At.prototype.play=function(){this._apvElement.readyState!==At.States.STATE_HAVE_ENOUGH_DATA&&!this.alreadyPlayed||(this.playElement(),this.sendEventPlaying())},At.prototype.playElement=function(){this.alreadyPlayed=!0;var e,t=this._apvElement.play();(e=t)&&"function"==typeof Promise&&e instanceof Promise&&t.then&&t.catch&&t.then(function(e){}).catch(function(e){}),an.isLPM(t,function(e){0===e.code&&an.isMobile()&&an.isSafari()&&(D.log("video can't be played due to low power mode "),this.hideApvElementBadWay())}.bind(this),function(){D.log("Video is playing")})},At.prototype.hideApvElementBadWay=function(){this._apvElement.style.visibility="hidden",this._apvElement.style.opacity=0},At.prototype.setAutoplay=function(){try{this._apvElement.setAttribute("preload","auto")}catch(e){}try{this._apvElement.setAttribute("autoplay","")}catch(e){}},At.prototype.pause=function(){this._apvElement.pause()},At.prototype.forcePlay=function(){this.playElement()},At.prototype.isPaused=function(){return this._apvElement.paused},At.prototype.sendEventPlaying=function(){this.dispatchEvent(_.Events.Players.PLAYING),P.dispatchEvent(_.Events.Players.PLAYING)},At.prototype.getApvElement=function(){return this._apvElement},At.prototype.getSizeData=function(){return this._apvData.isApvVertical()?dn.getRezVertical():dn.getRezVideo()},At.prototype.setStyles=function(e){if(this._apvElement)for(var t in e)this._apvElement.style[t]=e[t]},At.prototype.setElementAttribute=function(e,t){this._apvElement&&this._apvElement.setAttribute(e,t)},At.prototype.getNearestSize=function(){var e,t=D.extractElementSize(this._apvData.getElementSize()),n=this.getSizeData();if(!t.width||!t.height)return"m";for(e in t.width*=.9,t.height*=.9,n)if(n.hasOwnProperty(e)&&n[e]>=t.height)return e;return e},At.prototype.getFullVideoUrl=function(e){return this._apvData.getHltAPVUrl()+this.mediaHeightIndex+"."+e},At.prototype.handleMediaMetadataLoaded=function(){D.setMediaElementSize(this.getApvElement()),D.ElementObjectFit.set({mediaElement:this.getApvElement(),originalElement:this._apvData.getElementSize(),isFullSize:this._apvData.getProduct()===_.Emitter.PRODUCT_IN_ARTICLE})},At.prototype.dispose=function(){this._apvElement.removeEventListener("loadedmetadata",this._handleVideoEvent_LoadedMetadata),this._apvElement.removeEventListener("play",this._handleVideoEvent_Play),this._apvElement.removeEventListener("error",this._handleVideoEvent_Error),this._apvElement.removeEventListener("ended",this._handleVideoEvent_Ended),this._apvElement.removeEventListener("canplaythrough",this._handleCanPlayThrough),this._apvElement.removeEventListener("timeupdate",_t),this._apvElement.removeEventListener("playing",_t),this._apvElement.removeEventListener("waiting",_t),this._apvElement.removeEventListener("load",_t),this._apvElement.removeEventListener("progress",_t),this._apvElement.removeEventListener("durationchange",_t),this._handleVideoEvent_Play=null,this._handleVideoEvent_Error=null,this._handleVideoEvent_Ended=null,this._handleCanPlayThrough=null,this._handleVideoEvent_LoadedMetadata=null,P.removeEventListener(_.Events.DomWindow.RESIZE,this.handleResizeEvent,this),this.removeAllEventListener(),this._apvData=null,this._apvElement&&this._apvElement.parentElement&&this._apvElement.parentElement.removeChild(this._apvElement),this._apvElement=null},At.prototype.hasStartPlaying=function(){return!!this._apvElement&&!this._apvElement.paused&&0!==this._apvElement.currentTime},At.prototype.isImageUrl=(We=document.createElement("a"),He=/\.(?:gif|png|webp|jpg|jpeg)$/i,function(e){return We.href=e,He.test(We.pathname)}),At.prototype.handleVideoEvent_Play=function(e){this.dispatchEvent(_.Events.Players.PLAYING)},At.prototype.handleVideoEvent_Ended=function(){this.dispatchEvent("ended"),D.log("video ended for article "+this._apvData.getArticleData().getArticleUrl())},At.prototype.handleVideoEvent_Error=function(e){this.dispatchEvent("error"),D.log("Browser cannot play video!")},function(){A.apv=A.apv||{},A.apv.logos=A.apv.logos||{};var e=A.apv.logos;e.LogoElmBase=function(){e.LogoElmBase.__superCtor__.call(this)},D.extends(e.LogoElmBase,v),e.LogoElmBase.prototype.init=function(e){this.isMobile=an.isMobile(),this.trans="0 , 0",this.buildLogoLinkElement(e)},e.LogoElmBase.prototype.buildLogoLinkElement=function(e){var t=this.createElement();t.className="minute_logo",t.title=t.alt=dn.getTooltip(),t.style.cursor="pointer",t.style.width="4%",t.style.paddingTop="4%",an.isMobile()&&(t.style.minWidth="12px"),t.style.minWidth="16px",t.style.outline="none",t.style.transform="translateZ(1px)",t.style.position="absolute",dn.isClickByPointEnabled()&&(t.style.pointerEvents="none"),t.style.backgroundColor="transparent",t.style["z-index"]=1,t.style.opacity=.6;for(var e=0==e?dn.getLogoPosition():dn.getInArticleLogoPosition(),n=_.logoPositions[e||"bottom-left"],i=Object.keys(n),r=0;r<i.length;r++){var o=i[r];t.style[o]=n[o]}t.innerHTML=this.getLogoInnerHtml(),this.minuteLinkElm=t},e.LogoElmBase.prototype.createElement=function(){return document.createElement("span")},e.LogoElmBase.prototype.getLogoElement=function(){return this.minuteLinkElm},e.LogoElmBase.prototype.getLogoInnerHtml=function(){return'<svg version="1.1" id="MinuteLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 46 46" style="display: block; position: absolute; left: 0; top: 0; transform: translate('+this.trans+');" xml:space="preserve"><path style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;" d="M42.7,13.4L42.7,13.4l-6.8,3.3c1,2,1.5,4.2,1.5,6.5c0,8-6.5,14.4-14.4,14.4c-8,0-14.4-6.5-14.4-14.4 S15.1,8.8,23.1,8.8c1.3,0,2.5,0.2,3.6,0.5l2-7.4c-2-0.5-3.6-0.7-5.7-0.7h0h0c-3.4,0-6.5,0.7-9.6,2.2C2.5,8.6-2,21.7,3.3,32.6 C8.6,43.5,21.7,48,32.6,42.7C43.5,37.4,48,24.3,42.7,13.4"/><circle style="fill:#2ABFD5;" cx="23" cy="23" r="9"/> </svg>'}}(function(){function e(){e.__superCtor__.call(this),this.minContainer=null,this.blockingState=_.APVStates.Active,this._observerAttrChange=[],this.isIE=an.isIE(),this.hasDisposed=!1,this._coverLayer=null}A.apv=A.apv||{},A.apv.domAdapter=A.apv.domAdapter||{};var t=A.apv.domAdapter,n={"box-shadow":"none",border:0,padding:"(0,0,0,0)",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",transform:"translate(0px,0px)","box-sizing":"border-box;",float:"none",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0},i={borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0};t.Base=e,D.extends(e,v),e.getTypeName=function(){return"Base"},e.prototype.init=function(e){this.apvData=e,this.elementToReplace=this.apvData.getElementToReplace(),this.elementSize=this.apvData.getElementSize(),this.apvPlayer=this.apvData.getApvPlayer(),this.minuteLink=this.apvData.getMinuteLogo(),this.articleData=this.apvData.getArticleData(),D.log("initializing DOM adapter. articleData.getArticleId(): "+this.articleData.getArticleId()),this._initElements(),this.attachWindowEvents(),this.eventsRegister(),this.setElementToObserve(),this.registerMouseEvents(),this.dispatchEvent("apvInjection")},e.prototype.eventsRegister=function(){P.addEventListener(_.Events.DomWindow.BLUR,this.dispatchViewportEvent,this),P.addEventListener(_.Events.DomWindow.SAFARI_FOCUS,this.handleWindowEvent_SafariFocus,this)},e.prototype._initElements=function(){this.createMinContainer(),this.createVideoElement(),this.createCoverLayerElement(),this.createLogoElement(),this.createWatchBanner(),this.createVideoWrapper(),this.applyZIndexForAbsoluteElements(),this._videoWrapper.appendChild(this.apvPlayer.getApvElement()),dn.getShowLogo()&&this._videoWrapper.appendChild(this.minuteLinkElm),this.minContainer.appendChild(this._videoWrapper),this._coverLayer&&this.minContainer.appendChild(this._coverLayer),this._watchBanner&&this._videoWrapper.appendChild(this._watchBanner)},e.prototype.getBorderFix=function(){var e;this.borderFix||(this.borderFix={left:0,top:0,right:0},!an.isFF()&&!an.isSafari()||this.elementSize===this.elementToReplace||null===this.elementToReplace.offsetParent)||(e=window.getComputedStyle(this.elementToReplace.offsetParent),this.borderFix.left=parseFloat(e.borderLeftWidth),this.borderFix.right=parseFloat(e.borderRightWidth),this.borderFix.top=parseFloat(e.borderTopWidth))},e.prototype.render=function(){var e,t;null!=this.elementToReplace&&(e=this.elementToReplace.offsetParent,(e=this.elementSize!==this.elementToReplace?this.elementSize.offsetParent:e)&&(this.minContainer.style.display="flex",t=getComputedStyle(this.elementSize),this.setWidthandHeight(e,t),this.setOffsetAndSides(e,t)))},e.prototype.setWidthandHeight=function(e,t){this.minContainer.style.width=t.width,this.minContainer.style.height=t.height,this.isIE&&(this.minContainer.style.height=parseInt(t.height)+parseInt(t.paddingTop)+parseInt(t.paddingBottom)+"px")},e.prototype.setOffsetAndSides=function(e,t){if(!dn.shouldTrackSize())return this.minContainer.style.height="100%",this.minContainer.style.opacity="100%",this.minContainer.style.top="0",void(this.minContainer.style.left="0");var n=this.elementSize.getBoundingClientRect(),i=e.getBoundingClientRect(),r=0;e===document.body&&(r=window.pageYOffset+e.getBoundingClientRect().top),this.minContainer.style.top=r+n.top-i.top-parseFloat(this.borderFix.top)+"px","rtl"==t.direction?this.minContainer.style.right=i.right-n.right+this.borderFix.right+"px":this.minContainer.style.left=n.left-i.left-parseFloat(this.borderFix.left)+"px",this.minuteLinkElm.style.paddingTop=this.minuteLinkElm.offsetWidth+"px"},e.prototype.redrawApvOnRequestAnimation=function(){var e=this,t=-1,n=dn.getRenderModulus(),i=function(){if(t+=1,e.minContainer&&!e.hasDisposed&&(D.getRequestAnimationFrame(i),e.shouldRender()&&t%n==0))return e.isElementToReplaceVisibleValid()?void e.render():void(e.minContainer.style.display="none")};D.getRequestAnimationFrame(i)},e.prototype.startAnimationResize=function(){this.getBorderFix(),this._debouncer=new A.utils.Debounce(50,function(){this.render()},this),this._debouncer.enableFilter(250),this._debouncer.setEcho(50,10),P.addEventListenerOnce(_.Events.DomWindow.RESIZE,this._debouncer.start,this._debouncer),this.render(),this.showApv(),dn.shouldTrackSize()&&this.redrawApvOnRequestAnimation()},e.prototype._copyStylesFromElement=function(e,t,n){var i,r=D.getComputedStyle(e);for(i in n)t.style[i]=r[i]},e.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.minContainer.classList.add(_.minuteClasses.CONTAINER),this.minContainer.setAttribute("placement",this.apvData.getName()),this.minContainer.setAttribute("container_minvideoid",this.articleData.getArticleId()),this.minContainer.setAttribute("id",this.apvData.getContainerUnique()),this.minContainer.style.position="absolute",this.minContainer.style.overflow="hidden",this.minContainer.style.display="flex",this.minContainer.style.transition="opacity 0.5s ease-out",this.minContainer.style.opacity=0,this._copyStylesFromElement(this.elementToReplace,this.minContainer,this.getListOfCopyableStyles())},e.prototype.createVideoElement=function(){var e=_.values.HUNDRED_PERCENT,t=_.values.HUNDRED_PERCENT;D.isInt(parseFloat(this.minContainer.style.width))||(e="calc("+_.values.HUNDRED_PERCENT+" + 1px)"),D.isInt(parseFloat(this.minContainer.style.height))||(t="calc("+_.values.HUNDRED_PERCENT+" + 1px)"),this.apvPlayer.setStyles({position:_.values.RELATIVE,display:_.values.BLOCK,width:e,height:t,objectFit:"cover"}),this._copyStylesFromElement(this.elementToReplace,this.apvPlayer._apvElement,i)},e.prototype.createWatchBanner=function(){var e=dn.getRegularPlacerWatchFullSettings();if(e.active&&!(this.elementSize.width<e.minimumWidth)){var t=document.createElement("div");t.style.position="absolute";for(var n=0;n<e.position.length;n++){var i=e.position[n];t.style[i]="0px"}t.style.margin="15px",t.style.fill="white",t.style.backgroundColor="#3f3f3f",t.style.opacity="0.7",t.style.color="white",t.style.padding="10px 20px",t.style.maxWidth="40%",t.style.border="1px solid white",t.style.fontSize="1.2em",t.style.pointerEvents="none",t.innerText=e.text,A.utils.ApvElementUtils.setElementAsReplaced(t),this._watchBanner=t}},e.prototype.createCoverLayerElement=function(){},e.prototype.createVideoWrapper=function(){this._videoWrapper=document.createElement("div"),this._videoWrapper.style.width=_.values.HUNDRED_PERCENT,this._videoWrapper.style.height=_.values.HUNDRED_PERCENT,this._videoWrapper.style.position=_.values.RELATIVE,this._videoWrapper.style.overflow="hidden",this._videoWrapper.style.flex="1",this._videoWrapper.style.display="block"},e.prototype.applyZIndexForAbsoluteElements=function(){if(dn.shouldApplyZIndexReorder()){for(var e,t,n,i=Number.MAX_VALUE,r=document.createTreeWalker(this.elementToReplace.parentElement,NodeFilter.SHOW_ELEMENT,null,!1),o=r.nextNode();o;)o="none"!==(t=getComputedStyle(r.currentNode)).display?r.currentNode!==this.elementToReplace?("absolute"!==t.position||parseInt(t.width)<=1||(e=Number(t.zIndex),(e=isNaN(e)?0:e)<i&&(i=e),r.currentNode.style.zIndex=e+1),r.nextNode()):((an.isFF()||an.isIE()||an.isEdge())&&t.zIndex<0&&"static"==t.position&&(i=parseInt(t.zIndex)+1),r.nextSibling()||r.nextNode()):r.nextSibling()||r.nextNode();i!==Number.MAX_VALUE?this.minContainer.style.zIndex=i:(n=getComputedStyle(this.elementToReplace).zIndex,this.minContainer.style.zIndex=isNaN(n)?0:n),this.minuteLinkElm.style.zIndex=0<=this.minContainer.style.zIndex?this.minContainer.style.zIndex:0,this._watchBanner&&(this._watchBanner.style.zIndex=this.minuteLinkElm.style.zIndex)}},e.prototype.insertContainerToDOM=function(){return this.apvData.getMethod()?void this.elementToReplace.insertAdjacentElement(this.apvData.getMethod(),this.minContainer):("A"==this.elementToReplace.tagName?this.elementToReplace.insertAdjacentElement("beforeend",this.minContainer):this.elementToReplace.insertAdjacentElement("afterend",this.minContainer),void this.dispatchReadyEvent())},e.prototype.dispose=function(){if(this.apvData){if(this.removeAllEventListener(),D.isSupportIntersectionObserver()||(P.removeEventListener(_.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),P.removeEventListener(_.Events.DomWindow.RESIZE,this.handleWindowEvent_Resize,this)),P.removeEventListener(_.Events.DomWindow.VISIBILITY_CHANGE,this.dispatchViewportEvent,this),P.removeEventListener(_.Events.DomWindow.BLUR,this.dispatchViewportEvent,this),P.removeEventListener(_.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this),P.removeEventListener(_.Events.DomWindow.SAFARI_FOCUS,this.handleWindowEvent_SafariFocus,this),this.apvPlayer.removeEventListener(_.Events.Players.PLAYING,this.showApv,this),an.isSafari()||this.apvPlayer.setStyles({opacity:0}),this.apvPlayer.dispose(),this.apvPlayer=null,this._debounceCarousel&&(this._debounceCarousel.kill(),this._debounceCarousel=null),this._debouncer&&(this._debouncer.kill(),this._debouncer=null),this._observerAttrChange&&0<this._observerAttrChange.length)for(var e=0;e<this._observerAttrChange.length;e++)this._observerAttrChange[e].disconnect(),0;this._observerAttrChange=null,this.elementToReplace=null,this.elementSize=null,this._videoWrapper&&(this._videoWrapper.parentElement&&this._videoWrapper.parentElement.removeChild(this._videoWrapper),this._videoWrapper=null),this.minuteLinkElm&&(this.minuteLinkElm.parentElement&&this.minuteLinkElm.parentElement.removeChild(this.minuteLinkElm),this.minuteLinkElm=null),this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null),this.minuteLink=null,this.articleData=null,this.minContainer.apvData=null,this.minContainer=null,this.apvData=null,this.hasDisposed=!0}},e.prototype.setElementToObserve=function(){this.startObserveAttrChange(this.apvData.getViewportObserver())},e.prototype.isElementToReplaceVisibleValid=function(){return this.elementSize!=this.elementToReplace?!!this.elementToReplace&&!!this.elementToReplace.offsetParent||!!this.elementSize&&!!this.elementSize.offsetParent:!!this.elementToReplace&&!!this.elementToReplace.offsetParent},e.prototype.handleWindowEvent_Resize=function(e){e.data&&this.dispatchViewportEvent()},e.prototype.showApv=function(){un.isTestGroup()||(this.minContainer.style.opacity=1)},e.prototype.hideApv=function(){this.minContainer.style.opacity=0},e.prototype.isElementVisible=function(){return ne.isElementVisible(this.minContainer,this.apvData.getViewportMaskElement())},e.prototype.getElementVisiblePercents=function(){return ne.getElementVisiblePercents(this.elementSize,this.apvData.getViewportMaskElement())},e.prototype.dispatchViewportEvent=function(){var e;this.apvData&&(e=this.getElementVisiblePercents(),this._reportViewportPercentage(e))},e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.setShouldRender=function(e){this._shouldRender=e},e.prototype._reportViewportPercentage=function(e){var t=e>=dn.getViewportPercentage();this.setShouldRender(t),this._updateVisible(t),y.debugParams[f.DEBUG_VISIBILITY]&&D.log("Regular APV "+this.apvData.getHighlightId()+" visibility: "+e),this.dispatchEvent(_.Events.Element.ANALYTICS_VISIBLE,{apvData:this.apvData,percentsVisible:e})},e.prototype._updateVisible=function(e){return this.dispatchEvent(e?_.Events.Element.VISIBLE:_.Events.Element.NON_VISIBLE,{articleData:this.articleData,apvData:this.apvData}),e},e.prototype.registerMouseEvents=function(){var e=this.apvData.getContainerElement();e||D.logError("WTF??? contact Daniel"),e.addEventListener(_.Events.Element.MOUSE_ENTER,function(){this.dispatchEvent(_.Events.Element.FIRST_MOUSE_ENTER)}.bind(this),{once:!0}),e.addEventListener(_.Events.Element.MOUSE_ENTER,function(){this.dispatchEvent(_.Events.Element.MOUSE_ENTER)}.bind(this)),e.addEventListener(_.Events.Element.MOUSE_LEAVE,function(){this.dispatchEvent(_.Events.Element.MOUSE_LEAVE)}.bind(this))},e.prototype.dispatchReadyEvent=function(){this.apvData.setMinuteContainerElementTracker(this.minContainer),this.dispatchEvent(_.Events.Element.READY,{apvData:this.apvData}),D.isSupportIntersectionObserver()?this.initInterObserver():this.dispatchViewportEvent()},e.prototype.initInterObserver=function(){var t=this;this._intersectionObserver=new IntersectionObserver(function(e){t._reportViewportPercentage(100*e[0].intersectionRatio)},{root:null,threshold:[0,.01,.5,1]}),this._intersectionObserver.observe(this.apvData._elementSize)},e.prototype.play=function(){this.apvPlayer&&this.apvPlayer.play()},e.prototype.pause=function(){this.apvPlayer&&this.apvPlayer.pause()},e.prototype.attachWindowEvents=function(){D.isSupportIntersectionObserver()||(P.addEventListener(_.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),P.addEventListener(_.Events.DomWindow.RESIZE,this.handleWindowEvent_Resize,this)),P.addEventListener(_.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this),P.addEventListener(_.Events.DomWindow.VISIBILITY_CHANGE,this.dispatchViewportEvent,this)},e.prototype.handleCarouselDebounceCallback=function(){this.dispatchEvent(_.Events.Element.MUTANT,{articleData:this.articleData,apvData:this.apvData})},e.prototype.startObserveAttrChange=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n)return;var i=this;this._debounceCarousel=new A.utils.Debounce(250,this.handleCarouselDebounceCallback,this),this._observerAttrChange;var r=new MutationObserver(function(e){i._debounceCarousel.start()});n&&r.observe(n,{attributes:!0,characterData:!0,childList:!0}),this._observerAttrChange.push(r)}},e.prototype.clickByPoint=function(e){un.isTestGroup()||this.apvData.getContainerUnique()==e.data.containerUnique&&this.openPagesClickByPoint()},e.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),un.isTestGroup()||(dn.isClickByPointEnabled()?P.addEventListener(_.Events.CLICK_FROM_POINT,this.clickByPoint,this):this.minuteLinkElm.addEventListener("click",this.openPages.bind(this),!0))},e.prototype.openPagesClickByPoint=function(){return window.open(dn.getBaseLinkUrl(),"_blank"),this.dispatchEvent(_.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},e.prototype.openPages=function(e){e.preventDefault(),e.stopImmediatePropagation();e=window.open(dn.getBaseLinkUrl(),"_blank");return window.open(this.apvData.getRawAnchorValue(),"_self"),e&&e.focus(),this.dispatchEvent(_.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},e.prototype.getBoundingClientRect=function(){return(this.minContainer||this.elementToReplace).getBoundingClientRect()},e.prototype.handleWindowEvent_SafariFocus=function(){D.log("hack for fixing render issue on safari mobile such as 4496"),this.minContainer.style.display="none"},e.prototype.getListOfCopyableStyles=function(){return n}}()),function(){function e(){e.__superCtor__.call(this),this.minContainer=null,this.blockingState=_.APVStates.Active,this.videoHasStarted=!1,this.apvSetHidden=!1,P.addEventListener(_.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this),P.addEventListener(_.Events.INARTICLE_CLICK,this.handleApvClicked,this)}A.apv=A.apv||{},A.apv.domAdapter=A.apv.domAdapter||{},A.apv.inArticleDomAdapter=A.apv.inArticleDomAdapter||{};var t=A.apv.domAdapter,n={};P.addEventListener(_.Events.PLAYER_PLAYING,function(e){n[e.data.videoId]=e.data}),t.InArticleBase=e,D.extends(e,v),e.prototype.handlePlayerPlayingEvent=function(e){0===e.data.counter&&e.data.videoId==this.articleData.getPublisherVideoId()&&(P.removeEventListener(_.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this),D.log("hide video send inactive"),yn.setShouldSendImpClickForApvData(this.apvData,!1),this.videoHasStarted=!0,this.hideApv())},e.prototype.handleApvClicked=function(e){e.data==this.apvData&&(P.removeEventListener(_.Events.INARTICLE_CLICK,this.handleApvClicked,this),this.hideApv())},e.prototype.isPlayerPlayingOnInit=function(){return!!n[this.articleData.getPublisherVideoId()]},e.prototype.cleanInstance=function(){this.apvData=null,this.elementToReplace=null,this.apvPlayer=null,this.minuteLink=null,this.articleData=null,this.player=null,this._coverLayer=null,this._containerOverlay=null},e.prototype.init=function(e){return this.apvData=e,this.containerElement=e.getContainerElement(),this.apvPlayer=e.getApvPlayer(),this.minuteLink=e.getMinuteLogo(),this.articleData=e.getArticleData(),this.player=e.getPlayerInstance(),this._containerOverlay=null,this._coverLayer=null,this.isPlayerPlayingOnInit()?void this.cleanInstance():(this._initElements(),this.attachWindowEvents(),this.addEvents(),this._observeViewportMask(),this.setElementToObserve(),void this.insertContainerToDOM())},e.prototype._observeViewportMask=function(){var e,t=dn.getInArticleViewportMask();t!==window&&(e=function(){D.log("InArticleBase observed change!"),this.dispatchViewportEvent();var e=new A.utils.Timer(500,this.dispatchViewportEvent,this);e.setCounterLimit(3),e.start(),this.mutationObserver.disconnect()}.bind(this),this.mutationObserver=new MutationObserver(e),this.mutationObserver.observe(t,{attributes:!0}))},e.prototype.setElementToObserve=function(){this.startObserveAttrChange(this.apvData.getViewportObserver())},e.prototype.addEvents=function(){P.addEventListener(_.Events.PLAYER_VIDEO_CHANGED,this.handleVideoChanged.bind(this)),this.apvPlayer.addEventListener(_.Events.Players.PLAYING,this.showApv,this)},e.prototype._initElements=function(){this.createMinContainer(),this.createVideoElement(),this.createCoverLayerElement(),this.createLogoElement(),this.createContainerOverlay(),this.createWatchBanner(),this.minContainer.appendChild(this.apvPlayer.getApvElement()),this._containerOverlay&&this.minContainer.appendChild(this._containerOverlay),this.minContainer.appendChild(this._coverLayer),dn.getInArticleShowLogo()&&this.minContainer.appendChild(this.minuteLinkElm),this._watchBanner&&this.minContainer.appendChild(this._watchBanner),this.videoHasStarted&&D.log("video has started to play, wont insert apv to in article")},e.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.minContainer.classList.add(_.minuteClasses.CONTAINER),this.decorateElementWithPlacementName(this.minContainer),this.minContainer.style.width="100%",this.minContainer.style.height="100%",this.minContainer.style.transition="opacity 0.5s ease-out",this.minContainer.style.position=_.values.ABSOLUTE,this.minContainer.style.top="0px",this.minContainer.style.opacity=0,this.minContainer.setAttribute("id",this.apvData.getContainerUnique())},e.prototype.getTypeName=function(){return"InArticle Base"},e.prototype.decorateElementWithPlacementName=function(e){e.setAttribute("placement",this.getTypeName())},e.prototype.createVideoElement=function(){var e={position:_.values.RELATIVE,display:_.values.BLOCK,width:_.values.HUNDRED_PERCENT,height:_.values.HUNDRED_PERCENT};e[_.styles.OBJECT_FIT]="cover",this.apvPlayer.setStyles(e)},e.prototype.createWatchBanner=function(){var e=dn.getInArticlePlacerWatchFullSettings();if(e.active){var t=document.createElement("div");t.style.position="absolute";for(var n=0;n<e.position.length;n++){var i=e.position[n];t.style[i]="0px"}t.style.margin="15px",t.style.fill="white",t.style.backgroundColor="#3f3f3f",t.style.opacity="0.7",t.style.color="white",t.style.padding="10px 20px",t.style.maxWidth="40%",t.style.border="1px solid white",t.style.fontSize="1em",t.style.pointerEvents="none",t.innerText=e.text,A.utils.ApvElementUtils.setElementAsReplaced(t),this._watchBanner=t}},e.prototype.createCoverLayerElement=function(){this._coverLayer=document.createElement("div"),this._coverLayer.style.width=_.values.HUNDRED_PERCENT,this._coverLayer.style.height=_.values.HUNDRED_PERCENT,this._coverLayer.style.position=_.values.ABSOLUTE,this._coverLayer.style.top="0px"},e.prototype.insertContainerToDOM=function(){D.logError("insertContainerToDOM has to be implemented and do not forget to dispatchReadyEvent")},e.prototype.showApv=function(){un.isTestGroup()||!1!==this.apvSetHidden||(this.minContainer.style.opacity=1)},e.prototype.hideApv=function(){this.apvSetHidden=!0,this.minContainer.style.opacity=0,this.pause()},e.prototype.isElementVisible=function(){var e=dn.getInArticleViewportMask();return ne.isElementVisible(this.containerElement,e)},e.prototype.getElementVisiblePercents=function(){var e=dn.getInArticleViewportMask();return ne.getElementVisiblePercents(this.containerElement,e)},e.prototype.dispatchViewportEvent=function(){var e=this.getElementVisiblePercents();this._reportViewportPercentage(e)},e.prototype._reportViewportPercentage=function(e){var t=e>=dn.getViewportPercentage();this._updateVisible(t),y.debugParams[f.DEBUG_VISIBILITY]&&D.log("In Article APV "+this.apvData.getHighlightId()+" visibility: "+e),this.dispatchEvent(_.Events.Element.ANALYTICS_VISIBLE,{apvData:this.apvData,percentsVisible:e})},e.prototype._updateVisible=function(e){e?this.dispatchEvent(_.Events.Element.VISIBLE,{articleData:this.articleData}):this.dispatchEvent(_.Events.Element.NON_VISIBLE,{articleData:this.articleData})},e.prototype.handleCarouselDebounceCallback=function(){this.dispatchEvent(_.Events.Element.MUTANT,{articleData:this.articleData,apvData:this.apvData})},e.prototype.startObserveAttrChange=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n)return;var i=this;this._debounceCarousel=new A.utils.Debounce(250,this.handleCarouselDebounceCallback,this),this._observerAttrChange=[];var r=new MutationObserver(function(e){i._debounceCarousel.start()});n&&r.observe(n,{attributes:!0,characterData:!0,childList:!0}),this._observerAttrChange.push(r)}},e.prototype.dispatchReadyEvent=function(){this.dispatchEvent(_.Events.Element.READY,{apvData:this.apvData}),D.isSupportIntersectionObserver()?this.initInterObserver():this.dispatchViewportEvent()},e.prototype.initInterObserver=function(){var t=this;new IntersectionObserver(function(e){t._reportViewportPercentage(100*e[0].intersectionRatio)},{root:null,threshold:[0,.01,.5,1]}).observe(this.containerElement)},e.prototype.play=function(){this.apvPlayer&&!this.apvSetHidden&&this.apvPlayer.play()},e.prototype.pause=function(){this.apvPlayer&&this.apvPlayer.pause()},e.prototype.attachWindowEvents=function(){D.isSupportIntersectionObserver()||P.addEventListener(_.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),P.addEventListener(_.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this)},e.prototype.clickByPoint=function(e){var t;un.isTestGroup()||(t=0==this.minContainer.style.opacity,this.apvData.getContainerUnique()!=e.data.containerUnique||t||this.openPagesClickByPoint())},e.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),un.isTestGroup()||(dn.isClickByPointEnabled()?P.addEventListener(_.Events.CLICK_FROM_POINT,this.clickByPoint,this):this.minuteLinkElm.addEventListener("click",this.openPages.bind(this),!0))},e.prototype.openPagesClickByPoint=function(){return window.open(dn.getBaseLinkUrl(),"_blank"),this.dispatchEvent(_.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},e.prototype.openPages=function(e){return window.open(dn.getBaseLinkUrl(),"_blank"),this.dispatchEvent(_.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},e.prototype.activateApv=function(){this.showApv()},e.prototype.setState=function(e){this.activateApv()},e.prototype.dispose=function(){this.hideApv(),yn.setShouldSendImpClickForApvData(this.apvData,!1)},e.prototype.observerAttrChange=function(){},e.prototype.getBoundingClientRect=function(){return this.minContainer.getBoundingClientRect()},e.prototype.blockApv=function(){},e.prototype.hideDebugBlocking=function(){},e.prototype.showDebugBlocking=function(){},e.prototype.handleVideoChanged=function(e){},e.prototype.createContainerOverlay=function(){}}(),A.apv=A.apv||{},A.apv.domAdapter=A.apv.domAdapter||{},A.apv.inArticleDomAdapter=yt,D.extends(yt,A.apv.domAdapter.InArticleBase),yt.prototype.getTypeName=function(){return"NFL"},yt.prototype.insertContainerToDOM=function(){var e=this.player.contentDocument.body.querySelector(".anv-splash-img"),t=this.player.contentDocument.body.querySelector(".anv-splash-img");e&&t&&(e.insertAdjacentElement("afterbegin",this.minContainer),this.dispatchReadyEvent(),this.detectVideoPlay(t))},yt.prototype.createMinContainer=function(){yt.__super__.createMinContainer.call(this),this.minContainer.style.pointerEvents="none"},yt.prototype.detectVideoPlay=function(r){new MutationObserver(function(e,t){r&&null==r.offsetParent&&(this.handleVideoStarted(),t.disconnect());for(var n=0;n<e.length;n++){var i=e[n];"style"==i.attributeName&&i.target==r&&(this.handleVideoStarted(),t.disconnect())}}.bind(this)).observe(r,{attributes:!0,childList:!0,subtree:!0})},yt.prototype.handleVideoStarted=function(e){this.hideApv()},A.apv=A.apv||{},A.apv.playmodes=A.apv.playmodes||{},A.apv.playmodes.Base=Et,D.extends(Et,v),Et.prototype.setDomAdapter=function(e){this.apvData=e,this.domAdapter=this.apvData.getDomAdapter(),this.apvPlayer=this.apvData.getApvPlayer(),this.articleData=this.apvData.getArticleData()},Et.prototype.insertContainerToDOM=function(){this.domAdapter.insertContainerToDOM(),this.domAdapter.startAnimationResize()},Et.prototype.start=function(){},A.apv.playmodes.Viewport=ft,D.extends(ft,A.apv.playmodes.Base),ft.prototype.start=function(){ft.__super__.start.call(this),this.apvPlayer.setAutoplay(),this.apvPlayer.forcePlay(),this.apvPlayer.addEventListener(_.Events.Players.LOADED,function(){this.domAdapter.isElementVisible()?this.domAdapter.play():this.domAdapter.pause()}.bind(this)),this.domAdapter.addEventListener(_.Events.Element.VISIBLE,function(){this.domAdapter.play()}.bind(this)),this.domAdapter.addEventListener(_.Events.Element.NON_VISIBLE,function(){this.domAdapter.pause()}.bind(this)),this.domAdapter.addEventListener(_.Events.Element.MUTANT,function(e){setTimeout(function(){this.domAdapter.dispatchViewportEvent()}.bind(this),10)}.bind(this)),this.domAdapter.addEventListener("apvInjection",function(){this.insertContainerToDOM()}.bind(this))},A.apv.playmodes.Hover=mt,D.extends(mt,A.apv.playmodes.Base),mt.prototype.addMouseEvents=function(){this.domAdapter.addEventListener("mouseenter",function(){this.domAdapter.setShouldRender(!0),this.domAdapter.render(),this.domAdapter.showApv(),this.domAdapter.play()}.bind(this)),this.domAdapter.addEventListener("mouseleave",function(){this.isVisible=!1,this.domAdapter.setShouldRender(!1),this.domAdapter.hideApv(),this.domAdapter.pause()}.bind(this))},mt.prototype.start=function(){mt.__super__.start.call(this),this.apvPlayer.setAutoplay(),this.apvPlayer.forcePlay(),this.domAdapter.addEventListener(_.Events.Element.FIRST_MOUSE_ENTER,function(){this.addMouseEvents(),this.domAdapter.setShouldRender(!0),this.apvPlayer.setSource(),this.apvPlayer.forcePlay(),this.insertContainerToDOM()}.bind(this)),this.domAdapter.addEventListener("apvInjection",function(){}.bind(this))};var Ft,Mt,Bt,xt,Wt=(Ht.prototype.setImpressionHasSent=function(){this._didImpressionSent=!0},Ht.prototype.setShouldSendImpression=function(e){this._shouldSendImpression=e},Ht.prototype.getShouldSendImpression=function(){return!this.getDidImpressionSent()&&this._shouldSendImpression&&!this.getClickAlreadySent()},Ht.prototype.getDidImpressionSent=function(){return this._didImpressionSent},Ht.prototype.setIsClickRegistered=function(e){this._isClickRegistered=e},Ht.prototype.getIsClickRegistered=function(){return this._isClickRegistered},Ht.prototype.setShouldSendClickEvent=function(e){this._shouldSendClickEvent=e},Ht.prototype.getShouldSendClickEvent=function(){return this._shouldSendClickEvent&&!this.getClickAlreadySent()&&this.getDidImpressionSent()},Ht.prototype.setClickAlreadySent=function(){this._clickAlreadySent=!0},Ht.prototype.getClickAlreadySent=function(){return this._clickAlreadySent},Ht.prototype.setClickElements=function(e){this._clickElements=e},Ht.prototype.getVideoId=function(){return this._articleData&&this._articleData.getPublisherVideoId()},Ht.prototype.getMinuteVideoId=function(){return this._articleData&&this._articleData.getVideoDBId()},Ht.prototype.getName=function(){return this._name},Ht.prototype.getMethod=function(){return this._method},Ht.prototype.setName=function(e){this._name=e},Ht.prototype.getClickElements=function(){return this._clickElements},Ht.prototype.setContainerElement=function(e){e&&!this._containerElement&&(this._containerElement=e,this._createElementsTracker(),this._belongToUrl=A.publisher.utils&&A.publisher.utils.getElementUrl&&A.publisher.utils.getElementUrl(this._containerElement))},Ht.prototype._createElementsTracker=function(){this._domContainerElementTracker=new A.utils.DomElementTracker(this._containerElement),this._domContainerElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domContainerElementTracker.start(),this._viewportMask!==window&&(this._domViewportMaskElementTracker=new A.utils.DomElementTracker(this._viewportMask),this._domViewportMaskElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domViewportMaskElementTracker.start())},Ht.prototype.setMinuteContainerElementTracker=function(e){this._domMinuteContainerElementTracker=new A.utils.DomElementTracker(e),this._domMinuteContainerElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domMinuteContainerElementTracker.start()},Ht.prototype.getProduct=function(){return this._product},Ht.prototype.getKey=function(){return this._key},Ht.prototype.getKeyProduct=function(){return this._keyProduct},Ht.prototype.getArticleData=function(){return this._articleData},Ht.prototype.getElementToReplace=function(){return this._elementToReplace},Ht.prototype.getElementSize=function(){return this._elementSize},Ht.prototype.getContainerElement=function(){return this._containerElement},Ht.prototype.setApvPlayer=function(e){return this._apvPlayer=e,this._apvPlayer},Ht.prototype.getApvPlayer=function(){return this._apvPlayer},Ht.prototype.setDomAdapter=function(e){return this._domAdapter=e},Ht.prototype.getDomAdapter=function(){return this._domAdapter},Ht.prototype.setMinuteLogo=function(e){return this._minuteLogo=e},Ht.prototype.getMinuteLogo=function(){return this._minuteLogo},Ht.prototype.getBlockingDistance=function(){return dn.getBlockingDistanceRadius()},Ht.prototype.getPosition=function(){var e=this.getRect();return{top:e.top+document.body.scrollTop+parseInt(e.height)/2,left:e.left+document.body.scrollLeft+parseInt(e.width)/2}},Ht.prototype.getRect=function(){return(this._domAdapter||this._elementToReplace).getBoundingClientRect()},Ht.prototype.setDebug=function(e){this._debug&&this._debug.parentElement.removeChild(this._debug),this._debug=e},Ht.prototype.getDebug=function(){return this._debug},Ht.prototype.setState=function(e){D.log("BlockingD: "+this._articleData.getArticleUrl()+" is "+e),this._state=e},Ht.prototype.getState=function(){return this._state},Ht.prototype.getViewportMaskElement=function(){return this._viewportMask},Ht.prototype.getViewportObserver=function(){return this._viewportObserver},Ht.prototype.setPlayerInstance=function(e){this._playerInstance=e},Ht.prototype.getPlayerInstance=function(){return this._playerInstance},Ht.prototype.setManualClick=function(e){e.length&&D.logWarning("SetManualClick as array which is not supported at the moment"),this._manualClick=e},Ht.prototype.getManualClick=function(){return this._manualClick},Ht.prototype.getUniqId=function(){return this._uuid},Ht.prototype.getRawAnchorValue=function(){return this._rawAnchorValue},Ht.prototype.getContainerUnique=function(){return this._containerUnique},Ht.prototype.dispose=function(){this._onDisposed&&(this.disposedHltData=D.cloneObject(pn.getHltByProduct(this._articleData.getHighlights(),this._product)),this.disposedArticleUrl=this._articleData.getArticleUrl(),this._onDisposed.dispatch(this),this._domContainerElementTracker&&(this._domContainerElementTracker.dispose(),this._domContainerElementTracker=null),this._domViewportMaskElementTracker&&(this._domViewportMaskElementTracker.dispose(),this._domViewportMaskElementTracker=null),this._domMinuteContainerElementTracker&&(this._domMinuteContainerElementTracker.dispose(),this._domMinuteContainerElementTracker=null),this._domAdapter&&(this._domAdapter.dispose(),this._domAdapter=null),this._articleData=null,this._apvPlayer=null,this._elementToReplace=null,this._elementSize=null,this._viewportMask=null,this._viewportObserver=null,this._containerElement=null,this._onDisposed.removeAll(),this._onDisposed=null,this._hasDisposed=!0,this._minuteLogo=null,this._watcher=null,this._manualClick=null,this._clickElements=null,D.log("APV data has been disposed"))},Ht.prototype.hasDisposed=function(){return this._hasDisposed},Ht.prototype.onDisposed=function(){return this._onDisposed},Ht.prototype._onContainerElementRemoved=function(){this.dispose()},Ht.prototype.getBelongToUrl=function(){return this._belongToUrl},Ht.prototype.getHighlights=function(){return this._articleData.getHighlights()},Ht.prototype.getHighlightId=function(){if(this._hasDisposed)return this.disposedHltData.hltId;var e=pn.getHltByProduct(this._articleData.getHighlights(),this._product);return e||D.logError("shouldnt ever get to this point"),e.hltId},Ht.prototype.getRank=function(){var e=pn.getHltByProduct(this._articleData.getHighlights(),this._product);return e||D.logError("BlockingD: shouldnt ever get to this point"),e.rank},Ht.prototype.getHltAPVUrl=function(){if(this._hasDisposed)return this.disposedHltData.vidUrl;var e=pn.getHltByProduct(this._articleData.getHighlights(),this._product);return e||D.logError("shouldnt ever get to this point"),e.vidUrl},Ht.prototype.getArticleUrl=function(){return this._hasDisposed?this.disposedArticleUrl:this._articleData.getArticleUrl()},Ht.prototype.getPlaymodeEnum=function(){switch(this._playmode){case _.playmode.VIEWPORT:return 2;case _.playmode.HOVER:return 5;case _.playmode.BLOCKINGHOVER:return 6;default:return 0}},Ht.prototype.getPlaymode=function(){return this._playmode},Ht.prototype.setPlaymode=function(e){this._playmode=e},Ht.prototype.setIsVertical=function(){var e=pn.supportVertical(this._articleData.getHighlights()),t=!1;this._elementSize.clientWidth/this._elementSize.clientHeight<dn.getValidRatio()&&(t=!0),this._isVertical=e&&t},Ht.prototype.isApvVertical=function(){return this._isVertical},Ht);function Ht(e){this._containerUnique=D.generateShortUnique(),this._articleData=e.articleData,this._uuid=D.generateUnique(),this._product=e.product,this._key=""+this.getHighlightId(this._product),this._keyProduct=this._key+"_"+this._product,this._name=e.name,this._debug=null,this._state=_.APVStates.New,this._playmode=dn.getPlaymode(this._product),this._isVertical=!1,this._apvPlayer=null,this._domAdapter=null,this._minuteLogo=null,this._playerInstance=null,this._elementToReplace=e.elmToReplace,this._elementSize=e.elementSize,this._manualClick=null,this._rawAnchorValue=e.rawUrl,this._clickElements=[],this._viewportMask=e.viewportMaskElement,void 0===this._viewportMask&&D.logError("_viewportMask should always be something!!!"),this._viewportObserver=e.viewportObserver,this._containerElement=null,this._domContainerElementTracker=null,this._domViewportMaskElementTracker=null,this._method=e.method||null,this._onDisposed=new A.utils.Signal,this._hasDisposed=!1,this._belongToUrl=null,this.setContainerElement(e.containerElement),this._shouldSendImpression=!0,this._didImpressionSent=!1,this._isClickRegistered=!1,this._shouldSendClickEvent=!0,this._clickAlreadySent=!1,this.setIsVertical()}function Gt(e,t,n,i,r){Gt.__superCtor__.call(this,e,t,n,i,r)}function zt(e,t,n,i,r){Ft=e,Mt=r,this.lastKnownUrl=location.href}function Yt(){}function qt(e){this.viewportMaskElement=e,this.mutationObserver=new MutationObserver(function(){this.state=Bt.SCROLLED}.bind(this)),this.mutationObserver.observe(this.viewportMaskElement,{attributes:!0}),this.state=Bt.INIT}function jt(e){this.elm=e}function Kt(e){this._blockersContainers=[],this.painter=e}function Jt(e,t,n){Jt.__superCtor__.call(this),xt=xt||t,0}function Zt(e){0}function Xt(){this._usedApvDataList={},this._isRequestDisposedUpdate=!1,this._clickSentApv={},this._usedArticleDataList={},this._alreadySentImpression={}}Xt.prototype.isAPVAlreadyExists=function(e){if(this._usedApvDataList[e.getContainerUnique()])return!0;for(var t=Object.keys(this._usedApvDataList),n=0;n<t.length;n++)if(t[n]===e.getContainerElement()||this._usedApvDataList[t[n]]._containerElement===e.getContainerElement())return!0;return!1},Xt.prototype.add=function(e,t){if(e.hasDisposed())return!1;if(this.isAPVAlreadyExists(e))return!1;var n=this;void 0===(this._usedApvDataList[e.getContainerUnique()]=e).getHighlightId()&&D.logWarning("apvData with no highlight, make sure we have highlight in 'InArticlePlacer'");var i=e.getHighlightId().toString();return(this._usedArticleDataList[i]=e).onDisposed().add(function(e){n.remove(e)}),this._alreadySentImpression[e.getKeyProduct()]&&this.setImpressionSent(e),this._clickSentApv[e.getKeyProduct()]&&e.setClickAlreadySent(),e.getProduct()===_.Emitter.PRODUCT_IN_ARTICLE&&e.setState(_.APVStates.Active),!0},Xt.prototype.remove=function(e){var t=e.getContainerUnique();this._usedApvDataList[t]&&delete this._usedApvDataList[t];e=e.getHighlightId().toString();this._usedArticleDataList[e]&&delete this._usedArticleDataList[e],this._isRequestDisposedUpdate||(this._isRequestDisposedUpdate=!0,D.getRequestAnimationFrame(this.sendApvDisposedEvent.bind(this)))},Xt.prototype.sendApvDisposedEvent=function(){this._isRequestDisposedUpdate=!1,P.dispatchEvent(_.Events.APV_DISPOSED)},Xt.prototype.getApvDataByKeyProduct=function(e,t){t=this._getAllApvDataByKeyProduct(e,t);return 0<t.length?t[0]:null},Xt.prototype.setClickAlreadySent=function(e){e&&e.setClickAlreadySent();for(var t=this._getAllApvDataByKeyProduct(e.getHighlightId(),e.getProduct()),n=0;n<t.length;n++){var i=t[n];i!==e&&i.setClickAlreadySent()}this._clickSentApv[e.getKeyProduct()]=!0},Xt.prototype.setImpressionSent=function(e){this._alreadySentImpression[e.getKeyProduct()]=!0;for(var t=this._getAllApvDataByKeyProduct(e.getHighlightId(),e.getProduct()),n=0;n<t.length;n++)t[n].setImpressionHasSent()},Xt.prototype.setShouldSendImpClickForApvData=function(e,t){e.setShouldSendImpression(t),e.getDidImpressionSent()||e.setShouldSendClickEvent(t)},Xt.prototype.setIsClickRegistered=function(e,t){e.setIsClickRegistered(t)},Xt.prototype.getShouldSendClickEvent=function(e){return!(!e||!e.getShouldSendClickEvent())},Xt.prototype.getIsClickRegistered=function(e){return e.getIsClickRegistered()},Xt.prototype.getShouldSendImpression=function(e){return e.getShouldSendImpression()},Xt.prototype.getAllActiveApv=function(){for(var e=Object.keys(this._usedApvDataList),t=[],n=0;n<e.length;n++){var i=this._usedApvDataList[e[n]];i.getState()===_.APVStates.Active&&t.push(i)}return t},Xt.prototype._getAllApvDataByKeyProduct=function(e,t){for(var n=Object.keys(this._usedApvDataList),i=[],r=0;r<n.length;r++){var o=this._usedApvDataList[n[r]];o.getHighlightId()===e&&o.getProduct()===t&&i.push(o)}return i},Xt.prototype.getAmountOfApvDataOnPage=function(){return Object.keys(this._usedApvDataList).length},Xt.prototype.create=function(e){var t=new Wt(e);if(this.add(t,e.product))return t},Xt.prototype.setShouldSendClickEvent=function(e,t){e.setShouldSendClickEvent(t)},Xt.prototype.sendClickEvent=function(e){ot.sendClick(e.getArticleData(),{type:_.Emitter.ANALYTICS_CLICK_EVENT,placementFunction:_.Placements.VIEWPORT_IMPRESSION,uniq:!1,product:e.getProduct(),placement:e.getName()},!0,e)},A.ApvDataManager=Xt,Zt.prototype.init=function(){this.markPlaces(),P.addEventListener(_.Events.ONE_SECONDS_INTERVAL,this.markPlaces,this)},Zt.prototype.setContainerAttr=function(e,t,n){e.setAttribute(t,n||"true")},Zt.prototype.getNewContainers=function(e){for(var t=e.getContainerSelector().split(","),n=0;n<t.length;n++)t[n]+=":not(["+_.integrationDataSet.ENABLE+"])";e=t.join();return document.querySelectorAll(e)},Zt.prototype.markPlacement=function(e,t){for(var n=0;n<t.length;n++){var i,r,o=t[n];this.setContainerAttr(o,_.integrationDataSet.ENABLE,e.getName()),this.setContainerAttr(o,_.integrationDataSet.METHOD,e.getMethod()),"a"!==e.getAnchorSelector()&&((i=o.querySelector(e.getAnchorSelector()))&&i.setAttribute(_.integrationDataSet.ANCHOR,"true"),e.getAnchorSelector()===_.sizeSelector.CONTAINER&&o.setAttribute(_.integrationDataSet.ANCHOR,"true")),"img"!==e.getPreviewSelector()&&((r=o.querySelector(e.getPreviewSelector()))&&r.setAttribute(_.integrationDataSet.PREVIEW,"true"),e.getPreviewSelector()===_.sizeSelector.CONTAINER&&o.setAttribute(_.integrationDataSet.PREVIEW,"true")),void 0!==e.getSizeSelector()&&""!==e.getSizeSelector()&&((r=o.querySelector(e.getSizeSelector()))&&r.setAttribute(_.integrationDataSet.SIZE,"true"),e.getSizeSelector()===_.sizeSelector.CONTAINER&&o.setAttribute(_.integrationDataSet.SIZE,"true"))}this.markObserverSelector(e),this.markMaskSelector(e)},Zt.prototype.markObserverSelector=function(e){if(e.getViewportObserverSelector())for(var t=document.querySelectorAll(e.getViewportObserverSelector()),n=0;n<t.length;n++)t[n].setAttribute(_.integrationDataSet.VIEWPORT_OBSERVER,"true")},Zt.prototype.markMaskSelector=function(e){if(e.getViewportMaskSelector())for(var t=document.querySelectorAll(e.getViewportMaskSelector()),n=0;n<t.length;n++)t[n].setAttribute(_.integrationDataSet.VIEWPORT_MASK,"true")},Zt.prototype.markPlaces=function(){for(var e=mn.getAllPlacements(),t=0;t<e.length;t++){var n=e[t],i=this.getNewContainers(n);0!==i.length&&this.markPlacement(n,i)}},A.services=A.services||{},A.services.Simulation=Zt,D.extends(Jt,v),Jt.prototype._getAnchorElement=function(e){var t=e.containerElement;if(t.dataset.minAnchor)return t;var n=e.containerElement.querySelector("["+_.integrationDataSet.ANCHOR+"]");return n||(n=(t=e.containerElement.querySelectorAll("a"))[0],1<t.length&&!this.anchorWarned&&(this.anchorWarned=!0),0!==t.length||this.anchorWarned||(this.anchorWarned=!0),n||"A"!==e.containerElement.tagName||(n=e.containerElement)),n},Jt.prototype._getAricleData=function(e){for(var t,n,i,r=e.attributes,o=0;o<r.length;o++)if(i=r[o].name,n=e.getAttribute(i),t=hn.getRegularArticleDataByURL(D.urls.getCanonicalURL(n)))return{attributeName:i,targetUrl:n,articleData:t};return null},Jt.prototype.checkForArticleData=function(e){var t=this._getAnchorElement(e);if(!t)return null;var n=this._getAricleData(t);if(!n||D.isObjEmpty(n))return null;e=n.articleData;return e&&e.hasAPVByProduct(_.Emitter.PRODUCT_APV)?{anchorElement:t,attributeName:n.attributeName,attrValue:D.urls.getCanonicalURL(n.targetUrl),rawUrl:D.urls.getRawByUrl(n.targetUrl),articleData:e}:null},Jt.prototype.createData=function(e){e.product=_.Emitter.PRODUCT_APV,e.method=this.getMethodOfInsertion(e);var t=xt.create(e);if(t){var n,i,r=[],o=[];return A.publisher.utils&&A.publisher.utils.getAdditionalClickElements&&(o=A.publisher.utils.getAdditionalClickElements(e)),r=(r=e.containerElement===e.anchorElement?[t.getContainerElement()]:(n=t.getContainerElement(),i="["+e.attributeName+'*="'+e.attrValue+'"]',e="["+e.attributeName+'*="'+encodeURIComponent(e.attrValue)+'"]',e=n.querySelectorAll(i+","+e),Array.prototype.slice.call(e))).concat(o),t.setClickElements(r),t}},Jt.prototype.getMethodOfInsertion=function(e){var t=null;return e.containerElement.dataset[_.integrationDataSetElm.METHOD]&&"true"!=e.containerElement.dataset[_.integrationDataSetElm.METHOD]&&(t=e.containerElement.dataset[_.integrationDataSetElm.METHOD]),e.containerElement.removeAttribute(_.integrationDataSet.METHOD),t},Jt.prototype.getElementSize=function(e){return e.containerElement.dataset.minSize?e.containerElement:e.containerElement.querySelector("["+_.integrationDataSet.SIZE+"]")},Jt.prototype.getElementToReplace=function(e){e=e.containerElement;if(e.dataset.minPreview)return e;var t=e.querySelector("["+_.integrationDataSet.PREVIEW+"]");if(!t){var n=e.querySelectorAll("img");if(1<=n.length){1<n.length&&!this.previewWarned&&(this.previewWarned=!0);for(var i=0;i<n.length;i++)if((!an.isFF()||"none"!==n[i].display)&&"none"!==getComputedStyle(n[i]).display&&"none"!=n[i].offsetParent){t=n[i];break}}if(!t)return this.previewWarned=!0,null}return t},Jt.prototype.retrieveDomElements=function(e){var t={};if(t.elmToReplace=this.getElementToReplace(e),t.elementSize=this.getElementSize(e)||t.elmToReplace,!t.elmToReplace)return null;if(A.utils.ApvElementUtils.getIsElementReplaced(t.elmToReplace))return null;if(D.extractElementSize(t.elementSize).width<=dn.getMinimumWidth())return null;var n=pn.supportVertical(e.articleData.getHighlights());if((!n||!dn.getRezVertical())&&t.elementSize.clientWidth/t.elementSize.clientHeight<dn.getValidRatio())return null;return t.viewportMaskElement=this.getViewportMaskElement(e,t.elmToReplace),t.viewportObserver=this.getViewportObserver(e,t.elmToReplace),t.name=this._generateName(e),t},Jt.prototype.getApvDataByContainer=function(e){var t=this.checkForArticleData(e);if(t){D.extendObject(e,t);t=this.retrieveDomElements(e);if(t)return D.extendObject(e,t),this.createData(e)}},Jt.prototype.getViewportMaskElement=function(e,t){var n=document.querySelectorAll("["+_.integrationDataSet.VIEWPORT_MASK+"]");if(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.contains(t))return r}return window}return window},Jt.prototype.getViewportObserver=function(e,t){var n=[],i=document.querySelectorAll("["+_.integrationDataSet.VIEWPORT_OBSERVER+"]");if(i)for(var r=0;r<i.length;r++){var o=i[r];o.contains(t)&&n.push(o)}return n},Jt.prototype.getNewApvData=function(){var e=[],t=this.getContainers();if(0!==t.length){for(var n=0;n<t.length;n++){var i=t[n];i&&i.querySelector(".minute-container")||(i=this.getApvDataByContainer({containerElement:i}))&&e.push(i)}return e}},Jt.prototype.getContainers=function(){var e=document.querySelectorAll("["+_.integrationDataSet.ENABLE+"]");return 0===e.length?[]:e},Jt.prototype._generateName=function(e){e=e.containerElement;return"true"!==e.getAttribute(_.integrationDataSet.ENABLE)&&""!==e.getAttribute(_.integrationDataSet.ENABLE)?e.getAttribute(_.integrationDataSet.ENABLE):e.offsetWidth+"X"+e.offsetHeight},A.services=A.services||{},A.services.VideoGenerator=A.services.VideoGenerator||{},A.services.VideoGenerator.Base=Jt,A.services=A.services||{},A.services.BlockingDistance=A.services.BlockingDistance||{},A.services.BlockingDistance.StaticBlockerService=Kt,jt.prototype.getRact=function(){return this.elm.getBoundingClientRect()},jt.prototype.getPosition=function(){var e=this.getRact();return{top:e.top+document.body.scrollTop+parseInt(e.height)/2,left:e.left+document.body.scrollLeft+parseInt(e.width)/2}},jt.prototype.getRank=function(){return 999},jt.prototype.getBlockingDistance=function(){return dn.getBlockingDistanceRadius()},Kt.prototype.isStaticAlreadyMarked=function(e){for(var t=0;t<this._blockersContainers.length;t++){var n=this._blockersContainers[t];if(n.elm&&n.elm==e)return!0}return!1},Kt.prototype.getBlockers=function(){for(var e=dn.getStaticBlockerSelector(),t=document.querySelectorAll(e),n=0;n<t.length;n++){var i=t[n];this.isStaticAlreadyMarked(i)||(i=new jt(i))&&(this.painter.draw.drawStatic(i),this._blockersContainers.push(i))}return this._blockersContainers},function(){A.services=A.services||{},A.services.BlockingDistance=A.services.BlockingDistance||{},A.services.BlockingDistance.Factory=function(n){return{create:function(){var e=localStorage&&localStorage.getItem("_minDisableBlockingD"),t=-1<i.indexOf(n.getPlaymode(_.Emitter.PRODUCT_APV));if(!e&&t&&n.isBlockingServiceActive()){t=new A.services.BlockingDistance.DocumentRadiusPainterFactory(n).create();return new A.services.BlockingDistance.BlockingDistanceService(n,t)}return new A.services.BlockingDistance.NotActivatedBlockingDistance}}};var i=[_.playmode.VIEWPORT]}(),function(){function e(e,t){u=t,p=new A.services.BlockingDistance.StaticBlockerService(t)}function s(e,t){return t.getRank()-e.getRank()}function l(e,t){var n=Math.pow(e.top-t.top,2),t=Math.pow(e.left-t.left,2);return Math.sqrt(t+n)}A.services=A.services||{},A.services.BlockingDistance=A.services.BlockingDistance||{},A.services.BlockingDistance.BlockingDistanceService=e;var c,u=null,d=[],p=null;e.prototype.calculate=function(e){c=p.getBlockers();for(var t=yn.getAllActiveApv(),n=e.sort(s),i=t.concat(e).sort(s),r=0;r<n.length;r++){var o=n[r],a=_.APVStates.Active;(function(e){for(var t=0;n=c[t];t++)if(l(e.getPosition(),n.getPosition())<n.getBlockingDistance()){D.log("BlockingD: "+e.getArticleData().getArticleUrl()+" by a static container ");var n=e.getElementToReplace();-1===d.indexOf(n)&&d.push(n);n={url:D.urls.getLocationUrl(),user_agent:navigator.userAgent,source:an.getAnalyticsSource(),publisher:dn.getPublisherIdNumber(),category:"BlockingD",action:"blockedByStatic",label:urlBlocked,value:e.getHighlightId()};return ln.send(_.Emitter.CUSTOM_EVENTS,n),1}}(o)||function(e,t){for(var n,i=dn.noDuplicateVideos(),r=0;r<t.length;r++){var o=t[r];if(e.getUniqId()!==o.getUniqId()&&o.getState()!==_.APVStates.Blocked&&o.getState()!==_.APVStates.Disabled&&o.getState()!==_.APVStates.New){if(n=l(e.getPosition(),o.getPosition()),i&&e.getMinuteVideoId()==o.getMinuteVideoId())return 1;if(n<o.getBlockingDistance()){o=e.getElementToReplace();return-1===d.indexOf(o)&&d.push(o),1}}}}(o,i))&&(a=_.APVStates.Blocked),o.setState(a)}u.draw.draw(t.concat(e))}}(),Bt={INIT:0,NOT_SCROLLED:1,SCROLLED:2},qt.prototype.isCarouselBlocking=function(){return this.state===Bt.SCROLLED},qt.prototype.getViewportMaskElement=function(){return this.viewportMaskElement},A.apv=A.apv||{},A.apv.CarouselContainer=qt,A.services=A.services||{},A.services.BlockingDistance=A.services.BlockingDistance||{},A.services.BlockingDistance.DocumentRadiusPainterFactory=function(e){return{create:function(){var r;return{draw:localStorage&&localStorage.getItem&&"true"==localStorage.getItem("_minShowBD")?(r={},setInterval(function(){for(var e in r){var t=r[e];t.hasDisposed()||t.getProduct()===_.Emitter.PRODUCT_IN_ARTICLE||t.getPlaymode()!==_.playmode.VIEWPORT||((i=t).getProduct()!==_.Emitter.PRODUCT_IN_ARTICLE&&((i=i.getElementToReplace()).style.opacity=i.dataset.old_opacity),n=t,e=void 0,e=document.createElement("div"),document.body.insertAdjacentElement("afterbegin",e),n.setDebug(e),n=i=void 0,i=(e=t).getPosition(),n=i.left+window.scrollX,n=o(i.top+window.scrollY,n,2*e.getBlockingDistance(),"rgba(255, 0, 0, 0.1)",e),e.getDebug().appendChild(n),function(e){if(e.getProduct()!==_.Emitter.PRODUCT_IN_ARTICLE){var t=e.getElementToReplace();switch(t.dataset.old_opacity=t.style.opacity,e.getState()){case _.APVStates.Active:t.style.opacity=1;break;case _.APVStates.Blocked:case _.APVStates.Disabled:case _.APVStates.Disposed:t.style.opacity=.2,e.getDebug().style.opacity=0}}}(t))}var n,i},2e3),{draw:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.getUniqId();r[i]||(r[i]=n)}},drawStatic:function(e){var t=document.createElement("div");document.body.insertBefore(t,document.body.childNodes[0]);var n=e.getPosition(),i=n.left+window.scrollX,e=o(n.top+window.scrollY,i,2*e.getBlockingDistance(),"rgba(0, 0, 255, 0.1)",e);t.appendChild(e)}}):{draw:function(){},drawStatic:function(){}}};function o(e,t,n,i,r){var o=document.createElement("div");return o.className="minPoint",o.style.position="absolute",o.style.width=n+"px",o.style.height=n+"px",o.style.top=e+"px",o.style.left=t+"px",o.style.zIndex=1e7,o.style.backgroundColor=i,o.style.transform="translate(-50%,-50%)",o.style.border="dotted green",o.style.borderRadius="50%",o.style.display="flex",o.style.alignItems="center",o.style.alignContent="center",o.style.justifyContent="center",o.style.textShadow="0 0 10px white",o.style.fontSize="20px",o.style.pointerEvents="none",o.style.textAlign="center",o.innerHTML="radius: "+n+"<br/>rank: "+r.getRank(),o}}}},A.services=A.services||{},A.services.BlockingDistance=A.services.BlockingDistance||{},(A.services.BlockingDistance.NotActivatedBlockingDistance=Yt).prototype.calculate=function(e){e.forEach(function(e){e.setState(_.APVStates.Active)})},Mt=Ft=null,A.services=A.services||{},A.services.inArticlePlacers=A.services.inArticlePlacers||{},A.services.inArticlePlacers.Base=zt,(A.services.inArticlePlacers.Placer=zt).prototype.init=function(){this.startAPVFactory(),P.addEventListener(_.Events.PLAYER_FOUND,this.newPlayerFoundHandler.bind(this)),P.addEventListener(_.Events.VIDEOS_UPDATE,this.startAPVFactory.bind(this)),P.addEventListener(_.Events.URL_MANIPULATION_INTERVAL_SERVICE,this.urlManipulationHandler.bind(this))},zt.prototype.createInArticleApvWrapper=function(e){e&&Mt.add(e)&&(D.log("APV IN ARTICLE Wrapper will now be created. VideoId: "+e.getArticleData().getArticleId()+', selector: "'+e.getName()+'"'),new A.apv.APVWrapper(e))},zt.prototype.getName=function(){return"InArticle"},zt.prototype.urlManipulationHandler=function(){this.startAPVFactory()},zt.prototype.startAPVFactory=function(){if(D.isPlacementEnabled(_.Emitter.PRODUCT_IN_ARTICLE)){var e=this.getPlayersOnPage()||[];e instanceof NodeList&&(e=Array.prototype.slice.call(e));var t=Object.keys(e||{});if(0!==t.length)for(var n=0;n<t.length;n++)this.createInArticleByPlayer(e[t[n]]);else this.listenToNewPlayerEvent()}},zt.prototype.createInArticleByPlayer=function(e){e=this.collectApvWrapperData(e);this.createInArticleApvWrapper(e)},zt.prototype.newPlayerFoundHandler=function(e){},zt.prototype.createDataObject=function(e){var t={};t.player=e;e=this.getArticleData(e);if(e&&e.hasAPVByProduct(_.Emitter.PRODUCT_IN_ARTICLE))return t.articleData=e,t},zt.prototype.collectApvWrapperData=function(e){if(this.shouldPlayAPV(e)){e=this.createDataObject(e);if(e)return this.createApvData(e)}},zt.prototype.createApvData=function(e){var t=this.getContainerElement(e);t||Ft.logWarning("No container found on in article so... ;|  ");var n=new Wt({articleData:e.articleData,elementSize:t,containerElement:t,product:_.Emitter.PRODUCT_IN_ARTICLE,viewportMaskElement:this.getInarticleViewportMask(e),viewportObserver:this.getViewportElementsToObserve(e)});n.setName(this.getName());t=this.getManualClick(e.player);return t&&n.setManualClick(t),n.setPlayerInstance(e.player),n},zt.prototype.listenToNewPlayerEvent=function(){},zt.prototype.getPlayersOnPage=function(){D.logError("Have to implement method that returns all players' instances")},zt.prototype.getArticleData=function(){D.logError("getArticleData is not implemented")},zt.prototype.shouldPlayAPV=function(e){return!0},zt.prototype.getManualClick=function(){return null},zt.prototype.getContainerElement=function(e){D.logError("Have to implement method getContainerElement")},zt.prototype.getInarticleViewportMask=function(){return dn.getInArticleViewportMask()},zt.prototype.getViewportElementsToObserve=function(){return[]},D.extends(Gt,A.services.inArticlePlacers.Base),(A.services.inArticlePlacers.Placer=Gt).prototype.init=function(){P.addEventListener(_.Events.PLAYER_FOUND,this.newPlayerFoundHandler.bind(this))},Gt.prototype.getName=function(){return"NFL InArticle"},Gt.prototype.getType=function(){return A.scrap.PlayerEnum.NFL},Gt.prototype.newPlayerFoundHandler=function(e){this.container=e.data.container,this.articleData=e.data.articleData,this.autoplay=e.data.autoplay,this.player=e.data.playerJS,this.createInArticleByPlayer(this.player)},Gt.prototype.getPlayersOnPage=function(){},Gt.prototype.getArticleData=function(e){return this.articleData},Gt.prototype.shouldPlayAPV=function(){return!this.autoplay},Gt.prototype.getElementToReplace=function(e){var t=e.player;if(e.articleData,!t.isStarted&&!this.container.querySelector("[data-test-id='controls']"))return this.container.querySelector(".poster")},Gt.prototype.getManualClick=function(){return this.container},Gt.prototype.getContainerElement=function(){return this.container},function(){function e(e){this.apvData=e,this._initElements(),this.apvData=null}A.apv=A.apv||{},A.apv.APVWrapper=e;var t=A.publisher.utils;e.prototype._createDomAdapter=function(){switch(this.apvData.getProduct()){case _.Emitter.PRODUCT_APV:return new(A.apv.domAdapter.pubDomAdapter||A.apv.domAdapter.Base);case _.Emitter.PRODUCT_IN_ARTICLE:if(t.getDomAdapter)return new A.apv.inArticleDomAdapter[t.getDomAdapter()];var e=Object.keys(A.apv.inArticleDomAdapter);return new(1==e.length?A.apv.inArticleDomAdapter[e[0]]:A.apv.inArticleDomAdapter)}},e.prototype._createPlaymode=function(){var e=A.apv.playmodes;switch(this.apvData.getPlaymode()){case _.playmode.VIEWPORT:case _.playmode.BLOCKINGHOVER:return new e.Viewport;case _.playmode.HOVER:return new e.Hover}},e.prototype._initElements=function(){var e=new A.apv.players.ApvPlayerBase;e.init(this.apvData),this.apvData.setApvPlayer(e);var t=new A.apv.logos.LogoElmBase;t.init(this.apvData.getProduct()),this.apvData.setMinuteLogo(t);e=this._createDomAdapter();if(!e)return D.log("No DomAdapter found."),null;this.apvData.setDomAdapter(e),_n.register(this.apvData);t=this._createPlaymode(this.apvData);return t?(t.setDomAdapter(this.apvData),t.start(),void e.init(this.apvData)):(D.log("No playmode found - probably unsupported browser."),null)}}(),function(){function e(e,t,n){r=e,o=t;var i=A.services.VideoGenerator.Base;a=new i(e,t,n),this.blockingDistanceService=Dn.create(r),this._apvWrapperNotCreatedHash={},this._apvsOnPage=0,this.findReplaceableElementsAndPlaceVideos(),P.addEventListener(_.Events.ONE_SECONDS_INTERVAL,this.findReplaceableElementsAndPlaceVideos,this)}A.services=A.services||{};var r=null,o=null,a=null;(A.services.PlacementService=e).prototype.findReplaceableElementsAndPlaceVideos=function(){var t,e=a.getNewApvData();e&&0!=e.length&&((t=this).blockingDistanceService.calculate(e),e.forEach(function(e){if(!t._apvWrapperNotCreatedHash[e.getKey()]){switch(e.getState()){case _.APVStates.Disposed:return;case _.APVStates.Blocked:return void(dn.getPlaymode()==_.playmode.BLOCKINGHOVER&&(e.setState(_.APVStates.Active),e.setPlaymode(_.playmode.HOVER)))}t.createApvWrapper(e)}}),this.reportCounters())},e.prototype.createApvWrapper=function(e){return this._apvsOnPage++>=r.getMaxApvsPerPage()?(this._apvWrapperNotCreatedHash[e.getKey()]=!0,void D.log("Blocked APV creation. number of APVs on page exceeds limit. Max="+r.getMaxApvsPerPage())):(new A.apv.APVWrapper(e),function(e){for(var t=D.cloneArray(e.getContainerElement().querySelectorAll("img,div[style*='background-image']")||[]),n=0;n<t.length;n++){var i=t[n];A.utils.ApvElementUtils.setElementAsReplaced(i)}A.utils.ApvElementUtils.setElementAsReplaced(e.getElementToReplace())}(e),D.log("APV Wrapper Created. VideoId: "+e.getArticleData().getArticleId()),void this.reportCounters())},e.prototype.reportCounters=function(){var e=y._report||{APVs:-1,Watchers:-1};y._report={APVs:document.querySelectorAll("[data-apv_replaced]").length,NotCreated:Object.keys(this._apvWrapperNotCreatedHash).length,Watchers:document.querySelectorAll("[data-apv_watched]").length},(e.Watchers!==y._report.Watchers||e.NotCreated!==y._report.NotCreated||e.APVs!==y._report.APVs)&&document.body&&document.body.appendChild&&(e="# of ApvData: "+o.getAmountOfApvDataOnPage(),e+=y._report.NotCreated?" # of Apv not created due to max on page: "+y._report.NotCreated:" ",e+=y._report.Watchers?" # of Apvs that are watched: "+y._report.Watchers:" ",D.log(e),this._htmlReport||(this._htmlReport=document.createElement("div"),this._htmlReport.setAttribute("id","minReport"),this._htmlReport.style.display="none",document.body.appendChild(this._htmlReport)),this._htmlReport.setAttribute("data-apvs",y._report.APVs),this._htmlReport.setAttribute("data-apvs-not-created",y._report.NotCreated),this._htmlReport.setAttribute("data-watchers",y._report.Watchers),this._htmlReport.setAttribute("data-test",un.isTestGroup()))}}(),D.debugParamsOverrides();var $t,Qt,en,tn,nn=new function(){function h(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function g(e){return"true"===e||"false"===e||(t=e,!isNaN(parseFloat(t))&&isFinite(t))?JSON.parse(e):e;var t}return function e(d){function p(e,t,n){var i,r;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=h({path:"/"},p.defaults,n)).expires?((r=D.getDateNow()).setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r.toUTCString()):"function"==typeof n.expires.toUTCString&&(n.expires=n.expires.toUTCString());try{i=JSON.stringify(btoa(t)),/^[\{\[]/.test(i)&&(t=i)}catch(e){}return e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",encodeURIComponent(t),n.expires&&"; expires="+n.expires,n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}e||(i={});for(var o=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,s=0;s<o.length;s++){var l=o[s].split("=");'"'===(u=l.slice(1).join("=")).charAt(0)&&(u=u.slice(1,-1));try{var c=l[0].replace(a,decodeURIComponent),u=d.read?d.read(u,c):d(u,c)||u.replace(a,decodeURIComponent);if(e===c){i=decodeURIComponent(g(u));break}e||(i[c]=u)}catch(e){}}return i}}return p.setItem=function(e,t,n){n=n||D.getDayUTCCookie(365),p(e,t,{domain:c,expires:n})},p.getItem=function(e){return p(e)},p.getJSON=function(){return p.apply({json:!0},[].slice.call(arguments))},p.defaults={},p.removeItem=function(e,t){p(e,"",h(t,{domain:c,expires:-1}))},p.withConverter=e,p.isCookiesEnable=function(){var e=!1;try{p.setItem("_minTest","exist",1),e=!!p.getItem("_minTest"),p.removeItem("_minTest","true")}catch(e){return!1}return e},p.setDefault=function(){c=location.hostname},p}(function(){})},rn=new function(e){return{getLocalStorageInstance:function(){return e.isCookiesEnable()?e:(e.setDefault(),e.isCookiesEnable()?e:null)}}}(nn),on=ie.getInstance(rn);if(on){on.setConfig(_.cookiesKeysTable),(new function(){var e=location.href;return{init:function(){setInterval(function(){P.dispatchEvent(_.Events.ONE_SECONDS_INTERVAL,{interval:1e3}),location.href!=e&&(e=location.href,P.dispatchEvent(_.Events.URL_MANIPULATION_INTERVAL_SERVICE,{interval:1e3}))},1e3),setInterval(function(){P.dispatchEvent(_.Events.THREE_SECONDS_INTERVAL)},3e3)}}}).init();var re=new re(localStorage),an=(new Ie).create(y.compatibility),sn=new M(D,on),ln=new e(D,on,_.Urls),cn=new nt(D,on),un=new Oe(D,window,0,0,y.debugParams[f.FORCE_TEST],on),dn=new be(y,D),Qe=new Qe(D,dn),pn=new Ce(D,re,an,dn),hn=new we(D,0,0,Qe,pn),tt=new tt,gn=new t(D,on,ln,tt),vn=new Te,mn=new Le(D,vn),fn=new it(D,un,an,0,ln,cn),En=new Re(an,dn),yn=new A.ApvDataManager,_n=new A.analytics.ViewportAnalyticsService,An=new A.services.Simulation(dn),Dn=new A.services.BlockingDistance.Factory(dn),Pn=new st(D,un,an,on,0,m,sn),Sn=new rt(D,0,dn),In=new i(dn,0,yn);sn.init();return en=Qt=null,tn=!1,D.globalTasks.listenToWindowErrors(),D.log(y.debugParams),!0===y.debug?(bn(),D.consoleNative.log("Welcome to Minute "+y.ver+" "+y.debugParams[S])):bn(),en=y.config,_min.config=null,an.init(en.config),cn.init(),dn.init(en,an,o,y.debugParams[f.ENABLE_BLOCKING_DISTANCE]),In.init(),pn.init(),_n.init(),et.init(),un.init(dn.getTestGroupSize(),!1),A.utils.logger.setTestGroup(un.isTestGroup()),fn.init(_n),at.sendUrlReport(),an.isBrowserSupported()?an.isLPM()?D.log("Minute will shut down now due to LPM "+y.ver+" "+y.debugParams[S]):an.isDataSaverOn()?D.log("Minute will shut down now due to Data saver  "+y.ver+" "+y.debugParams[S]):rn.getLocalStorageInstance()?(Pn.start(),hn.init(en),function(){if(!D.urls.isUrlHomePage()&&wn()){var e=D.urls.getLocationUrl();D.isUrlFilterValid(e,dn.getFilterScraper())?hn.hasInArticleArticleDataForUrl(e)||""==e||En.loadNextArticle({onSuccess:hn.appendVideos,videosFallback:!1}):D.log("** Missing Article Data blocked by scraper filter URL. **")}}(),gn.init(),ot.sendDelayedClicks(),mn.init(dn)):D.log("Local Storage and Session Storage are not supported. Disable Minute."):D.log("Minute is not supported "+y.ver+" "+y.debugParams[S]),$t=performance.now(),dn.shouldWaitForLoadEvent()?(window.addEventListener("load",function(){setTimeout(function(){Cn()},0)}),window.performance&&window.performance.timing&&0<window.performance.timing.loadEventEnd&&Cn()):Cn(),ln.flushAll(),y}function bn(){D.consoleNative.log("%cMinute.ly","font-size: 60px; color:#28c0d5; margin-left: 20px;text-shadow: 2px 2px #fbb907;");D.consoleNative.log("Dynamic viewing experience created by Minute.ly. \nWe unlock your video's full potential.\nLearn more at http://minute.ly?utm_source=insp_elem \n\n\n")}function Cn(){var e;tn||(e=performance.now()-$t,tn=!0,Tn(),D.isPlacementEnabled(_.Emitter.PRODUCT_APV)?(An.init(),new A.services.PlacementService(dn,yn,D)):D.log("** Placement Disabled by configuration. See filter configuration. **"),Qt||(Qt=new A.scrap.ScraperService,D.log("Detector created")),P.dispatchEvent(_.Events.SYSTEM_RUNNING),dn.shouldWaitForLoadEvent()&&.2<e&&(D.log("core delayed: "+e),e={url:encodeURIComponent(D.urls.getLocationUrl()),user_agent:navigator.userAgent,source:an.getAnalyticsSource(),publisher:dn.getPublisherIdNumber(),category:"CoreDelayed",action:"Delayed",label:"seconds",value:Math.round(e)},ln.send(_.Emitter.CUSTOM_EVENTS,e)))}function wn(){return D.isPlacementEnabled(_.Emitter.PRODUCT_IN_ARTICLE)&&dn.isInArticlePlacerActive()}function Tn(){if(!wn())return P.addEventListenerOnce(_.Events.URL_MANIPULATION_INTERVAL_SERVICE,Tn),void D.log("** InArticle is turned off in configuration or didnt pass filter");new A.services.inArticlePlacers.Placer(D,dn,vn,an,yn).init()}}(window._minDebug||_min||{});

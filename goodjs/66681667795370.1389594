!function(k){function e(t,e){k.Cl.call(this,t),this.coords=e.coords,this.x=e.coords[0],this.y=e.coords[1],this.z=e.coords[2],this.duration=e.duration,this.progress=e.progress,this.fps=e.G,this.state=e.fb}function t(t){k.YL.call(this,t),this.u=this.endscreen=null,this.i={},this.C={},this.B=this.l=null,this.J=[],this.U=!0,this.G=0,t=t.T(),this.L=k.AD(t)||k.ED(t),this.events=new k.NL(this),k.F(this,this.events),this.events.N(this.player,k.Zv("creatorendscreen"),this.xd),this.events.N(this.player,k.$v("creatorendscreen"),this.Te),this.events.N(this.player,"resize",this.tb),this.events.N(l,"focus",this.jS),this.load();var e=k.Ge("STYLE");(document.getElementsByTagName("HEAD")[0]||document.body).appendChild(e),k.Ai(this,function(){k.Ke(e)}),e.sheet&&(e.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),e.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",0))}function n(t){return t.i&&t.i.card?t.i.card:t.cards[0]&&t.cards[0].card?t.cards[0].card:null}function i(t){k.YL.call(this,t);var e=this;this.U=!1,this.loadNumber=0,this.J={},this.logger=new zt(this.player),this.C=new k.NL(this),this.G=this.u=null,this.events=new k.NL(this),this.L=this.i=null,this.Y=[],k.F(this,this.C),this.C.N(this.player,"onVideoAreaChange",function(){e.W("onVideoAreaChange")}),this.C.N(this.player,"onHideControls",function(){e.W("onHideControls")}),this.C.N(this.player,"onShowControls",function(){e.W("onShowControls")}),this.C.N(this.player,"resize",function(t){e.W("resize",t)}),this.C.N(this.player,"presentingplayerstatechange",function(t){e.W("presentingplayerstatechange",t)}),this.subscribe("presentingplayerstatechange",this.LL,this),this.subscribe("resize",this.Zw,this),this.player.T().U.subscribe("vast_info_card_add",this.FI,this),k.F(this,this.events),this.X=this.createElement({D:"div",K:"video-custom-annotations"}),this.l=new k.V({D:"div",Ca:["ytp-player-content","ytp-iv-player-content"]}),k.F(this,this.l),k.LL(this.player,this.l.element,4),this.l.hide(),this.B=new k.V({D:"div",Ca:["ytp-iv-video-content"]}),k.F(this,this.B),(t=this.createElement({D:"div",K:"video-annotations"})).appendChild(this.X),this.B.element.appendChild(t),this.kp()&&this.load();var i=this.createElement({D:"style"});(document.getElementsByTagName("HEAD")[0]||document.body).appendChild(i),k.Ai(this,function(){k.Ke(i)}),(t=i.sheet)&&(t.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",0),t.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),t.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),t.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",0),t.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),t.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",0),t.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),t.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",0),t.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),t.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",0))}function p(t,e){e=!e.isCued()&&!k.U(e,1024),k.TJ(t.l,e),k.TJ(t.B,e)}function A(t,e,i){t.U=!0,t.G=k.sp(e,i)}function a(t){return"annotation-editor"===t||"live-dashboard"===t}var l=this,E=function(t){t.W("cardstatechange",t.Yg()&&t.Gj()?1:0)},w=function(t,e){for(var i=(n=k.La(e))?e:arguments,n=n?0:1;n<i.length;n++){if(null==t)return;t=t[i[n]]}return t},d=function(t){var e=k.sg(t);return t=k.yg(t),new k.ag(e.x,e.y,t.width,t.height)},h=function(t){return Math.pow(t,3)},s=function(t){return 3*t*t-2*t*t*t},r=function(t){t=k.Oa(t),delete te[t],k.Ob(te)&&ee&&ee.stop()},o=function(){var t=ee=ee||new k.J(function(){c()},20);t.isActive()||t.start()},c=function(){var e=k.Ra();k.Bb(te,function(t){g(t,e)}),k.Ob(te)||o()},u=function(t,e,i,n){if(k.En.call(this),!Array.isArray(t)||!Array.isArray(e))throw Error("Start and end parameters must be arrays");if(t.length!=e.length)throw Error("Start and end points must be the same length");this.i=t,this.J=e,this.duration=i,this.C=n,this.coords=[],this.progress=this.G=0,this.B=null},g=function(t,e){e<t.startTime&&(t.endTime=e+t.endTime-t.startTime,t.startTime=e),t.progress=(e-t.startTime)/(t.endTime-t.startTime),1<t.progress&&(t.progress=1),t.G=1e3/(e-t.B),t.B=e,v(t,t.progress),1==t.progress?(t.fb=0,r(t),t.onFinish(),t.Bt()):t.qc()&&t.Ry()},v=function(t,e){"function"==typeof t.C&&(e=t.C(e)),t.coords=Array(t.i.length);for(var i=0;i<t.i.length;i++)t.coords[i]=(t.J[i]-t.i[i])*e+t.i[i]},m=function(t,e,i,n,a){u.call(this,e,i,n,a),this.element=t},f=function(t,e,i,n,a){if(2!=e.length||2!=i.length)throw Error("Start and end points must be 2D");m.call(this,t,e,i,n,a)},y=function(t){k.E.call(this),this.l=t||l,this.i=[]},x=function(t){return t.baseUrl||null},D=function(t,e){return k.Le(k.Kc(t,e,void 0),function(t){return!!t})},b=function(t,e,i){function n(t){if(t){var e=[],i=t.videoId;return i&&e.push("v="+i),(i=t.playlistId)&&e.push("list="+i),(t=t.startTimeSeconds)&&e.push("t="+t),"/watch?"+e.join("&")}}function l(t){if(!t)return null;var e=t.simpleText;return e||(t.runs?k.Kc(t.runs,function(t){return t.text}).join(""):null)}if(!(e=e.endscreenElementRenderer))return null;var a=e.style,s=e.endpoint||{},r=null,o=null,c=null,u=null,d=null,h=null,p=!1,A=null,g=null,v=null,m=null,f=null;"VIDEO"===a?(r=s.urlEndpoint?s.urlEndpoint.url:n(s.watchEndpoint),o=!1,c=t,u=l(e.videoDuration)):"PLAYLIST"===a?(r=s.urlEndpoint?s.urlEndpoint.url:n(s.watchEndpoint),o=!1,c=t,d=l(e.playlistLength)):"CHANNEL"===a?((p=w(s,"browseEndpoint","browseId"))&&(r="/channel/"+(h=p)),o=!1,c="new",(p=!!e.isSubscribe)?A=function(t){var e,i=t.hovercardButton;if(!i)return null;if(!(i=i.subscribeButtonRenderer))return null;var n,a=l(i.unsubscribedButtonText),s=l(i.subscribedButtonText),r=i.subscribed?(n=l(i.subscriberCountWithUnsubscribeText),l(i.subscriberCountText)):(n=l(i.subscriberCountText),l(i.subscriberCountWithSubscribeText)),o=null;return(!t.signinEndpoint||(o=(o=w(t,"signinEndpoint","webNavigationEndpointData","url"))||(null===(e=null===(e=null===(e=i.signInEndpoint)||void 0===e?void 0:e.commandMetadata)||void 0===e?void 0:e.webCommandMetadata)||void 0===e?void 0:e.url)))&&a&&(s||o)?{subscribed:i.subscribed,subscribeText:a,subscribeCount:n,unsubscribeText:s,unsubscribeCount:r,enabled:i.enabled,signinUrl:o,classic:t.useClassicSubscribeButton}:null}(e):g=l(e.subscribersText)):"WEBSITE"===a?((v=w(s,"urlEndpoint","url"))&&(r=v),o=!0,c="new",v=e.icon.thumbnails[0].url):"CREATOR_MERCHANDISE"===a&&(e.productPrice&&(m=l(e.productPrice)),e.additionalFeesText&&(f=l(e.additionalFeesText)),(o=w(s,"urlEndpoint","url"))&&(r=o),o=!0,c="new"),t=w(e,"title","accessibility","accessibilityData","label");var y,b=e.endpoint?e.endpoint.clickTrackingParams:null,C="";return!e.metadata||(y=l(e.metadata))&&(C=y),{id:"element-"+i,type:a,title:l(e.title),metadata:C,callToAction:l(e.callToAction),SF:e.image,iconUrl:v,left:Number(e.left),width:Number(e.width),top:Number(e.top),aspectRatio:Number(e.aspectRatio),startMs:Math.floor(Number(e.startMs)),endMs:Math.floor(Number(e.endMs)),videoDuration:u,playlistLength:d,channelId:h,subscribeButton:A,subscribersText:g,isSubscribe:p,targetUrl:r||null,zO:o,Md:b?{itct:b}:null,hT:c,Hr:t||null,CO:e.isPlaceholder,impressionUrls:D(e.impressionUrls||[],x),rO:D(e.hovercardShowUrls||[],x),clickUrls:D(s.loggingUrls||[],x),visualElement:k.Au(e.trackingParams),productPrice:m,additionalFeesText:f}},C=function(t,i){var e={startMs:Math.floor(Number(t.startMs)),impressionUrls:D(t.impressionUrls||[],x),elements:D(t.elements||[],function(t,e){return b(i,t,e)})};return t.trackingParams&&(e.visualElement=k.Au(t.trackingParams)),e},B=function(t){return!t.player.getVideoData().C&&t.L?"new":"current"},T=function(t){return"creator-endscreen-editor"===t.player.T().playerStyle},M=function(t,e,i){i=void 0===i||i,t.player.Ve("creatorendscreen"),t.l&&(t.l.dispose(),t.l=null,t.B.dispose(),t.B=null);for(var n=k.q(Object.values(t.i)),a=n.next();!a.done;a=n.next())a.value.dispose();if(t.i={},t.C={},0<t.J.length&&(t.J.forEach(function(t){t.dispose()}),t.J.length=0),t.G=0,(t.endscreen=e)&&e.elements){for(i&&_(t),i=[],n=new k.Wv(e.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"}),i.push(n),t.player.T().i||(t.l=new k.V({D:"div",K:"ytp-ce-shadow"}),k.LL(t.player,t.l.element,4),t.B=new k.CK(t.l,200)),n=0;n<e.elements.length;++n){var s,a=e.elements[n],r=I(t,a);r?(t.i[a.id]=r,t.C[a.id]=a,k.LL(t.player,r.element,4),s=new k.Wv(a.startMs,a.endMs,{id:"ytp-ce-element-"+a.id,namespace:"creatorendscreen"}),i.push(s),K(t,r,a)):k.Su(new k.As("buildEndscreenElement null",a))}t.player.Bd(i),t.tb()}},_=function(t){var e=k.Eu(),i=k.Gu();i&&e&&t.endscreen.visualElement&&k.fv(i,e,t.endscreen.visualElement)},I=function(t,e){var i=null;switch(e.type){case"VIDEO":i=t.player.Z("player_endscreen_ellipsis_fix")?["ytp-webkit-ellipsis"]:["yt-ui-ellipsis","yt-ui-ellipsis-2"],t={D:"div",Ca:["ytp-ce-element","ytp-ce-video"],V:{tabindex:"0","aria-label":e.Hr||"","aria-hidden":"true"},S:[{D:"div",K:"ytp-ce-element-shadow"},{D:"div",K:"ytp-ce-covering-image",V:S(e)},{D:"div",K:"ytp-ce-covering-shadow-top"},{D:"a",K:"ytp-ce-covering-overlay",V:{href:N(t,e.targetUrl),tabindex:"-1"},S:[{D:"div",Ca:["ytp-ce-video-title"].concat(k.ma(i)),V:{dir:k.Kn(e.title||"")},oa:e.title},{D:"div",K:"ytp-ce-video-duration",oa:e.videoDuration||void 0}]}]},i=new k.V(t);break;case"PLAYLIST":i=t.player.Z("player_endscreen_ellipsis_fix")?["ytp-webkit-ellipsis"]:["yt-ui-ellipsis","yt-ui-ellipsis-2"],t={D:"div",Ca:["ytp-ce-element","ytp-ce-playlist"],V:{tabindex:"0","aria-label":e.Hr||"","aria-hidden":"true"},S:[{D:"div",K:"ytp-ce-element-shadow"},{D:"div",K:"ytp-ce-covering-image",V:S(e)},{D:"div",K:"ytp-ce-covering-shadow-top"},{D:"a",K:"ytp-ce-covering-overlay",V:{href:N(t,e.targetUrl),tabindex:"-1"},S:[{D:"div",Ca:["ytp-ce-playlist-title"].concat(k.ma(i)),V:{dir:k.Kn(e.title||"")},oa:e.title},{D:"div",K:"ytp-ce-playlist-count",S:[{D:"div",K:"ytp-ce-playlist-icon"},{D:"div",K:"ytp-ce-playlist-count-text",oa:e.playlistLength||void 0}]}]}]},i=new k.V(t);break;case"CHANNEL":i={D:"div",Ca:["ytp-ce-element","ytp-ce-channel",e.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],V:{tabindex:"0","aria-label":e.Hr||"","aria-hidden":"true"},S:[{D:"div",K:"ytp-ce-element-shadow"},{D:"div",K:"ytp-ce-expanding-overlay",S:[{D:"div",K:"ytp-ce-expanding-overlay-hider"},{D:"div",K:"ytp-ce-expanding-overlay-background"},{D:"div",K:"ytp-ce-expanding-overlay-content",S:[{D:"div",K:"ytp-ce-expanding-overlay-body",S:[{D:"div",K:"ytp-ce-expanding-overlay-body-padding",S:[{D:"a",Ca:["ytp-ce-channel-title","ytp-ce-link"],V:{href:N(t,e.targetUrl),target:"_blank",tabindex:"-1",dir:k.Kn(e.title||"")},oa:e.title},e.subscribeButton?{D:"div",K:"ytp-ce-subscribe-container",S:[{D:"div",K:"ytp-ce-channel-subscribe"}]}:"",e.subscribersText?{D:"div",K:"ytp-ce-channel-subscribers-text",oa:e.subscribersText}:"",e.metadata?{D:"div",Ca:["ytp-ce-channel-metadata","yt-ui-ellipsis","yt-ui-ellipsis-3"],oa:e.metadata}:""]}]}]}]},{D:"div",K:"ytp-ce-expanding-image",V:S(e)}]};var n,a,i=new k.V(i),s=k.re(document,"div","ytp-ce-channel-subscribe",i.element)[0];e.subscribeButton&&e.channelId&&(k.K(s,"ytp-ce-subscribe-button"),a=t.player.T().i?(n=null,e.Md.itct):(n="endscreen",null),n=new k.eN(e.subscribeButton.subscribeText,e.subscribeButton.subscribeCount,e.subscribeButton.unsubscribeText,e.subscribeButton.unsubscribeCount,!!e.subscribeButton.enabled,!!e.subscribeButton.classic,e.channelId,!!e.subscribeButton.subscribed,n,a,e.subscribeButton.signinUrl,t.player),s.appendChild(n.element),t.J.push(n));break;case"WEBSITE":t={D:"div",Ca:["ytp-ce-element","ytp-ce-website"],V:{tabindex:"0","aria-label":e.Hr||"","aria-hidden":"true"},S:[{D:"div",K:"ytp-ce-element-shadow"},{D:"div",K:"ytp-ce-expanding-overlay",S:[{D:"div",K:"ytp-ce-expanding-overlay-hider"},{D:"div",K:"ytp-ce-expanding-overlay-background"},{D:"div",K:"ytp-ce-expanding-overlay-content",S:[{D:"div",K:"ytp-ce-expanding-overlay-body",S:[{D:"div",K:"ytp-ce-expanding-overlay-body-padding",S:[{D:"div",K:"ytp-ce-website-title",V:{dir:k.Kn(e.title||"")},oa:e.title},{D:"div",K:"ytp-ce-website-metadata",oa:e.metadata},{D:"a",Ca:["ytp-ce-website-goto","ytp-ce-link"],V:{href:N(t,e.targetUrl),target:"_blank",tabindex:"-1"},oa:e.callToAction}]}]}]}]},{D:"div",K:"ytp-ce-expanding-image",V:S(e)},{D:"div",K:"ytp-ce-expanding-icon",V:V(e.iconUrl)}]},i=new k.V(t);break;case"CREATOR_MERCHANDISE":i="",e.productPrice&&(i={D:"div",K:"ytp-ce-merchandise-price-container",S:[{D:"div",K:"ytp-ce-merchandise-price",oa:e.productPrice}]},e.additionalFeesText&&i.S.push({D:"div",K:"ytp-ce-merchandise-additional-fees",oa:e.additionalFeesText})),t={D:"div",Ca:["ytp-ce-element","ytp-ce-merchandise"],V:{tabindex:"0","aria-label":e.Hr||"","aria-hidden":"true"},S:[{D:"div",K:"ytp-ce-element-shadow"},{D:"div",K:"ytp-ce-expanding-overlay",S:[{D:"div",K:"ytp-ce-expanding-overlay-hider"},{D:"div",K:"ytp-ce-expanding-overlay-background"},{D:"div",K:"ytp-ce-expanding-overlay-content",S:[{D:"div",K:"ytp-ce-expanding-overlay-body",S:[{D:"div",K:"ytp-ce-expanding-overlay-body-padding",S:[{D:"div",K:"ytp-ce-merchandise-title",V:{dir:k.Kn(e.title||"")},oa:e.title},i,{D:"div",K:"ytp-ce-merchandise-metadata",oa:e.metadata},{D:"a",Ca:["ytp-ce-merchandise-goto","ytp-ce-link"],V:{href:N(t,e.targetUrl),target:"_blank",tabindex:"-1"},oa:e.callToAction}]}]}]}]},{D:"div",K:"ytp-ce-expanding-image",V:S(e)},{D:"div",K:"ytp-ce-merchandise-invideo-cta-container",S:[{D:"div",K:"ytp-ce-merchandise-invideo-cta",oa:e.callToAction||void 0}]}]},i=new k.V(t)}return e.CO&&k.K(i.element,"ytp-ce-placeholder"),i},S=function(t){var e;return t.SF&&(e=t.SF.thumbnails),V(e?e[e.length-1].url:null)},V=function(t){return t?{style:"background-image: url("+t+")"}:{}},K=function(e,i,n){function t(t){t&&(i.Qa("blur",function(){"none"!=t.style.display&&e.U&&t.focus()}),i.N(t,"focus",s),i.N(t,"blur",r))}function a(t){e.G+=t,0<e.G?(k.K(i.element,"ytp-ce-force-expand"),O(e,n.id,!0)):(k.Bn(i.element,"ytp-ce-force-expand"),k.Bn(i.element,"ytp-ce-element-hover"),O(e,n.id,!1))}function s(){a(1)}function r(){a(-1)}i.Qa("mouseenter",function(){U(e,i,n)}),i.Qa("mouseleave",function(){L(e,i,n)}),e.player.T().i||i.Qa("click",function(){k.K(i.element,"ytp-ce-element-hover")}),i.Qa("click",function(t){R(e,n,t)}),i.Qa("keypress",function(t){R(e,n,t)}),i.Qa("focus",function(){U(e,i,n)}),i.Qa("blur",function(){L(e,i,n)}),i.Qa("touchstart",function(){U(e,i,n)});var o=k.te("ytp-ce-expanding-overlay-hider",i.element);o&&i.N(o,"touchstart",function(t){(t=t||l.event).cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),k.Bn(i.element,"ytp-ce-element-hover"),k.Bn(i.element,"ytp-ce-force-expand")}),i.Qa("keydown",function(t){e.U=9===t.keyCode&&!t.shiftKey}),t(k.te("ytp-sb-subscribe",i.element)),t(k.te("ytp-sb-unsubscribe",i.element)),i.Qa("focus",s),i.Qa("blur",r)},R=function(n,a,t){if(a.targetUrl&&(!t||"keypress"!==t.type||13===t.keyCode)){for(var s,e,i=t.target;i&&!k.zn(i,"ytp-ce-element");){if(k.zn(i,"subscribe-label")&&P(n,a),k.zn(i,"ytp-ce-channel-subscribe"))return;i=k.Me(i)}i&&!k.zn(i,"ytp-ce-element-hover")||(t.preventDefault(),t.stopPropagation(),(i=n.i[a.id])&&(L(n,i,a),i.element.blur()),t.ctrlKey||t.metaKey||"new"===a.hT?(P(n,a),n.player.sendVideoStatsEngageEvent(17,void 0),n.player.pauseVideo(),t=k.Fc(N(n,a.targetUrl)),t=k.Bc(t),k.DI(t,void 0,a.Md)):(s=n.player.getVideoData().C,e=function(){var t=N(n,a.targetUrl),e=a.Md,i=k.Zo(t);s&&i&&(i.v||i.list)?n.player.ej(i.v,e,i.list,!1):k.CI(t,e)},P(n,a,function(){n.player.sendVideoStatsEngageEvent(17,e)})))}},N=function(t,e){return t=t.player.T(),e?e.startsWith("//")?t.protocol+":"+e:e.startsWith("/")?k.kE(t)+e:e:""},U=function(t,e,i){k.zn(e.element,"ytp-ce-element-hover")||("VIDEO"!==i.type&&"PLAYLIST"!==i.type&&t.player.T().i?new k.J(function(){k.K(e.element,"ytp-ce-element-hover")},200).start():k.K(e.element,"ytp-ce-element-hover"),J(t,i.rO),O(t,i.id,!0))},L=function(t,e,i){k.Bn(e.element,"ytp-ce-element-hover"),k.Bn(e.element,"ytp-ce-force-expand"),O(t,i.id,!1)},O=function(t,e,i){t.l&&(i?t.B.show():t.B.hide());for(var n=k.q(Object.keys(t.i)),a=n.next();!a.done;a=n.next())(a=a.value)!==e&&k.L(t.i[a].element,"ytp-ce-element-shadow-show",i)},J=function(t,e,i){function n(){s||++a===e.length&&(r.stop(),i&&i())}if(!e||0===e.length||T(t))i&&i();else{e=G(t,e);var a=0,s=!1,r=new k.J(function(){s=!0,i&&i()},1e3,t);for(r.start(),t=0;t<e.length;t++)k.Pq(e[t],n)}},P=function(t,e,i){J(t,e.clickUrls,i),(t=k.Gu())&&e.zO&&k.iv(t,e.visualElement)},G=function(t,e){var i={CPN:i=t.player.getVideoData().clientPlaybackNonce,AD_CPN:i,MT:t=t.player.getCurrentTime().toFixed(2)};t=[];for(var n=0;n<e.length;n++)t.push(Q(e[n],i));return t},Q=function(t,i){return t.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(t){var e=(e=unescape(t)).substring(1,e.length-1);return i[e]?escape(i[e]):t})},z=function(t){return Array.isArray(t)&&t.length?t[0]:t},F=function(t){return"string"==typeof t?t:""},Y=function(t,e,i){for(var n in e)if(e[n]===t)return t;return i},W=function(t){this.externalId=t},X=function(t,e,i,n){this.value=t,this.target=e,this.showLinkIcon=i,this.i=n},H=function(t){return t.value||null},Z=function(t){if(!t)return null;var e=k.Fc(F(t.value));if(!(e=k.Bc(e)))return null;var i,n=Y(t.target,se,"current");return t=null==n?null:(i=t.show_link_icon,new X(e,n,"true"!==i&&"false"!==i||"true"===i,null==t.pause_on_navigation||t.pause_on_navigation))},q=function(t,e,i,n){this.type=t,this.trigger=e,this.url=i,this.subscribeData=n},j=function(t){if(!t)return null;var e=Y(t.type,re),i=Y(t.trigger,oe),n=z(t.url),n=Z(n||null),a=(t=z(t.subscribeData))||null;return t=a?(t=F(a.external_user_id),a=F(a.subscription_token),t&&a?new W(t):null):null,e?new q(e,i,n,t):null},$=function(t,e,i,n,a){this.id=t,this.type=e,this.style=i,this.data=a,this.action=n||[]},tt=function(t){return(t=et(t,function(t){return"openUrl"===t.type&&null!=t.url}))?t.url:null},et=function(t,e){return k.cb(t.action,e,void 0)},it=function(t,e){this.context=t,this.i=e},nt=function(t){return t.customMessage?rt("div","iv-card-message",t.customMessage):""},at=function(t,e){t="background-image: url("+t+");";var i=[];return e&&i.push(e),{D:"div",K:"iv-card-image",V:{style:t},S:i}},st=function(t){if(!t.metaInfo||0===t.metaInfo.length)return"";for(var e=[],i=(t=k.q(t.metaInfo)).next();!i.done;i=t.next())e.push(rt("li","",i.value));return{D:"ul",K:"iv-card-meta-info",S:e}},rt=function(t,e,i){return e?"string"==typeof e?e={class:e}:Array.isArray(e)&&(e={class:e.join(" ")}):e={},e.dir=k.Kn(i),{D:t,V:e,oa:i}},ot=function(t){if(!t.customMessage)return"";var e=["iv-card-action","iv-card-primary-link"],i={};t.Yu&&(e.push("iv-card-action-icon"),i.style="background-image: url("+t.Yu+");"),i.dir=k.Kn(t.customMessage);var n=[{D:"span",oa:t.customMessage}];return t.showLinkIcon&&(n.push(" "),n.push({D:"span",K:"iv-card-link-icon"})),{D:"div",Ca:e,V:i,S:n}},lt=function(t,e,i,n){if(n)for(var a=(e=k.q(e)).next();!a.done;a=e.next())t.i(a.value,n,i.id,i.Md,i.tracking.click,5)},ct=function(t,e){this.merchant=t,this.price=e},ut=function(t){var e;return!!(e=(e=t)&&!(e=1<t.length?"/"===t.charAt(0)&&"/"!==t.charAt(1):"/"===t)?"com"===(e=!(e=(e=t.replace(/^(https?:)?\/\//,"")).split("/",1))||e.length<1||!e[0]?[]:e[0].toLowerCase().split(".").reverse())[0]&&"youtube"===e[1]||"be"===e[0]&&"youtu"===e[1]:e)&&-1===t.indexOf("/redirect?")},dt=function(t,e){k.E.call(this);var i=this;this.element=t,this.context=e,this.Wa=!1,this.Ga=new Map,this.Na=new Map,this.context.I.addEventListener(k.Zv("annotations_module"),function(t){(t=i.Ga.get(t))&&t.apply(i)}),this.context.I.addEventListener(k.$v("annotations_module"),function(t){(t=i.Na.get(t))&&t.apply(i)})},ht=function(e,t,i,n,a,s,r){e.context.i.Qa(t,"click",function(t){e.Sy(i,n,a,s||[],r||0,t)}),e.context.i.Qa(t,"touchstart",function(){e.Wa=!1}),e.context.i.Qa(t,"touchmove",function(){e.Wa=!0})},pt=function(t){if(t.urlEndpoint&&t.urlEndpoint.url)return t.urlEndpoint.url;if(t.watchEndpoint&&t.watchEndpoint.videoId){var e="/watch?v="+t.watchEndpoint.videoId;return t.watchEndpoint.playlistId&&(e+="&list="+t.watchEndpoint.playlistId),t.watchEndpoint.index&&(e+="&index="+t.watchEndpoint.index),t.watchEndpoint.startTimeSeconds&&(e+="&t="+t.watchEndpoint.startTimeSeconds),e}return null},At=function(t,e,i){return{LG:(t.impressionLoggingUrlsV2s||[]).map(function(t){return t.baseUrl||""}),click:(i.loggingUrls||[]).map(function(t){return t.baseUrl||""}),close:(e.dismissLoggingUrlsV2s||[]).map(function(t){return t.baseUrl||""}),DJ:(e.impressionLoggingUrlsV2s||[]).map(function(t){return t.baseUrl||""}),Mx:(e.clickLoggingUrlsV2s||[]).map(function(t){return t.baseUrl||""})}},gt=function(t,e,i){dt.call(this,e,i);var r=this;this.I=t,this.eventId=null,this.Ea=this.bb=this.u=this.Qd=!1,this.ma=null,this.cards=[],this.Xa=this.L=this.Aa=this.C=this.Da=this.i=null,this.Y=[],this.J=this.Wd=this.xa=null,this.G=0,this.va=new k.J(k.Ia,i.B.zc?4e3:3e3),k.F(this,this.va),this.Va=new k.J(k.Ia),k.F(this,this.Va),this.X=new it(i,function(t,e,i,n,a,s){ht(r,t,e,i,n,a,s)}),this.U=new k.V({D:"div",K:"iv-drawer",V:{id:"iv-drawer"},S:[{D:"div",K:"iv-drawer-header",V:{"aria-role":"heading"},S:[{D:"span",K:"iv-drawer-header-text"},{D:"button",Ca:["iv-drawer-close-button","ytp-button"],V:{"aria-label":"隐藏卡片",tabindex:"0"}}]},{D:"div",K:"iv-drawer-content"}]}),k.F(this,this.U),this.B=this.U.element,this.Oa=new k.CK(this.U,330),k.F(this,this.Oa),this.Za=k.te("iv-drawer-header-text",this.B),this.l=k.te("iv-drawer-content",this.B),this.addCueRange(0,1e3*i.videoData.lengthSeconds,"",function(){r.bb&&Ct(r,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(r.bb=r.u)&&wt(r)})},vt=function(t,e){(e=e.data).autoOpenMs&&t.addCueRange(e.autoOpenMs,0x8000000000000,"",function(){Ct(t,"YOUTUBE_DRAWER_AUTO_OPEN")}),e.autoCloseMs&&t.addCueRange(e.autoCloseMs,0x8000000000000,"",function(){wt(t)});var i=e.headerText;k.Oe(t.Za,i),t.L&&t.L.setAttribute("title",i),e.eventId&&(t.eventId=e.eventId),t.xa=k.Au(e.trackingParams),t.J=k.Au(e.closeTrackingParams),t.Wd=k.Au(e.iconTrackingParams)},mt=function(t,e){var i=e.cardId||"cr:"+t.G;if(e.content.simpleCardContentRenderer){if(!e.cueRanges.length)return;var n=e.content.simpleCardContentRenderer,a=e.teaser.simpleCardTeaserRenderer,s=e.icon?e.icon.infoCardIconRenderer:null;e={id:i,timestamp:t.G,type:"simple",teaserText:k.fw(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,Md:yt(t,i,e,n),sponsored:!1,tracking:At(n,a,n.command),Ik:n.trackingParams?k.Au(n.trackingParams):null,gi:a.trackingParams?k.Au(a.trackingParams):null,Wd:s&&s.trackingParams?k.Au(s.trackingParams):null,imageUrl:ft(n.image.thumbnails,290).url,displayDomain:n.displayDomain?k.fw(n.displayDomain):null,showLinkIcon:!!n.showLinkIcon,Yu:null,title:n.title?k.fw(n.title):"",customMessage:n.callToAction?k.fw(n.callToAction):"",url:n.command.urlEndpoint.url?Z({pause_on_navigation:!t.context.videoData.isLivePlayback,target:"new",value:n.command.urlEndpoint.url}):null},Et(t,e)}else if(e.content.collaboratorInfoCardContentRenderer){if(!e.cueRanges.length)return;n=e.content.collaboratorInfoCardContentRenderer,a=e.teaser.simpleCardTeaserRenderer,s=e.icon?e.icon.infoCardIconRenderer:null,e={id:i,timestamp:t.G,type:"collaborator",teaserText:k.fw(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,Md:yt(t,i,e,n),sponsored:!1,tracking:At(n,a,n.endpoint),Ik:n.trackingParams?k.Au(n.trackingParams):null,gi:a.trackingParams?k.Au(a.trackingParams):null,Wd:s&&s.trackingParams?k.Au(s.trackingParams):null,channelId:n.endpoint.browseEndpoint.browseId,customMessage:n.customText?k.fw(n.customText):null,profileImageUrl:ft(n.channelAvatar.thumbnails,290).url,title:n.channelName?k.fw(n.channelName):"",metaInfo:[n.subscriberCountText?k.fw(n.subscriberCountText):""],url:Z({pause_on_navigation:!t.context.videoData.isLivePlayback,target:"new",value:n.endpoint.browseEndpoint.canonicalBaseUrl||"/channel/"+n.endpoint.browseEndpoint.browseId})},Et(t,e)}else if(e.content.playlistInfoCardContentRenderer){if(!e.cueRanges.length)return;n=e.content.playlistInfoCardContentRenderer,a=e.teaser.simpleCardTeaserRenderer,s=e.icon?e.icon.infoCardIconRenderer:null,e={id:i,timestamp:t.G,type:"playlist",teaserText:k.fw(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,Md:yt(t,i,e,n),sponsored:!1,tracking:At(n,a,n.action),Ik:n.trackingParams?k.Au(n.trackingParams):null,gi:a.trackingParams?k.Au(a.trackingParams):null,Wd:s&&s.trackingParams?k.Au(s.trackingParams):null,vu:ft(n.playlistThumbnail.thumbnails,258).url,customMessage:n.customMessage?k.fw(n.customMessage):null,playlistVideoCount:k.fw(n.playlistVideoCount),title:n.playlistTitle?k.fw(n.playlistTitle):"",metaInfo:[n.channelName?k.fw(n.channelName):"",n.videoCountText?k.fw(n.videoCountText):""],url:Z({pause_on_navigation:!t.context.videoData.isLivePlayback,target:"new",value:pt(n.action)})},Et(t,e)}else if(e.content.videoInfoCardContentRenderer){if(!e.cueRanges.length)return;n=e.content.videoInfoCardContentRenderer,a=e.teaser.simpleCardTeaserRenderer,s=e.icon?e.icon.infoCardIconRenderer:null,e={id:i,timestamp:t.G,type:"video",teaserText:k.fw(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,Md:yt(t,i,e,n),sponsored:!1,tracking:At(n,a,n.action),Ik:n.trackingParams?k.Au(n.trackingParams):null,gi:a.trackingParams?k.Au(a.trackingParams):null,Wd:s&&s.trackingParams?k.Au(s.trackingParams):null,vu:ft(n.videoThumbnail.thumbnails,258).url,videoDuration:n.lengthString?k.fw(n.lengthString):null,customMessage:n.customMessage?k.fw(n.customMessage):null,title:n.videoTitle?k.fw(n.videoTitle):"",metaInfo:[n.channelName?k.fw(n.channelName):"",n.viewCountText?k.fw(n.viewCountText):""],isLiveNow:!!n.badge,url:Z({pause_on_navigation:!t.context.videoData.isLivePlayback,target:"new",value:pt(n.action)})},Et(t,e)}t.G++},ft=function(t,e){for(var i=-1,n=-1,a=0;a<t.length;a++){if(t[a].height===e||290===t[a].width)return t[a];((t[a].height||0)<e||(t[a].width||0)<290)&&(i<0||(t[i].height||0)<(t[a].height||0)||(t[i].width||0)<(t[a].width||0))?i=a:((t[a].height||0)>=e||290<=(t[a].width||0))&&(n<0||(t[n].height||0)>(t[a].height||0)||(t[n].width||0)>(t[a].width||0))&&(n=a)}return t[0<=n?n:i]},yt=function(t,e,i,n){return{feature:i.feature||"cards",src_vid:t.context.videoData.videoId,annotation_id:e,ei:t.context.videoData.eventId||"",itct:n.trackingParams||""}},bt=function(t,e){(e=St(t,e))&&(e===t.i&&(t.i=null),t.I.removeCueRange(e.card.id),k.Ke(e.Oz),k.kb(t.cards,e),t.bv(),Mt(t))},Ct=function(e,t,i){if(!e.u){e.Oa.show(),e.Da=new k.J(function(){k.K(e.context.I.getRootNode(),k.vS.IV_DRAWER_OPEN)},0),e.Da.start(),e.ma=k.oq(e.l,"mousewheel",function(t){e.va.start(),t.preventDefault();(t="MozMousePixelScroll"==(t=t||l.event).type?0==(t.axis==t.HORIZONTAL_AXIS)?t.detail:0:l.opera?t.detail:0==t.wheelDelta%120?"WebkitTransform"in document.documentElement.style?l.chrome&&0==navigator.platform.indexOf("Mac")?t.wheelDeltaY/-30:t.wheelDeltaY/-1.2:t.wheelDelta/-1.6:t.wheelDeltaY/-3)&&(e.l.scrollTop+=t)}),e.u=!0;var n=k.Gu();n&&e.xa&&e.J&&k.gv(n,[e.xa,e.J]),t={TRIGGER_TYPE:t};for(var a=k.q(e.cards),s=a.next();!s.done;s=a.next())(s=s.value).qH||(s.qH=!0,Ft(e.context.logger,s.card.tracking.LG,t)),n&&k.gv(n,[s.card.Ik]);E(e.I),i&&(e.C=new k.J(function(){e.Aa=e.L,e.Xa.focus()},330),e.C.start())}},wt=function(t){t.u&&(t.Oa.hide(),k.pq(t.ma),t.ma=null,k.Bn(t.context.I.getRootNode(),k.vS.IV_DRAWER_OPEN),t.u=!1,E(t.I),t.C&&t.C.stop(),t.C=new k.J(function(){t.Aa&&(t.Aa.focus(),t.Aa=null)},330),t.C.start())},xt=function(t){k.An(t.element,[k.vS.STOP_EVENT_PROPAGATION,"iv-drawer-manager"]),k.LL(t.I,t.B,5),kt(t),t.L=k.te("ytp-cards-button",t.I.getRootNode()),t.Xa=k.te("iv-drawer-close-button",t.B),t.Qd=!0},kt=function(t){var e=k.te("iv-drawer-close-button",t.B);t.context.i.Qa(e,"click",t.hN,t),t.context.i.Qa(t.l,"touchend",function(){t.va.start()}),t.context.i.Qa(t.l,"scroll",t.tN,t),t.context.l.subscribe("onHideControls",function(){t.Ea=!0}),t.context.l.subscribe("onShowControls",function(){t.Ea=!1}),t.context.l.subscribe("onVideoAreaChange",function(){t.Ea=k.zn(t.I.getRootNode(),"ytp-autohide")}),t.Y.push(k.Wq("iv-button-shown",t.KO,t)),t.Y.push(k.Wq("iv-button-hidden",t.JO,t)),t.Y.push(k.Wq("iv-teaser-shown",t.KL,t)),t.Y.push(k.Wq("iv-teaser-hidden",t.MO,t)),t.Y.push(k.Wq("iv-teaser-clicked",t.JL,t))},Et=function(t,e){t.Qd||xt(t),bt(t,e.id);var i,n,a=Dt(t,e);a&&(i={card:e,Oz:a.element,qH:!1},n=Bt(t,i),k.rb(t.cards,n,0,i),a.ya(t.l,n),t.bv(),e.autoOpen?t.addCueRange(e.startMs,0x8000000000000,e.id,function(){t.u||(t.i=i,Mt(t),It(t,i),Ct(t,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):((a=1e3*t.context.I.getCurrentTime())<5e3&&a>e.startMs&&_t(t,i),t.addCueRange(e.startMs,e.startMs+1,e.id,function(){_t(t,i)}),Mt(t)))},Dt=function(t,e){switch(e.type){case"simple":t=t.X;var i=e.displayDomain?{D:"div",K:"iv-card-image-text",oa:e.displayDomain}:void 0,n=ot(e),i={D:"div",Ca:["iv-card"],S:[{D:"a",K:"iv-click-target",V:{href:e.url&&H(e.url)||""},S:[at(e.imageUrl,i),{D:"div",K:"iv-card-content",S:[rt("h2",void 0,e.title),n]}]}]};return i=new k.V(i),lt(t,k.se("iv-click-target",i.element),e,e.url),i;case"collaborator":return t=t.X,i={D:"div",Ca:["iv-card","iv-card-channel"],S:[{D:"a",Ca:["iv-click-target"],V:{href:H(e.url)||"","data-ytid":e.channelId},S:[at(e.profileImageUrl),{D:"div",K:"iv-card-content",S:[nt(e),{D:"h2",K:"iv-card-primary-link",oa:e.title},st(e)]}]}]},i=new k.V(i),lt(t,k.se("iv-click-target",i.element),e,e.url),i;case"playlist":return t=t.X,i={D:"div",Ca:["iv-card","iv-card-playlist"],S:[{D:"a",K:"iv-click-target",V:{href:H(e.url)||""},S:[at(e.vu,{D:"div",K:"iv-card-image-overlay",S:[{D:"span",K:"iv-card-playlist-video-count",oa:e.playlistVideoCount}]}),{D:"div",K:"iv-card-content",S:[nt(e),rt("h2","iv-card-primary-link",e.title),st(e)]}]}]},i=new k.V(i),lt(t,k.se("iv-click-target",i.element),e,e.url),i;case"productListing":t=t.X;var a=!k.gb(e.offers);i=["iv-card"];var n="",s=ot(e);return a&&(i.push("iv-card-product-listing"),n="iv-card-primary-link",a=[],(s=e.offers[0]).price&&a.push({D:"div",K:"iv-card-offer-price",oa:s.price}),s.merchant&&a.push({D:"div",K:"iv-card-offer-merchant",oa:s.merchant}),s={D:"div",S:a}),a=e.url&&H(e.url)||"",i={D:"div",Ca:i,V:{tabindex:"0"},S:[{D:"a",Ca:["iv-card-image","iv-click-target"],V:{style:"background-image: url("+e.imageUrl+");",href:a,"aria-hidden":"true",tabindex:"-1"}},{D:"div",K:"iv-card-content",S:[e.sponsored?{D:"div",K:"iv-card-sponsored",S:["赞助",{D:"div",K:"iv-ad-info-container",S:[{D:"div",K:"iv-ad-info",oa:"{{adInfo}}"},{D:"div",K:"iv-ad-info-icon-container",S:[{D:"div",K:"iv-ad-info-icon"},{D:"div",K:"iv-ad-info-callout"}]}]}]}:"",{D:"a",K:"iv-click-target",V:{href:a},S:[rt("h2",n,e.title),s]}]}]},i=new k.V(i),n=k.Ge("span"),k.Oe(n,"您之所以看到此产品是因为我们认为它与该视频相关。Google 可能会向相应商家收取广告费用。"),i.Tc(n,"adInfo"),lt(t,k.se("iv-click-target",i.element),e,e.url),i;case"video":return t=t.X,n=e.videoDuration?{D:"span",K:"iv-card-video-duration",oa:e.videoDuration}:void 0,s=e.isLiveNow?{D:"span",Ca:["yt-badge","yt-badge-live"],oa:"正在直播"}:null,n={D:"div",Ca:["iv-card","iv-card-video"],S:[{D:"a",K:"iv-click-target",V:{href:(null===(i=e.url)||void 0===i?void 0:H(i))||""},S:[at(e.vu,n),{D:"div",K:"iv-card-content",S:[nt(e),rt("h2","iv-card-primary-link",e.title),st(e),s]}]}]},i=new k.V(n),lt(t,k.se("iv-click-target",i.element),e,e.url),i;default:return null}},Bt=function(t,e){return 0===t.cards.length||-1===(t=k.db(t.cards,function(t){return e.card.startMs>t.card.startMs||e.card.startMs===t.card.startMs&&e.card.timestamp>=t.card.timestamp}))?0:t+1},Tt=function(t){return t.i?"productListing"===t.i.card.type:k.eh(t.cards,function(t){return"productListing"===t.card.type})},Mt=function(t){k.L(t.I.getRootNode(),"ytp-cards-shopping-active",Tt(t))},_t=function(t,e){var i,n;k.zn(t.I.getRootNode(),"ytp-cards-teaser-shown")||(t.i!==e&&(i=k.Gu(),n=(t.i?t.i.card:t).Wd,i&&n&&k.hv(i,[n]),t.i=e,Mt(t)),(i=(i="none"!=t.element.style.display)?k.S(t.context.I.T().experiments,"html5_enable_single_video_vod_ivar_on_pacf")||2!==t.context.I.getPresentingPlayerType()?(n=0===(i=t.context.I.getPlayerState())&&0===t.context.I.getCurrentTime(),1===i||3===i||n):1===t.context.I.getAdState():i)&&e.card.teaserDurationMs&&t.I.Lq(!0,{teaserText:e.card.teaserText,durationMs:e.card.teaserDurationMs}),t.Va.isActive()||(t.u&&(t.va.isActive()||!t.Ea)||It(t,e),t.Va.start(910+e.card.teaserDurationMs)))},It=function(e,t){e.U.vb?(t=new u([0,e.l.scrollTop],[0,t.Oz.offsetTop],600,s),e.context.u.Qa(t,"animate",function(t){e.l.scrollTop=t.y}),e.context.u.Qa(t,"finish",function(t){e.l.scrollTop=t.y}),t.play()):(k.TJ(e.U,!0),e.l.scrollTop=t.Oz.offsetTop,k.TJ(e.U,!1))},St=function(t,e){return k.cb(t.cards,function(t){return t.card.id===e})},Vt=function(t,e,i){dt.call(this,t,e),this.annotation=i,this.isActive=!1},Kt=function(t,e,i){Vt.call(this,t,e,i),this.l=null,this.J=!1,this.u=null,this.B=!1,this.i=this.G=this.C=null},Rt=function(t,e,i,n,a){var s;t.u.stop(),t.B||(s=k.yg(e),t.i||(e.style.width=k.pg(s.width,!0),i.style.width=k.pg(s.width,!0)),k.ig(n,"top",s.height-Math.max(Math.min(s.height,a)/2+10,20)+"px"),k.ig(n,"right","1px"),t.B=!0,k.zg(e,!0),t.C=new k.J(function(){k.K(this.element,"iv-branding-active")},0,t),t.C.start())},Nt=function(t,e,i){k.Bn(t.element,"iv-branding-active"),t.G=new k.J(function(){k.zg(e,!1),t.i||(i.style.width=k.pg(0,!0))},250),t.G.start(),t.B=!1},Ut=function(t,e,i,n,a,s,r){this.i=t,this.u=e,this.B=i,this.videoData=n,this.logger=a,this.I=s,this.l=r},Lt=function(t,e,i){Vt.call(this,t,e,i);var n=this;this.L=this.isCollapsed=this.U=!1,this.G=5e3,this.l=this.u=this.i=this.B=null,this.J=this.createElement({D:"div",Ca:["iv-promo-contents"]}),this.C=new k.J(function(){n.i.setAttribute("aria-hidden","true"),k.zg(n.u,!1),k.zg(n.l,!0)},700,this),k.F(this,this.C)},Ot=function(t,e,i){i.stopPropagation(),Pt(t),Gt(t,e),t.i.focus()},Jt=function(t){t.isCollapsed||t.L||t.B||(k.K(t.element,"iv-promo-collapsed"),t.isCollapsed=!0,t.C.start())},Pt=function(t){t.C.stop(),t.isCollapsed&&(k.Cn(t.element,["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),t.isCollapsed=!1,t.i&&t.i.removeAttribute("aria-hidden"),k.zg(t.l,!1),k.zg(t.u,!0))},Gt=function(t,e){t.B||(t.B=k.Km(function(){Qt(this),Jt(this)},e,t))},Qt=function(t){t.B&&(k.A.clearTimeout(t.B),t.B=null)},zt=function(t){this.I=t},Ft=function(t,e,i){e&&Yt(t,i?e.map(function(t){return k.ln(t,i)}):e)},Yt=function(t,e,i,n){var a,s=1,r=void 0,o=-1;i&&(a=!1,r=function(){--s||a||(clearTimeout(o),a=!0,i())},o=setTimeout(function(){a=!0,i()},1e3));for(var l=(e=k.q(e||[])).next();!l.done;l=e.next())l=l.value,s++,k.Pq(l,r);n&&(s++,0!==n&&t.I.sendVideoStatsEngageEvent(n,r))},Wt=function(t){return t=t.createElement({D:"div",Ca:["annotation","annotation-type-custom"]}),k.zg(t,!1),t},Xt=function(t,e){for(var i={},n=k.q(e.attributes),a=n.next();!a.done;a=n.next())i[(a=a.value).name]=a.nodeValue;for(n=0;n<e.childNodes.length;n++)if(a=e.childNodes[n],k.Ma(a)&&1==a.nodeType){if(i[a.tagName])var s=i[a.tagName];else{if("data"===a.tagName){0<a.childNodes.length&&(s=a.childNodes[0].nodeValue,i[a.tagName]="string"==typeof s?s.trim():s);continue}i[a.tagName]=s=[]}a&&"TEXT"===a.tagName?1===a.childNodes.length&&3===a.childNodes[0].nodeType?s.push(a.childNodes[0].nodeValue):s.push(""):a&&s.push(Xt(t,a))}return i},Ht=function(t,e){t.method="POST",t.postParams=t.postParams||{},e.Sr&&(t.postParams.ic_coll=e.Sr),e.ov&&(t.postParams.ic_xml=e.ov),e.yu&&(t.postParams.ic_track=e.yu)},Zt=function(t){var e=new k.V({D:"div"});k.zg(e.element,!1);var i=new gt(t.player,e.element,qt(t));return k.F(i,e),e.ya(t.l.element),i.Xt(),i},qt=function(t){var e,i;return t.L||(e=new y(t),k.F(t,e),i=new k.k0(t),k.F(t,i),t.L=new Ut(e,i,t.player.T(),t.player.getVideoData(),t.logger,t.player,t.Zc)),t.L},jt=function(t,e){var i,n=!1,a=e.getElementsByTagName("annotations");for(!a||a.length<1||!(a=a[0].getAttribute("itct"))||(!(i=k.Gu())||(p=k.Eu())&&k.Zu(k.Mo("use_default_events_client")?void 0:k.$t,i,p,[k.Au(a)])),e=e.getElementsByTagName("annotation"),a=0;a<e.length;a++){p=Xt(t,e[a]),i=null;try{if(p){var s=p.id,r=/.+/,o="string"==typeof s&&null!=r&&null!=s&&s.match(r)?s:"",l=Y(p.type,ce),c=Y(p.style,le),u=F(p.data),d=0!==u.length?JSON.parse(u):{},h=p.action,p=j;if(null==h)var A=null;else if(k.La(h)){for(var r=[],g=k.q(h),v=g.next();!v.done;v=g.next()){var m=p(v.value);m&&r.push(m)}A=r}else var f=p(h),A=f?[f]:[];i=o&&l?new $(o,l,c,A,d):null}else i=null}catch(t){}if(i)if("branding"===i.type||"promotion"===i.type){r=i;var y=Wt(p=t),b=null;switch(r.type){case"branding":if(p.player.T().ub)break;p.l.element.appendChild(y),b=new Kt(y,qt(p),r);break;case"promotion":k.LL(p.player,y,4),b=new Lt(y,qt(p),r)}b&&b.Xt(),(p=b)&&(k.F(t,p),t.J[i.id]=p)}else if("card"===i.type||"drawer"===i.type){if(t.i||(t.i=Zt(t),k.F(t,t.i)),"card"===i.type){var n=t.i,C=i&&i.data&&i.data.card_type;if(p=i.data,C)switch(r=p.tracking||{},r={LG:r.impression,click:r.click,close:r.close,DJ:r.teaser_impression,Mx:r.teaser_click},y=p.tracking_params||{},b=null,C){case"collaborator":i={id:i.id,timestamp:p.timestamp||0,type:p.card_type,teaserText:p.teaser_text,teaserDurationMs:p.teaser_duration_ms,startMs:p.start_ms,autoOpen:p.auto_open||!1,Md:p.session_data||{},sponsored:p.sponsored||!1,tracking:r,Ik:y.card?k.Au(y.card):null,gi:y.teaser?k.Au(y.teaser):null,Wd:y.icon?k.Au(y.icon):null,channelId:p.channel_id,customMessage:p.custom_message||null,profileImageUrl:p.image_url,title:p.title,metaInfo:p.meta_info,url:Z({pause_on_navigation:p.pause_on_navigation,target:p.target||"new",value:p.url})},Et(n,i);break;case"playlist":i={id:i.id,timestamp:p.timestamp||0,type:p.card_type,teaserText:p.teaser_text,teaserDurationMs:p.teaser_duration_ms,startMs:p.start_ms,autoOpen:p.auto_open||!1,Md:p.session_data||{},sponsored:p.sponsored||!1,tracking:r,Ik:y.card?k.Au(y.card):null,gi:y.teaser?k.Au(y.teaser):null,Wd:y.icon?k.Au(y.icon):null,vu:p.image_url,playlistVideoCount:p.playlist_video_count,customMessage:p.custom_message||null,title:p.title,metaInfo:p.meta_info,url:Z({pause_on_navigation:p.pause_on_navigation,target:p.target||"new",value:p.url})},Et(n,i);break;case"productListing":p.signin_url&&(b=Z({target:"current",value:p.signin_url}));for(var C=[],w=p.offers||[],x=0;x<w.length;x++)C.push(new ct(k.nd(w[x].merchant),k.nd(w[x].price)));i={id:i.id,timestamp:p.timestamp||0,type:p.card_type,teaserText:p.teaser_text,teaserDurationMs:p.teaser_duration_ms,startMs:p.start_ms,autoOpen:p.auto_open||!1,Md:p.session_data||{},sponsored:p.sponsored||!1,tracking:r,Ik:y.card?k.Au(y.card):null,gi:y.teaser?k.Au(y.teaser):null,Wd:y.icon?k.Au(y.icon):null,imageUrl:p.image_url,displayDomain:p.display_domain||null,showLinkIcon:!!p.show_link_icon,Yu:p.button_icon_url||null,title:p.title,customMessage:p.custom_message||null,url:Z({pause_on_navigation:p.pause_on_navigation,target:p.target||"new",value:p.url}),K6:b,J6:p.signin_title||void 0,I6:p.signin_message||void 0,offers:C},Et(n,i);break;case"simple":i={id:i.id,timestamp:p.timestamp||0,type:p.card_type,teaserText:p.teaser_text,teaserDurationMs:p.teaser_duration_ms,startMs:p.start_ms,autoOpen:p.auto_open||!1,Md:p.session_data||{},sponsored:p.sponsored||!1,tracking:r,Ik:y.card?k.Au(y.card):null,gi:y.teaser?k.Au(y.teaser):null,Wd:y.icon?k.Au(y.icon):null,imageUrl:p.image_url,displayDomain:p.display_domain||null,showLinkIcon:!!p.show_link_icon,Yu:p.button_icon_url||null,title:p.title,customMessage:p.custom_message||null,url:Z({pause_on_navigation:p.pause_on_navigation,target:p.target||"new",value:p.url})},Et(n,i);break;case"video":i={id:i.id,timestamp:p.timestamp||0,type:p.card_type,teaserText:p.teaser_text,teaserDurationMs:p.teaser_duration_ms,startMs:p.start_ms,autoOpen:p.auto_open||!1,Md:p.session_data||{},sponsored:p.sponsored||!1,tracking:r,Ik:y.card?k.Au(y.card):null,gi:y.teaser?k.Au(y.teaser):null,Wd:y.icon?k.Au(y.icon):null,vu:p.image_url,videoDuration:p.video_duration||null,customMessage:p.custom_message||null,title:p.title,metaInfo:p.meta_info,isLiveNow:!!p.is_live_now,url:Z({pause_on_navigation:p.pause_on_navigation,target:p.target||"new",value:p.url})},Et(n,i)}}else vt(t.i,i);n=!0}}n&&(E(t.player),t.Zw())},$t=function(n,a){return function(t){for(var e=[],i=0;i<arguments.length;++i)e[+i]=arguments[i];n.Ha()||n.Y.push(k.Dq(function(){a.apply(null,k.ma(e))}))}};k.EL.prototype.Lq=k.ca(17,function(t,e){var i=k.oM(this.rb());i&&i.Lq(t,e)});var te={},ee=null;k.Sa(u,k.En),k.k=u.prototype,k.k.getDuration=function(){return this.duration},k.k.play=function(t){if(t||0==this.fb)this.progress=0,this.coords=this.i;else if(this.qc())return!1;r(this),this.startTime=t=k.Ra(),-1==this.fb&&(this.startTime-=this.duration*this.progress),this.endTime=this.startTime+this.duration,this.B=this.startTime,this.progress||this.Xw(),this.Hh("play"),-1==this.fb&&this.Hh("resume"),this.fb=1;var e=k.Oa(this);return e in te||(te[e]=this),o(),g(this,t),!0},k.k.stop=function(t){r(this),this.fb=0,t&&(this.progress=1),v(this,this.progress),this.Hh("stop"),this.Bt()},k.k.pause=function(){this.qc()&&(r(this),this.fb=-1,this.Hh("pause"))},k.k.ra=function(){0==this.fb||this.stop(!1),this.Hh("destroy"),u.Nd.ra.call(this)},k.k.destroy=function(){this.dispose()},k.k.Ry=function(){this.Hh("animate")},k.k.Hh=function(t){this.dispatchEvent(new e(t,this))},k.Sa(e,k.Cl),k.Sa(m,u),m.prototype.u=k.Ia,m.prototype.Ry=function(){this.u(),m.Nd.Ry.call(this)},m.prototype.Bt=function(){this.u(),m.Nd.Bt.call(this)},m.prototype.Xw=function(){this.u(),m.Nd.Xw.call(this)},k.Sa(f,m),f.prototype.u=function(){this.element.style.left=Math.round(this.coords[0])+"px",this.element.style.top=Math.round(this.coords[1])+"px"},k.v(y,k.E),y.prototype.Qa=function(t,e,i,n){return i=(0,k.C)(i,n||this.l),t=k.oq(t,e,i),this.i.push(t),t},y.prototype.sB=function(t,e,i,n){return i=(0,k.C)(i,n||this.l),t=k.xq(t,e,i),this.i.push(t),t},y.prototype.dc=function(t){k.pq(t),k.kb(this.i,t)},y.prototype.ra=function(){k.pq(this.i),this.i.length=0,k.E.prototype.ra.call(this)},k.v(t,k.YL),k.k=t.prototype,k.k.load=function(){var t;k.YL.prototype.load.call(this),T(this)||((t=k.uja(this.player.getVideoData()))?(t=C(t,B(this)),M(this,t,!1)):function(i){var t=i.player.getVideoData(),e=t.videoId;i.u&&i.u.abort(),e={method:"POST",onFinish:function(t){var e=i.u=null;200!==t.status||")]}"===(t=t.responseText).substring(0,3)&&(t=t.substring(3),e=JSON.parse(t),e=C(e,B(i))),M(i,e)},urlParams:{v:e},withCredentials:!0},i.L&&(e.urlParams.ptype="embedded");var n=t.Cn;n&&(e.postParams={ad_tracking:n}),(t=k.tja(t))&&(t=k.Fc(t),(t=k.Bc(t))&&(i.u=k.sp(t,e)))}(this))},k.k.unload=function(){M(this,null),this.u&&(this.u.abort(),this.u=null),k.YL.prototype.unload.call(this)},k.k.Ke=function(t,e){return T(this)&&"loadCustomEndscreenRenderer"===t?(t=C(e,"new"),M(this,t),!0):null},k.k.getOptions=function(){return T(this)?["loadCustomEndscreenRenderer"]:[]},k.k.tb=function(){if(this.endscreen&&this.endscreen.elements){var t=this.player.getVideoContentRect();if(t&&0!==t.width&&0!==t.height){var e=this.player.getPlayerSize();if(e&&0!==e.width&&0!==e.height){for(var i,n,a,s=t.width/t.height,r=0,o=-1,l=0;l<ie.length;l++){var c=Math.abs(e.width-ie[l]);(-1===o||c<=r)&&(o=l,r=c)}for(r=ne[o],this.l&&k.ig(this.l.element,"outline-width",Math.max(e.width,e.height)+"px"),e=0;e<this.endscreen.elements.length;++e)l=this.endscreen.elements[e].id,o=this.i[l],c=this.C[l],o&&c&&(i=c.width*s/c.aspectRatio,l=Math.round(i*t.height),n=t.left+Math.round(c.left*t.width),a=t.top+Math.round(c.top*t.height),k.xg(o.element,Math.round(c.width*t.width),l),k.qg(o.element,n,a),k.Cn(o.element,ae),n=c.left+c.width/2,c=c.top+i/2,k.K(o.element,n<=.5&&c<=.5?"ytp-ce-top-left-quad":.5<n&&c<=.5?"ytp-ce-top-right-quad":n<=.5&&.5<c?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad"),k.Cn(o.element,ne),k.K(o.element,r),(o=k.re(document,"div","ytp-ce-expanding-overlay-body",o.element)[0])&&k.ig(o,"height",l+"px"))}}}},k.k.xd=function(t){var e,i;this.endscreen&&("ytp-ce-in-endscreen"===t.getId()?(J(this,this.endscreen.impressionUrls),(t=k.Gu())&&this.endscreen.visualElement&&k.$u(t,this.endscreen.visualElement,void 0)):(t=t.getId().substring(15),e=this.i[t],i=this.C[t],k.K(e.element,"ytp-ce-element-show"),e.element.removeAttribute("aria-hidden"),e=this.player.getRootNode(),k.K(e,"ytp-ce-shown"),J(this,i.impressionUrls),(e=k.Gu())&&k.$u(e,i.visualElement,void 0),this.player.T().u&&this.player.Ma("endscreenelementshown",t)))},k.k.Te=function(t){var e;"ytp-ce-in-endscreen"!==t.getId()&&(t=t.getId().substring(15),e=this.i[t],k.Bn(e.element,"ytp-ce-element-show"),e.element.setAttribute("aria-hidden","true"),e=this.player.getRootNode(),k.Bn(e,"ytp-ce-shown"),this.player.T().u&&this.player.Ma("endscreenelementhidden",t))},k.k.jS=function(t){var i=this;t.target===l&&new k.J(function(){for(var t=k.q(Object.values(i.i)),e=t.next();!e.done;e=t.next())k.Cn(e.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0).start()};var ie=[346,426,470,506,570,640,853,1280,1920],ne="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),ae=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],se={hX:"current",G1:"new"},re={CLOSE:"close",X1:"openUrl",LM:"subscribe"},oe={ZU:"click",CLOSE:"close",uY:"hidden",m3:"rollOut",n3:"rollOver",a4:"shown"},le={tU:"anchored",nK:"branding",CHANNEL:"channel",fX:"cta",xY:"highlightText",uZ:"label",PLAYLIST:"playlist",H2:"popup",j4:"speech",LM:"subscribe",A4:"title",VIDEO:"video",I5:"website"},ce={nK:"branding",MU:"card",tX:"drawer",wY:"highlight",U_:"marker",P2:"promotion",TEXT:"text",O5:"widget"};k.v(dt,k.E),k.k=dt.prototype,k.k.addCueRange=function(t,e,i,n,a){(t=new k.Wv(t,e,{id:i})).namespace="annotations_module",n&&this.Ga.set(t,n),a&&this.Na.set(t,a),this.context.I.Bd([t])},k.k.Xt=function(){this.context.l.subscribe("resize",this.bv,this)},k.k.Sy=function(t,e,i,n,a,s){return this.Wa||(s&&(s.stopPropagation(),s.preventDefault()),this.navigate(t,i,n,a)),!1},k.k.show=function(){},k.k.hide=function(){},k.k.destroy=function(){k.Ke(this.element)},k.k.bv=function(){},k.k.navigate=function(i,n,t,e){var a,s,r,o=this,l=H(i);l&&(r=l,s=function(){i.i&&o.context.I.pauseVideo();var t=o.context.videoData.C||!1,e=k.Zo(l||"");t&&e&&(e.v||e.list)?o.context.I.ej(e.v,n,e.list,!1):k.DI(l||"","current"===a?"_top":void 0,n)},"new"===(a=i.target||(ut(r)?"current":"new"))&&(s(),s=null),Yt(this.context.logger,t,s,e),ut(l)||(t=k.Gu(),e=n.itct,t&&e&&k.iv(t,k.Au(e))))},k.k.ra=function(){this.Ga.clear(),this.Na.clear(),k.E.prototype.ra.call(this)},k.k.createElement=function(t){return t=new k.V(t),k.F(this,t),t.element},k.v(gt,dt),k.k=gt.prototype,k.k.isAvailable=function(){var t;return t=(t=!!this.cards.length)?!!(t=this.I.getRootNode())&&(173<(t=k.yg(t)).width&&173<t.height):t},k.k.bv=function(){var t=this.isAvailable();k.zg(this.element,t),k.L(this.context.I.getRootNode(),k.vS.IV_DRAWER_ENABLED,t),E(this.I)},k.k.destroy=function(){this.I.Lq(!1);try{this.I.getRootNode().removeChild(this.B)}catch(t){}k.Xq(this.Y),k.pq(this.ma),this.Da&&this.Da.dispose(),this.C&&this.C.dispose(),dt.prototype.destroy.call(this)},k.k.hN=function(){var t;this.u&&(Yt(this.context.logger,n(this).tracking.close),(t=k.Gu())&&this.J&&k.iv(t,this.J),wt(this))},k.k.tN=function(){k.L(this.B,"iv-drawer-scrolled",0<this.l.scrollTop)},k.k.KO=function(){var t=k.Gu(),e=((e=n(this))||this).Wd;t&&e&&k.gv(t,[e])},k.k.JO=function(){var t=k.Gu(),e=((e=n(this))||this).Wd;t&&e&&k.hv(t,[e])},k.k.KL=function(){var t=n(this);Yt(this.context.logger,t.tracking.DJ);var e=k.Gu();e&&t&&k.gv(e,[t.gi,t.Wd])},k.k.MO=function(){var t=k.Gu(),e=n(this);t&&e&&k.hv(t,[e.gi])},k.k.JL=function(t){var e=n(this),i=k.Gu();this.i?t?(t=this.context.logger,Yt(t,e.tracking.Mx),t.I.sendVideoStatsEngageEvent(4,void 0),i&&e.gi&&k.iv(i,e.gi)):(t=this.context.logger,Yt(t,e.tracking.Mx),t.I.sendVideoStatsEngageEvent(4,void 0),i&&e.Wd&&k.iv(i,e.Wd)):(t=this.context.logger,Yt(t,e.tracking.Mx),t.I.sendVideoStatsEngageEvent(4,void 0),i&&this.Wd&&k.iv(i,this.Wd))},k.v(Vt,dt),Vt.prototype.Xt=function(){var t,e;dt.prototype.Xt.call(this),"start_ms"in(e=(t=this).annotation.data)&&"end_ms"in e&&t.addCueRange(e.start_ms,e.end_ms,t.annotation.id,function(){t.show()},function(){t.hide()})},Vt.prototype.show=function(){dt.prototype.show.call(this);var t=k.Gu(),e=this.annotation.data;t&&e&&(e=e.session_data)&&k.gv(t,[k.Au(e.itct)])},Vt.prototype.hide=function(){dt.prototype.hide.call(this);var t=k.Gu(),e=this.annotation.data;t&&e&&(e=e.session_data)&&k.hv(t,[k.Au(e.itct)])},k.v(Kt,Vt),Kt.prototype.show=function(){var t,e,i,n,a,s,r,o,l,c,u;this.isActive||(Vt.prototype.show.call(this),this.J||(k.K(this.element,"iv-branding"),o=this.annotation.data,this.l=this.createElement({D:"img",Ca:["branding-img","iv-click-target"],V:{"aria-label":"频道水印",src:o.image_url,width:o.image_width,height:o.image_height}}),k.zg(this.l,!1),(t=this.createElement({D:"div",Ca:["branding-img-container"]})).appendChild(this.l),this.element.appendChild(t),(t=tt(this.annotation))&&ht(this,this.l,t,this.annotation.id,o.session_data),n=this,(a=o).channel_name&&(s=n.createElement({D:"div",Ca:["iv-branding-context-name"],oa:a.channel_name}),r=n.createElement({D:"div",Ca:["iv-branding-context-subscribe"]}),(o=a.standalone_subscribe_button_data)&&(n.i=new k.eN(o.subscribeText,o.subscribeCount,o.unsubscribeText,o.unsubscribeCount,!!o.enabled,!!o.classic,a.channel_id,!!o.subscribed,o.feature,a.session_data.itct,o.signinUrl,n.context.I),n.i.ya(r)),l=n.createElement({D:"div",Ca:["iv-branding-context-subscribe-caret"]}),(c=n.createElement({D:"div",Ca:["branding-context-container-inner"]})).appendChild(l),c.appendChild(s),c.appendChild(r),k.zg(c,!1),(u=n.createElement({D:"div",Ca:["branding-context-container-outer"]})).appendChild(c),k.ig(u,"right",a.image_width+"px"),n.element.appendChild(u),n.u=new k.J(function(){Nt(n,c,u)},500),k.F(n,n.u),n.context.i.Qa(n.element,"mouseover",function(){Rt(n,c,u,l,a.image_height)}),n.context.i.Qa(n.element,"mouseout",function(){n.u.start()})),this.J=!0),k.zg(this.element,!0),this.isActive=!0,this.l&&(e=(s=this).l,i=void 0===i?0:i,r=d(e).width,k.qg(e,r),i=new f(e,[r,e.offsetTop],[r-r-i,e.offsetTop],200,h),k.F(s,i),s.context.u.Qa(i,"begin",function(){k.zg(e,!0)}),i.play()))},Kt.prototype.hide=function(){this.isActive&&(Vt.prototype.hide.call(this),k.zg(this.element,!1),this.isActive=!1)},Kt.prototype.destroy=function(){this.i&&(this.i.dispose(),this.i=null),Vt.prototype.destroy.call(this)},k.v(Lt,Vt),k.k=Lt.prototype,k.k.show=function(){this.isActive||(Vt.prototype.show.call(this),this.U||(function(e){var t,i=e.annotation.data;"cta"===e.annotation.style?t=6:"video"!==e.annotation.style&&"playlist"!==e.annotation.style||(t=7),e.G=i.collapsedelay_ms||e.G;var n=["iv-promo","iv-promo-inactive"];e.element.setAttribute("aria-hidden","true"),e.element.setAttribute("aria-label","宣传"),e.element.tabIndex=0;var a,s=tt(e.annotation),r=i.image_url;switch(r&&(a=e.createElement({D:"div",Ca:["iv-promo-img","iv-click-target"]}),r=e.createElement({D:"img",V:{src:r,"aria-hidden":"true"}}),a.appendChild(r),i.video_duration&&!i.is_live?(r=e.createElement({D:"span",K:"iv-promo-video-duration",oa:i.video_duration}),a.appendChild(r)):i.playlist_length&&(r=e.createElement({D:"span",K:"iv-promo-playlist-length",oa:i.playlist_length.toString()}),a.appendChild(r)),s&&ht(e,a,s,e.annotation.id,i.session_data,void 0,t)),s?(r=e.createElement({D:"a",K:"iv-promo-txt"}),k.gd(r,H(s)),e.i=r):e.i=e.createElement({D:"div",K:"iv-promo-txt"}),e.annotation.style){case"cta":case"website":var o,l,c=e.createElement({D:"p",S:[{D:"strong",oa:i.text_line_1}]}),u=e.createElement({D:"p",S:[{D:"span",K:"iv-promo-link",oa:i.text_line_2}]});(r=i.text_line_3)&&(n.push("iv-promo-website-card-cta-redesign"),o=e.createElement({D:"button",Ca:["iv-promo-round-expand-icon","ytp-button"]}),r=e.createElement({D:"button",Ca:["iv-button","iv-promo-button"],S:[{D:"span",K:"iv-button-content",oa:r}]}),(l=e.createElement({D:"div",K:"iv-promo-button-container"})).appendChild(r),s&&ht(e,e.element,s,e.annotation.id,i.session_data,void 0,t)),k.K(e.i,"iv-click-target"),s&&ht(e,e.i,s,e.annotation.id,i.session_data,void 0,t);break;case"playlist":case"video":c=e.createElement({D:"p",S:[{D:"span",oa:i.text_line_1}]}),u=e.createElement({D:"p",S:[{D:"strong",oa:i.text_line_2}]}),i.is_live&&(c=u,u=e.createElement({D:"span",Ca:["yt-badge","iv-promo-badge-live"],oa:"正在直播"})),k.K(e.i,"iv-click-target"),s&&ht(e,e.i,s,e.annotation.id,i.session_data,void 0,t),n.push("iv-promo-video")}c&&e.i.appendChild(c),u&&e.i.appendChild(u),e.J.appendChild(e.i),l&&e.J.appendChild(l),t=e.createElement({D:"div",K:"iv-promo-actions"}),e.l=e.createElement({D:"button",Ca:["iv-promo-expand","ytp-button"]}),e.l.title="展开",e.context.i.Qa(e.l,"click",function(t){Ot(e,5e3,t)}),t.appendChild(e.l),k.zg(e.l,!1),e.context.i.Qa(e.element,"mouseover",e.YN,e),e.context.i.Qa(e.element,"mouseout",e.XN,e),e.context.i.Qa(e.element,"touchend",function(t){Ot(e,5e3,t)}),e.u=e.createElement({D:"button",Ca:["iv-promo-close","ytp-button"]}),e.u.title="关闭",e.context.i.Qa(e.u,"click","cta"===e.annotation.style&&i.text_line_3?e.UN:e.TN,e),t.appendChild(e.u),k.An(e.element,n),a&&(e.element.appendChild(a),o&&a.appendChild(o)),e.element.appendChild(e.J),e.element.appendChild(t)}(this),this.U=!0),k.zg(this.element,!0),k.Km(function(){k.Bn(this.element,"iv-promo-inactive")},100,this),this.element.removeAttribute("aria-hidden"),this.isActive=!0,Qt(this),Pt(this),Gt(this,this.G))},k.k.hide=function(){this.isActive&&(k.K(this.element,"iv-promo-inactive"),this.isActive=!1,this.element.setAttribute("aria-hidden","true"))},k.k.Sy=function(t,e,i,n,a,s){return!this.isCollapsed&&Vt.prototype.Sy.call(this,t,e,i,n,a,s)},k.k.YN=function(t){this.L=!0,Ot(this,500,t)},k.k.XN=function(){this.L=!1,Jt(this)},k.k.TN=function(t){t.stopPropagation(),this.hide()},k.k.UN=function(t){t.stopPropagation(),Qt(this),this.isCollapsed=!0,k.K(this.element,"iv-promo-collapsed-no-delay"),this.C.start()},k.k.destroy=function(){this.C.dispose(),Vt.prototype.destroy.call(this)},k.v(i,k.YL),k.k=i.prototype,k.k.Ke=function(t,e){if(!a(this.player.T().playerStyle))return null;switch(t){case"loadCustomAnnotationsXml":return(t=k.j0(e))&&jt(this,t),!0;case"removeCustomAnnotationById":return e&&this.i&&(bt(this.i,e),E(this.player)),!0}return null},k.k.getOptions=function(){return a(this.player.T().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]},k.k.kp=function(){var t=this.player.T(),e=this.player.getVideoData();return(!e.C||!t.pfpChazalUi)&&!!(1===(t.annotationsLoadPolicy||e.annotationsLoadPolicy)&&!e.ZE||t.U.get(e.videoId)||k.oG(e)||k.pG(e))},k.k.Zw=function(){var t,e;this.B&&(t=this.player.Ya().getVideoContentRect(!0),k.xg(this.B.element,t.width,t.height),k.qg(this.B.element,t.left,t.top)),this.i&&(e=this.player.Di(),t=this.i,e=e.width,k.L(t.B,"iv-drawer-small",e<=426),k.L(t.B,"iv-drawer-big",1280<=e))},k.k.LL=function(t){p(this,t.state),k.U(t.state,2)&&(this.Yg()&&this.Gj()&&2!==this.player.getPresentingPlayerType()&&this.setCardsVisible(!1),this.Lq(!1))},k.k.load=function(){function t(t){var e=i.loadNumber;i.G=null,i.loaded&&i.loadNumber===e&&i.player.getVideoData().videoId===n&&(t=k.kp(t)&&t.responseXML?t.responseXML:null)&&(jt(i,t),k.K(i.player.getRootNode(),"iv-module-loaded"))}var i=this;k.YL.prototype.load.call(this),p(this,this.player.sb()),this.loadNumber++;var e=this.player.getVideoData(),n=e.videoId,a={format:"XML",onFinish:t=k.Gq()?$t(this,t):t,onError:function(){i.G=null},urlParams:{}};e.isPharma&&(a.urlParams.pharma="1"),a.method="POST",a.withCredentials=!0;var s,r,o,l,c,u,d,h=this.player.T().U.get(n);h&&Ht(a,h),h=h&&(h.ov||h.Sr),e.Ek&&!h||(e.xa?A(this,e.xa,a):(this.u=function(){i.jb(a)},this.player.addEventListener("videodatachange",this.u))),k.LL(this.player,this.B.element,4),this.Zw(),(h=k.oG(e))&&function(t,e){var i=!1;t.i||(t.i=Zt(t),k.F(t,t.i));for(var n=k.q(e.cards||[]),a=n.next();!a.done;a=n.next())(a=a.value).cardRenderer&&(mt(t.i,a.cardRenderer),i=!0);i&&(i=t.i,n=e.headerText?k.fw(e.headerText):"",k.Oe(i.Za,n),i.L&&i.L.setAttribute("title",n),i.context.videoData.eventId&&(i.eventId=i.context.videoData.eventId),i.xa=e.trackingParams?k.Au(e.trackingParams):null,i.J=e.closeButton.infoCardIconRenderer.trackingParams?k.Au(e.closeButton.infoCardIconRenderer.trackingParams):null,i.Wd=e.icon.infoCardIconRenderer.trackingParams?k.Au(e.icon.infoCardIconRenderer.trackingParams):null,E(t.player),t.Zw())}(this,h),(h=k.pG(e))&&h.featuredChannel&&(s=this,r=h.featuredChannel,o=h.annotationId||"branding",l=e.videoId||null,c=e.eventId||null,s.player.T().ub||(h=[],r.navigationEndpoint&&r.navigationEndpoint.browseEndpoint&&r.navigationEndpoint.browseEndpoint.browseId&&h.push(new q("openUrl","click",new X("/channel/"+r.navigationEndpoint.browseEndpoint.browseId,"new",!0,!0),null)),e=r.watermark.thumbnails[0],l={channel_name:r.channelName,end_ms:r.endTimeMs,image_height:e.height,image_type:1,image_url:e.url,image_width:e.width,is_mobile:!1,session_data:{annotation_id:o,ei:c,feature:"iv",itct:r.trackingParams,src_vid:l},start_ms:r.startTimeMs},r.subscribeButton&&r.subscribeButton.subscribeButtonRenderer&&(l.channel_id=r.subscribeButton.subscribeButtonRenderer.channelId,e=c=null,(r=r.subscribeButton.subscribeButtonRenderer).subscribed?(r.subscriberCountWithUnsubscribeText&&(c=k.fw(r.subscriberCountWithUnsubscribeText)),r.subscriberCountText&&(e=k.fw(r.subscriberCountText))):(r.subscriberCountText&&(c=k.fw(r.subscriberCountText)),r.subscriberCountWithSubscribeText&&(e=k.fw(r.subscriberCountWithSubscribeText))),u=r.signInEndpoint&&r.signInEndpoint.webNavigationEndpointData&&r.signInEndpoint.webNavigationEndpointData.url?r.signInEndpoint.webNavigationEndpointData.url:(null===(u=null===(u=null===(d=r.signInEndpoint)||void 0===d?void 0:d.commandMetadata)||void 0===u?void 0:u.webCommandMetadata)||void 0===u?void 0:u.url)||"",d={subscribeText:k.fw(r.unsubscribedButtonText),subscribeCount:c||"",unsubscribeText:k.fw(r.subscribedButtonText),unsubscribeCount:e||"",enabled:r.enabled||!1,classic:!1,subscribed:r.subscribed||!1,feature:"iv",signInUrl:u},l.standalone_subscribe_button_data=d),h=new $(o,"branding","branding",h,l),d=Wt(s),s.l.element.appendChild(d),(h=new Kt(d,qt(s),h)).Xt(),k.F(h,h),s.J[o]=h))},k.k.jb=function(t){var e=this.player.getVideoData();e.xa&&(this.u&&(this.player.removeEventListener("videodatachange",this.u),this.u=null),A(this,e.xa,t))},k.k.unload=function(){this.player.Ve("annotations_module");for(var t=k.q(Object.keys(this.J)),e=t.next();!e.done;e=t.next())this.J[e.value].destroy();this.L=null,this.i&&(this.i.destroy(),this.i=null,E(this.player)),this.U=!1,this.G&&(this.G.abort(),this.G=null),this.J={},this.l.hide(),k.YL.prototype.unload.call(this),this.B.detach(),this.u&&(this.player.removeEventListener("videodatachange",this.u),this.u=null)},k.k.FI=function(t){var n,e,a;t===this.player.getVideoData().videoId&&(this.loaded?!(a=(n=this).player.getVideoData()).xa||(e=n.player.T().U.get(a.videoId))&&(t={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(t,e,i){t=a.videoId,n.loaded&&n.loadNumber==n.loadNumber&&n.player.getVideoData().videoId===t&&(i=k.kp(i)&&i.responseXML?i.responseXML:null)&&jt(n,i)}},k.Gq()&&(t.onFinish=$t(n,t.onFinish)),t.postParams={ic_only:"1"},Ht(t,e),n.U=!0,k.sp(a.xa,t)):this.load())},k.k.Yg=function(){return!!this.i&&this.i.isAvailable()},k.k.Gj=function(){return this.Yg(),!!this.i&&this.i.u},k.k.setCardsVisible=function(t,e,i){e=void 0!==e&&e,this.Yg(),this.i&&(t?Ct(this.i,i||"YOUTUBE_DRAWER_AUTO_OPEN",e):wt(this.i))},k.k.Lq=function(t,e){this.player.W(t?"cardsteasershow":"cardsteaserhide",e)},k.k.ra=function(){this.player.T().U.unsubscribe("vast_info_card_add",this.FI,this),k.Bn(this.player.getRootNode(),k.vS.IV_DRAWER_OPEN);for(var t=this.Y,e=0,i=t.length;e<i;e++)k.Hq(t[e]);this.Y.length=0,k.YL.prototype.ra.call(this)},k.k.createElement=function(t){return t=new k.V(t),k.F(this,t),t.element},k.iM.annotations_module=i,k.iM.creatorendscreen=t}(_yt_player);

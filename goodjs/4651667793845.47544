(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{u2Vg:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s}),n.d(e,"__DANGEROUS_IMPORT_VIDEOPLAYER__",function(){return p}),n("+KXO"),n("1t7P"),n("LW0h"),n("daRM"),n("jwue"),n("+oxZ"),n("FtHn");function r(){return function(t,e,n){return n.api.getHttpClient()}}var o=n("KEM+"),i=n.n(o),e=n("ddV6"),b=n.n(e),O=(n("z84I"),n("ERkP")),g=n("v6aA"),o=n("rxPX"),e=Object(o.a)().propsFromActions(function(){return{getTwitterAuthedHttpClient:r}}).withAnalytics(),P=n("Pc/x"),m=n("Xq8B");function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=n("epkG"),w=n("88qn"),j=n("fs1G"),h=n("mf9H"),E=n("lklz"),c=n("MWbm"),k=n("HT/6"),u=n("Zl35"),n=n("rHpw");function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(o){var t=O.useContext(g.a).featureSwitches,i=o.broadcastId,a=o.mediaKey,c=o.media,u=o.requestedTimecode,l=o.onEnded,s=o.onPlayerApi,p=o.onPlayerState,e=O.useState(null),n=b()(e,2),r=n[0],f=n[1],y=O.useRef({playbackCoordinationEmitter:null,previousPlayerState:null}),d=c||i&&a;if(O.useEffect(function(){null===r&&d&&Object(w.a)({showControls:!1,source:{}},t).then(function(t){return f(function(){return t})})},[r,d,t]),O.useEffect(function(){return function(){var t=y.current.playbackCoordinationEmitter;t&&t.unregister()}},[]),null===r||!d)return null;e={analytics:function(r,t){t={scribeContext:v({},r.analytics.contextualScribeNamespace),enableShortFormCompleteLogging:t.isTrue("responsive_web_video_pcomplete_enabled"),periscopeAuthToken:P.a.proxsee.authToken()};return new m.a({log:function(t){var e=t.category,n=t.data,t=t.namespace;null!=t&&t.action&&r.analytics.scribe(v(v({},t),{},{data:v(v({},n),{},{_category_:e})}))}},{log:function(){}},r.getTwitterAuthedHttpClient(),t)}(o,t),basePlayerClass:r,httpClient:S,onApiReady:function(t){var e;t.play(),"function"==typeof s&&s(t);var n=null==c||null===(e=c.video_info)||void 0===e?void 0:e.duration_millis;"number"==typeof n&&"number"==typeof u&&t.scrubToFraction(u/n);var r=o.disablePlaybackCoordination?j.a:function(){return t.pause()},n=i&&a?k.a.SPACE:k.a.NORMAL;y.current.playbackCoordinationEmitter=h.c.register({onAutoPlayRequest:function(){},onPauseRequest:r,canAutoplay:!1,isLooping:!1,playbackPriority:n})},onStateUpdate:function(t,e){var n,r,o;"function"==typeof p&&p(t,e),o=A(r=t),r.isPlaying&&o&&o.durationMs===o.currentTimeMs&&"function"==typeof l&&(l(),y.current.playbackCoordinationEmitter&&y.current.playbackCoordinationEmitter.signalPlaybackFinish()),n=y.current,e=n.playbackCoordinationEmitter,r=n.previousPlayerState,o=null===r,n=null==r?void 0:r.isPlaying,r=t.isPlaying,!o&&n||!r?!o&&n&&!r&&e&&e.signalPause():e&&e.signalPlay(),y.current.previousPlayerState=t},twitterAuthedHttpClient:o.getTwitterAuthedHttpClient()};if(i&&a){n=C(C({},e),{},{configType:"static",contentId:a,contentType:"broadcast",variants:[],videoId:E.b.forAudioSpace(i,a)});return O.createElement(_,{key:i,playerConfig:n})}if(c){e=C(C({},e),{},{configType:"static",contentId:c.id_str,loop:!1,contentType:"media_entity",durationMs:c.video_info.duration_millis,variants:c.video_info.variants.map(function(t){return t.bitrate,{type:t.content_type,src:t.url}})});return O.createElement(_,{key:c.id_str,playerConfig:e})}return null}function _(t){t=t.playerConfig;return O.createElement(c.a,{style:f.displayNone},O.createElement(u.b,t))}var p=e(s),A=function(t){return t&&t.tracks[t.currentTrackId]},S=new o.a({}),f=n.a.create(function(t){return{displayNone:{display:"none"}}})}}]);

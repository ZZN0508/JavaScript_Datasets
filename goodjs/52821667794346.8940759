(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["common-pre~002699c4"],{"00779":function(e,t){e.exports={addNote:function(t){return function(e){e._shark||(e._shark={}),e._shark.name=t}},addNoteToProp:function(r){return function(e,n){var o;e._shark?(o=e._shark(!0),e._shark=function(e){var t=o;return t[n]=r,!0===e?t:null}):e._shark=function(e){var t={};return t[n]=r,!0===e?t:null}}},addDataToProp:function(r){return function(e,n){var o;e._shark?(o=e._shark(!0),e._shark=function(e){var t=o;return t[n]=r,!0===e?t:null}):e._shark=function(e){var t={};return t[n]=r,!0===e?t:null}}}}},"014e9":function(e,t,n){"use strict";var o=n("a6d36"),r=n("43a05"),i=n("36c6e"),a=n("aedea");function s(e){var t=new i(e),e=r(i.prototype.request,t);return o.extend(e,i.prototype,t),o.extend(e,t),e}var c=s(a);c.Axios=i,c.create=function(e){return s(o.merge(a,e))},c.Cancel=n("1ca44"),c.CancelToken=n("340ea"),c.isCancel=n("6af0b"),c.all=function(e){return Promise.all(e)},c.spread=n("b1841"),e.exports=c,e.exports.default=c},"0eaf3":function(e,t,n){"use strict";var i=n("f3a9c");e.exports=function(e,t,n,o,r){e=new Error(e);return i(e,t,n,o,r)}},"17a90":function(e,t,n){"use strict";var r=n("a6d36"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o={};return e&&r.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),n=r.trim(e.substr(n+1)),t&&(o[t]&&0<=i.indexOf(t)||(o[t]="set-cookie"===t?(o[t]||[]).concat([n]):o[t]?o[t]+", "+n:n))}),o}},"1a22b":function(e,t,n){e.exports=n("99944")("8af19")},"1ca44":function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},"24cba":function(e,t,n){},"340ea":function(e,t,n){"use strict";var o=n("1ca44");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},e.exports=r},"36c6e":function(e,t,n){"use strict";var o=n("aedea"),r=n("a6d36"),i=n("40807"),a=n("c3d80");function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(e,t){return this.request(r.merge(t||{},{method:n,url:e}))}}),r.forEach(["post","put","patch"],function(o){s.prototype[o]=function(e,t,n){return this.request(r.merge(n||{},{method:o,url:e,data:t}))}}),e.exports=s},"3b6ec":function(e,t,n){e.exports=n("99944")("63f14")},40807:function(e,t,n){"use strict";var o=n("a6d36");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=r},"413d0":function(e,t,c){"use strict";var u=c("a6d36"),l=c("9b351"),f=c("bbf51"),p=c("17a90"),d=c("a3b7d"),h=c("0eaf3");e.exports=function(s){return new Promise(function(t,n){var o=s.data,r=s.headers;u.isFormData(o)&&delete r["Content-Type"];var e,i,a=new XMLHttpRequest;if(s.auth&&(e=s.auth.username||"",i=s.auth.password||"",r.Authorization="Basic "+btoa(e+":"+i)),a.open(s.method.toUpperCase(),f(s.url,s.params,s.paramsSerializer),!0),a.timeout=s.timeout,a.onreadystatechange=function(){var e;a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))&&(e="getAllResponseHeaders"in a?p(a.getAllResponseHeaders()):null,e={data:s.responseType&&"text"!==s.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:e,config:s,request:a},l(t,n,e),a=null)},a.onerror=function(){n(h("Network Error",s,null,a)),a=null},a.ontimeout=function(){n(h("timeout of "+s.timeout+"ms exceeded",s,"ECONNABORTED",a)),a=null},u.isStandardBrowserEnv()&&(i=c("aaa4a"),(i=(s.withCredentials||d(s.url))&&s.xsrfCookieName?i.read(s.xsrfCookieName):void 0)&&(r[s.xsrfHeaderName]=i)),"setRequestHeader"in a&&u.forEach(r,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete r[t]:a.setRequestHeader(t,e)}),s.withCredentials&&(a.withCredentials=!0),s.responseType)try{a.responseType=s.responseType}catch(t){if("json"!==s.responseType)throw t}"function"==typeof s.onDownloadProgress&&a.addEventListener("progress",s.onDownloadProgress),"function"==typeof s.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",s.onUploadProgress),s.cancelToken&&s.cancelToken.promise.then(function(e){a&&(a.abort(),n(e),a=null)}),void 0===o&&(o=null),a.send(o)})}},"43a05":function(e,t,n){"use strict";e.exports=function(n,o){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(o,e)}}},"447d8":function(e,t,n){e.exports=n("99944")("0a81c")},"47d54":function(e,t,n){e.exports=n("014e9")},52801:function(e,t,n){},54992:function(e,t,n){e.exports=n("d1db8")("b3557")},"5b2bb":function(e,t,n){},"5b69d":function(e,t,n){e.exports=n("d1db8")("26d59")},"6af0b":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},70121:function(e,t,n){"use strict";var o=n("0ddf3"),i=n.n(o),r=n("66b96"),a=n.n(r),s=n("cf0a0"),c=n.n(s),o=n("3dfd7"),r=n.n(o),s=n("1a22b"),f=n.n(s),o=n("29218"),s=n.n(o);function p(e){var t=[];return f.a.Children.forEach(e,function(e){t.push(e)}),t}function d(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function h(e,t,n){var o=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(o)throw new Error("two child with same key for <dy-rc-animate> children");o=e}}),o}var u,o=n("3b6ec"),l=n.n(o),m=n("32ac9"),y=function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},v=function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},g=function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},b=function(e){return e.transitionAppear||e.animation.appear},w=function(e){return e.transitionEnter||e.animation.enter},C=function(e){return e.transitionLeave||e.animation.leave},k={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},n=(u=f.a.Component,r()(E,u),E.prototype.componentWillUnmount=function(){this.stop()},E.prototype.componentWillEnter=function(e){v(this.props)?this.transition("enter",e):e()},E.prototype.componentWillAppear=function(e){y(this.props)?this.transition("appear",e):e()},E.prototype.componentWillLeave=function(e){g(this.props)?this.transition("leave",e):e()},E.prototype.transition=function(e,t){var n=this,o=l.a.findDOMNode(this),r=this.props,i=r.transitionName,a="object"==typeof i;this.stop();function s(){n.stopper=null,t()}var c,u;(m.b||!r.animation[e])&&i&&r[k[e]]?(u=(c=a?i[e]:i+"-"+e)+"-active",a&&i[e+"Active"]&&(u=i[e+"Active"]),this.stopper=Object(m.a)(o,{name:c,active:u},s)):this.stopper=r.animation[e](o,s)},E.prototype.stop=function(){var e=this.stopper;e&&(this.stopper=null,e.stop())},E.prototype.render=function(){return this.props.children},E);function E(){return a()(this,E),c()(this,u.apply(this,arguments))}n.propTypes={children:s.a.any};var S=n,x="rc_animate_"+Date.now();function T(e){e=e.children;return f.a.isValidElement(e)&&!e.key?f.a.cloneElement(e,{key:x}):e}function A(){}var L,r=(L=f.a.Component,r()(_,L),_.prototype.componentDidMount=function(){var t=this,n=this.props.showProp,e=this.state.children;(e=n?e.filter(function(e){return!!e.props[n]}):e).forEach(function(e){e&&t.performAppear(e.key)})},_.prototype.componentWillReceiveProps=function(e){var o=this,r=p(T(this.nextProps=e)),e=this.props;e.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){o.stop(e)});var t,n,i,a,s=e.showProp,c=this.currentlyAnimatingKeys,u=e.exclusive?p(T(e)):this.state.children,l=[];s?(u.forEach(function(e){var t=e&&d(r,e.key),n=void 0;(n=t&&t.props[s]||!e.props[s]?t:f.a.cloneElement(t||e,((e={})[s]=!0,e)))&&l.push(n)}),r.forEach(function(e){e&&d(u,e.key)||l.push(e)})):(t=r,n=[],i={},a=[],u.forEach(function(e){e&&d(t,e.key)?a.length&&(i[e.key]=a,a=[]):a.push(e)}),t.forEach(function(e){(n=e&&i.hasOwnProperty(e.key)?n.concat(i[e.key]):n).push(e)}),l=n=n.concat(a)),this.setState({children:l}),r.forEach(function(e){var t,n=e&&e.key;e&&c[n]||(t=e&&d(u,n),s?(e=e.props[s],t?!h(u,n,s)&&e&&o.keysToEnter.push(n):e&&o.keysToEnter.push(n)):t||o.keysToEnter.push(n))}),u.forEach(function(e){var t,n=e&&e.key;e&&c[n]||(t=e&&d(r,n),s?(e=e.props[s],t?!h(r,n,s)&&e&&o.keysToLeave.push(n):e&&o.keysToLeave.push(n)):t||o.keysToLeave.push(n))})},_.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},_.prototype.isValidChildByKey=function(e,t){var n=this.props.showProp;return n?h(e,t,n):d(e,t)},_.prototype.stop=function(e){delete this.currentlyAnimatingKeys[e];e=this.childrenRefs[e];e&&e.stop()},_.prototype.render=function(){var n=this,e=this.props;this.nextProps=e;var t=this.state.children,o=null;t&&(o=t.map(function(t){if(null==t)return t;if(!t.key)throw new Error("must set key for <dy-rc-animate> children");return f.a.createElement(S,{key:t.key,ref:function(e){return n.childrenRefs[t.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},t)}));var r=e.component;if(r){t=e;return"string"==typeof r&&(t=i()({className:e.className,style:e.style},e.componentProps)),f.a.createElement(r,t,o)}return o[0]||null},_);function _(e){a()(this,_);var t=c()(this,L.call(this,e));return O.call(t),t.currentlyAnimatingKeys={},t.keysToEnter=[],t.keysToLeave=[],t.state={children:p(T(e))},t.childrenRefs={},t}r.isAnimate=!0,r.propTypes={component:s.a.any,componentProps:s.a.object,animation:s.a.object,transitionName:s.a.oneOfType([s.a.string,s.a.object]),transitionEnter:s.a.bool,transitionAppear:s.a.bool,exclusive:s.a.bool,transitionLeave:s.a.bool,onEnd:s.a.func,onEnter:s.a.func,onLeave:s.a.func,onAppear:s.a.func,showProp:s.a.string,children:s.a.node},r.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:A,onEnter:A,onLeave:A,onAppear:A};var O=function(){var c=this;this.performEnter=function(e){c.childrenRefs[e]&&(c.currentlyAnimatingKeys[e]=!0,c.childrenRefs[e].componentWillEnter(c.handleDoneAdding.bind(c,e,"enter")))},this.performAppear=function(e){c.childrenRefs[e]&&(c.currentlyAnimatingKeys[e]=!0,c.childrenRefs[e].componentWillAppear(c.handleDoneAdding.bind(c,e,"appear")))},this.handleDoneAdding=function(e,t){var n,o=c.props;delete c.currentlyAnimatingKeys[e],o.exclusive&&o!==c.nextProps||(n=p(T(o)),c.isValidChildByKey(n,e)?"appear"===t?b(o)&&(o.onAppear(e),o.onEnd(e,!0)):w(o)&&(o.onEnter(e),o.onEnd(e,!0)):c.performLeave(e))},this.performLeave=function(e){c.childrenRefs[e]&&(c.currentlyAnimatingKeys[e]=!0,c.childrenRefs[e].componentWillLeave(c.handleDoneLeaving.bind(c,e)))},this.handleDoneLeaving=function(e){var t,n,o,r,i,a,s=c.props;delete c.currentlyAnimatingKeys[e],s.exclusive&&s!==c.nextProps||(t=p(T(s)),c.isValidChildByKey(t,e)?c.performEnter(e):(n=function(){C(s)&&(s.onLeave(e),s.onEnd(e,!1))},o=c.state.children,r=t,i=s.showProp,(a=o.length===r.length)&&o.forEach(function(e,t){t=r[t];e&&t&&(e&&!t||!e&&t||e.key!==t.key||i&&e.props[i]!==t.props[i])&&(a=!1)}),a?n():c.setState({children:t},n)))}};t.a=r},"722b8":function(e,t,n){"use strict";var i,o=n("1a22b"),c=n.n(o),r=n("fba06"),a=n.n(r),s=n("0ddf3"),u=n.n(s),l=n("66b96"),f=n.n(l),r=n("cf0a0"),p=n.n(r),s=n("3dfd7"),l=n.n(s),r=n("29218"),s=n.n(r),r=n("3b6ec"),d=n.n(r),h=n("70121"),r=n("1d6e8"),m=n.n(r),r=(i=o.Component,l()(y,i),y.prototype.componentDidMount=function(){this.startCloseTimer()},y.prototype.componentWillUnmount=function(){this.clearCloseTimer()},y.prototype.render=function(){var e=this.props,t=e.prefixCls+"-notice",n=((n={})[t]=1,n[t+"-closable"]=e.closable,n[e.className]=!!e.className,n);return c.a.createElement("div",{className:m()(n),style:e.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer},c.a.createElement("div",{className:t+"-content"},e.children),e.closable?c.a.createElement("a",{tabIndex:"0",onClick:this.close,className:t+"-close"},c.a.createElement("span",{className:t+"-close-x"})):null)},y);function y(){var e,t;f()(this,y);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e=p()(this,i.call.apply(i,[this].concat(o))),e.close=function(){e.clearCloseTimer(),e.props.onClose()},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=setTimeout(function(){e.close()},1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},t=t,p()(e,t)}r.propTypes={duration:s.a.number,onClose:s.a.func,children:s.a.any},r.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var v,g=r,b=0,w=Date.now(),C=(v=o.Component,l()(k,v),k.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return t=!t&&e.animation?e.prefixCls+"-"+e.animation:t},k.prototype.render=function(){var n=this,o=this.props,e=this.state.notices.map(function(e){var t=function(){var t=[].slice.call(arguments,0);return 1===t.length?t[0]:function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}}(n.remove.bind(n,e.key),e.onClose);return c.a.createElement(g,u()({prefixCls:o.prefixCls},e,{onClose:t}),e.content)}),t=((t={})[o.prefixCls]=1,t[o.className]=!!o.className,t);return c.a.createElement("div",{className:m()(t),style:o.style},c.a.createElement(h.a,{transitionName:this.getTransitionName()},e))},k);function k(){var e,t;f()(this,k);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e=p()(this,v.call.apply(v,[this].concat(o))),e.state={notices:[]},e.add=function(t){var n=t.key=t.key||"rcNotification_"+w+"_"+b++;e.setState(function(e){e=e.notices;if(!e.filter(function(e){return e.key===n}).length)return{notices:e.concat(t)}})},e.remove=function(t){e.setState(function(e){return{notices:e.notices.filter(function(e){return e.key!==t})}})},t=t,p()(e,t)}C.propTypes={prefixCls:s.a.string,transitionName:s.a.string,animation:s.a.oneOfType([s.a.string,s.a.object]),style:s.a.object},C.defaultProps={prefixCls:"dy-Notification",animation:"fade",style:{top:65,left:"50%"}},C.newInstance=function(e,n){var t=e||{},e=t.getContainer,t=a()(t,["getContainer"]),o=document.createElement("div");(e?e():document.body).appendChild(o);var r=!1;d.a.render(c.a.createElement(C,u()({},t,{ref:function(t){r||(r=!0,n({notice:function(e){t.add(e)},removeNotice:function(e){t.remove(e)},component:t,destroy:function(){d.a.unmountComponentAtNode(o),o.parentNode.removeChild(o)}}))}})),o)};var E=C,S=(n("b3bfe"),n("24cba"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}),x=3,T="50%",A=void 0,L=1,_="dy-Message",O={marginTop:"-30px"};function R(e,t){var n=this,o=e.type,r=e.content,i=void 0===r?o:r,e=e.duration,a=void 0===e?x:e,s=1<arguments.length&&void 0!==t?t:function(){};return A=A||(E.newInstance({prefixCls:_,transitionName:"move-up",style:S({},O,{top:T})},function(e){A=e}),A),setTimeout(function(){A.notice({key:L,duration:a,style:{},content:c.a.createElement("div",{className:_+"-custom-content "+_+"-"+o,__self:n},c.a.createElement("span",{__self:n},i)),onClose:s})},0),L+=1,function(){A.removeNotice(L)}}function D(){A&&(A.destroy(),A=null)}t.a={info:function(e,t,n){return D(),R({type:"info",content:e,duration:t},n)},success:function(e,t,n){return D(),R({type:"success",content:e,duration:t},n)},error:function(e,t,n){return D(),R({type:"error",content:e,duration:t},n)},warning:function(e,t,n){return D(),R({type:"warning",content:e,duration:t},n)},loading:function(e,t,n){return D(),R({type:"loading",content:e,duration:t},n)},config:function(e){void 0===e.top&&void 0===e.style||(T=e.top,O=S({},O,e.style),A=null),void 0!==e.duration&&(x=e.duration),void 0!==e.prefixCls&&(_=e.prefixCls)},destroy:D}},"76abd":function(e,t,n){"use strict";n.r(t);var i=n("722b8"),o=n("97a1f"),r=n("eb3e2"),a=n("7ca7d"),s="";try{s="//passport.douyu.com/"}catch(e){s=window.passport_host||"//passport.douyu.com/"}function c(e,t){var n=document.createElement("div"),o=document.createDocumentFragment();n.innerHTML=t;for(var r=n.childNodes,i=0,a=r.length;i<a;i+=1)o.appendChild(r[i].cloneNode(!0));e.appendChild(o)}var u={passportHost:s,passportCallback:{passport_reg_callback:"PASSPORT_REG_SUCCESS_CALLBACK",passport_login_callback:"PASSPORT_LOGIN_SUCCESS_CALLBACK",passport_close_callback:"PASSPORT_CLOSE_CALLBACK",passport_dp_callback:"PASSPORT_DP_CALLBACK"},registerCallback:{reg:"PASSPORT_REG_SUCCESS_CALLBACK",login:"PASSPORT_LOGIN_SUCCESS_CALLBACK",close:"PASSPORT_CLOSE_CALLBACK",dp:"PASSPORT_DP_CALLBACK"},type:{login:"login",reg:"reg"},url:{login:"index/login",reg:"index/register"}},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=(n("5b2bb"),function(e,t){e=e===u.type.reg?u.url.reg:u.url.login;return u.passportHost+e+"?"+function(t){if("object"!==(void 0===t?"undefined":l(t)))return"";var n=[];return Object.keys(t).forEach(function(e){n.push(e+"="+t[e])}),n.join("&")}(t)}),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=document.getElementsByTagName("body")[0],h=new function e(){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=function(){},this.bindEvent=function(){o.doms.pop=document.getElementById("passport-iframe-con"),o.doms.shadow=document.getElementById("passport-iframe-shadow"),o.doms.shadow.ondblclick=o.hide},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"login",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};o.isShow||(t=function(e){return"<div\n                id='passport-iframe-con'\n                class='passport-iframe-con'\n            >\n                <iframe\n                    id='login-passport-frame'\n                    width='100%'\n                    height='100%'\n                    scrolling='no'\n                    frameborder='0'\n                    src='"+f(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})+"'>\n                </iframe>\n            </div>"}(e,p({},u.passportCallback,t)),c(d,t),c(d,'<div class="passport-iframe-shadow" id="passport-iframe-shadow"></div>'),o.bindEvent(),o.isShow=1,"function"==typeof n&&n())},this.hide=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},t=o.doms,n=t.shadow,t=t.pop;n&&d.removeChild(n),t&&d.removeChild(t),o.isShow=0,"function"==typeof e&&e()},this.isShow=0,this.doms={}},m={init:h.init,show:h.show,hide:h.hide,remove:h.hide},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v={data:{},set:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"default",o={};"function"!=typeof e&&"object"!==(void 0===e?"undefined":y(e))&&(o[e]=t,v.data[n]=o)},get:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";return v.data[t]&&"object"===y(v.data[t])?v.data[t][e]||"":null}},g=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e})({},m,{PASSPORT:v,POSSPORT:v,register:function(e,t){if(!e)throw new Error("SDK回调函数类型不能为空！");var n=u.registerCallback[e];if(!n)throw new Error("SDK回调类型"+e+"对应函数名称不存在！");window[n]=function(e){"function"==typeof t&&t(e)}}}),s=r.DataCenter.global,h="",m=1;try{h="//passport.douyu.com/",m=s.get("client_id")||1}catch(e){h=window.passport_host||"//passport.douyu.com/",m=window.client_id||1}function b(e){return Object.prototype.toString.call(e).toLowerCase().replace(/\[object\s*(\w+)\]/g,"$1")}var w,C={callback:{reg:"reg",login:"login",close:"close"},clientId:m,passportHost:h,cpsDitchName:"cpsDitchName",ditchName:"ditchName",cpsCookieTime:31104e3,h5pRealRateModelKey:"realRateModel_h5p_room"},k=n("db47a"),E=r.DataCenter.global,S=r.DataCenter.cookie(),x=(T.prototype.init=function(){var t=this,n=this.customCallbacks,e=C.callback,o=e.login,r=e.reg,e=e.close;!function(){var e=document.domain;try{e=e.split(".").slice(-2).join(".")}catch(e){throw new Error("设置domain出错！")}document.domain=e}(),g.register(o,function(e){n.login&&"function"===b(n.login)?n.login(e):t.iframeCallback(e)}),g.register(r,function(e){n.reg&&"function"===b(n.reg)?n.reg(e):t.iframeCallback(e)}),g.register(e,function(e){n.close&&"function"===b(n.close)?n.close(e):t.iframeHide(e)})},T);function T(e){var t=e.hideLoginDialog,t=void 0===t?function(){}:t,e=e.customCallbacks,e=void 0===e?{}:e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T),this.iframeCallback=function(e){0===e.error&&(localStorage.removeItem(C.h5pRealRateModelKey),g.hide(),i.a.success("登录成功"),setTimeout(function(){window.location.reload()},500))},this.iframeHide=t,this.customCallbacks=e}var A,L,_,O,R,D,N,P=(h=(0,a.default.Service)(r.DataCenter.cookie),_=(n=function e(){var t,n,o,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="cookie",r=t=this,(o=w)&&Object.defineProperty(t,n,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(r):void 0}),this.init=function(){i.checkCps()},this.val=function(){return i.cookie.get(C.ditchName)},this.setCps=function(e){i.cookie.set(C.ditchName,e,C.cpsCookieTime)},this.checkCps=function(){var e=(e=new RegExp("(^|&)"+C.ditchName+"=([^&]*)(&|$)"),null!==(e=window.location.search.substr(1).match(e))?unescape(e[2]):null);e&&i.setCps(e)}}).prototype,O="cookie",h=[h],R={enumerable:!0,initializer:null},N={},Object.keys(R).forEach(function(e){N[e]=R[e]}),N.enumerable=!!N.enumerable,N.configurable=!!N.configurable,("value"in N||N.initializer)&&(N.writable=!0),N=h.slice().reverse().reduce(function(e,t){return t(_,O,e)||e},N),D&&void 0!==N.initializer&&(N.value=N.initializer?N.initializer.call(D):void 0,N.initializer=void 0),void 0===N.initializer&&(Object.defineProperty(_,O,N),N=null),w=N,new n),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function B(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function I(n,o,e,t,r){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(n,o,e)||e},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(n,o,i),i=null),i}var n=a.default.Service,a=(a=Object(o.Injectable)("shark.login.LoginService"),o=n(r.DataCenter.global),n=n(r.DataCenter.cookie),a((U.prototype.autoLogin=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},e=C.passportHost+"lapi/passport/iframe/safeAuth?client_id="+C.clientId+"&t="+(new Date).getTime();r.jsonpClient.get(r.Empty,e).subscribe(function(e){0===e.error?(i.a.success("登录成功"),setTimeout(function(){window.location.reload()},500)):t()},function(){i.a.error("网络异常，请求失败")})},A=I((a=U).prototype,"global",[o],{enumerable:!0,initializer:null}),L=I(a.prototype,"cookie",[n],{enumerable:!0,initializer:null}),n=a))||n),n=new a;function U(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U),B(this,"global",A,this),B(this,"cookie",L,this),this.loginIframe=function(){return new x({hideLoginDialog:r.hideLoginDialog,customCallbacks:r.customCallbacks})},this.registerIframeEvent=function(){r.isRegistered||(r.loginIframe().init(),r.isRegistered=!0)},this.registerCustomCallbacks=function(e){"object"===b(e)&&(r.customCallbacks=e,r.registerIframeEvent())},this.check=function(){var e=r.cookie.get("uid"),t=r.cookie.get("nickname"),n=r.global.get("USER_INFO.uid"),o=r.global.get("USER_INFO.nickname");return!(e&&n||t&&o)||e===n&&t===o?!!e:(i.a.error("当前登录信息有误,请刷新页面!"),!1)},this.auto=function(){r.check()&&E.set("USER_INFO",{uid:S.get("uid"),username:S.get("username"),nickname:S.get("nickname"),password:S.get("auth_wl"),ownRoom:S.get("own_room"),groupId:S.get("groupid"),notification:S.get("notification"),phoneStatus:S.get("phonestatus"),shortToken:S.get("stk"),longToken:S.get("ltkid"),bizType:S.get("biz"),clientType:S.get("ct")},!0)},this.checkStkToLogin=function(){return r.cookie.get("ltkid")&&r.cookie.get("biz")&&""!==r.cookie.get("ct")&&null!==r.cookie.get("ct")&&r.cookie.get("uid")&&r.cookie.get("stk")},this.callLoginDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"login",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},t=j({type:e,client_id:C.clientId,state:encodeURIComponent(window.location.href)},t);(function(){try{window.DYS||(window.DYS={}),window.DYS.sub||(window.DYS.sub={}),window.DYS.sub.getDefaultFied||(window.DYS.sub.getDefaultFied=k.dys.getDefaultFields)}catch(e){throw new Error('"window.DYS.sub.getDefaultField" set failed')}})(),g.PASSPORT.set("param",t,"show"),g.PASSPORT.set(C.cpsDitchName,P.val(),"cps"),g.show(e,t,n),r.registerIframeEvent()},this.showLoginDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"login",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};r.autoLogin(function(){r.callLoginDialog(e,t,n)})},this.hideLoginDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;g.hide(),1!=+e?"string"==typeof e&&-1!==e.indexOf("com")&&window.location.replace(e):r.autoLogin()},this.exit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=C.passportHost+"sso/logout?client_id="+C.clientId;e&&(t+="&callback_url="+encodeURIComponent(e)),window.location.href=t},this.checkStkToLogin()||this.autoLogin(),this.isRegistered=!1,this.customCallbacks={},P.init(),this.auto()}a.instance=n,t.default={show:n.showLoginDialog,hide:n.hideLoginDialog,check:n.check,exit:n.exit,callLoginDialog:n.callLoginDialog,registerCustomCallbacks:n.registerCustomCallbacks}},"7ca7d":function(e,t,n){e.exports=n("2d614")("f0df9")},"97a1f":function(e,t,n){e.exports=n("2d614")("11f13")},99992:function(e,t,n){"use strict";var o=n("a6d36");e.exports=function(t,n,e){return o.forEach(e,function(e){t=e(t,n)}),t}},"9b0dc":function(e,t,n){e.exports=n("d1db8")("a63b0")},"9b351":function(e,t,n){"use strict";var r=n("0eaf3");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},a3b7d:function(e,t,n){"use strict";var o,r,i,a=n("a6d36");function s(e){return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),o=s(window.location.href),function(e){e=a.isString(e)?s(e):e;return e.protocol===o.protocol&&e.host===o.host}):function(){return!0}},a6d36:function(e,t,n){"use strict";var r=n("43a05"),n=n("cfa6c"),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if(i(e="object"!=typeof e?[e]:e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:n,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function n(){var o={};function e(e,t){"object"==typeof o[t]&&"object"==typeof e?o[t]=n(o[t],e):o[t]=e}for(var t=0,r=arguments.length;t<r;t++)c(arguments[t],e);return o},extend:function(n,e,o){return c(e,function(e,t){n[t]=o&&"function"==typeof e?r(e,o):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},aaa4a:function(e,t,n){"use strict";var s=n("a6d36");e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,o,r,i){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(o)&&a.push("path="+o),s.isString(r)&&a.push("domain="+r),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},aedea:function(s,e,c){"use strict";!function(e){var n=c("a6d36"),o=c("ef327"),t={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,a={adapter:i="undefined"!=typeof XMLHttpRequest||void 0!==e?c("413d0"):i,transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){a.headers[e]={}}),n.forEach(["post","put","patch"],function(e){a.headers[e]=n.merge(t)}),s.exports=a}.call(this,c("5b69d"))},b0067:function(e,t,n){e.exports=n("2d614")("86f8b")},b1841:function(e,t,n){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},b3bfe:function(e,t,n){},bbf51:function(e,t,n){"use strict";var r=n("a6d36");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o,t=n?n(t):r.isURLSearchParams(t)?t.toString():(o=[],r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))}))}),o.join("&"));return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},c2389:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},c3d80:function(e,t,n){"use strict";var o=n("a6d36"),r=n("99992"),i=n("6af0b"),a=n("aedea"),s=n("f5096"),c=n("c2389");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return u(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},cfa6c:function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},db47a:function(e,t,n){e.exports=n("2d614")("fce11")},eb3e2:function(e,t,n){e.exports=n("d1db8")("e55c4")},ee908:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var t=n("47d54"),k=n.n(t),t=n("9b0dc"),E=n.n(t),S={},x={},T=0,A=6e4,o=0,r=0,i=0,L=1,_=0,O=0,R=0,a=0;function D(){clearInterval(i),i=setInterval(function(){r=(new Date).valueOf(),s({ps:2})},A)}function s(e){var t={},n=[],o={},r={},i=x,a=i.type,s=i.surl,c=i.quality,u=i.st,l=i.vt,f=e.ps,p=e.watch_time,d=e.ltime,h=S,m=h.did,y=h.uid,v=void 0===y?0:y,g=h.ct,b=h.ver,w=void 0===b?0:b,C=h.rid,i=h.tid,e=h.refer,y=h.pt,b=h.r_type,h=h.env,h=void 0===h?1:h;r.r_type=b,r.vt=l,5===f&&(r.ltime=d),O&&(r.vpid=O),_&&(r.vid=_),R&&5===f&&(r.ctime=R),o.i=v||0,o.d=m||0,o.ct=g||0,o.ver=w||0,o.r=C||0,o.t=i||0,o.hc=A||0,o.m=u||0,o.st=a||0,o.ps=f||0,o.pt=y||0,o.sst="",o.surl=s||"",o.p=T||0,o.re=e||"",5===f&&(o.wt=p),o.lt=L||0,o.q=c||0,o.e=r,o.ot=(new Date).valueOf(),t.v="1.5",n.push(o),t.m=JSON.stringify(n),function(e){var t=e.url,n=e.data,e=e.type,o=k.a.CancelToken.source(),n={method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},url:t,data:"string"==typeof n?n:E.a.stringify(n),responseType:e,cancelToken:o.token};"text"===e&&(n.transformResponse=void 0);n=k()(n).then(function(e){return e.data}).catch(function(e){throw k.a.isCancel(e),e});return Object.defineProperty(n,"abort",{get:function(){return o.cancel("request abort by user.")}}),n}({url:1===h?"https://dotbeats.douyucdn.cn/beats":"http://10.1.100.44:6999/beats",data:t,type:"text"}).then(function(e){e=JSON.parse(e);1===f&&e&&e.data&&0===e.error&&e.data.interval&&(A=e.data.interval),1===f&&D()}).catch(function(){1===f&&D()})}function c(e){o=(new Date).valueOf(),s({ps:1,ext:e})}function u(e){e=!(0<arguments.length&&void 0!==e)||e;clearInterval(i),o&&s({ps:5,watch_time:(new Date).valueOf()-o,ltime:0<r?(new Date).valueOf()-r:null}),r=o=0,A=6e4,e&&(T=0)}var l=(f.prototype.onReady=function(e){!function(){for(var e=S.ct,t=["0","1","2","3","4","5","6","7","8","9","q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],n="",o=0;o<6;o++)n+=t[parseInt(36*Math.random(),10)];T=e+"-"+n+parseInt((new Date).valueOf(),10)}(),x=e=e,a&&(x.vt=a,a=0),_&&(e=(e=T).substr(0,e.length-13),O=""+e+parseInt((new Date).valueOf(),10)+"-"+_),c()},f.prototype.onComplete=function(){u()},f.prototype.onError=function(){u()},f.prototype.onstop=function(){u()},f.prototype.dispose=function(){clearInterval(i)},f.prototype.setlt=function(e){L=e},f.prototype.setvt=function(e){e=e,x&&(x.vt=e),a=e},f.prototype.setvid=function(e){_=e},f.prototype.setvpid=function(e){O=e},f.prototype.setctime=function(e){R=e},f.prototype.getpid=function(){return T},f.prototype.sendps5=function(){u(!1)},f.prototype.sendps1=function(){c()},f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S=e}},ef327:function(e,t,n){"use strict";var r=n("a6d36");e.exports=function(n,o){r.forEach(n,function(e,t){t!==o&&t.toUpperCase()===o.toUpperCase()&&(n[o]=e,delete n[t])})}},f3a9c:function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},f5096:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},f6898:function(e,t,n){e.exports=n("d1db8")("53a00")},fc794:function(e,t,n){e.exports=n("76abd")}}]);

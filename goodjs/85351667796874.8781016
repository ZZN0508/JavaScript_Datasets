define("webmd.m.socialshareplugin",[],function(){return webmd.m.socialshareplugin=function(h,c,a){"use strict";function t(e,s){var i,o,n,r,t="",l="",p=" from @WebMD",t=(e.tagOptions.twitter.hasOwnProperty("shareLink")&&""!==e.tagOptions.twitter.shareLink?e.tagOptions.twitter:e).shareLink,l=(e.tagOptions.twitter.hasOwnProperty("shareTitle")&&""!==e.tagOptions.twitter.shareTitle?e.tagOptions.twitter:e).shareTitle;n=t,e=webmd.url.getEnv()||"",t=webmd.url.getLifecycle()||"",r=h.Deferred(),""!==d||e||t?(-1===d.indexOf("wb.md")&&(d=n),r.resolve(d)):(d=n,h.ajax("https://api-ssl.bitly.com/v4/shorten",{async:!1,timeout:500,type:"POST",data:JSON.stringify({long_url:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer 34543b055a4fc76fa6e5969de2abc6f323145392"},success:function(e,t,a){d=e.link,r.resolve(d)},error:function(e,t,a){d=n,r.resolve(d)}})),r.promise().done(function(e){var t=140-"... ".length-e.length-p.length,a="",a=l.length>=t?l.substring(0,t)+"... ":l+" ";i="text="+encodeURIComponent(a)+encodeURIComponent(e)+p,o="https://twitter.com/intent/tweet?"+i,c.open(o,"",s)})}function s(e,t){this.element=e,this.settings=h.extend({},o,t),this._defaults=o,this._name=i,this.init()}var i="socialshareplugin",d="",o={shareOrder:["facebook","pinterest","twitter"],baseHtmlTmpl:'<div class="plugin plugin-socialshare" data-metrics-module="sharebar"></div>',shareTitle:h('meta[property="og:title"]').attr("content")||h("title").html(),shareDesc:h('meta[property="og:description"]').attr("content")||"",shareImg:h('meta[property="og:image"]').attr("content")||"",shareLink:h('meta[property="og:url"]').attr("content")||c.location.href,siteName:h('meta[property="og:site_name"]').attr("content")||"",shareType:h('meta[property="og:type"]').attr("content")||"",shareOptions:{facebook:{windowOpts:"height=400, width=580, scrollbars = 1, toolbar = 0, resizable = 1, status = 0, left = 25, top = 25",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-facebook" data-metrics-link="face" data-metrics-type="ad-hoc" data-sharetype="facebook" href="" title="Share on Facebook"><span class="visually-hidden">Share on Facebook</span></a>',clickHandler:function(e){var t,a,s,i,o;c.open((t=e,a="&redirect_uri="+encodeURIComponent("https://www.webmd.com/facebook-app-close"),e=o=i=s="",s=(t.tagOptions.facebook.hasOwnProperty("shareLink")&&""!==t.tagOptions.facebook.shareLink?t.tagOptions.facebook:t).shareLink,o=(t.tagOptions.facebook.hasOwnProperty("shareTitle")&&""!==t.tagOptions.facebook.shareTitle?t.tagOptions.facebook:t).shareTitle,i=(t.tagOptions.facebook.hasOwnProperty("shareImg")&&""!==t.tagOptions.facebook.shareImg?t.tagOptions.facebook:t).shareImg,e=(t.tagOptions.facebook.hasOwnProperty("shareDesc")&&""!==t.tagOptions.facebook.shareDesc?t.tagOptions.facebook:t).shareDesc,"https://www.facebook.com/dialog/feed?app_id=385978254785998&display=popup"+("&picture="+encodeURIComponent(i))+a+("&name="+encodeURIComponent(o))+("&link="+encodeURIComponent(s))+("&caption="+encodeURIComponent(o))+("&description="+encodeURIComponent(e))),"",this.windowOpts)}},pinterest:{windowOpts:"height=400, width=580, scrollbars = 1, toolbar = 0, resizable = 1, status = 0, left = 25, top = 25",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-pinterest" data-metrics-link="pin" data-metrics-type="ad-hoc" data-sharetype="pinterest" href="" title="Share on Pinterest"><span class="visually-hidden">Share on Pinterest</span></a>',clickHandler:function(e){var t,a,s;c.open((s=a=t="",t=((e=e).tagOptions.pinterest.hasOwnProperty("shareLink")&&""!==e.tagOptions.pinterest.shareLink?e.tagOptions.pinterest:e).shareLink,a=(e.tagOptions.pinterest.hasOwnProperty("shareTitle")&&""!==e.tagOptions.pinterest.shareTitle?e.tagOptions.pinterest:e).shareTitle,s=(e.tagOptions.pinterest.hasOwnProperty("shareImg")&&""!==e.tagOptions.pinterest.shareImg?e.tagOptions.pinterest:e).shareImg,"https://pinterest.com/pin/create/button/?"+("url="+encodeURIComponent(t))+("&media="+encodeURIComponent(s))+("&description="+encodeURIComponent(a)+" | WebMD")),"",this.windowOpts)}},twitter:{windowOpts:"height=400, width=580, scrollbars = 1, toolbar = 0, resizable = 1, status = 0, left = 25, top = 25",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-twitter" data-metrics-link="twit" data-metrics-type="ad-hoc" data-sharetype="twitter" href="" title="Share on Twitter"><span class="visually-hidden">Share on Twitter</span></a>',clickHandler:function(e){t(e,this.windowOpts)}},googleplus:{windowOpts:"height=400, width=580, scrollbars = 1, toolbar = 0, resizable = 1, status = 0, left = 25, top = 25",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-googleplus" data-metrics-link="ggl" data-metrics-type="ad-hoc" data-sharetype="googleplus" href="" title="Share on Google+"><span class="visually-hidden">Share on Google+</span></a>',clickHandler:function(e){var t;c.open((t="",t=((e=e).tagOptions.googleplus.hasOwnProperty("shareLink")&&""!==e.tagOptions.googleplus.shareLink?e.tagOptions.googleplus:e).shareLink,"https://plus.google.com/share?"+("url="+encodeURIComponent(t))),"",this.windowOpts)}},email:{windowOpts:"",htmlTmpl:"<a class='plugin-socialshare-link plugin-socialshare-email' target='_blank' rel='noopener' data-metrics-link='email' data-metrics-type='ad-hoc' data-sharetype='email' href='mailto:?subject="+a.title+"&body=I visited WebMD and thought that you would be interested in the information below. %0A"+c.location.href+"%0A %20 %0A To view, click on the address above or copy and paste it into your Web browser.%0A %20 %0A LEARN MORE AT WEBMD - the nation%27s most trusted health and wellness resource.%0A https://www.webmd.com/ %0A Copyright "+(new Date).getFullYear()+" WebMD, All rights reserved. %0A WebMD does not provide medical advice, diagnosis or treatment.'  title='Share via Email'><span class='visually-hidden'>Email</span></a>",clickHandler:function(){c.location.href="mailto:?subject="+a.title+"&body=I visited WebMD and thought that you would be interested in the information below. %0A"+c.location.href+"%0A %20 %0A To view, click on the address above or copy and paste it into your Web browser.%0A %20 %0A LEARN MORE AT WEBMD - the nation%27s most trusted health and wellness resource.%0A https://www.webmd.com/ %0A Copyright "+(new Date).getFullYear()+" WebMD, All rights reserved. %0A WebMD does not provide medical advice, diagnosis or treatment."}},print:{windowOpts:"",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-print" data-metrics-link="print" data-metrics-type="ad-hoc" data-sharetype="print" href="" title="Print this page"><span class="visually-hidden">Print</span></a>',clickHandler:function(){var e=location.href,t="width=800,height=600";-1!==(e=-1!==e.search("[\\#]")?e.split("#")[0]:e).search("[\\?]")?e+="&print=true":e+="?print=true",0<navigator.appVersion.indexOf("Mac")?t+=",toolbar=yes,resizable=yes,scrollbars=yes":t+=",toolbar=1,location=1,directories=0,status=0,menubar=0,scrollbars=1,resizable=1,copyhistory=0,top=10,left=10",c.open(e,"printFriendly",t)}},save:{windowOpts:"",htmlTmpl:'<a class="plugin-socialshare-link plugin-socialshare-save" data-metrics-link="save" data-metrics-type="ad-hoc" data-sharetype="save" href="#" title="Save this page"><span class="visually-hidden">Save</span></a>',clickHandler:function(){var e,t=1,t=-1<c.location.pathname.indexOf("/magazine/")?6:t;t=-1<c.location.host.indexOf("exchanges")?5:t,webmd.cookie.exists("WBMD_AUTH")?(e=(e=a.URL).replace("//","//"),e={title:a.title,url:e},h.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",timeout:1e4,url:c.location.protocol+"//"+c.location.hostname+"/api/reg/Bookmarks.svc/json/add",data:JSON.stringify(e)}).done(function(){webmd.overlay.open({width:"550px",html:'<p>This article was saved to <a href="https://member.webmd.com/bookmarks.aspx">"My WebMD Pages"</a>.<br> Click "My Profile" in the upper right of your page to access.</p>'})}).fail(function(e){var t="There was an error in your request. Please try again later.",e=jQuery.parseJSON(e.responseText);-1e3==e.code?t="This page has already been saved":-1001==e.code?t="There is already a saved item with that name.  Please type a new name.":-1002==e.code?t="You have exceeded the max amount of bookmarks.  Please delete some of the above in order to add more.":-2===e.code&&(t="Your session has ended. To protect your privacy, please login again."),webmd.overlay.open({html:'<p class="error">'+t+"</p>"})})):(t='<p>Please <a href="https://member'+webmd.url.getEnv()+"."+webmd.url.getSLD()+"?appid="+t+"&returl="+a.location.href+'">sign in</a> to save this article.</p>',webmd.overlay.open({width:"550px",html:t,onOpen:function(){h("body").attr("data-content-masked","true")},onClosed:function(){h("body").removeAttr("data-content-masked")}}))}}},tagOptions:{facebook:{shareTitle:"",shareDesc:"",shareImg:"",shareLink:"",siteName:"",shareType:""},pinterest:{shareTitle:"",shareDesc:"",shareImg:"",shareLink:""},twitter:{shareTitle:"",shareLink:""},googleplus:{shareTitle:"",shareDesc:"",shareImg:"",shareLink:""}}};h.extend(s.prototype,{init:function(){this.buildSocialShare(this.settings,this.element)},buildSocialShare:function(e,t){for(var a,s,i=h(e.baseHtmlTmpl),o=0;o<e.shareOrder.length;o++)"listen"!==(s=e.shareOrder[o].toLowerCase())&&(a=e.shareOptions[s],s=h(a.htmlTmpl),i.append(s));h(t).append(i),this.bindClickHandler(e,t)},bindClickHandler:function(a,e){h(e).on("click",".plugin-socialshare-link",function(e){var t=h(this).data("sharetype");a.shareOptions[t].clickHandler(a),e.preventDefault()})}}),h.fn[i]=function(e){return this.each(function(){h.data(this,"plugin_"+i)||h.data(this,"plugin_"+i,new s(this,e))})}}(jQuery,window,document),webmd.m.socialshareplugin}),define("webmd.m.socialshareplugin.min",function(){});

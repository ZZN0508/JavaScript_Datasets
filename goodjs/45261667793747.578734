(this.$WP=this.$WP||[]).push(["1pCAFN",(e,i)=>{"use strict";var s,m,o,l,n,d,c,u,k,v,r,p,t,a,_,b,f,h,g,y,N={sms:19907,email:55593,clipboard:19905},T=({url:e,itemType:t,itemId:i,action:n,type:a,children:r,disableMcidTracking:l})=>{var s=o(u)["domainName"],e=e.startsWith("/")?`https://${s}${e}`:e,i=c({module:"ShareCta",action:n,context:`${t}|${i}|${e}`,value:a&&"repost_action"!==a?N[a]:void 0});return m.createElement("div",{onClick:i},r(a&&"repost_action"!==a&&!l?((e,i)=>{if("LinkPost"===t)return e;i=`${-1!==e.indexOf("?")?"&":"?"}m=${i}`;return-1!==e.indexOf("#")?e.replace("#",i+"#"):`${e}${i}`})(e,N[a]):e))},E=({iconName:e,localizedText:i,onClickFunction:t,size:n})=>{var a=o(u)["cdnPrefix"];return m.createElement("li",{onClick:t,className:p("_3JDcFqle",{Fk50IqWd:"small"===n,_3idHdbyJ:"large"===n})},e.startsWith("/")?m.createElement("img",{src:`${a}${e}`,className:p("Aww4xCHf",{Fk50IqWd:"small"===n,_3idHdbyJ:"large"===n})}):m.createElement(r,{name:e,color:"primaryIcon",size:"large"===n?20:18}),m.createElement("span",{className:"_1Su_kTAs"},i))},S=({url:i,itemType:e,size:t})=>{var n=d()["localize"],a="LinkPost"===e?n.string("share_sms_link"):"ReadTrip"===e?n.string("trips_share_email_subject"):"WriteTrip"===e?n.string("trips_collaborate_invite_email_subject"):n.string("link_share_sms_checkthisout");return s.createElement(E,{iconName:"text-message",localizedText:n.string("link_share_option_sms"),size:t,onClickFunction:()=>(()=>{var e=`${a} ${i}`;140<e.length&&(e=i),window.location.href="sms:?&body="+encodeURIComponent(e)})()})},I=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],D=({url:l,subject:e,firstSentence:i,textBeforeLink:t,textAfterLink:n,size:a})=>{var r=d()["localize"];return s.createElement(E,{iconName:"email",localizedText:r.string("link_share_option_email"),size:a,onClickFunction:()=>((e,i,t,n,a)=>{var r=encodeURIComponent(l),n=encodeURIComponent(n),a=encodeURIComponent(a),i=encodeURIComponent(i||e("share_email_subject")),e=`${t||e("link_share_sms_checkthisout")}%0D%0A%0D%0A${n?n+"%0D%0A":""}${r}%0D%0A${a?a+"%0D%0A":""}%0D%0A${e("ib_share_booking_download_app")}%0D%0A${e("app_download_url_secure")}`;window.location.href=`mailto:?subject=${i}&body=${e}`})(r.string,e,i,t,n)})},x=a=>{var r=d()["localize"];if(-1<I.indexOf(a.itemType))return s.createElement(t,{query:b,variables:{locationId:a.itemId}},({fetching:e,data:i})=>{if(e||!i)return s.createElement(D,a);var t=(null==(i=i.locations)||null==(t=i[0])?void 0:t.name)||"";return s.createElement(D,Object.assign({},a,{subject:r.string("link_share_email_subject",{0:t}),firstSentence:r.string("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:t}))});if("Review"===a.itemType)return s.createElement(t,{query:f,variables:{reviewId:a.itemId}},({fetching:e,data:i})=>{var t;return e||!i?s.createElement(D,a):s.createElement(D,Object.assign({},a,{firstSentence:r.string("share_email_reviews"),textBeforeLink:(null==(i=i.reviews)||null==(t=i[0])?void 0:t.title)||""}))});if("Photo"===a.itemType)return s.createElement(t,{query:h,variables:{id:a.itemId}},({fetching:e,data:i})=>{return e||!i?s.createElement(D,a):s.createElement(D,Object.assign({},a,{firstSentence:r.string("share_email_photos"),textBeforeLink:(null==(i=i.photos)?void 0:i[0].caption)||""}))});if("Video"===a.itemType)return s.createElement(t,{query:g,variables:{id:a.itemId}},({fetching:e,data:i})=>{return e||!i?s.createElement(D,a):s.createElement(D,Object.assign({},a,{firstSentence:r.string("share_email_videos"),textBeforeLink:(null==(i=i.videos)?void 0:i[0].caption)||""}))});if("LinkPost"===a.itemType)return s.createElement(D,Object.assign({},a,{subject:r.string("share_email_link_subject"),firstSentence:r.string("share_email_link"),textAfterLink:r.string("share_email_link_attribution")}));if("ForumPost"===a.itemType)return s.createElement(D,Object.assign({},a,{firstSentence:r.string("share_email_forumtopic")}));if("ForumResponse"===a.itemType)return s.createElement(D,Object.assign({},a,{firstSentence:r.string("share_email_forumreply")}));if("WriteTrip"!==a.itemType&&"ReadTrip"!==a.itemType)return s.createElement(D,a);var l="WriteTrip"===a.itemType;return s.createElement(t,{query:y,variables:{id:a.itemId}},({fetching:e,data:i})=>{var t,n=a;return!e&&i&&(i={tripName:(e=i.trips&&i.trips.find(e=>e.id===a.itemId))&&e.title||""},t=null==e||null==(t=e.owner)?void 0:t.isMe,n=Object.assign({},a,{firstSentence:r.string("trips_share_email_hey"),subject:r.string("trips_share_email_subject"),textBeforeLink:r.string("trips_share_email_body_v2",i)}),l?(n.subject=r.string("trips_collaborate_invite_email_subject"),n.textBeforeLink=t?r.string("trips_collaborate_invite_email_body_v2",i):r.string("trips_collaborate_invite_email_body_collaborator_version",i)):t||(n.subject=r.string("trips_share_email_subject"),n.textBeforeLink=r.string("trips_email_share_collaborator_version",i))),s.createElement(D,n)})},C=({url:e,itemType:i,itemId:t,disableMcidTracking:n,headerComponent:a,close:r})=>{var l=o(k)["viewportCategory"];return m.createElement("div",{className:"_2qNMBNc2"},a,"MOBILE"===l&&m.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"sms",disableMcidTracking:n},e=>m.createElement(S,{url:e,itemType:i,size:"small"})),m.createElement(T,{url:e,itemType:i,itemId:t,action:"share_select",type:"email",disableMcidTracking:n},e=>m.createElement(x,{url:e,itemType:i,itemId:Number(t),size:"small"})),m.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"clipboard",disableMcidTracking:n},e=>m.createElement(_,{url:e,size:"small",close:r})))},w=({fixed:e,url:i,itemType:t,itemId:n,disableMcidTracking:a,shiftX:r,shiftY:l,children:s,headerComponent:o,alignEdge:d,above:c})=>m.createElement(v,{local:!0,closeButton:!1,fixed:e,above:c,below:!0,alignEdge:d,shiftX:r,shiftY:l,shiftArrow:r,arrowType:"small",contents:e=>m.createElement(C,{url:i,itemType:t,itemId:n,disableMcidTracking:a,headerComponent:o,close:e})},s),A=({url:t,itemType:n,itemId:a,headerComponent:e,onClick:r,alignEdge:i,above:l,shiftX:s,shiftY:o,hideText:d,disableMcidTracking:c})=>m.createElement(m.Fragment,null,m.createElement(w,{url:t,itemType:n,itemId:a,disableMcidTracking:c,shiftX:s,shiftY:o,headerComponent:e,alignEdge:i,above:l},(e,i)=>m.createElement(T,{itemType:n,itemId:a,url:t,action:"share_button_click",disableMcidTracking:c},()=>m.createElement(F,{onClick:e=>{r&&r(e),i()},target:e,hideText:d})))),F=({size:e="small",variant:i="clear-on-dark",onClick:t,target:n,hideText:a})=>{var r=d()["localize"],r=r.string("link_share_share");return m.createElement(l,Object.assign({size:e,variant:i,iconName:"share",onClick:t,ref:n},a?{"aria-label":r}:{children:r}))},j=e=>{var t="MOBILE"===e.viewportCategory;return s.createElement(v,{above:!0,alignEdge:t?"right":"left",shiftX:t?12:-28,shiftY:-8,shiftArrow:t?8:12,arrowType:"small",contents:()=>s.createElement("span",{className:"JNF5ebbW"},s.createElement(n,{id:"social_Coming_soon"})),local:!0},(e,i)=>s.createElement(F,{onClick:i,target:e,hideText:t}))};return[()=>{T.defaultProps={type:null,disableMcidTracking:!1},E.defaultProps={onClickFunction:()=>!1},(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PoiDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":103}}')).__key=30493395597162,b.loc.source={body:"1bbbcc03376a"},(f=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ReviewDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reviews"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"reviewIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":99}}')).__key=8049210694612,f.loc.source={body:"07521a581bd4"},(h=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"photoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0xf892e2b2908,h.loc.source={body:"0f892e2b2908"},(g=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"VideoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"videos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"videoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0x71275c1e8de7,g.loc.source={body:"71275c1e8de7"},(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"TripDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"trips"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"tripIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"owner"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":117}}')).__key=0x7db41de4facd,y.loc.source={body:"7db41de4facd"},D.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},_=class extends s.Component{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{e=a.copy(e);return e&&(this.setState({copied:!0}),setTimeout(()=>i(),3e3)),e}}render(){return s.createElement(E,{iconName:"link",size:this.props.size,localizedText:this.state.copied?s.createElement(n,{id:"link_share_link_copied"}):s.createElement(n,{id:"link_share_option_clipboard"}),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,this.props.close)})}},A.defaultProps={headerComponent:null,onClick:void 0,above:!(w.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"}),shiftX:6,shiftY:4},e("default",A),e({DisabledAction:j,SharePopover:w})},[e=>(m=(s=e).default,o=e.useContext),e=>l=e.CircularButton,e=>(n=e.default,d=e.useLocalize),e=>c=e.useGARecordCallback,e=>(u=e.Environment,k=e.Device),e=>v=e.default,e=>r=e.default,e=>p=e.default,e=>t=e.Query,e=>a=e.default]]},["cDcdfi","7yGKf-","0DsHEV","fsml46","2R4xv2","eDFcUX","pyY-iJ","jSLlaY","5X2em-","vLhQxP"]]);

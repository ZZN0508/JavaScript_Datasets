!function(l,s,i,a){function h(t,e){this.settings=null,this.options=l.extend({},h.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(h.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(h.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}h.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:s,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},h.Width={Default:"default",Inner:"inner",Outer:"outer"},h.Type={Event:"event",State:"state"},h.Plugins={},h.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",s=!this.settings.autoWidth,i=this.settings.rtl,e={width:"auto","margin-left":i?e:"","margin-right":i?"":e};s||this.$stage.children().css(e),t.css=e}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,s=null,i=this._items.length,r=!this.settings.autoWidth,n=[];for(t.items={merge:!1,width:e};i--;)s=this._mergers[i],s=this.settings.mergeFit&&Math.min(s,this.settings.items)||s,t.items.merge=1<s||t.items.merge,n[i]=r?e*s:this._items[i].width();this._widths=n}},{filter:["items","settings"],run:function(){var t=[],e=this._items,s=this.settings,i=Math.max(2*s.items,4),r=2*Math.ceil(e.length/2),n=s.loop&&e.length?s.rewind?i:Math.max(i,r):0,o="",a="";for(n/=2;0<n;)t.push(this.normalize(t.length/2,!0)),o+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),a=e[t[t.length-1]][0].outerHTML+a,--n;this._clones=t,l(o).addClass("cloned").appendTo(this.$stage),l(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t,e,s=this.settings.rtl?1:-1,i=this._clones.length+this._items.length,r=-1,n=[];++r<i;)t=n[r-1]||0,e=this._widths[this.relative(r)]+this.settings.margin,n.push(t+e*s);this._coordinates=n}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,t={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(t)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,s=!this.settings.autoWidth,i=this.$stage.children();if(s&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else s&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,e,s=this.settings.rtl?1:-1,i=2*this.settings.stagePadding,r=this.coordinates(this.current())+i,n=r+this.width()*s,o=[],a=0,l=this._coordinates.length;a<l;a++)t=this._coordinates[a-1]||0,e=Math.abs(this._coordinates[a])+i*s,(this.op(t,"<=",r)&&this.op(t,">",n)||this.op(e,"<",r)&&this.op(e,">",n))&&o.push(a);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+o.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],h.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(l("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},h.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return l(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},h.prototype.initialize=function(){var t,e;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:a,e=this.$element.children(e).width(),t.length&&e<=0&&this.preloadAutoWidthImages(t)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},h.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},h.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,s=-1,i=null;t?(l.each(t,function(t){t<=e&&s<t&&(s=Number(t))}),"function"==typeof(i=l.extend({},this.options,t[s])).stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):i=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=s,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},h.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},h.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},h.prototype.update=function(){for(var t=0,e=this._pipe.length,s=l.proxy(function(t){return this[t]},this._invalidated),i={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,s).length)&&this._pipe[t].run(i),t++;this._invalidated={},this.is("valid")||this.enter("valid")},h.prototype.width=function(t){switch(t=t||h.Width.Default){case h.Width.Inner:case h.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},h.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},h.prototype.onThrottledResize=function(){s.clearTimeout(this.resizeTimer),this.resizeTimer=s.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},h.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},h.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(s,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},h.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=l.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(i).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(i).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(i).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},h.prototype.onDragMove=function(t){var e,s=null,i=null,r=this.difference(this._drag.pointer,this.pointer(t)),n=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(s=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-s,n.x=((n.x-s)%i+i)%i+s):(s=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),e=this.settings.pullDrag?-1*r.x/5:0,n.x=Math.max(Math.min(n.x,s+e),i+e)),this._drag.stage.current=n,this.animate(n.x))},h.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),s=this._drag.stage.current,t=0<e.x^this.settings.rtl?"left":"right";l(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(s.x,0!==e.x?t:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=t,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},h.prototype.closest=function(s,i){var r=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||l.each(o,l.proxy(function(t,e){return"left"===i&&e-30<s&&s<e+30?r=t:"right"===i&&e-n-30<s&&s<e-n+30?r=t+1:this.op(s,"<",e)&&this.op(s,">",o[t+1]!==a?o[t+1]:e-n)&&(r="left"===i?t+1:t),-1===r},this)),this.settings.loop||(this.op(s,">",o[this.minimum()])?r=s=this.minimum():this.op(s,"<",o[this.maximum()])&&(r=s=this.maximum())),r},h.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},h.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},h.prototype.current=function(t){return t===a?this._current:0===this._items.length?a:(t=this.normalize(t),this._current!==t&&((e=this.trigger("change",{property:{name:"position",value:t}})).data!==a&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current);var e},h.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},h.prototype.reset=function(t){(t=this.normalize(t))!==a&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},h.prototype.normalize=function(t,e){var s=this._items.length,e=e?0:this._clones.length;return!this.isNumeric(t)||s<1?t=a:(t<0||s+e<=t)&&(t=((t-e/2)%s+s)%s+e/2),t},h.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},h.prototype.maximum=function(t){var e,s,i,r=this.settings,n=this._coordinates.length;if(r.loop)n=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if(e=this._items.length)for(s=this._items[--e].width(),i=this.$element.width();e--&&!((s+=this._items[e].width()+this.settings.margin)>i););n=e+1}else n=r.center?this._items.length-1:this._items.length-r.items;return t&&(n-=this._clones.length/2),Math.max(n,0)},h.prototype.minimum=function(t){return t?0:this._clones.length/2},h.prototype.items=function(t){return t===a?this._items.slice():(t=this.normalize(t,!0),this._items[t])},h.prototype.mergers=function(t){return t===a?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},h.prototype.clones=function(s){function i(t){return t%2==0?r+t/2:e-(t+1)/2}var e=this._clones.length/2,r=e+this._items.length;return s===a?l.map(this._clones,function(t,e){return i(e)}):l.map(this._clones,function(t,e){return t===s?i(e):null})},h.prototype.speed=function(t){return t!==a&&(this._speed=t),this._speed},h.prototype.coordinates=function(t){var e,s=1,i=t-1;return t===a?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,i=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[i]||0))/2*s):e=this._coordinates[i]||0,Math.ceil(e))},h.prototype.duration=function(t,e,s){return 0===s?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(s||this.settings.smartSpeed)},h.prototype.to=function(t,e){var s,i=this.current(),r=t-this.relative(i),n=(0<r)-(r<0),o=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>o/2&&(r+=-1*n*o),(s=(((t=i+r)-a)%o+o)%o+a)!==t&&s-r<=l&&0<s-r&&this.reset(i=(t=s)-r)):t=this.settings.rewind?(t%(l+=1)+l)%l:Math.max(a,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},h.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},h.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},h.prototype.onTransitionEnd=function(t){if(t!==a&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},h.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==s?t=l(this.options.responsiveBaseElement).width():s.innerWidth?t=s.innerWidth:i.documentElement&&i.documentElement.clientWidth?t=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},h.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:l(t)),(t=this.settings.nestedItemSelector?t.find("."+this.settings.nestedItemSelector):t).filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},h.prototype.add=function(t,e){var s=this.relative(this._current);e=e===a?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},h.prototype.remove=function(t){(t=this.normalize(t,!0))!==a&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},h.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},h.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(i).off(".owl.core"),!1!==this.settings.responsive&&(s.clearTimeout(this.resizeTimer),this.off(s,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},h.prototype.op=function(t,e,s){var i=this.settings.rtl;switch(e){case"<":return i?s<t:t<s;case">":return i?t<s:s<t;case">=":return i?t<=s:s<=t;case"<=":return i?s<=t:t<=s}},h.prototype.on=function(t,e,s,i){t.addEventListener?t.addEventListener(e,s,i):t.attachEvent&&t.attachEvent("on"+e,s)},h.prototype.off=function(t,e,s,i){t.removeEventListener?t.removeEventListener(e,s,i):t.detachEvent&&t.detachEvent("on"+e,s)},h.prototype.trigger=function(t,e,s,i,r){var n={item:{count:this._items.length,index:this.current()}},o=l.camelCase(l.grep(["on",t,s],function(t){return t}).join("-").toLowerCase()),a=l.Event([t,"owl",s||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},n,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(a)}),this.register({type:h.Type.Event,name:t}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].call(this,a)),a},h.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===a&&(this._states.current[e]=0),this._states.current[e]++},this))},h.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},h.prototype.register=function(s){var e;s.type===h.Type.Event?(l.event.special[s.name]||(l.event.special[s.name]={}),l.event.special[s.name].owl||(e=l.event.special[s.name]._default,l.event.special[s.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[s.name].owl=!0)):s.type===h.Type.State&&(this._states.tags[s.name]?this._states.tags[s.name]=this._states.tags[s.name].concat(s.tags):this._states.tags[s.name]=s.tags,this._states.tags[s.name]=l.grep(this._states.tags[s.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[s.name])===e},this)))},h.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},h.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},h.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||s.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},h.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},h.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),s=t.data("owl.carousel");s||(s=new h(this,"object"==typeof e&&e),t.data("owl.carousel",s),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){s.register({type:h.Type.Event,name:e}),s.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),s[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},s))})),"string"==typeof e&&"_"!==e.charAt(0)&&s[e].apply(s,i)})},l.fn.owlCarousel.Constructor=h}(window.Zepto||window.jQuery,window,document),function(e,s){function i(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)}i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=s.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,e;for(t in s.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(a,r){function e(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var e=this._core.settings,s=e.center&&Math.ceil(e.items/2)||e.items,i=e.center&&-1*s||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+i,n=this._core.clones().length,o=a.proxy(function(t,e){this.load(e)},this);for(0<e.lazyLoadEager&&(s+=e.lazyLoadEager,e.loop&&(r-=e.lazyLoadEager,s++));i++<s;)this.load(n/2+this._core.relative(r)),n&&a.each(this._core.clones(this._core.relative(r)),o),r++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)}e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(t){var e=this._core.$stage.children().eq(t),t=e&&e.find(".owl-lazy");!t||-1<a.inArray(e.get(0),this._loaded)||(t.each(a.proxy(function(t,e){var s=a(e),i=1<r.devicePixelRatio&&s.attr("data-src-retina")||s.attr("data-src")||s.attr("data-srcset");this._core.trigger("load",{element:s,url:i},"lazy"),s.is("img")?s.one("load.owl.lazy",a.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:i},"lazy")},this)).attr("src",i):s.is("source")?s.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:s,url:i},"lazy")},this)).attr("srcset",i):((e=new Image).onload=a.proxy(function(){s.css({"background-image":'url("'+i+'")',opacity:"1"}),this._core.trigger("loaded",{element:s,url:i},"lazy")},this),e.src=i)},this)),this._loaded.push(e.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(r,s){function i(t){this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=r.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;r(s).on("load",function(){e._core.settings.autoHeight&&e.update()}),r(s).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})}i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,s=this._core.settings.lazyLoad,t=this._core.$stage.children().toArray().slice(t,e),i=[],e=0;r.each(t,function(t,e){i.push(r(e).height())}),(e=Math.max.apply(null,i))<=1&&s&&this._previousHeight&&(e=this._previousHeight),this._previousHeight=e,this._core.$stage.parent().height(e).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(c,e){function s(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){var e;!t.namespace||(e=c(t.content).find(".owl-video")).length&&(e.css("display","none"),this.fetch(e,c(t.content)))},this)},this._core.options=c.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))}s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(t,e){var s=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,n=t.attr("data-height")||this._core.settings.videoHeight,o=t.attr("href");if(!o)throw new Error("Missing video URL.");if(-1<(i=o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))s="youtube";else if(-1<i[3].indexOf("vimeo"))s="vimeo";else{if(!(-1<i[3].indexOf("vzaar")))throw new Error("Video URL not supported.");s="vzaar"}i=i[6],this._videos[o]={type:s,id:i,width:r,height:n},e.attr("data-video",o),this.thumbnail(t,this._videos[o])},s.prototype.thumbnail=function(e,t){function s(t){i=h.lazyLoad?c("<div/>",{class:"owl-video-tn "+l,srcType:t}):c("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')}var i,r,n=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",o=e.find("img"),a="src",l="",h=this._core.settings;if(e.wrap(c("<div/>",{class:"owl-video-wrapper",style:n})),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),o.length)return s(o.attr(a)),o.remove(),!1;"youtube"===t.type?(r="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",s(r)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t[0].thumbnail_large,s(r)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t.framegrab_url,s(r)}})},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(t){var e=c(t.target).closest("."+this._core.settings.itemClass),s=this._videos[e.attr("data-video")],i=s.width||"100%",r=s.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),(t=c('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",r),t.attr("width",i),"youtube"===s.type?t.attr("src","//www.youtube.com/embed/"+s.id+"?autoplay=1&rel=0&v="+s.id):"vimeo"===s.type?t.attr("src","//player.vimeo.com/video/"+s.id+"?autoplay=1"):"vzaar"===s.type&&t.attr("src","//view.vzaar.com/"+s.id+"/player?autoplay=true"),c(t).wrap('<div class="owl-video-frame" />').insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,(window,document)),function(o){function e(t){this.core=t,this.core.options=o.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":o.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":o.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":o.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)}e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){var t,e,s,i,r,n;1===this.core.settings.items&&o.support.animation&&o.support.transition&&(this.core.speed(0),e=o.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,n=this.core.settings.animateOut,this.core.current()!==this.previous&&(n&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(o.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(n)),r&&i.one(o.support.animation.end,e).addClass("animated owl-animated-in").addClass(r)))},e.prototype.clear=function(t){o(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,(window,document)),function(i,r,e){function s(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":i.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":i.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":i.proxy(function(t,e,s){t.namespace&&this.play(e,s)},this),"stop.owl.autoplay":i.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},s.Defaults,this._core.options)}s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(t){this._call=r.setTimeout(i.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return(new Date).getTime()-this._time},s.prototype.play=function(t,e){var s;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,s=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):r.clearTimeout(this._call),this._time+=this.read()%t-s,this._timeout=t,this._call=r.setTimeout(i.proxy(this._next,this,e),t-s)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,r.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,r.clearTimeout(this._call))},s.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(r){"use strict";function e(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+r(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":r.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":r.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":r.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=r.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)}e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,s=this._core.settings;for(t in this._controls.$relative=(s.navContainer?r(s.navContainer):r("<div>").addClass(s.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=r("<"+s.navElement+">").addClass(s.navClass[0]).html(s.navText[0]).prependTo(this._controls.$relative).on("click",r.proxy(function(t){this.prev(s.navSpeed)},this)),this._controls.$next=r("<"+s.navElement+">").addClass(s.navClass[1]).html(s.navText[1]).appendTo(this._controls.$relative).on("click",r.proxy(function(t){this.next(s.navSpeed)},this)),s.dotsData||(this._templates=[r('<button role="button">').addClass(s.dotClass).append(r("<span>")).prop("outerHTML")]),this._controls.$absolute=(s.dotsContainer?r(s.dotsContainer):r("<div>").addClass(s.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",r.proxy(function(t){var e=(r(t.target).parent().is(this._controls.$absolute)?r(t.target):r(t.target).parent()).index();t.preventDefault(),this.to(e,s.dotsSpeed)},this)),this._overrides)this._core[t]=r.proxy(this[t],this)},e.prototype.destroy=function(){var t,e,s,i,r=this._core.settings;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&r.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},e.prototype.update=function(){var t,e,s=this._core.clones().length/2,i=s+this._core.items().length,r=this._core.maximum(!0),n=this._core.settings,o=n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],t=s,e=0;t<i;t++){if(o<=e||0===e){if(this._pages.push({start:Math.min(r,t-s),end:t-s+o-1}),Math.min(r,t-s)===r)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t=this._core.settings,e=this._core.items().length<=t.items,s=this._core.relative(this._core.current()),i=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||e),t.nav&&(this._controls.$previous.toggleClass("disabled",!i&&s<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!i&&s>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!t.dots||e),t.dots&&(e=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!=e?this._controls.$absolute.html(this._templates.join("")):0<e?this._controls.$absolute.append(new Array(1+e).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(r.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:r.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var s=this._core.relative(this._core.current());return r.grep(this._pages,r.proxy(function(t,e){return t.start<=s&&t.end>=s},this)).pop()},e.prototype.getPosition=function(t){var e,s,i=this._core.settings;return"page"==i.slideBy?(e=r.inArray(this.current(),this._pages),s=this._pages.length,t?++e:--e,e=this._pages[(e%s+s)%s].start):(e=this._core.relative(this._core.current()),s=this._core.items().length,t?e+=i.slideBy:e-=i.slideBy),e},e.prototype.next=function(t){r.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){r.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,s){!s&&this._pages.length?(s=this._pages.length,r.proxy(this._overrides.to,this._core)(this._pages[(t%s+s)%s].start,e)):r.proxy(this._overrides.to,this._core)(t,e)},r.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,(window,document)),function(i,r){"use strict";function e(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&i(r).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(t){var e;!t.namespace||(e=i(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash"))&&(this._hashes[e]=t.content)},this),"changed.owl.carousel":i.proxy(function(t){var s;t.namespace&&"position"===t.property.name&&(s=this._core.items(this._core.relative(this._core.current())),(t=i.map(this._hashes,function(t,e){return t===s?e:null}).join())&&r.location.hash.slice(1)!==t&&(r.location.hash=t))},this)},this._core.options=i.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),i(r).on("hashchange.owl.navigation",i.proxy(function(t){var e=r.location.hash.substring(1),s=this._core.$stage.children(),e=this._hashes[e]&&s.index(this._hashes[e]);void 0!==e&&e!==this._core.current()&&this._core.to(this._core.relative(e),!1,!0)},this))}e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in i(r).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(r){function e(t,s){var i=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return r.each((t+" "+o.join(e+" ")+e).split(" "),function(t,e){if(void 0!==n[e])return i=!s||e,!1}),i}function t(t){return e(t,!0)}var n=r("<support>").get(0).style,o="Webkit Moz O ms".split(" "),s={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},i=function(){return!!e("transform")},a=function(){return!!e("perspective")},l=function(){return!!e("animation")};!function(){return!!e("transition")}()||(r.support.transition=new String(t("transition")),r.support.transition.end=s.transition.end[r.support.transition]),l()&&(r.support.animation=new String(t("animation")),r.support.animation.end=s.animation.end[r.support.animation]),i()&&(r.support.transform=new String(t("transform")),r.support.transform3d=a())}(window.Zepto||window.jQuery,(window,document)),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(at){"use strict";function i(t,o){function e(t){if(!(!0===Y.data(Dt+"_intouch")||0<at(t.target).closest(o.excludedElements,Y).length)){var e=t.originalEvent||t;if(!e.pointerType||"mouse"!=e.pointerType||0!=o.fallbackToMouseEvents){var s,i=e.touches,r=i?i[0]:e;return G=Ct,i?J=i.length:!1!==o.preventDefaultEvents&&t.preventDefault(),Z=H=F=null,B=1,V=U=N=W=R=0,(t={})[lt]=z(lt),t[ht]=z(ht),t[ct]=z(ct),t[dt]=z(dt),X=t,j(),E(0,r),!i||J===o.fingers||o.fingers===jt||g()?(tt=P(),2==J&&(E(1,i[1]),N=U=$(K[0].start,K[1].start)),(o.swipeStatus||o.pinchStatus)&&(s=h(e,G))):s=!1,!1===s?(h(e,G=Qt),s):(o.hold&&(ot=setTimeout(at.proxy(function(){Y.trigger("hold",[e.target]),o.hold&&(s=o.hold.call(Y,e,e.target))},this),o.longTapThreshold)),C(!0),null)}}}function s(t){var e,s,i,r,n=t.originalEvent||t;G===Tt||G===Qt||k()||(e=T((s=n.touches)?s[0]:n),et=P(),s&&(J=s.length),o.hold&&clearTimeout(ot),G=Et,2==J&&(0==N?(E(1,s[1]),N=U=$(K[0].start,K[1].start)):(T(s[1]),U=$(K[0].end,K[1].end),K[0].end,K[1].end,Z=B<1?pt:ut),B=(U/N*1).toFixed(2),V=Math.abs(N-U)),J===o.fingers||o.fingers===jt||!s||g()?(F=D(e.start,e.end),function(t,e){if(!1!==o.preventDefaultEvents)if(o.allowPageScroll===_t)t.preventDefault();else{var s=o.allowPageScroll===gt;switch(e){case lt:(o.swipeLeft&&s||!s&&o.allowPageScroll!=bt)&&t.preventDefault();break;case ht:(o.swipeRight&&s||!s&&o.allowPageScroll!=bt)&&t.preventDefault();break;case ct:(o.swipeUp&&s||!s&&o.allowPageScroll!=xt)&&t.preventDefault();break;case dt:(o.swipeDown&&s||!s&&o.allowPageScroll!=xt)&&t.preventDefault()}}}(t,H=D(e.last,e.end)),i=e.start,r=e.end,R=Math.round(Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2))),W=S(),s=R,(t=F)!=_t&&(s=Math.max(s,Q(t)),X[t].distance=s),r=h(n,G),o.triggerOnTouchEnd&&!o.triggerOnTouchLeave||(i=!0,o.triggerOnTouchLeave&&(t={left:(s=(t=at(t=this)).offset()).left,right:s.left+t.outerWidth(),top:s.top,bottom:s.top+t.outerHeight()},e=e.end,t=t,i=e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom),!o.triggerOnTouchEnd&&i?G=l(Et):o.triggerOnTouchLeave&&!i&&(G=l(Tt)),G!=Qt&&G!=Tt||h(n,G))):h(n,G=Qt),!1===r&&h(n,G=Qt))}function i(t){var e,s=t.originalEvent||t,i=s.touches;if(i){if(i.length&&!k())return e=s,st=P(),it=e.touches.length+1,!0;if(i.length&&k())return!0}return k()&&(J=it),et=P(),W=S(),u()||!d()?h(s,G=Qt):o.triggerOnTouchEnd||!1===o.triggerOnTouchEnd&&G===Et?(!1!==o.preventDefaultEvents&&t.preventDefault(),h(s,G=Tt)):!o.triggerOnTouchEnd&&w()?c(s,G=Tt,vt):G===Et&&h(s,G=Qt),C(!1),null}function r(){U=N=tt=et=J=0,j(),C(!(B=1))}function n(t){t=t.originalEvent||t;o.triggerOnTouchLeave&&h(t,G=l(Tt))}function a(){Y.unbind(O,e),Y.unbind(A,r),Y.unbind(q,s),Y.unbind(L,i),I&&Y.unbind(I,n),C(!1)}function l(t){var e=t,s=p(),i=d(),r=u();return!s||r?e=Qt:!i||t!=Et||o.triggerOnTouchEnd&&!o.triggerOnTouchLeave?!i&&t==Tt&&o.triggerOnTouchLeave&&(e=Qt):e=Tt,e}function h(t,e){var s,i=t.touches;return(f()&&m()||m())&&(s=c(t,e,ft)),(_()&&g()||g())&&!1!==s&&(s=c(t,e,mt)),x()&&b()&&!1!==s?s=c(t,e,yt):W>o.longTapThreshold&&R<kt&&o.longTap&&!1!==s?s=c(t,e,wt):1!==J&&zt||!(isNaN(R)||R<o.threshold)||!w()||!1===s||(s=c(t,e,vt)),e===Qt&&r(),e===Tt&&(i&&i.length||r()),s}function c(t,e,s){var i;if(s==ft){if(Y.trigger("swipeStatus",[e,F||null,R||0,W||0,J,K,H]),o.swipeStatus&&!1===(i=o.swipeStatus.call(Y,t,e,F||null,R||0,W||0,J,K,H)))return!1;if(e==Tt&&f()){if(clearTimeout(nt),clearTimeout(ot),Y.trigger("swipe",[F,R,W,J,K,H]),o.swipe&&!1===(i=o.swipe.call(Y,t,F,R,W,J,K,H)))return!1;switch(F){case lt:Y.trigger("swipeLeft",[F,R,W,J,K,H]),o.swipeLeft&&(i=o.swipeLeft.call(Y,t,F,R,W,J,K,H));break;case ht:Y.trigger("swipeRight",[F,R,W,J,K,H]),o.swipeRight&&(i=o.swipeRight.call(Y,t,F,R,W,J,K,H));break;case ct:Y.trigger("swipeUp",[F,R,W,J,K,H]),o.swipeUp&&(i=o.swipeUp.call(Y,t,F,R,W,J,K,H));break;case dt:Y.trigger("swipeDown",[F,R,W,J,K,H]),o.swipeDown&&(i=o.swipeDown.call(Y,t,F,R,W,J,K,H))}}}if(s==mt){if(Y.trigger("pinchStatus",[e,Z||null,V||0,W||0,J,B,K]),o.pinchStatus&&!1===(i=o.pinchStatus.call(Y,t,e,Z||null,V||0,W||0,J,B,K)))return!1;if(e==Tt&&_())switch(Z){case ut:Y.trigger("pinchIn",[Z||null,V||0,W||0,J,B,K]),o.pinchIn&&(i=o.pinchIn.call(Y,t,Z||null,V||0,W||0,J,B,K));break;case pt:Y.trigger("pinchOut",[Z||null,V||0,W||0,J,B,K]),o.pinchOut&&(i=o.pinchOut.call(Y,t,Z||null,V||0,W||0,J,B,K))}}return s==vt?e!==Qt&&e!==Tt||(clearTimeout(nt),clearTimeout(ot),b()&&!x()?(rt=P(),nt=setTimeout(at.proxy(function(){rt=null,Y.trigger("tap",[t.target]),o.tap&&(i=o.tap.call(Y,t,t.target))},this),o.doubleTapThreshold)):(rt=null,Y.trigger("tap",[t.target]),o.tap&&(i=o.tap.call(Y,t,t.target)))):s==yt?e!==Qt&&e!==Tt||(clearTimeout(nt),clearTimeout(ot),rt=null,Y.trigger("doubletap",[t.target]),o.doubleTap&&(i=o.doubleTap.call(Y,t,t.target))):s==wt&&(e!==Qt&&e!==Tt||(clearTimeout(nt),rt=null,Y.trigger("longtap",[t.target]),o.longTap&&(i=o.longTap.call(Y,t,t.target)))),i}function d(){var t=!0;return t=null!==o.threshold?R>=o.threshold:t}function u(){var t=!1;return t=null!==o.cancelThreshold&&null!==F?Q(F)-R>=o.cancelThreshold:t}function p(){return!(o.maxTimeThreshold&&W>=o.maxTimeThreshold)}function _(){var t=v(),e=y(),s=null===o.pinchThreshold||V>=o.pinchThreshold;return t&&e&&s}function g(){return o.pinchStatus||o.pinchIn||o.pinchOut}function f(){var t=p(),e=d(),s=v(),i=y();return!u()&&i&&s&&e&&t}function m(){return o.swipe||o.swipeStatus||o.swipeLeft||o.swipeRight||o.swipeUp||o.swipeDown}function v(){return J===o.fingers||o.fingers===jt||!zt}function y(){return 0!==K[0].end.x}function w(){return o.tap}function b(){return!!o.doubleTap}function x(){if(null==rt)return!1;var t=P();return b()&&t-rt<=o.doubleTapThreshold}function j(){it=st=0}function k(){var t=!1;return t=st&&P()-st<=o.fingerReleaseThreshold?!0:t}function C(t){Y&&(!0===t?(Y.bind(q,s),Y.bind(L,i),I&&Y.bind(I,n)):(Y.unbind(q,s,!1),Y.unbind(L,i,!1),I&&Y.unbind(I,n,!1)),Y.data(Dt+"_intouch",!0===t))}function E(t,e){var s={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return s.start.x=s.last.x=s.end.x=e.pageX||e.clientX,s.start.y=s.last.y=s.end.y=e.pageY||e.clientY,K[t]=s}function T(t){var e=void 0!==t.identifier?t.identifier:0,s=K[e]||null;return(s=null===s?E(e,t):s).last.x=s.end.x,s.last.y=s.end.y,s.end.x=t.pageX||t.clientX,s.end.y=t.pageY||t.clientY,s}function Q(t){if(X[t])return X[t].distance}function z(t){return{direction:t,distance:0}}function S(){return et-tt}function $(t,e){var s=Math.abs(t.x-e.x),e=Math.abs(t.y-e.y);return Math.round(Math.sqrt(s*s+e*e))}function D(t,e){if(i=e,(s=t).x==i.x&&s.y==i.y)return _t;var s,i,i=(i=(s=t).x-e.x,s=e.y-t.y,i=Math.atan2(s,i),i=(i=Math.round(180*i/Math.PI))<0?360-Math.abs(i):i);return i<=45&&0<=i||i<=360&&315<=i?lt:135<=i&&i<=225?ht:45<i&&i<135?dt:ct}function P(){return(new Date).getTime()}var o=at.extend({},o),M=zt||$t||!o.fallbackToMouseEvents,O=M?$t?St?"MSPointerDown":"pointerdown":"touchstart":"mousedown",q=M?$t?St?"MSPointerMove":"pointermove":"touchmove":"mousemove",L=M?$t?St?"MSPointerUp":"pointerup":"touchend":"mouseup",I=!M||$t?"mouseleave":null,A=$t?St?"MSPointerCancel":"pointercancel":"touchcancel",R=0,F=null,H=null,W=0,N=0,U=0,B=1,V=0,Z=0,X=null,Y=at(t),G="start",J=0,K={},tt=0,et=0,st=0,it=0,rt=0,nt=null,ot=null;try{Y.bind(O,e),Y.bind(A,r)}catch(t){at.error("events not supported "+O+","+A+" on jQuery.swipe")}this.enable=function(){return this.disable(),Y.bind(O,e),Y.bind(A,r),Y},this.disable=function(){return a(),Y},this.destroy=function(){a(),Y.data(Dt,null),Y=null},this.option=function(t,e){if("object"==typeof t)o=at.extend(o,t);else if(void 0!==o[t]){if(void 0===e)return o[t];o[t]=e}else{if(!t)return o;at.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var lt="left",ht="right",ct="up",dt="down",ut="in",pt="out",_t="none",gt="auto",ft="swipe",mt="pinch",vt="tap",yt="doubletap",wt="longtap",bt="horizontal",xt="vertical",jt="all",kt=10,Ct="start",Et="move",Tt="end",Qt="cancel",zt="ontouchstart"in window,St=window.navigator.msPointerEnabled&&!window.PointerEvent&&!zt,$t=(window.PointerEvent||window.navigator.msPointerEnabled)&&!zt,Dt="TouchSwipe";at.fn.swipe=function(t){var e=at(this),s=e.data(Dt);if(s&&"string"==typeof t){if(s[t])return s[t].apply(s,Array.prototype.slice.call(arguments,1));at.error("Method "+t+" does not exist on jQuery.swipe")}else if(s&&"object"==typeof t)s.option.apply(s,arguments);else if(!(s||"object"!=typeof t&&t))return function(s){return!s||void 0!==s.allowPageScroll||void 0===s.swipe&&void 0===s.swipeStatus||(s.allowPageScroll=_t),void 0!==s.click&&void 0===s.tap&&(s.tap=s.click),s=s||{},s=at.extend({},at.fn.swipe.defaults,s),this.each(function(){var t,e=at(this);(t=e.data(Dt))||(t=new i(this,s),e.data(Dt,t))})}.apply(this,arguments);return e},at.fn.swipe.version="1.6.18",at.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},at.fn.swipe.phases={PHASE_START:Ct,PHASE_MOVE:Et,PHASE_END:Tt,PHASE_CANCEL:Qt},at.fn.swipe.directions={LEFT:lt,RIGHT:ht,UP:ct,DOWN:dt,IN:ut,OUT:pt},at.fn.swipe.pageScroll={NONE:_t,HORIZONTAL:bt,VERTICAL:xt,AUTO:gt},at.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:jt}});class Screenfull{constructor(){var n="undefined"!=typeof window&&void 0!==window.document?window.document:{},t="undefined"!=typeof module&&module.exports,r=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,i=e.length,r={};s<i;s++)if((t=e[s])&&t[1]in n){for(s=0;s<t.length;s++)r[e[0][s]]=t[s];return r}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},e={request:function(i){return new Promise(function(t,e){var s=function(){this.off("change",s),t()}.bind(this);this.on("change",s),i=i||n.documentElement,Promise.resolve(i[r.requestFullscreen]()).catch(e)}.bind(this))},exit:function(){return new Promise(function(t,e){var s;this.isFullscreen?(s=function(){this.off("change",s),t()}.bind(this),this.on("change",s),Promise.resolve(n[r.exitFullscreen]()).catch(e)):t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){t=s[t];t&&n.addEventListener(t,e,!1)},off:function(t,e){t=s[t];t&&n.removeEventListener(t,e,!1)},raw:r};r?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(n[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(n[r.fullscreenEnabled])}}}),t?module.exports=e:window.screenfull=e):t?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}}class Pendular{constructor(t){this.screenfull=new Screenfull,this.bars=[],this.timeout=null,this.nanobar=null,this.playPromise=null,this.timer_duration=5e3,this.progress=null,this.video_can_play=!1,this.end_video=!1,this.story_json=null,this.scene_json=null,this.overlay=null,this.video_ctl=null,this.image_ctl=null,this.skin_ctl=null,this.ad_ctl=null,this.container_id=null,this.story_link_containers=[],this.starting_time_in_bar=0,this.visible_bars=[],this.token=null,this.is_ios=null,this.must_be_muted=null,this.is_preview=!1,this.pendular_id=null,this.friezes=[],this.seen=[],this.is_registrable=!0,this.pdlr_events=[],this.omniture_events=[],this.device="",this.geo="ES",this.owl_position=0,this.completed_DOM=!1,this.has_been_viewability_triggered=!1,this.voted=[],this.initialize()}initialize(){var s=this;this.host="https://ue.pendular.io",this.hook_links(),this.bars=this.detect_bars(),this.has_plugin=0<this.bars.length,this.prepare_overlay(),this.trigger_before_init(),1==this.has_plugin&&(this.device=void 0!==this.bars[0].data("device")?this.bars[0].data("device"):""),void 0!==this.bars[0].data("geo")&&"ES"!==this.bars[0].data("geo")&&(this.geo="ALL"),this.pendular_id=1==this.gdpr_status()?this.get_cookie():this.make_id(),this.get_from_storage("pendular.seen",this.seen,"integer"),this.get_from_storage("pendular.polls",this.voted,"string"),this.set_registrability();for(var t=0;t<this.bars.length;t++){var e,i=this.build_url(this.bars[t]);null!==i&&((e=new XMLHttpRequest).onload=function(t){var e=this.responseText;200==this.status&&((e=JSON.parse(e)).frieze.bar_id=s.make_id(),s.friezes.push(e.frieze),s.is_ios=!1,s.must_be_muted=!0,s.prepare_code(s.bars[t.target.extraInfo],e.frieze),0<t.target.extraInfo&&s.bars[t.target.extraInfo].children(".pdlr-overlay").remove(),s.overlay=jQuery(".pdlr-overlay"),s.overlay.css("display","block"),s.video_ctl=jQuery(".pdlr-overlay video.pdlr-video"),s.image_ctl=jQuery(".pdlr-overlay img.pdlr-image"),s.skin_ctl=jQuery(".pdlr-overlay .pdlr-skin"),s.ad_ctl=jQuery(".pdlr-overlay .pdlr-ad"),s.render_close(),s.prepare_global_listeners(s.bars[t.target.extraInfo],t.target.extraInfo),s.fontify(),s.register_bar_request(e.frieze),jQuery().ready(function(){s.completed_DOM=!0,s.post_events()}),jQuery(window).on("beforeunload",function(){s.post_events()}),jQuery(window).trigger("pdlr_after_init",[s,s.bars[t.target.extraInfo]]))},e.open("GET",i,!0),e.extraInfo=t,e.withCredentials=!0,e.send())}}prepare_code(e,s){var i=this;s.stories.forEach(function(t){void 0!==t.scenes&&t.scenes.forEach(function(s){null!=s.survey&&i.voted.forEach(function(t){var e=t.split("|");e[0]==s.id&&(s.survey.voted=!0,s.survey.answers.forEach(function(t){e[1]==t.id&&(t.selected=!0)}))})})}),s.html.forEach(function(t){t.mode==s.mode&&(e.html(t.code),jQuery(".pdlr-style").html(s.css_themes),0==i.is_preview&&null!=s.pixel&&""!=s.pixel&&jQuery("#pixel").html(s.pixel),jQuery(".pdlr-story-link a").html(s.cta),"desktop"==i.device?(e.find(".pdlr-item").each(function(){jQuery(this).addClass("pdlr-desktop")}),e.addClass("pdlr-desktop"),jQuery(".pdlr-wrap").addClass("pdlr-desktop"),jQuery(".pdlr-story-mute").addClass("pdlr-desktop"),i.show(jQuery(".pdlr-bar-title")),i.show(jQuery(".pdlr-marca-arrow"))):jQuery(".pdlr-story-mute").addClass("pdlr-mobile"),e.find(".pdlr-avatar-anchor img.pdlr-avatar").each(function(t){jQuery(this).attr("src",s.avatars[t].avatar)}),e.find(".pdlr-avatar-anchor img.pdlr-preroll").each(function(t){jQuery(this).attr("src",s.avatars[t].preroll)}),e.find("div.pdlr-avatar-name, div.pdlr-full-width-cntnr.pdlr-full-width-subtitle").each(function(t){jQuery(this).text(s.avatars[t].name)}),1==i.gdpr_status()&&e.find(".pdlr-item .pdlr-avatar").each(function(){var e=jQuery(this);i.seen.forEach(function(t){t==e.parents("a").data("story-id")&&e.addClass("pdlr-avatar-viewed")})}))})}on_click_survey(t,e){var s=this;this.stop_timers(!0);var i=this.detect_frieze(this.story_json.host_id),r=jQuery(e).data("answer-id");return 0==this.is_preview?this.register_survey(i,this.story_json,this.scene_json,r,t,e):(this.scene_json.survey.voted=!0,this.scene_json.survey.answers.forEach(function(t){t.id==r&&(t.selected=!0)}),this.set_voted(this.scene_json,r),this.show_survey_stats(!0,r),this.fontify(),setTimeout(function(){s.request_next_story(t,e)},1500)),!1}register_survey(t,e,s,i,r,n){var o,a=this;0==this.is_preview&&(o=""==this.device?"mobile":this.device,e=[{bucket_id:t.id,pendular_id:this.pendular_id,bar_id:t.bar_id,event:"survey",story_id:e.id,position:null,card_id:s.id,milliseconds:i}],s="https://metrics.pendular.io/plugins/"+this.token+"/events",jQuery.post(s,JSON.stringify({messages:e,source:o}),null,"json").fail(function(){}).done(function(){a.scene_json.survey.voted=!0,a.scene_json.survey.answers.forEach(function(t){t.id==i&&void 0!==t.selected&&(t.selected=!0)}),a.set_voted(a.scene_json,i)}).always(function(){a.show_survey_stats(!0,i),a.fontify(),setTimeout(function(){a.request_next_story(r,n)},1500)}))}show_survey_stats(i,r){var n=this,o=0,a=0;1==i&&this.scene_json.survey.total++,this.scene_json.survey.answers.forEach(function(t){var e=t.votes;i&&t.id==r&&e++;var s=Math.round(e/n.scene_json.survey.total*1e3)/10;a<n.scene_json.survey.answers.length-1?(o=Math.round(10*(o+s))/10,a++):s=Math.round(10*(100-o))/10;e=jQuery(".pdlr-overlay .pdlr-fontify[data-answer-id='"+t.id+"']").text();jQuery(".pdlr-overlay .pdlr-fontify[data-answer-id='"+t.id+"']").text(e+" ("+s+"%)"),void 0!==t.selected&&0==t.selected&&jQuery(".pdlr-overlay .pdlr-fontify[data-answer-id='"+t.id+"']").addClass("pdlr-gray")})}register_time_in_bar(t,e){if(0==this.is_preview&&0<this.starting_time_in_bar){var s=(new Date).getTime()-this.starting_time_in_bar;return this.starting_time_in_bar=0,this.register_pendular_event(t.id,t.bar_id,"time-bar",null,null,null,e,s)}null!=e&&e()}register_bar_request(t){if(0==this.is_preview&&1==t.is_active){try{window.ueDataLayer=window.ueDataLayer||{},window.ueDataLayer?(window.ueDataLayer.pendular_bar_id=t.bar_id,window.ueDataLayer.pendular_bar_name=t.name):console.warn("Pendular: ueDataLayer not found")}catch(t){console.log("Pendular: ueDataLayer not registered")}return 1!=this.is_registrable||this.register_pendular_event(t.id,t.bar_id,"view-bar")}}register_bar_click(t,e){if(0==this.is_preview)return this.omniture_events.push({bar_id:t.bar_id,name:t.name,story_id:e.id,story_name:e.name,position:e.position,type:this.get_story_type(e),action:"click-bar"}),this.register_pendular_event(t.id,t.bar_id,"click-bar",e.id,e.position)}register_story_request(t,e,s){if(0==this.is_preview)return this.omniture_events.push({bar_id:t.bar_id,name:t.name,story_id:e.id,story_name:e.name,card_id:s.id,type:this.get_story_type(e),action:"view-story"}),this.register_pendular_event(t.id,t.bar_id,"view-story",e.id,null,s.id)}register_story_viewability(t,e,s){if(0==this.is_preview)return this.register_pendular_event(t.id,t.bar_id,"view-story-viewability",e.id,null,s.id)}register_story_click(t,e,s,i){if(0==this.is_preview)return this.omniture_events.push({bar_id:t.bar_id,name:t.name,story_id:e.id,story_name:e.name,card_id:s.id,type:this.get_story_type(e),link:s.link,action:"click-story"}),this.register_pendular_event(t.id,t.bar_id,"click-story",e.id,null,s.id,i);i()}register_pendular_event(t,e,s,i=null,r=null,n=null,o=null,a=null){a={bucket_id:t,pendular_id:this.pendular_id,bar_id:e,event:s,story_id:i,position:r,card_id:n,milliseconds:a};return this.pdlr_events.push(a),null!=o&&o(),1==this.completed_DOM&&this.post_customer_events(),!0}post_customer_events(){if(void 0!==pendular_object){for(var t=[];0<pendular_object.omniture_events.length;)t.push(pendular_object.omniture_events.shift());for(var e=0;e<t.length;e++){var s=t[e];switch(s.action){case"click-bar":if("function"==typeof window.pendularClickAvatar)try{window.pendularClickAvatar(s.bar_id,s.name,s.story_id,s.story_name,s.position,s.type),console.log("pendularClickAvatar OK.")}catch(s){console.log("pendularClickAvatar ha producido un error."),pendular_object.omniture_events.unshift(s)}else pendular_object.omniture_events.unshift(s);break;case"view-story":if("function"==typeof window.pendularViewScene)try{window.pendularViewScene(s.bar_id,s.name,s.story_id,s.story_name,s.card_id,s.type),console.log("pendularViewScene OK.")}catch(s){console.log("pendularViewScene ha producido un error."),pendular_object.omniture_events.unshift(s)}else pendular_object.omniture_events.unshift(s);break;case"click-story":if("function"==typeof window.pendularClickScene)try{window.pendularClickScene(s.bar_id,s.name,s.story_id,s.story_name,s.card_id,s.type,s.link),console.log("pendularClickScene OK.")}catch(s){console.log("pendularClickScene ha producido un error."),pendular_object.omniture_events.unshift(s)}else pendular_object.omniture_events.unshift(s)}}}}post_events(t=null){var e=!0;if(void 0!==pendular_object){this.post_customer_events();for(var s,i="https://metrics.pendular.io/plugins/"+this.token+"/events",r=[];0<pendular_object.pdlr_events.length;)r.push(pendular_object.pdlr_events.shift());0<r.length&&(s=""==this.device?"mobile":this.device,jQuery.post(i,JSON.stringify({messages:r,source:s}),null,"json").fail(function(){e=!1}))}return null!=t&&t(),e}get_story_type(t){return null==t.story_type?1==t.is_ad?"Publicidad":"Editorial":t.story_type}prepare_overlay(){var t,e=jQuery(".pdlr-bar").last();null!==e&&(t="<div class='pdlr-overlay pdlr-invisible' style='display: none;'>",t+="<div class='pdlr-wtrmrk'>",t+="<a href='https://pendular.io' rel='nofollow' class='pdlr-plugin-link noSwipe'>Powered by <span class='pdlr-green'>pendular.io</span></a>",t+="</div>",t+="<div class='pdlr-story-link'><a href='#' class='pdlr-link noSwipe' data-turbolinks='false' data-cta=''></a></div>",t+="<div class='pdlr-story-cntnr' data-previous='' data-next=''>",t+="<video class='pdlr-video pdlr-hidden' playsinline autoplay muted></video>",t+="<img class='pdlr-image pdlr-hidden'></img>",t+="<div class='pdlr-skin pdlr-hidden'></div>",t+="<div class='pdlr-theme'></div>",t+="<div class='pdlr-story-owner'><img src='' class='pdlr-avatar' alt=''><span class='pdlr-name pdlr-ellipsis'></span></div>",t+="<div class='pdlr-story-close'><a href='#' class='pdlr-overlay-close noSwipe' data-turbolinks='false'>",t+="<i class='fa fa-times'></i></div>",t+="<div class='pdlr-story-mute pdlr-hidden'><a href='#' class='pdlr-overlay-mute noSwipe' data-turbolinks='false'>",t+="<span class='fa-stack'><i class='fa fa-circle fa-stack-2x'></i><i class='fa fa-volume-off fa-stack-1x'></i></span></div>",t+="<div class='pdlr-story-bottom'></div>",t+="<div class='pdlr-prgrss-cntnr' data-story-counter=''><div class='pdlr-sqnc-prgrss' style=''></div>",t+="</div></div>",t+="<div class='pdlr-arrow pdlr-prev'>",t+="<a href='#' class='pdlr-previous-arrow-button noSwipe' data-turbolinks='false'>",t+="<i class='fa fa-chevron-left fa-3x'></i></a></div>",t+="<div class='pdlr-arrow pdlr-next'>",t+="<a href='#' class='pdlr-next-arrow-button noSwipe' data-turbolinks='false'>",t+="<i class='fa fa-chevron-right fa-3x'></i></a></div>",t+="<div id='pixel' style='display: none;'></div></div>","e32deea8-bca2-4693-b507-cec6340d7b3f"==this.token?jQuery(e).after(t.replace("pendular.io<","instastories.es<")):jQuery(e).after(t))}trigger_before_init(){for(var t=0;t<this.bars.length;t++)this.bars[t].trigger("pdlr_before_init",[this])}detect_bars(){var t=this,e=[];return jQuery(".pdlr-bar").each(function(){t.token=jQuery(this).data("token"),1==jQuery(this).data("preview")&&(t.is_preview=!0,t.host=jQuery(this).data("host")),e.push(jQuery(this))}),e}hook_links(){var s=this;jQuery("a").each(function(){var t,e=jQuery(this).attr("href");null!=e&&-1!=e.indexOf("/story_from_link.json?")&&null==jQuery(this).data("story-id")&&(t=s.extract_url_param("container",e),s.story_link_containers,jQuery(this).on("click",function(){return s.container_id=t,s.on_click_avatar(this),!1}))})}extract_url_param(t,e){e=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null!=e&&e[1]||0}fontify(t=0){setTimeout(function(){jQuery(".pdlr-fontify").each(function(){var s,i=jQuery(this).width(),t=jQuery(this).data("factors");if(null!=t){var t=t.split(";"),r=jQuery(this);if(0<t.length&&jQuery.each(t,function(){var t=this.split(":")[0],e=parseFloat(this.split(":")[1]),e=Math.trunc(i*e);r.css(t,e+"px"),"font-size"==t&&(s=e)}),!r.data("fixed"))for(;(r[0].offsetHeight<r[0].scrollHeight||r[0].offsetWidth<r[0].offsetWidth)&&(--s,r.css("font-size",s+"px"),!(s<5)););}jQuery(this).css("visibility","visible")})},50)}refresh(){for(var t=0;t<this.bars.length;t++)this.bars[t].empty();this.initialize()}set_token(t){this.options.token=t}build_url(t){var e=t.data("container"),t=null;return this.has_plugin&&null!=e&&(t=this.host+"/plugins/",t+=this.token,t+="/buckets/",t+=e,1==this.is_preview?t+="_preview":(t+="_web_",t+="ES"==this.geo?"es":"all")),t}end_story(){this.video_ctl.trigger("pause"),this.stop_timers(!0),this.video_can_play=!1,this.end_video=!1}unchain_branded(s){s.stories.forEach(function(e){var t;1==e.is_ad&&"Branded"===e.story_type&&(e.position<s.stories.length-1?(t=s.stories[e.position-1].scenes.length,s.stories[e.position-1].scenes[t-1].next=s.stories[e.position+1].scenes[0].id,s.stories[e.position-1].scenes.forEach(function(t){t.next_story=s.stories[e.position+1].scenes[0].id}),t=s.stories[e.position+1].scenes.length,s.stories[e.position+1].scenes[0].previous=s.stories[e.position-1].scenes[s.stories[e.position-1].length-1].id,s.stories[e.position+1].scenes.forEach(function(t){t.previous_story=s.stories[e.position-1].scenes[s.stories[e.position-1].length-1].id})):(t=s.stories[e.position-1].scenes.length,s.stories[e.position-1].scenes[t-1].next=null,s.stories[e.position-1].scenes.forEach(function(t){t.next_story=null})))})}chain(s){this.friezes.forEach(function(t){var e;t.id==s.host_id&&(0<(t.stories[s.position]=s).position&&(e=t.stories[s.position-1].scenes.length,t.stories[s.position-1].scenes[e-1].next=s.scenes[0].id,t.stories[s.position-1].scenes.forEach(function(t){t.next_story=s.scenes[0].id})),s.position<t.stories.length-1&&(e=t.stories[s.position+1].scenes.length,t.stories[s.position+1].scenes[0].previous=s.scenes[s.scenes.length-1].id,t.stories[s.position+1].scenes.forEach(function(t){t.previous_story=s.scenes[s.scenes.length-1].id})))})}load_story(t,e,s){this.has_been_viewability_triggered=!1,jQuery(".pdlr-overlay .pdlr-theme").html(""),this.video_ctl.prop("muted",!1),this.playPromise=null,this.hide(this.image_ctl),this.hide(this.video_ctl),this.hide(this.skin_ctl),this.skin_ctl.html(""),this.image_ctl.src="",this.video_ctl.src="";var i=1==t.is_ad&&null==t.scenes,r=1==i?this.choose_ad(t):null;1==i?(this.story_json=null!=r?r.stories[0]:null,this.scene_json=null!=r?r.stories[0].scenes[0]:null):(this.story_json=t,this.scene_json=e),1==i&&this.chain(this.story_json),this.render_story();e=this.detect_frieze(this.story_json.host_id);1==i&&this.skip_ads(e),this.set_seen(this.story_json),this.register_story_request(e,this.story_json,this.scene_json)}skip_ads(t){var e=0;if(t.campaigns.forEach(function(t){0==t.selected&&e++}),0==e)for(var s=t.stories.length-1;0<=s;s--){var i=t.stories[s];if(1==i.is_ad&&null==i.scenes){if(s<t.stories.length-1){var r,n,o=t.stories[s+1];0<s&&(r=t.stories[s-1],n=r.scenes.length,r.scenes[n-1].next=o.scenes[0].id,r.scenes.forEach(function(t){t.next_story=o.scenes[0].id}),o.scenes.length,o.scenes[0].previous=r.scenes[n-1].id,o.scenes.forEach(function(t){t.previous_story=r.scenes[n-1].id}));for(var a=s+1;a<t.stories.length-1;a++)t.stories[a].position--,t.stories[a].scenes.forEach(function(t){t.position--})}t.stories.splice(s,1)}}}choose_ad(e){var t=this.detect_frieze(e.ad_request.bucket);if(null!=t&&0<t.campaigns.length){for(var s,i=null,r=0;null===i&&r<10;)s=Math.floor(Math.random()*t.campaigns.length),r++,0==t.campaigns[s].selected&&("ES"===this.geo||null!==t.campaigns[s]&&"ALL"===t.campaigns[s].geo)&&(i=t.campaigns[s]);if(null===i)return null;0==i.is_repeatable&&(i.selected=!0);var n=Math.floor(Math.random()*i.stories.length),o=i.stories[n];i.stories.forEach(function(t){t.host_id=e.ad_request.bucket});for(var a=i.stories.length-1;0<=a;a--)i.stories[a].id!==o.id&&i.stories.splice(a,1);return null!=e.ad_request.previous&&(i.stories[0].scenes[0].previous=parseInt(e.ad_request.previous,10),i.stories[0].scenes.forEach(function(t){t.previous_story=parseInt(e.ad_request.previous,10)})),null!=e.ad_request.next&&(n=i.stories[0].scenes.length-1,i.stories[0].scenes[n].next=parseInt(e.ad_request.next,10),i.stories[0].scenes.forEach(function(t){t.next_story=parseInt(e.ad_request.next,10)})),i.stories[0].position=parseInt(e.ad_request.position,10),i.stories[0].scenes.forEach(function(t){t.position=parseInt(e.ad_request.position,10)}),i}return null}render_navigation(){jQuery(".pdlr-story-cntnr").data("previous",this.scene_json.previous),jQuery(".pdlr-story-cntnr").data("next",this.scene_json.next),null===this.scene_json.previous?this.hide(jQuery(".pdlr-arrow.pdlr-prev")):this.show(jQuery(".pdlr-arrow.pdlr-prev")),null===this.scene_json.next?this.hide(jQuery(".pdlr-arrow.pdlr-next")):this.show(jQuery(".pdlr-arrow.pdlr-next"));var e=this;jQuery(".pdlr-previous-arrow-button").off("click"),jQuery(".pdlr-previous-arrow-button").on("click",function(t){return e.request_previous_story(t,this),!1}),jQuery(".pdlr-next-arrow-button").off("click"),jQuery(".pdlr-next-arrow-button").on("click",function(t){return e.request_next_story(t,this),!1})}track_and_exit(t){this.post_events(function(){if(null!=t)return window.location.href=t,!1})}render_watermark(){var e;this.scene_json.has_watermark?(this.show(jQuery(".pdlr-wtrmrk")),jQuery(".pdlr-wtrmrk .pdlr-plugin-link").off("click"),e=this,jQuery(".pdlr-wtrmrk .pdlr-plugin-link").on("click",function(){e.end_story();var t=e.detect_frieze(e.story_json.host_id);e.register_time_in_bar(t,function(){e.track_and_exit("https://pendular.io")})})):this.hide(jQuery(".pdlr-wtrmrk"))}render_avatar(){var t;1==this.scene_json.has_avatar?((t=jQuery(".pdlr-story-owner .pdlr-avatar")).attr("src",this.story_json.avatar),1!=this.scene_json.has_name&&1!=this.story_json.is_ad||t.attr("alt",this.scene_json.name),1==this.story_json.has_border?t.addClass("pdlr-avatar-border"):t.removeClass("pdlr-avatar-border"),this.show(t)):this.hide(jQuery(".pdlr-story-owner .pdlr-avatar"))}render_name(){var t=jQuery(".pdlr-story-owner .pdlr-name");this.scene_json.has_name&&null!=this.story_json.name?(t.text(this.story_json.name),this.show(t)):this.hide(t)}render_link(){var t;null!=this.scene_json.link&&""!==this.scene_json.link?(jQuery(".pdlr-story-link a").data("cta",this.scene_json.link),null!==this.scene_json.cta?jQuery(".pdlr-story-link p").text(this.scene_json.cta):jQuery(jQuery(".pdlr-story-link a i")[1]).addClass(this.story_json.icon),this.show(jQuery(".pdlr-story-link")),jQuery(".pdlr-story-link .pdlr-link").off("click"),t=this,jQuery(".pdlr-story-link .pdlr-link").on("click",function(){return t.end_story(),t.cta(this)})):this.hide(jQuery(".pdlr-story-link"))}cta(t){var e,s=this;return null!=this.scene_json.link&&""!=this.scene_json.link&&null!=this.scene_json.link&&(e=this.detect_frieze(this.story_json.host_id),this.register_story_click(e,this.story_json,this.scene_json,function(){s.register_time_in_bar(e,function(){s.track_and_exit(s.scene_json.link)})})),!1}set_unmuted_icon(){var t=jQuery(".pdlr-overlay-mute > span > i.fa-volume-off");t.removeClass("fa-volume-off"),t.addClass("fa-volume-up")}set_muted_icon(){var t=jQuery(".pdlr-overlay-mute > span > i.fa-volume-up");t.removeClass("fa-volume-up"),t.addClass("fa-volume-off")}render_mute(){jQuery(".pdlr-overlay-mute").off("click");var t=this;0==this.scene_json.is_image&&1==this.must_be_muted?(this.show(jQuery(".pdlr-story-mute")),this.video_ctl.prop("muted",!0),this.set_muted_icon(),jQuery(".pdlr-overlay-mute").on("click",function(){return t.video_ctl.prop("muted")?(t.video_ctl.prop("muted",!1),t.set_unmuted_icon()):(t.video_ctl.prop("muted",!0),t.set_muted_icon()),!1})):this.hide(jQuery(".pdlr-story-mute"))}render_close(){jQuery(".pdlr-overlay-close").css("cursor","pointer");var t=this;jQuery(".pdlr-overlay-close").off("click"),jQuery(".pdlr-overlay-close").on("click",function(){return t.end_story(),t.close_overlay(),!1})}carousel_arrows(){this.show(jQuery(".pdlr-marca-arrow-right")),this.show(jQuery(".pdlr-marca-arrow-left")),0==this.owl_position?this.hide(jQuery(".pdlr-marca-arrow-left")):5==this.owl_position&&this.hide(jQuery(".pdlr-marca-arrow-right"))}prepare_global_listeners(t,e){var s=this;jQuery(t).find(".owl-carousel").owlCarousel({loop:!1,autoWidth:!0,margin:0,nav:!1,dots:!1,onChanged:function(t){s.owl_position=t.item.index,"desktop"==s.device&&s.carousel_arrows()}});var i=jQuery(t).find(".owl-carousel");i.find(".pdlr-item").each(function(){jQuery(this).hasClass("pdlr-item-last")&&jQuery(this).parent().addClass("pdlr-no-margin")}),jQuery("#prev-bar-arrow").on("click",function(){return i.trigger("prev.owl.carousel"),!1}),jQuery("#next-bar-arrow").on("click",function(){return i.trigger("next.owl.carousel"),!1}),jQuery(t).find(".pdlr-wrap .pdlr-clickable > a").on("click",function(){s.on_click_avatar(this)});var r=0,n=0;jQuery(t).find(".owl-carousel .owl-item").each(function(){n+=1,r+=jQuery(this).width()}),jQuery(t).find(".owl-carousel").find(".owl-stage").width(r+15*n),0==e&&(this.overlay.swipe({tap:function(t,e){s.on_tap_overlay(t,e)},hold:function(t){return s.pause_timer(),t.stopPropagation(),t.preventDefault(),!1},longTap:function(){s.resume_timer()},pinchIn:function(t){return t.stopPropagation(),t.preventDefault(),!1},pinchOut:function(t){return t.stopPropagation(),t.preventDefault(),!1},swipe:function(t,e){switch(e){case"up":return t.stopPropagation(),t.preventDefault(),!1;case"down":s.close_overlay();break;case"left":s.request_next_sequence_story(t,this);break;case"right":s.request_previous_sequence_story(t,this)}},longTapThreshold:250}),jQuery(".pdlr-story-cntnr").bind("contextmenu",function(){return!1}))}detect_bucket_host(t){return t.is_ad?t.host_id:t.bucket_id}detect_scene(e,s){var i=null;return this.friezes.forEach(function(t){t.id==s&&t.stories.forEach(function(t){null!=t.scenes&&t.scenes.forEach(function(t){t.id==e&&(i=t)})})}),i}detect_frieze(e){var s=null;return this.friezes.forEach(function(t){t.id==e&&(s=t)}),s}detect_story(e,s){var i=null;return this.friezes.forEach(function(t){t.id==s&&t.stories.forEach(function(t){t.id==e&&(i=t)})}),i}detect_story_by_position(e,s){var i=null;return this.friezes.forEach(function(t){t.id==s&&t.stories.forEach(function(t){t.position==e&&(i=t)})}),i}on_click_avatar(t){this.starting_time_in_bar=(new Date).getTime();var e=!1;if(screenfull.isEnabled)try{screenfull.request(this.overlay[0]),e=!0}catch(t){}0==e&&(s=window.innerHeight,i=e=window.innerWidth,s<(e=Math.floor(16*e/9))&&(e=s,i=Math.floor(9*s/16)),jQuery(this.overlay[0]).css("height",s+"px"),(s=jQuery(this.overlay[0]).find(".pdlr-story-cntnr")).css("height",e+"px"),s.css("width",i+"px")),jQuery("body").addClass("pdlr-no-scroll"),this.action="click";var s=this.detect_frieze(jQuery(t).data("bucket-id")),i=this.detect_story(jQuery(t).data("story-id"),jQuery(t).data("bucket-id")),t=i.scenes[0];return this.register_bar_click(s,i),this.load_story(i,t,"click"),this.overlay.removeClass("pdlr-invisible"),this.overlay.addClass("pdlr-visible"),!1}on_tap_overlay(t,e){var s;jQuery(e).hasClass("pdlr-bb")&&void 0!==this.scene_json.survey&&0==this.scene_json.survey.voted?this.on_click_survey(t,e):(s=this.overlay.width()/2,null!=t.clientX?t.clientX<=s?this.request_previous_story(t,e):this.request_next_story(t,e):t.changedTouches[0].clientX<=s?this.request_previous_story(t,e):this.request_next_story(t,e))}on_end_video(){var t,e;return this.end_story(),null!==this.scene_json.next&&""!==this.scene_json.next?(e=(e=null)!=(t=this.detect_scene(this.scene_json.next,this.story_json.host_id))?this.detect_story(t.story_id,this.story_json.host_id):this.detect_story_by_position(this.scene_json.position+1,this.story_json.host_id),this.load_story(e,t,"end")):this.close_overlay(),!1}render_pixel(t){1==t&&0==this.is_preview&&null!=this.scene_json.pixel&&""!=this.scene_json.pixel?jQuery("#pixel").html(this.scene_json.pixel):jQuery("#pixel").html("")}render_story(){jQuery(".pdlr-overlay .pdlr-story-cntnr").addClass("pdlr-invisible"),jQuery(".pdlr-story-cntnr").css("cursor","pointer"),jQuery(".pdlr-prgrss-cntnr").data("story-counter",this.story_json.scenes.length),jQuery(".pdlr-prgrss-cntnr").html(this.scene_json.progress_bar_html),this.show(jQuery(".pdlr-prgrss-cntnr")),this.render_pixel(!1),this.render_navigation(),this.render_avatar(),this.render_name(),this.render_link(),this.render_mute(),this.render_watermark(),1==this.scene_json.is_image?this.render_image_story():this.render_video_story(),jQuery(".pdlr-overlay .pdlr-story-cntnr").removeClass("pdlr-invisible"),void 0!==this.scene_json.survey&&null!=this.scene_json.survey.voted&&1==this.scene_json.survey.voted&&this.show_survey_stats(!1,null)}render_image_story(){var t=this;this.progress=this.timer_duration,this.image_ctl.off("load"),this.image_ctl.on("load",function(){t.render_pixel(!0)}),null!==this.scene_json.html?(this.hide(this.image_ctl),this.skin_ctl.html(this.scene_json.html)):this.image_ctl.attr("src",this.scene_json.media),this.render_progress_bar(),this.hide(this.video_ctl),this.video_ctl.src="",null!==this.scene_json.html?(this.show(this.skin_ctl),this.fontify()):this.show(this.image_ctl),null!==this.ad_ctl&&this.hide(this.ad_ctl),this.prepare_timer()}render_progress_bar(){for(var t=this.story_json.scenes.length,e=0;e<t;e++){var s,i=jQuery(".pdlr-sqnc-prgrss-"+e.toString());i.hasClass("pdlr-sqnc-active")&&(s="<div class='pdlr-nanobar pdlr-prgrss pdlr-prgrss-"+e.toString(),s+="' style='position: relative;'><div class='pdlr-prgrss-bar'></div></div>",i.html(s),this.nanobar=jQuery(".pdlr-prgrss-"+e.toString()+" .pdlr-prgrss-bar"))}}render_video_story(){this.hide(this.image_ctl),this.hide(this.skin_ctl),this.image_ctl.src="",this.video_ctl.prop("muted",this.must_be_muted),this.video_ctl.attr("src",this.scene_json.media),this.video_ctl[0].load();var t=this;this.video_ctl.on("canplay",function(){1!=t.video_can_play&&(t.video_can_play=!0,t.progress=1e3*t.video_ctl[0].duration,t.render_progress_bar(),t.render_pixel(!0),t.show(t.video_ctl),null!==t.ad_ctl&&t.hide(t.ad_ctl),t.prepare_timer(),jQuery(t.video_ctl).bind("ended",function(){return jQuery(t.video_ctl).unbind("ended"),t.on_end_video()}),t.playPromise=t.video_ctl[0].play())})}pause_timer(){clearTimeout(this.timeout),this.timeout=null,void 0!==this.playPromise&&null!==this.playPromise&&this.video_ctl[0].pause()}resume_timer(){this.prepare_timer(),void 0!==this.playPromise&&null!==this.playPromise&&this.video_ctl[0].play()}prepare_timer(){var r=this;this.timeout=setTimeout(function(){r.stop_timers(!1);var t,e,s=0,i=!1;return r.scene_json.is_image?(r.progress-=r.timer_duration/100,(t=r.progress)<=0&&(t=0),20<=(s=Math.floor((r.timer_duration-t)/r.timer_duration*100))&&(i=!0)):(2<=(t=r.video_ctl[0].currentTime)&&(i=!0),100<(s=100*t/(r.progress/1e3))&&(s=100)),r.nanobar.css({width:s.toString()+"%",height:"100%"}),1==i&&0==r.has_been_viewability_triggered&&(r.has_been_viewability_triggered=!0,e=r.detect_frieze(r.story_json.host_id),r.register_story_viewability(e,r.story_json,r.scene_json)),100<=s?r.scene_json.is_image&&(r.end_story(),null!==r.scene_json.next&&""!==r.scene_json.next?(e=(e=null)!=(s=r.detect_scene(r.scene_json.next,r.story_json.host_id))?r.detect_story(s.story_id,r.story_json.host_id):r.detect_story_by_position(r.scene_json.position+1,r.story_json.host_id),r.load_story(e,s,"end")):r.close_overlay()):r.prepare_timer(),!1},this.timer_duration/100)}request_previous_story(t,e){return jQuery(e).clearQueue(),jQuery(e).stop(),t.preventDefault(),t.stopPropagation(),null!==this.scene_json.previous&&""!==this.scene_json.previous&&(this.end_story(),e=(e=null)!=(t=this.detect_scene(this.scene_json.previous,this.story_json.host_id))?this.detect_story(t.story_id,this.story_json.host_id):this.detect_story_by_position(this.scene_json.position-1,this.story_json.host_id),this.load_story(e,t,"previous")),!1}request_next_story(t,e){return jQuery(e).clearQueue(),jQuery(e).stop(),t.preventDefault(),t.stopPropagation(),null!==this.scene_json.next&&""!==this.scene_json.next?(this.end_story(),e=(e=null)!=(t=this.detect_scene(this.scene_json.next,this.story_json.host_id))?this.detect_story(t.story_id,this.story_json.host_id):this.detect_story_by_position(this.scene_json.position+1,this.story_json.host_id),this.load_story(e,t,"next")):this.close_overlay(),!1}request_previous_sequence_story(t,e){return jQuery(e).clearQueue(),jQuery(e).stop(),t.preventDefault(),t.stopPropagation(),null!==this.scene_json.previous_story&&""!==this.scene_json.previous_story&&(this.end_story(),e=(e=null)!=(t=this.detect_scene(this.scene_json.previous_story,this.story_json.host_id))?this.detect_story(t.story_id,this.story_json.host_id):this.detect_story_by_position(this.scene_json.position-1,this.story_json.host_id),this.load_story(e,t,"previous_sequence")),!1}request_next_sequence_story(t,e){return jQuery(e).clearQueue(),jQuery(e).stop(),t.preventDefault(),t.stopPropagation(),null!==this.scene_json.next_story&&""!==this.scene_json.next_story?(this.end_story(),e=(e=null)!=(t=this.detect_scene(this.scene_json.next_story,this.story_json.host_id))?this.detect_story(t.story_id,this.story_json.host_id):this.detect_story_by_position(this.scene_json.position+1,this.story_json.host_id),this.load_story(e,t,"next_sequence")):this.close_overlay(),!1}close_overlay(){var t=this;this.has_been_viewability_triggered=!1,jQuery(".pdlr-overlay .pdlr-theme").html(""),jQuery(".pdlr-overlay .pdlr-story-cntnr").addClass("pdlr-invisible"),this.video_ctl.trigger("pause"),this.hide(this.image_ctl),this.hide(this.video_ctl),this.hide(this.skin_ctl),this.skin_ctl.html(""),this.image_ctl.src="",this.video_ctl.src="",this.overlay.removeClass("pdlr-visible"),this.overlay.addClass("pdlr-invisible"),jQuery("body").removeClass("pdlr-no-scroll"),this.stop_timers(!0),this.video_can_play=!1,screenfull.isEnabled&&screenfull.exit();for(var e=0;e<this.bars.length;e++)jQuery(window).trigger("pdlr_after_close",[this,this.bars[e]]);var s=this.detect_frieze(this.story_json.host_id);this.register_time_in_bar(s,function(){t.track_and_exit(null)})}stop_timers(t){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null),1==t&&(this.progress=this.timer_duration)}show(t){t.removeClass("pdlr-hidden")}hide(t){t.addClass("pdlr-hidden")}set_cookie(){var t=new Date;t.setTime(t.getTime()+15768e7);var e="expires="+t.toUTCString(),t=this.make_id();return document.cookie="pendular_id="+t+";"+e+";path=/",t}gdpr_status(){return 0!=this.is_preview||"function"==typeof ueCookiesPolicy.getUserConsentStatusForVendors&&ueCookiesPolicy.getUserConsentStatusForVendors("c:Pendular")["c:Pendular"]}get_cookie(){for(var t="pendular_id=",e=decodeURIComponent(document.cookie).split(";"),s=0;s<e.length;s++){for(var i=e[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return this.set_cookie()}make_id(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e.length,i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*s));return t}get_from_storage(t,e,s){"undefined"==typeof Storage||"undefined"!==(t=localStorage.getItem(t))&&null!==t&&t.split(",").forEach(function(t){""!==t&&("integer"==s?e.push(parseInt(t,10)):e.push(t))})}set_seen(e){var s,i;!0===this.gdpr_status()&&(s="",i=!1,this.seen.forEach(function(t){i|=t==e.id}),i||(jQuery(".pdlr-wrap .pdlr-item a[data-story-id="+e.id.toString()+"]").find(".pdlr-avatar").addClass("pdlr-avatar-viewed"),this.seen.push(e.id),this.seen.forEach(function(t){s+=t.toString()+","}),""!==s&&localStorage.setItem("pendular.seen",s)))}set_voted(e,s){var i,r;"undefined"!=typeof Storage&&(i="",r=!1,this.voted.forEach(function(t){r|=t==e.id.toString()+"|"+s}),r||(this.voted.push(e.id.toString()+"|"+s),this.voted.forEach(function(t){i+=t.toString()+","}),""!==i&&localStorage.setItem("pendular.polls",i)))}set_registrability(){.05<Math.random()&&(this.is_registrable=!1)}}var pendular_object=null;document.head.insertAdjacentHTML("beforeend","<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>"),pendular_object=new Pendular;

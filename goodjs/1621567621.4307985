!function(c){"use strict";var l={version:"3.7.0",built:"Thu Apr 22 2021 10:55:42 GMT+0200 (CEST)",env:"pro",cookiesNames:{accepted:"ue_privacyPolicy"},cookieExpireDays:750,ROOT_DOMAIN:null,ROOT_REFERRER_DOMAIN:null,policyVersion:"8",cmpIsReadyEventName:"ueCmpReady",cookieAcceptedEventName:"ueCookieAccepted",consentChangedEventName:"ueConsentChanged",noticeChangedEventName:"ueNoticeChanged",classShowPreferences:"js-uecookiespolicy-preferences-show",storedConsentsKey:"storedConsents",analytics:{consentDataKey:"ueConsentData",userContentGoogle:"ueUserContentGoogle",userContentComscore:"ueUserContentComscore",ueUserPurposes:"ueUserPurposes",eventNameGDPRAccepted:"ueAnalyticsGDPRAccepted"},portalHostsNames:[{name:"El Mundo",hostnameRegex:".elmundo.es",number:"8"},{name:"Marca",hostnameRegex:"^www.marca.com",number:"2",pathnameRegex:"^(?!(/claro-mx(?=$|[/])|/en(?=$|[/])))"},{name:"Marca Claro México",number:"2",hostnameRegex:"^www.marca.com",pathnameRegex:"^/claro-mx(?=$|[/])"},{name:"Marca English",number:"2",hostnameRegex:"^www.marca.com",pathnameRegex:"^/en(?=$|[/])"},{name:"Marca Claro Argentina",number:"22",hostnameRegex:"^ar.marca.com"},{name:"Marca Claro Colombia",number:"20",hostnameRegex:"^co.marca.com"},{name:"Marca Claro USA",number:"23",hostnameRegex:"^us.marca.com"},{name:"Marca",hostnameRegex:".marca.com",number:"",pathnameRegex:"^(?!(/claro-mx(?=$|[/])|/en(?=$|[/])))"},{name:"Expansión",number:"4",hostnameRegex:".expansion.com"},{name:"Telva",number:"1",hostnameRegex:".telva.com"}],vendorsAlias:[{id:77,alias:"comscore"}],googleIds:["google","c:google",755]};l.env&&"watch"!==l.env||(l.verbose=void 0===l.verbose||l.verbose),l.verbose;var n={addButtonEventListener:function e(){if(c.document.body)for(var t=document.getElementsByClassName(l.classShowPreferences),o=t.length,n=0;n<o;n++)t[n].addEventListener("click",function(e){e.preventDefault(),s.showPreferences(e)},!1);else c.addEventListener("DOMContentLoaded",e,!1)},overwriteHistoryPushState:function(){if("history"in c&&"function"==typeof c.history.pushState){var t=c.history.pushState;c.history.pushState=function(e){return"function"==typeof c.history.onpushstate&&setTimeout(function(){c.history.onpushstate({state:e})},0),setTimeout(function(){n.dispatchEvent("pushstate",{state:e})},0),t.apply(history,arguments)}}else;},dispatchEvent:function(e,t){return"function"!=typeof c.CustomEvent&&u.addPolyfillCustomEvent(),c.dispatchEvent(new CustomEvent(e,{detail:t}))},listenUserAllows:function(n){var i=[];function r(e){return-1!==document.location.href.indexOf(e)}function e(){var e=["lab.elmundo.es","#"].every(r);if(localStorage.setItem("checkingURLDone",!0),e){i.push(s().scrollTop);var t=i[0],o=i[i.length-1]-t;localStorage.setItem("initialScrollPosition",t),144<=o&&(a(),n.scroll())}else localStorage.removeItem("initialScrollPosition"),144<=s().scrollTop&&(a(),n.scroll())}function t(){a(),n.pushstate()}function s(){var e=document.documentElement,t=document.body,o="scrollTop",n="scrollHeight",i=e[o]||t[o],r=e[n]||t[n];return{scrollTop:i,scrollHeight:r,percent:i/(r-e.clientHeight)*100}}function a(){c.removeEventListener("scroll",e,!1),c.removeEventListener("touchmove",e,!1),c.removeEventListener("pushstate",t,!1)}"function"==typeof n.scroll&&(c.addEventListener("scroll",e),c.addEventListener("touchmove",e)),"function"==typeof n.pushstate&&c.addEventListener("pushstate",t)}},u={addStyles:function(e){var t=document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o)},addScript:function(e,t){t||(t=function(){});var o=document.createElement("script");for(var n in e)o.setAttribute(n,e[n]);o.async=void 0!==e.async?e.async:o.async,o.onload=function(e){t(e)},o.onerror=function(e){t(e)},document.getElementsByTagName("head")[0].appendChild(o)},getPortalByLocation:function(e){var t;return e||(e=l.portalHostsNames),e.some(function(e){return!!new RegExp(e.hostnameRegex+"$","i").test(c.location.hostname)&&(e.pathnameRegex?!!new RegExp(e.pathnameRegex,"i").test(c.location.pathname)&&(t=e,!0):(t=e,!0))})?t:{name:""}},setLocalStorage:function(e,t){void 0===t&&(t=""),c.localStorage&&c.localStorage.setItem(e,t)},getLocalStorage:function(e){if(c.localStorage)return c.localStorage.getItem(e)},getCookieValue:function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?c.decodeURIComponent(t.pop()):""},setCookie:function(e){var t=e.name+"="+(void 0===e.value?"":e.value);return t+=e.expires?"; expires="+e.expires:"",t+=e.maxAge?"; max-age="+e.maxAge:"",t+=null===e.path?"":"; path="+(void 0===e.path?"/":e.path),t+="; domain="+(e.domain||u.getRootDomain())+";",c.document.cookie=t},deleteCookie:function(e){return u.setCookie({name:e.name,value:e.value,path:e.path,expires:e.expires||new Date(0).toUTCString(),domain:e.domain})},resetCookieAndLocalStorage:function(e){e&&"string"!=typeof e||(e={cookies:[e],localStorage:[e]}),e&&e.cookies&&e.cookies.length&&e.cookies.forEach(function(e){u.deleteCookie({name:e})}),e&&e.localStorage&&e.localStorage.length&&e.localStorage.forEach(function(e){localStorage.removeItem(e)})},getRootDomain:function(e){var t=e||c.document.location.hostname,o=(t=t.split("."))[t.length-1];return(t[t.length-2]||"")+(o?"."+o:"")},parseUri:function(e,t){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},o=n.parser[t?"strict":"loose"].exec(e),i={},r=n.key.length;r--;)i[n.key[r]]=o[r]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(e,t,o){t&&(i[n.q.name][t]=o)}),i},isAvailablesReferrerDomains:function(){if(!document.referrer)return!1;var e=new Array(l.ROOT_DOMAIN),t=u.parseUri(document.referrer,"strictMode").authority.split("."),o=l.ROOT_REFERRER_DOMAIN||t[t.length-2]+"."+t[t.length-1];return-1!=e.indexOf(o)},getUrlParams:function(e){var t=e||c.location.search,n={};t.replace(/[?&]+([^=&]+)=?([^&]*)/gi,function(e,t,o){n[t]=o});return n},getReferrerRootDomain:function(){if(!document.referrer)return null;var e=u.parseUri(document.referrer,"strictMode").host.split("."),t=e[e.length-1];return(e[e.length-2]||"")+(t?"."+t:"")},asyncScrollTo:function(e,t){var o=e||{top:0,left:c.scrollX,behavior:"smooth"};t||(t=500),setTimeout(function(){c.scrollTo(o)},t)},addPolyfillCustomEvent:function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}"function"!=typeof c.CustomEvent&&(e.prototype=c.Event.prototype,c.CustomEvent=e)}},s={init:function(e){c.gdprAppliesGlobally=!0,function(t,r,o,s,a){function e(e,t,o,n){if("function"==typeof o){c[r]||(c[r]=[]);var i=!1;a&&(i=a(e,t,o)),i||c[r].push({command:e,parameter:t,callback:o,version:n})}}function n(n){if(c[t]&&!0===c[t].stub&&n.data){var e,i="string"==typeof n.data;try{e=i?JSON.parse(n.data):n.data}catch(e){return}if(e[o]){var r=e[o];c[t](r.command,r.parameter,function(e,t){var o={};o[s]={returnValue:e,success:t,callId:r.callId},n.source.postMessage(i?JSON.stringify(o):o,"*")},r.version)}}}e.stub=!0,"function"!=typeof c[t]&&(c[t]=e,c.addEventListener?c.addEventListener("message",n,!1):c.attachEvent("onmessage",n))}("__tcfapi","__tcfapiBuffer","__tcfapiCall","__tcfapiReturn"),function e(t){if(!c.frames[t])if(document.body&&document.body.firstChild){var o=document.body,n=document.createElement("iframe");n.style.display="none",n.name=t,n.title=t,o.insertBefore(n,o.firstChild)}else setTimeout(function(){e(t)},5)}("__tcfapiLocator"),function(e){e||(e={}),c.Didomi?t():(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){t()}));function t(){s.Didomi=c.Didomi,function(t){"function"==typeof t.onConsentChanged&&s.Didomi.on("consent.changed",function(e){t.onConsentChanged(e)});"function"==typeof t.onNoticeChanged&&(s.Didomi.on("notice.shown",function(e){t.onNoticeChanged({isVisible:!0})}),s.Didomi.on("notice.hidden",function(e){t.onNoticeChanged({isVisible:!1})}))}(e),"function"==typeof e.didomiOnReady&&e.didomiOnReady(),s.Didomi&&"function"==typeof s.Didomi.getConfig&&(c.didomiConfig=Didomi.getConfig())}}(e)},Didomi:null,consentData:null,getConsentData:function(e,o){var t=localStorage.getItem("euconsent-v2")||u.getCookieValue("euconsent-v2");return s.consentData=t,"function"==typeof o&&__tcfapi("getTCData",2,function(e,t){if(!t)throw new Error("Could not get the TCData.");o(e)}),s.consentData||void 0},getUserConsentStatusForVendor:function(e){if("number"!=typeof e&&"string"!=typeof e)throw new TypeError(e+" is not a valid type of vendorID");return s.Didomi&&"function"==typeof s.Didomi.getUserConsentStatusForVendor?s.Didomi.getUserConsentStatusForVendor(e):null},getUserConsentStatusForAll:function(){return s.Didomi&&"function"==typeof s.Didomi.getUserConsentStatusForAll?s.Didomi.getUserConsentStatusForAll():null},setDidomiUserAgreeToAll:function(t){s.Didomi&&"function"==typeof s.Didomi.setUserAgreeToAll?(s.Didomi.setUserAgreeToAll(),s.hideNotice(),"function"==typeof t&&t()):(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){setTimeout(function(){e.setUserAgreeToAll(),s.hideNotice(),"function"==typeof t&&t()},0)}))},isUserConsentStatusPartial:function(){return s.Didomi&&"function"==typeof s.Didomi.setUserAgreeToAll?s.Didomi.isUserConsentStatusPartial():null},showPreferences:function(e){s.Didomi&&s.Didomi.preferences&&"function"==typeof s.Didomi.preferences.show?s.Didomi.preferences.show():(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){e.preferences.show()}))},hidePreferences:function(){s.Didomi&&(s.Didomi.preferences,1)&&"function"==typeof s.Didomi.preferences.hide?s.Didomi.preferences.hide():(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){e.preferences.hide()}))},showNotice:function(e){s.Didomi&&(s.Didomi.preferences,1)&&"function"==typeof s.Didomi.preferences.show?s.Didomi.notice.show():(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){e.notice.show()}))},hideNotice:function(e){s.Didomi&&(s.Didomi.preferences,1)&&"function"==typeof s.Didomi.preferences.hide?s.Didomi.notice.hide():(c.didomiOnReady=c.didomiOnReady||[],c.didomiOnReady.push(function(e){e.notice.hide()}))},noticeIsVisible:function(){return s.Didomi&&s.Didomi.notice&&"function"==typeof s.Didomi.notice.isVisible?s.Didomi.notice.isVisible():null},getUserConsentStatus:function(e,t){return s.Didomi&&"function"==typeof s.Didomi.getUserConsentStatus?s.Didomi.getUserConsentStatus(e,t):null}},a={init:function(e){a.userPrivacyCookieValue=u.getCookieValue(l.cookiesNames.accepted)||null,l.ROOT_DOMAIN||(l.ROOT_DOMAIN=u.getRootDomain()),s.init({onConsentChanged:a.onConsentChanged,onNoticeChanged:a.onNoticeChanged,didomiOnReady:a.didomiOnReady}),n.overwriteHistoryPushState(),u.addPolyfillCustomEvent(),s.consentData=u.getLocalStorage(l.analytics.consentDataKey),a.checkPrivacyPolicy(),n.addButtonEventListener()},checkPrivacyPolicy:function(){var e=a.userPrivacyCookieValue||u.getCookieValue(l.cookiesNames.accepted);Boolean("_true"===u.getUrlParams()["gdpr-consent"])?s.setDidomiUserAgreeToAll(a.userHasAcceptPolicy):e?e===l.policyVersion?s.getConsentData()?a.userHasAcceptPolicy():(s.showNotice(),a.addAutoAcceptEventListeners()):a.isAvailablesReferrerDomains()&&"0"===e?a.userWasSetPolicyPreferences?a.userHasAcceptPolicy():s.setDidomiUserAgreeToAll(a.userHasAcceptPolicy):(a.setUePrivacyCookie("0"),a.analyticsEvents("0"),s.showNotice(),a.addAutoAcceptEventListeners(),s.getConsentData()&&u.resetCookieAndLocalStorage({cookies:["didomi_token","euconsent","euconsent-v2"],localStorage:["didomi_token","euconsent","euconsent-v2","ueConsentData","ueUserContentGoogle","ueUserContentComscore","ueUserPurposes"]})):(a.setUePrivacyCookie("0"),a.analyticsEvents("0"),a.addAutoAcceptEventListeners())},isAvailablesReferrerDomains:function(){return!!document.referrer&&u.getReferrerRootDomain(document.referrer)===l.ROOT_DOMAIN},onConsentChanged:function(e){var t={vendors:a.getUserConsentStatusForVendors()};t.eventData=e,a.userWasSetPolicyPreferences=!0,a.setUePrivacyCookie(l.policyVersion),a.analyticsEvents(l.policyVersion),a.updateLocalStorageData(t);var o={consents:{vendors:t.vendors,purposes:t.eventData&&t.eventData.consentToken?t.eventData.consentToken.consents:null}};a.clearLocalStorageConsents(),n.dispatchEvent(l.consentChangedEventName,o)},onNoticeChanged:function(e){s.isUserConsentStatusPartial()||document.querySelector("body").classList.remove("no_scroll");var t=e||{};n.dispatchEvent(l.noticeChangedEventName,t)},didomiOnReady:function(){n.dispatchEvent(l.cmpIsReadyEventName),s.allVendors=a.getAllVendors(),a.updateLocalStorageData({vendors:a.getUserConsentStatusForVendors(["google","comscore"])}),s.isUserConsentStatusPartial()&&(document.querySelector("body").classList.add("no_scroll"),s.showNotice(),a.addAutoAcceptEventListeners(),l.verbose)},autoAcceptEventListenersAdded:!0,addAutoAcceptEventListeners:function(){a.autoAcceptEventListenersAdded||(a.autoAcceptEventListenersAdded=!0,n.listenUserAllows({scroll:function(){if(!a.userWasSetPolicyPreferences){if(localStorage.checkingURLDone){var e=0===document.scrollTop?0:localStorage.getItem("initialScrollPosition");!a.isAccepted()&&u.asyncScrollTo({top:e,left:c.scrollX,behavior:"smooth"})}else!a.isAccepted()&&u.asyncScrollTo();s.setDidomiUserAgreeToAll(),a.userHasAcceptPolicy();["checkingURLDone","initialScrollPosition"].forEach(function(e){localStorage.removeItem(e)})}},pushstate:function(){a.userWasSetPolicyPreferences||s.setDidomiUserAgreeToAll(a.userHasAcceptPolicy)}}))},userHasAcceptPolicy:function(){a.setUePrivacyCookie(l.policyVersion),a.analyticsEvents(l.policyVersion),n.dispatchEvent(l.cookieAcceptedEventName)},updateLocalStorageData:function(e){e||(e={}),e.vendors=e.vendors||{};var t=i(e.vendors.google);u.setLocalStorage(l.analytics.userContentGoogle,t);var o=i(e.vendors.comscore);u.setLocalStorage(l.analytics.userContentComscore,o);var n=JSON.stringify(this.getAllPurposesEnabled());function i(e){return void 0===e?"-1":e?"1":"0"}u.setLocalStorage(l.analytics.ueUserPurposes,n),function(){s.getConsentData();u.setLocalStorage(l.analytics.consentDataKey,s.consentData)}()},isAccepted:function(e){var t,o={};e?e.vendors&&(o.vendors=e.vendors):o.vendors=a.getAllVendors(),t=a.getUserConsentStatusForVendors(o.vendors);var n=[],i=[];for(var r in t)e?n.push(t[r]):void 0!==t[r]?n.push(t[r]):l.verbose&&i.push(r);return l.verbose&&i.length&&n.length,!!(0<n.length&&n.every(function(e){return!0===e}))||!n.some(function(e){return!1===e})&&(n.some(function(e){return void 0===e})?void 0:n.some(function(e){return null===e})?null:void 0)},getUserConsentStatusForVendor:function(e){var t=l.googleIds,o=s.getUserConsentStatusForVendor(a.getVendorId(e));if(!o&&t instanceof Array&&0<t.length&&new RegExp(t.join("|"),"gmi").test(e)){var n=t.map(function(e){return s.getUserConsentStatusForVendor(a.getVendorId(e))});o=n.some(function(e){return e})||n.filter(function(e){return"boolean"==typeof e})[0]||n.filter(function(e){return null===e})[0]}return o},getUserConsentStatusForVendors:function(e){var t,o=e,n={};return e instanceof Array||!e?e||(o=a.getAllVendors()):o=[e],o instanceof Array&&o.forEach(function(e){n[e]=a.getUserConsentStatusForVendor(e),null===n[e]&&(n[e]=function(e){switch(e){case"-1":return;case"1":return!0;case"0":return!1;default:return null}}(u.getLocalStorage(function(e){switch(e.toString()){case"comscore":case"77":return l.analytics.userContentComscore;case"google":case"c:google":case 755:return l.analytics.userContentGoogle;default:return e}}(e))))}),e||(t=n,l.vendorsAlias instanceof Array&&l.vendorsAlias.forEach(function(e){t.hasOwnProperty(e.id)&&(t[e.alias]=t[e.id])})),n},getAllVendors:function(){var e=s.getUserConsentStatusForAll(),t=e&&e.vendors||{};return(t.enabled||[]).concat(t.disabled||[])},getVendorId:function(t){var o;l.vendorsAlias.some(function(e){if(e.alias===t)return o=e.id,!0});var e=(a.getAllVendors()||[]).find(function(e){return e==="c:"+t});return o||e||t},setUePrivacyCookie:function(s){var a=new Date;a.setTime(a.getTime()+864e5*l.cookieExpireDays),u.setCookie({name:l.cookiesNames.accepted,value:s,expires:a.toGMTString(),domain:l.ROOT_DOMAIN}),setTimeout(function(){function e(e){return document.cookie.split(e).length-1}var t=c.location.pathname.split("/"),o="/"+t[1],n=e("ue_privacyPolicy");if("/"!==o&&1<n){u.deleteCookie({name:"ue_privacyPolicy",path:null});for(var i="",r=0;r<t.length&&(i+="/"+(t[r+1]||""),u.deleteCookie({name:"ue_privacyPolicy",path:i}),!(e("ue_privacyPolicy")<=1));r++);document.cookie.split("ue_privacyPolicy").length-1==0&&u.setCookie({name:l.cookiesNames.accepted,value:s,expires:a.toGMTString(),domain:l.ROOT_DOMAIN})}},0)},userPrivacyCookieValue:null,userWasSetPolicyPreferences:!1,analyticsEvents:function(e){e===l.policyVersion&&a.userPrivacyCookieValue!==l.policyVersion&&n.dispatchEvent(l.analytics.eventNameGDPRAccepted)},getAllPurposesEnabled:function(){var e=s.getUserConsentStatusForAll();return e&&e.purposes&&e.purposes.enabled},getUserConsentStatus:function(e,t){var o=l.storedConsentsKey,n=u.getLocalStorage(o)||{};if("string"==typeof n&&(n=JSON.parse(n)),n&&n[t]&&n[t][e])return n[t][e];var i=s.getUserConsentStatus(e,t);if("boolean"==typeof i){n[t]=n[t]||{},n[t][e]=i;var r="string"==typeof n?n:JSON.stringify(n);u.setLocalStorage(o,r)}return i},clearLocalStorageConsents:function(){var e=l.storedConsentsKey;u.resetCookieAndLocalStorage({localStorage:[e]})}},e={isAccepted:a.isAccepted,getAllPurposesEnabled:a.getAllPurposesEnabled,getUserConsentStatusForVendor:a.getUserConsentStatusForVendor,getUserConsentStatusForVendors:a.getUserConsentStatusForVendors,getConsentData:s.getConsentData,getUserConsentStatus:a.getUserConsentStatus,preferences:{show:s.showPreferences,hide:s.hidePreferences},notice:{isVisible:s.noticeIsVisible},init:a.init};"undefined"!=typeof module&&void 0!==module.exports?module.exports=init:c&&(void 0===c.ueCookiesPolicy&&Object.defineProperty(c,"ueCookiesPolicy",{value:e,writable:!1}),a.init())}(window);
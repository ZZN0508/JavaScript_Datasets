var livePlayerVer="2021.06.11.01",livePlayerObjs={liveRetryTimeout:60,fingerprintJsIsStarted:!1},isFlashPlayer=!0,is0HomepagePlayer=!1,liveConvivaClient=null,liveConvivaPlayerStateManager=null,isUseConvivaMonitor=!0,isConvivaApiLoaded=!1,systemFactory=null,isUseWsMonitor=!0,isWsApiLoaded=!1,isUseAliMonitor=!0,isAliApiLoaded=!1,isLiveControlsLoaded=!1,currentLiveTimeData=null,CNTVH5PlayerModule,liveAudio,moduleInitialized=!1,html5VideoData="",html5LiveYumList=null,isLiveBarrageJsLoaded=!1,isLiveEnableP2p=!1,isMobleUseBrowserUi=!1;function createLivePlayer(a){var i=document.getElementById(a.divId);if(-1!==location.href.indexOf("https://")&&(a.isHttps="true",livePlayerObjs.isHttps="true"),"true"===a.isHttps&&(livePlayerObjs.isHttps="true"),"live_panda"===a.playerType&&(a.playerType="live",isIPad()&&(a.playerType="hw"),a.ui="ipanda"),a.w+="",a.h+="",isTimeshift(a)?(a.st+="",a.st=transformDateToStamp(a.st)):(livePlayerObjs[a.divId]&&void 0!==livePlayerObjs[a.divId].video&&livePlayerObjs[a.divId].video&&clearInterval(livePlayerObjs[a.divId].video.playedTimer),livePlayerObjs[a.divId]={},livePlayerObjs[a.divId]=a),0<a.w.indexOf("%")?i.style.width=a.w:i.style.width=a.w+"px",0<a.h.indexOf("%")?i.style.height=a.h:i.style.height=a.h+"px",isDrmLegalDomainUrl()){var e="";if(getCookie_vdn("Fingerprint")||livePlayerObjs.fingerprintJsIsStarted?e=getCookie_vdn("Fingerprint"):getLivefingerprint2(),livePlayerObjs.fingerprintJsIsStarted=!0,isNewH5LivePlayer(a))if(html5LiveYumList=html5LiveYumList||{yuv:"",yuvDOM:""},livePlayerObjs[a.divId]&&clearInterval(livePlayerObjs[a.divId].liveTimer),a.vdnRetryNum&&4<a.vdnRetryNum)showLivePlayerErrorMsg(a);else{if(isTimeshift(a)&&"undefined"!=typeof createLiveHls&&!a.vdnRetryNum)return livePlayerObjs[a.divId].adCallsIsPlayed?void(livePlayerObjs[a.divId].start&&a.st>=livePlayerObjs[a.divId].start&&a.st<livePlayerObjs[a.divId].start+86400?(document.getElementById("control_bar_"+a.divId)&&((p=document.getElementById("timeshiftbtn_"+a.divId))&&"false"===p.getAttribute("isOn")&&LiveTimeshiftSwitch.prototype.textBtnByClick(a),LiveControlsBar.prototype.controlBarShowOrHide("show",a.divId,!1)),LiveTimeshiftSwitch.prototype.playTimeshiftFromPos(a,a.st)):(livePlayerObjs[a.divId].endTime=a.st,clearInterval(livePlayerObjs[a.divId].liveTimer),createLiveHls(a))):void 0;if("liveback"===a.playerType&&a.st&&a.et&&(a.st+="",a.start=transformDateToStamp(a.st),a.et+="",a.end=transformDateToStamp(a.et)),livePlayerObjs[a.divId]&&(livePlayerObjs[a.divId].video&&livePlayerObjs[a.divId].video.hls||livePlayerObjs[a.divId].adCallsVideo)&&destroyH5LiveHls(a),livePlayerObjs[a.divId]&&livePlayerObjs[a.divId].video&&clearInterval(livePlayerObjs[a.divId].video.playedTimer),"undefined"!=typeof goldlog&&goldlog["h5player_"+a.divId]&&void 0!==goldlog["h5player_"+a.divId].heartbeatStarted&&(goldlog["h5player_"+a.divId].heartbeatStarted=!1),"small"!==a.playerType&&"live_homepage"!==a.playerType||(a.isMuted=!0,document.getElementById("player_sound_btn_"+a.divId)&&"false"===document.getElementById("player_sound_btn_"+a.divId).getAttribute("isMute")&&(a.isMuted=!1)),document.getElementById("h5player_"+a.divId)){if(removeH5LivePlayerEvents(a.divId),isCanvasSupported(a.divId)){try{document.getElementById("h5player_"+a.divId).pause(),document.body.removeChild(document.getElementById("h5player_"+a.divId))}catch(e){i.removeChild(document.getElementById("h5player_"+a.divId))}clearInterval(livePlayerObjs[a.divId].canvasDrawTimer)}else i.removeChild(document.getElementById("h5player_"+a.divId));clearInterval(livePlayerObjs[a.divId].canvasDrawTimer)}i.innerHTML="",livePlayerObjs[a.divId]={},livePlayerObjs[a.divId]=a,livePlayerObjs[a.divId].video={},livePlayerObjs[a.divId].adCallsVideo={},liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[a.divId].convivaSessionKey&&liveConvivaClient.cleanupSession(livePlayerObjs[a.divId].convivaSessionKey),livePlayerObjs[a.divId].convivaSessionKey=void 0;var t="cctv_html5player_bg_16X9.png";1<a.h/a.w&&(t="cctv_html5player_bg_9X16.png"),livePlayerObjs[a.divId].isLive=!0,livePlayerObjs[a.divId].isOldH5player=!1,(i=document.getElementById(a.divId)).style.zIndex="2",i.style.overflow="hidden";var l="http://js.player.cntv.cn/creator/conviva-core-sdk.min.js",r="http://js.player.cntv.cn/creator/conviva-html5native-impl2.js",n="http://js.player.cntv.cn/creator/player_data_collector.js",d="http://js.player.cntv.cn/creator/html5player_analysis_lib.js",s="http://js.player.cntv.cn/creator/h5.worker?v=210104",o="https://player.cntv.cn/html5Player/images/"+t;livePlayerObjs[a.divId].adCalls="","string"==typeof live_Ad_Calls&&2<live_Ad_Calls.length&&(livePlayerObjs[a.divId].adCalls=decodeURIComponent(live_Ad_Calls),0<livePlayerObjs[a.divId].adCalls.indexOf("?")?livePlayerObjs[a.divId].adCalls+="&cb=parseLiveAdCallsDataFromApi":livePlayerObjs[a.divId].adCalls+="?cb=parseLiveAdCallsDataFromApi",-1===livePlayerObjs[a.divId].adCalls.indexOf("op=7")&&(livePlayerObjs[a.divId].adCalls=livePlayerObjs[a.divId].adCalls.replace(/(op=[0-9]*)/,"op=7"))),livePlayerObjs[a.divId].adPause="","string"==typeof live_Ad_Pause&&2<live_Ad_Pause.length&&(livePlayerObjs[a.divId].adPause=decodeURIComponent(live_Ad_Pause),livePlayerObjs[a.divId].adPause.indexOf("?"),livePlayerObjs[a.divId].adPause+="",-1===livePlayerObjs[a.divId].adPause.indexOf("op=7")&&(livePlayerObjs[a.divId].adPause=livePlayerObjs[a.divId].adPause.replace(/(op=[0-9]*)/,"op=7"))),livePlayerObjs[a.divId].adBanner="","string"==typeof live_Ad_Banner&&2<live_Ad_Banner.length&&(livePlayerObjs[a.divId].adBanner=decodeURIComponent(live_Ad_Banner),0<livePlayerObjs[a.divId].adBanner.indexOf("?")?livePlayerObjs[a.divId].adBanner+="&cb=parseLiveAdBannerDataFromApi":livePlayerObjs[a.divId].adBanner+="?cb=parseLiveAdBannerDataFromApi",-1===livePlayerObjs[a.divId].adBanner.indexOf("op=7")&&(livePlayerObjs[a.divId].adBanner=livePlayerObjs[a.divId].adBanner.replace(/(op=[0-9]*)/,"op=7"))),"true"===a.isHttps&&(o=o.replace("http://","https://"),livePlayerObjs[a.divId].adCalls&&(livePlayerObjs[a.divId].adCalls=livePlayerObjs[a.divId].adCalls.replace("http://","https://")),livePlayerObjs[a.divId].adPause&&(livePlayerObjs[a.divId].adPause=livePlayerObjs[a.divId].adPause.replace("http://","https://")),livePlayerObjs[a.divId].adBanner&&(livePlayerObjs[a.divId].adBanner=livePlayerObjs[a.divId].adBanner.replace("http://","https://")),l="https://js.player.cntv.cn/creator/conviva-core-sdk.min.js",r="https://js.player.cntv.cn/creator/conviva-html5native-impl2.js",n="https://js.player.cntv.cn/creator/player_data_collector.js",d="https://js.player.cntv.cn/creator/html5player_analysis_lib.js",s="https://js.player.cntv.cn/creator/h5.worker?v=210104"),"5.1"===a.audioType&&(s="//js.player.cntv.cn/creator/h5_audio.worker"),isIPad()?(i.style.backgroundImage="url('"+o+"')",i.style.backgroundSize="100% 100%",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="0px 0px",i.style.margin="0 auto"):i.style.backgroundColor="#000","liveback"!==a.playerType&&!livePlayerObjs[a.divId].adCallsIsPlayed||(livePlayerObjs[a.divId].adCalls="");var v=(new Date).getTime().toString().slice(0,10),y="1537",c="2049",p="",e="";getCookie_vdn("Fingerprint")||livePlayerObjs.fingerprintJsIsStarted?p=getCookie_vdn("Fingerprint"):getLivefingerprint2();t=document.getElementsByTagName("head")[0],o=createElementByType("script","hdsJsLoader","absolute","0px","0px","0px","0px"),i="http://vdn.live.cntv.cn/api2/liveHtml5.do?channel=pw://cctv_p2p_hd"+a.t;"true"===a.isHttps&&(i="https://vdn.live.cntv.cn/api2/liveHtml5.do?channel=pw://cctv_p2p_hd"+a.t),isIPad()?i+="&client=html5&tsp="+v+"&vn="+c+"&vc="+setH5Str(v+c+"47899B86370B879139C08EA3B5E88267"+p).toLocaleUpperCase()+"&uid="+p+"&wlan=":(i=i.replace("?channel=pw","?channel=pc"),i+="&client=flash&tsp="+v+"&vn="+y+"&vc="+setH5Str(v+y+"B4B51E8523157ED8D17ADB76041BCD09"+p).toLocaleUpperCase()+"&uid="+p+"&wlan="),livePlayerObjs[a.divId].isErrorDone=!1,void 0!==livePlayerObjs[a.divId].vdnTimer&&clearTimeout(livePlayerObjs[a.divId].vdnTimer),livePlayerObjs[a.divId].vdn={},livePlayerObjs[a.divId].vdn.vdnUrl=i,a.posterImg&&3<a.posterImg.length||"false"===a.isAutoPlay||(a.others&&(0<a.others.indexOf(".m3u8")||0<a.others.indexOf(".ts"))?(livePlayerObjs[a.divId].video.url=a.others,livePlayerObjs[a.divId].vdn.public="1",parseLiveDataFromVdn(a,!0)):loadLiveScript(i,parseLiveDataFromVdn,a,parseLiveDataFromVdnWhenError,1e4)),isLiveHlsJsSupported()&&(livePlayerObjs.isLoadWorker||(livePlayerObjs.isLoadWorker=!0,LazyLoad.js(s,function(){"undefined"!=typeof CNTVModule&&(CNTVH5PlayerModule=CNTVModule(),(window.CNTVH5PlayerModule=CNTVH5PlayerModule).onRuntimeInitialized=function(){console.log("onRuntimeInitialized"),moduleInitialized=!0})}))),("cctv6"===a.t||"cctv15"===a.t)&&isWasmSupported()&&isLiveHlsJsSupported()?(isLiveEnableP2p=!0,livePlayerObjs[a.divId].isP2p=!0):livePlayerObjs[a.divId].isP2p=!1,isLiveEnableP2p&&(s="http://js.player.cntv.cn/creator/hlsp2p.js","true"===a.isHttps&&(s=s.replace("http://","https://")),livePlayerObjs[a.divId].isLoadP2pJs||(livePlayerObjs[a.divId].isLoadP2pJs=!0,t=document.getElementsByTagName("head")[0],(o=document.createElement("script")).type="text/javascript",o.setAttribute("crossorigin","anonymous"),o.src=s,t.appendChild(o))),isUseConvivaMonitor&&(isConvivaApiLoaded?initLiveConviva(a):LazyLoad.js(l,function(){LazyLoad.js(r,function(){"undefined"!=typeof Conviva&&void 0!==Conviva.Impl&&(isConvivaApiLoaded=!0,initLiveConviva(a))})}));LazyLoad.js(n,function(){livePlayerObjs.wsJsLoaded=!0}),livePlayerObjs.aliJsLoaded=!1,!isAliApiLoaded&&isUseAliMonitor&&(isAliApiLoaded=!0,LazyLoad.js(d,function(){livePlayerObjs.aliJsLoaded=!0}));try{var u=document.getElementById(a.divId);u.style&&"object"==typeof u.style&&"fixed"===u.style.position||(u.style.position="relative"),(!(b=u.style.cssText)||b.length<4)&&(b="none"),u&&u.setAttribute("originalStyle",b)}catch(e){}(a.posterImg&&3<a.posterImg.length||"false"===a.isAutoPlay?showLivePlayerPosterImg:createLiveVideoLoadingImg)(a)}else if(isIPad()){"small"===a.playerType&&(is0HomepagePlayer=!0),a.posterImg&&3<a.posterImg.length&&(a.isAutoPlay="false"),livePlayerObjs[a.divId]||(livePlayerObjs[a.divId]={}),livePlayerObjs[a.divId].isOldH5player=!0;var g,m="http://js.player.cntv.cn/creator/live_common.js";"true"===a.isHttps&&(m="https://js.player.cntv.cn/creator/live_common.js"),livePlayerObjs.isLoadLiveJs?"undefined"!=typeof createFlashLivePlayer?(clearInterval(livePlayerObjs[a.divId].loadLiveTimer),createOldLivePlayer(a)):(g=0,livePlayerObjs[a.divId].loadLiveTimer=setInterval(function(){50<++g&&clearInterval(livePlayerObjs[a.divId].loadLiveTimer),"undefined"!=typeof createFlashLivePlayer&&(clearInterval(livePlayerObjs[a.divId].loadLiveTimer),createOldLivePlayer(a))},200)):(livePlayerObjs.isLoadLiveJs=!0,LazyLoad.js(m,function(){createOldLivePlayer(a)}))}else if(isPCWeixinBrowser())showLivePlayerMsg(a,"鏆備笉鏀寔PC寰俊瀹㈡埛绔紝璇峰鍒惰椤甸潰閾炬帴骞舵崲鐢ㄦ祻瑙堝櫒瑙傜湅锛�");else if(getFlashVer(),isFlashPlayer||isIPad()){o=livePlayerVer;"undefined"==typeof goldlog&&doLoadLiveAliAnalyticsJs(a);l="https://player.cntv.cn/standard/live_HLSDRM20181022.swf";if("0shouye"==a.playerType&&(l="http://player.cntv.cn/standard/smallDRMplayer.swf"),"small"==a.playerType&&(l="http://player.cntv.cn/standard/smallDRMplayer20790807.swf"),"live_homepage"==a.playerType&&(l="http://player.cntv.cn/standard/live_smallWindow210120.swf"),"hw"!==a.playerType&&"small2"!==a.playerType||(l="http://player.cntv.cn/standard/hwDRMplayer20190917.swf"),"live"==a.playerType){if(a.st&&0<a.st-1e9){if(document.getElementById("flashplayer_"+a.divId))return document.getElementById("flashplayer_"+a.divId).PageCallFlash({IsLive:"false",ShiftTime:a.st}),void(a.st="");livePlayerObjs.flashLiveback={},livePlayerObjs.flashLiveback.flashId="flashplayer_"+a.divId,livePlayerObjs.flashLiveback.start=a.st,a.st=""}l="http://player.cntv.cn/standard/live_HLSDRM20191015.swf"}"ipanda"===a.ui&&(l="http://player.cntv.cn/standard/ipandaLive_210120.swf");n="http://player.cntv.cn/adplayer/cntvPauseAdPlayer.swf",d="http://player.cntv.cn/adplayer/cntvAdPlayer20150521.swf",u="http://player.cntv.cn/adplayer/cntvCornerADPlayer.swf";"true"===a.isHttps&&(l=l.replace("http://","https://"),n="https://player.cntv.cn/adplayer/cntvPauseAdPlayer.swf",d="https://player.cntv.cn/adplayer/cntvAdPlayer20150521.swf",u="https://player.cntv.cn/adplayer/cntvCornerADPlayer.swf");var b,m=null,m=(IsMaxthon(),new SWFObject(l+"?v=18"+o,"flashplayer_"+a.divId,"100%","100%","10.0.0.0","#000000"));if("undefined"!=typeof hds_bitaRates&&"string"==typeof hds_bitaRates&&m.addVariable("bitaRates",a.br),"0shouye"==a.playerType&&(a.w/a.h<1.5?m.addVariable("playErrorImg","https://player.cntv.cn/images/ipad/h5_0shouye_error4x3.png"):m.addVariable("playErrorImg","https://player.cntv.cn/images/ipad/h5_0shouye_error16x9.png"),m.addVariable("playErrorJumpUrl","http://tv.cctv.com/")),"ipanda"===a.ui&&(m.addVariable("hasChannelList",a.hasChannelList),m.addVariable("showChannelList",a.showChannelList),m.addVariable("hasBarrage",a.hasBarrage),m.addVariable("barrageitemID",a.barrageitemID)),m.addVariable("id","flashplayer_"+a.divId),m.addVariable("ChannelID",a.t),m.addVariable("videoTVChannel",a.t),m.addVariable("isAutoPlay",a.isAutoPlay),m.addVariable("br",a.br),m.addVariable("posterImg",a.posterImg),m.addVariable("isLive4k",a.isLive4k),m.addVariable("https",a.isHttps),m.addVariable("isHttps",a.isHttps),m.addVariable("isLeftBottom",a.isLeftBottom),m.addVariable("ruleVisible",a.ruleVisible),-1!==a.t.indexOf("pe://cctv_p2p_hd")?(m.addVariable("P2PChannelID",a.t),m.addVariable("tai",a.t+"_4M")):(m.addVariable("P2PChannelID","pa://cctv_p2p_hd"+a.t),m.addVariable("tai",a.t)),m.addVariable("VideoName",a.t),m.addVariable("channelID",a.t),"undefined"!=typeof live_Ad_Calls?(m.addVariable("adCalls",live_Ad_Calls),m.addVariable("adplayerPath",d)):"undefined"!=typeof _hdsAdCall&&(m.addVariable("adCall",_hdsAdCall),m.addVariable("adplayerPath",d)),"undefined"!=typeof live_Ad_Pause?(m.addVariable("adPause",live_Ad_Pause),m.addVariable("pauseAdplayerPath",n)):"undefined"!=typeof _hdsAdPause&&(m.addVariable("adPause",_hdsAdPause),m.addVariable("pauseAdplayerPath",n)),"undefined"!=typeof live_Ad_Corner&&(m.addVariable("adCorner",live_Ad_Corner),m.addVariable("cornerAdplayerPath",u)),"undefined"!=typeof live_Ad_Banner&&m.addVariable("adBanner",live_Ad_Banner),"undefined"!=typeof live_Ad_Wenzi&&m.addVariable("adText",live_Ad_Wenzi),m.addVariable("BannerWidth",600),m.addVariable("BannerInterval",20),m.addVariable("playBackType","common"),"false"===a.ruleVisible?m.addVariable("ruleVisible","false"):m.addVariable("ruleVisible","true"),"false"===a.webFullScreenOn?m.addVariable("windeowFullBtnVisible","false"):m.addVariable("windeowFullBtnVisible","true"),"hw"===a.playerType&&(m.addVariable("ruleVisible","false"),m.addVariable("windeowFullBtnVisible","false"),m.addVariable("briteBtnVisible","false")),"small2"===a.playerType&&m.addVariable("briteBtnVisible","true"),-1===location.href.indexOf(".pandaplace.nl/pandacam")&&-1===location.href.indexOf("ipanda.com.de/monitor")&&-1===location.href.indexOf("en.ipanda.com/live")&&-1===location.href.indexOf("live.ipanda.com/webapp")&&-1===location.href.indexOf("live.ipanda.com/ipandade_iframe")&&-1===location.href.indexOf("live.ipanda.com/pandaplace")?(m.addVariable("languageXml",""),("cctv5"===a.t||"cctv5plus"===a.t)&&-1!==a.t.indexOf("pe://cctv_p2p_hd")?(m.addVariable("bitaRates","4096"),"true"===a.isHttps?m.addVariable("configURL","https://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig_1080P.xml"):m.addVariable("configURL","http://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig_1080P.xml")):"true"===a.isHttps?m.addVariable("configURL","https://player.cntv.cn/flashplayer/config/WebDRMPlayerConfig.xml"):m.addVariable("configURL","http://player.cntv.cn/flashplayer/config/WebDRMPlayerConfig.xml")):"true"===a.isHttps?(m.addVariable("languageXml","https://player.cntv.cn/xml/english/hdsLanguage.xml"),m.addVariable("configURL","https://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig-English.xml")):(m.addVariable("languageXml","http://player.cntv.cn/xml/english/hdsLanguage.xml"),m.addVariable("configURL","http://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig-English.xml")),-1!==location.href.indexOf("en.ipanda.com")&&("true"===a.isHttps?m.addVariable("configURL","https://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig_panda.xml"):m.addVariable("configURL","http://player.cntv.cn/flashplayer/config/WebHDSPlayerConfig_panda.xml")),m.addVariable("referrer",document.referrer),getCookie_vdn("Fingerprint")?e=getCookie_vdn("Fingerprint"):getLivefingerprint2(),m.addVariable("fingerprint",e),"undefined"!=typeof channelAbled&&m.addVariable("channelAbled",channelAbled),"undefined"!=typeof hdsSelectChannel&&m.addVariable("selectChannel",hdsSelectChannel),"undefined"!=typeof isHdsAbroad&&m.addVariable("isabroad",isHdsAbroad),m.addParam("wmode",a.wmode),m.addParam("quality","high"),m.addParam("menu","false"),m.addParam("allowFullScreen","true"),m.addParam("allowScriptAccess","always"),m.write(a.divId),"true"===a.wmode||-1!==location.href.indexOf("tv.cntv.cn/live")||-1!==location.href.indexOf("tv.cctv.com/live"))try{document.getElementById(divID).style.backgroundColor="#000"}catch(e){}try{(!(b=document.getElementById(a.divId).style.cssText)||b.length<4)&&(b="none"),document.getElementById("flashplayer_"+a.divId).setAttribute("originalStyle",b)}catch(e){}}else showLiveInstallFlashPlayerMsg(a.divId,a.w,a.h)}else showLivePlayerMsg(a,"瀵逛笉璧凤紝鐢变簬鐗堟潈鍘熷洜锛岃棰戞棤娉曟挱鏀�")}function isLiveIosSupportedMse(){var e,a,i=!0;return/(iphone|ipad)/i.test(navigator.userAgent)&&(a="",e=navigator.userAgent.toLowerCase(),var聽indexPos=e.indexOf("os "),0<indexPos&&(a=e.substring(indexPos+3),a=parseInt(a)),a&&a-12<0&&(i=!1)),i}function isLiveSdrmPlayer(e){var a=/(qqbrowser)/i.test(navigator.userAgent)&&!/(micromessenger)/i.test(navigator.userAgent)||/(baidu)/i.test(navigator.userAgent)||/(sogoumobile)/i.test(navigator.userAgent)||/(UCBrowser)/i.test(navigator.userAgent);return/(iphone|ipad)/i.test(navigator.userAgent)&&isLiveIosSupportedMse()&&("cctv1"===e.t||"cctv2"===e.t||"cctv3"===e.t||"cctv4"===e.t||"cctv6"===e.t||"cctv7"===e.t||"cctv8"===e.t||"cctv13"===e.t)&&!a}function isPCWeixinBrowser(){return!isIPad()&&/(qqbrowser)/i.test(navigator.userAgent)&&/(micromessenger)/i.test(navigator.userAgent)}function isNewH5LivePlayer(e){return!isIPad()||"live"!==e.playerType||"cctv1"!==e.t&&"cctv2"!==e.t&&"cctv3"!==e.t&&"cctv4"!==e.t||(e.playerType="hw"),("hw"===e.playerType||"small"===e.playerType||"live_homepage"===e.playerType||"live"===e.playerType&&!isIPad()&&!0||"liveback"===e.playerType)&&isWasmSupported()&&(isLiveHlsJsSupported()&&!/(iphone|ipad)/i.test(navigator.userAgent)||isLiveSdrmPlayer(e))&&-1===navigator.userAgent.indexOf("rv:11")&&-1===navigator.userAgent.indexOf("MSIE")}function createOldLivePlayer(e){createFlashLivePlayer(e.divId,e.w,e.h,e.t)}function createLivebackPlayer(a){isLiveEnableP2p=!1;-1!==location.href.indexOf("https://")&&(a.isHttps="true",livePlayerObjs.isHttps="true");try{removeLiveErrorMsg(a),document.getElementById("poster_"+a.divId)&&removeLivePlayerPosterImg(a)}catch(e){}if(livePlayerObjs&&livePlayerObjs[a.divId]&&(clearInterval(livePlayerObjs[a.divId].titleUpdateTimer),clearInterval(livePlayerObjs[a.divId].loadingErrorTimer)),!isWasmSupported()||livePlayerObjs[a.divId].isOldH5player){if(0<Date.parse(new Date)/1e3-604800-transformDateToStamp(a.start))return destroyLivePlayer(a.divId),showLivePlayerMsg(a,"鐢变簬鎾嚭瀹夋帓鍙樻洿锛屾殏涓嶆敮鎸佹挱鏀捐鏃舵鍐呭"),liveConvivaClient&&liveConvivaPlayerStateManager||(livePlayerObjs[a.divId].video={},livePlayerObjs[a.divId].video.url="",livePlayerObjs[a.divId].vdn={},convivaJsApi1="https://js.player.cntv.cn/creator/conviva-core-sdk.min.js",convivaJsApi2="https://js.player.cntv.cn/creator/conviva-html5native-impl2.js",LazyLoad.js(convivaJsApi1,function(){LazyLoad.js(convivaJsApi2,function(){livePlayerObjs.convivaJsLoaded=!0,initLiveConviva(a)})})),setLiveConvivaMetadata(a,"LIVEBACK_BEYOND_SCOPE"),void setLiveWsMetadata(a,"LIVEBACK_BEYOND_SCOPE");return"undefined"!=typeof creatIpadFlashPlayer&&((e=document.getElementById("html5Player_live"))&&(e.style.display="none",e.style.visibility="hidden",document.getElementById(a.divId).removeChild(e)),(e=document.getElementById("h5player_"+a.divId))&&(e.style.display="none",document.getElementById(a.divId).removeChild(e)),document.getElementById(a.divId).innerHTML="",creatIpadFlashPlayer(a.divId,a.w,a.h,a.t,a.start,a.end,location.href,"id","","","","","",a.title)),!1}if(!(livePlayerObjs[a.divId]&&livePlayerObjs[a.divId].video&&livePlayerObjs[a.divId].video.url&&3<livePlayerObjs[a.divId].video.url.length))return!1;var e,i=a.start+"",t=a.end+"";10!==i.length&&10!==t.length&&(e="00",i=datetimeToUnix(i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)+" "+i.substr(8,2)+":"+i.substr(10,2)+":"+(e=14===i.length?i.substr(12,2):e)),e="00",t=datetimeToUnix(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+" "+t.substr(8,2)+":"+t.substr(10,2)+":"+(e=14===i.length?i.substr(12,2):e)));var l=!1;livePlayerObjs[a.divId].flv5?LazyLoad.js(livePlayerObjs[a.divId].flv5,function(){var e=l=!0;void 0!==currentLiveTimeData&&currentLiveTimeData&&currentLiveTimeData.GT&&1e9<currentLiveTimeData.GT&&0<currentLiveTimeData.GT/1e3-604800-i&&(e=!1,destroyLivePlayer(a.divId),showLivePlayerMsg(a,"璇ヨ棰戞棤娉曟挱鏀撅紝璇烽€夋嫨瑙傜湅鍏朵粬绮惧僵瑙嗛"),liveConvivaClient&&liveConvivaPlayerStateManager||initLiveConviva(a),setLiveConvivaMetadata(a,"LIVEBACK_BEYOND_SCOPE"),setLiveWsMetadata(a,"LIVEBACK_BEYOND_SCOPE")),e&&0<Date.parse(new Date)/1e3-604800-i&&(e=!1,destroyLivePlayer(a.divId),showLivePlayerMsg(a,"鐢变簬鎾嚭瀹夋帓鍙樻洿锛屾殏涓嶆敮鎸佹挱鏀捐鏃舵鍐呭"),liveConvivaClient&&liveConvivaPlayerStateManager||initLiveConviva(a),setLiveConvivaMetadata(a,"LIVEBACK_BEYOND_SCOPE"),setLiveWsMetadata(a,"LIVEBACK_BEYOND_SCOPE")),e&&startLoadLivebackPlayer(a,i,t)}):(l=!0,startLoadLivebackPlayer(a,i,t)),setTimeout(function(){l||(l=!0,startLoadLivebackPlayer(a,i,t))},6e3)}function startLoadLivebackPlayer(e,a,i){livePlayerObjs[e.divId].start=a,livePlayerObjs[e.divId].end=i,livePlayerObjs[e.divId].pointerStart=0,livePlayerObjs[e.divId].video.duration=i-a;var t=livePlayerObjs[e.divId].video.url,l=t.indexOf("?begintimeabs=");0<(l=-1===l?t.indexOf("&begintimeabs="):l)?livePlayerObjs[e.divId].video.url=t.substring(0,l+1)+"begintimeabs="+1e3*a+"&endtimeabs="+1e3*i:0<t.indexOf("?")?livePlayerObjs[e.divId].video.url+="&begintimeabs="+1e3*a+"&endtimeabs="+1e3*i:livePlayerObjs[e.divId].video.url+="?begintimeabs="+1e3*a+"&endtimeabs="+1e3*i,livePlayerObjs[e.divId].video.originalUrl=livePlayerObjs[e.divId].video.url;var r=(new Date).getTime().toString().slice(0,10),l="",t="";"function"==typeof getCookie_vdn&&(getCookie_vdn("Fingerprint")?t=getCookie_vdn("Fingerprint"):"function"!=typeof getLivefingerprint2||void 0===getLivefingerprint2||livePlayerObjs.isFingerprintJsLoading||getLivefingerprint2());l=setH5Str(r+"204947899B86370B879139C08EA3B5E88267"+t).toUpperCase(),i="http://vdn.live.cntv.cn/api2/liveTimeshiftHtml5.do?channel=pa://cctv_p2p_hd"+e.t+"&client=html5&starttime="+a;"true"===e.isHttps&&(i="https://vdn.live.cntv.cn/api2/liveTimeshiftHtml5.do?channel=pa://cctv_p2p_hd"+e.t+"&client=html5&starttime="+a),i+="&iflv=0&tsp="+r+"&vn=2049&vc="+l+"&uid="+t+"&wlan=",livePlayerObjs[e.divId].isErrorDone=!1,void 0!==livePlayerObjs[e.divId].vdnTimer&&clearTimeout(livePlayerObjs[e.divId].vdnTimer),loadLiveScript(i,checkLivebackCopyright,e,checkLivebackCopyrightWhenError,1e4),clearInterval(livePlayerObjs[e.divId].canvasDrawTimer),liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[e.divId].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1)&&(liveConvivaClient.cleanupSession(livePlayerObjs[e.divId].convivaSessionKey),livePlayerObjs[e.divId].convivaSessionKey=void 0)}function checkLivebackCopyrightWhenError(e){var a;livePlayerObjs[e.divId].isErrorDone||(livePlayerObjs[e.divId].isErrorDone=!0,"cctv1"===e.t?(a={ack:"yes",status:"1",public:"1"},html5VideoData=JSON.stringify(a),checkLivebackCopyright(e)):showLivePlayerErrorMsg(e))}function checkLivebackCopyright(paras){livePlayerObjs[paras.divId].isErrorDone=!0,void 0!==livePlayerObjs[paras.divId].vdnTimer&&clearTimeout(livePlayerObjs[paras.divId].vdnTimer);var obj=null,publicMsg="1",errObj=null,errStr="",controlsBar,controlsBar,controls;try{var obj=eval("("+html5VideoData+")"),errObj=liveCheckVdnReturnMsg(obj);"object"==typeof errObj&&errObj?(errStr=errObj.msg,errStr&&(publicMsg="0",0<errStr.indexOf("鍚�")&&(errStr=liveStatusMsg.public_0_default))):(errStr="",publicMsg="1")}catch(e){errStr="",publicMsg="error"}if("error"===publicMsg)return livePlayerObjs[paras.divId].isErrorDone=!1,void checkLivebackCopyrightWhenError(paras);"string"==typeof errStr&&1<errStr.length?(controlsBar=document.getElementById("control_bar_"+paras.divId),controlsBar&&document.getElementById(paras.divId).removeChild(controlsBar),showLivePlayerMsg(paras,errStr),isUseConvivaMonitor&&createFlvHtml5ConvivaEvent(paras)):(livePlayerObjs[paras.divId].adCallsIsPlayed=!1,livePlayerObjs[paras.divId].isLive=!1,document.getElementById("error_msg_"+paras.divId)&&document.getElementById(paras.divId).removeChild(document.getElementById("error_msg_"+paras.divId)),document.getElementById("h5player_"+paras.divId)&&(isCanvasSupported(paras.divId)?(document.getElementById("h5player_"+paras.divId).style.display="none",document.getElementById("h5canvas_"+paras.divId)&&(document.getElementById("h5canvas_"+paras.divId).style.display="block")):document.getElementById("h5player_"+paras.divId).style.display="block"),isMobleUseBrowserUi||(controlsBar=document.getElementById("control_bar_"+paras.divId),controlsBar||isMobleUseBrowserUi||(controls=new LiveControlsBar(paras)),document.getElementById("player_progress_"+paras.divId)?(document.getElementById("player_progress_played_"+paras.divId).style.width="0%",document.getElementById("player_progress_cached_"+paras.divId).style.width="0%",document.getElementById("player_progress_pointer_"+paras.divId).style.left="-12px",document.getElementById("played_time_timer_"+paras.divId)&&(document.getElementById("played_time_timer_"+paras.divId).innerHTML="00:00"),document.getElementById("played_time_total_"+paras.divId)&&(document.getElementById("played_time_total_"+paras.divId).innerHTML=LivePlayTimeShow.prototype.formatTimeToStr(livePlayerObjs[paras.divId].video.duration)),LivePlayTimeShow.prototype.setPlayedTime(paras.divId,0)):(new LiveProgressBar(paras.divId),new LivePlayTimeShow(paras.divId,75))),"true"===paras.isAutoPlay&&(document.getElementById("h5player_"+paras.divId).autoplay=!0),createLiveHls(paras),isUseAliMonitor&&"undefined"!=typeof goldlog&&goldlog["h5player_"+paras.divId]&&void 0!==goldlog["h5player_"+paras.divId].heartbeatStarted&&(goldlog["h5player_"+paras.divId].heartbeatStarted=!0))}function getHtml5VideoData(){}function datetimeToUnix(e){e=e.replace(/:/g,"-").replace(/ /g,"-").split("-"),e=new Date(Date.UTC(e[0],e[1]-1,e[2],e[3]-8,e[4],e[5]));return parseInt(e.getTime()/1e3)}function getStartLevel(e,a){var i=0,t=e.length,l=6e6,r=1;switch(a){case"lowChapters":i=2e5;break;case"chapters":i=45e4;break;case"chapters2":i=85e4;break;case"chapters3":i=12e5;break;case"chapters4":i=2e6;break;case"chapters5":i=4e6;break;case"chapters6":i=6e6}for(var n=0;n<t;n++)Math.abs(e[n].bitrate-i)<l&&(l=Math.abs(e[n].bitrate-i),r=n);return r}function destroyH5LiveHls(e,a){livePlayerObjs[e.divId]&&(livePlayerObjs[e.divId].updateTime=0),livePlayerObjs[e.divId].adCallsVideo&&livePlayerObjs[e.divId].adCallsVideo.hls&&(livePlayerObjs[e.divId].adCallsVideo.hls.destroy(),livePlayerObjs[e.divId].adCallsVideo.hls.detachMedia(),livePlayerObjs[e.divId].adCallsVideo.hls=null),livePlayerObjs[e.divId].video&&livePlayerObjs[e.divId].video.hls&&(livePlayerObjs[e.divId].video.hls.destroy(),livePlayerObjs[e.divId].video.hls.detachMedia(),livePlayerObjs[e.divId].video.hls=null),liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[e.divId].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1)&&(liveConvivaClient.cleanupSession(livePlayerObjs[e.divId].convivaSessionKey),livePlayerObjs[e.divId].convivaSessionKey=void 0),isUseWsMonitor&&"undefined"!=typeof dataCollector&&dataCollector.destroySession(e.divId),isUseAliMonitor&&"undefined"!=typeof goldlog&&goldlog["h5player_"+e.divId]&&void 0!==goldlog["h5player_"+e.divId].heartbeatStarted&&(goldlog["h5player_"+e.divId].heartbeatStarted=!1),clearTimeout(livePlayerObjs[e.divId].checkCopyrightTimer),livePlayerObjs[e.divId].checkCopyrightTimer=null,document.getElementById("adpause_"+e.divId)&&Array.isArray(livePlayerObjs.adPauseAPI)&&0<livePlayerObjs.adPauseAPI.length&&LiveAdPause.prototype.adPauseShowOrHide(e,"hide"),document.getElementById("adbanner_"+e.divId)&&Array.isArray(livePlayerObjs.adBannerAPI)&&0<livePlayerObjs.adBannerAPI.length&&LiveAdBanner.prototype.adBannerShowOrHide(e,"hide"),livePlayerObjs&&livePlayerObjs[e.divId]&&!a&&(clearInterval(livePlayerObjs[e.divId].titleUpdateTimer),clearInterval(livePlayerObjs[e.divId].loadingErrorTimer)),livePlayerObjs&&livePlayerObjs[e.divId]&&(livePlayerObjs[e.divId].loadingTime=0)}function destroyLivePlayer(a){var e=document.getElementById("h5canvas_"+a),i=document.getElementById("h5player_"+a);if(e&&(document.getElementById(a).removeChild(e),clearInterval(livePlayerObjs[a].canvasDrawTimer)),i)try{document.body.removeChild(i)}catch(e){document.getElementById(a).removeChild(i)}if(livePlayerObjs[a]&&!livePlayerObjs[a].isOldH5player&&destroyH5LiveHls({divId:a}),document.getElementById(a)&&(document.getElementById(a).innerHTML=""),liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[a].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1))try{liveConvivaClient.cleanupSession(livePlayerObjs[a].convivaSessionKey),livePlayerObjs[a].convivaSessionKey=void 0}catch(e){}"undefined"!=typeof goldlog&&goldlog["h5player_"+a]&&void 0!==goldlog["h5player_"+a].heartbeatStarted&&(goldlog["h5player_"+a].heartbeatStarted=!1,goldlog["h5player_"+a].isBindedEvents=!1),"undefined"!=typeof convivaClient&&"undefined"!=typeof convivaSessionKey&&convivaClient&&convivaClient.cleanupSession(convivaSessionKey),"undefined"!=typeof flvConvivaClient&&"undefined"!=typeof flvSessionKey&&flvConvivaClient&&flvConvivaClient.cleanupSession(flvSessionKey)}function playLiveVideo(e){if(document.getElementById("adcalls_bar_"+e.divId)&&document.getElementById(e.divId).removeChild(document.getElementById("adcalls_bar_"+e.divId)),!livePlayerObjs[e.divId].adCallsIsPlayed){livePlayerObjs[e.divId].adCallsIsPlayed=!0,clearInterval(livePlayerObjs[e.divId].adCallsRemainingTimer),destroyH5LiveHls(e);try{"undefined"!=typeof goldlog&&goldlog["h5player_"+e.divId]&&void 0!==goldlog["h5player_"+e.divId].heartbeatStarted&&(goldlog["h5player_"+e.divId].heartbeatStarted=!1,goldlog["h5player_"+e.divId].isBindedEvents=!1)}catch(e){}document.getElementById("loading_"+e.divId)&&(document.getElementById("loading_"+e.divId).style.display="block");var a=!1;livePlayerObjs[e.divId].flv5?LazyLoad.js(livePlayerObjs[e.divId].flv5,function(){a=!0,createLiveHls(e)}):(a=!0,createLiveHls(e)),setTimeout(function(){a||(a=!0,createLiveHls(e))},6e3),isUseConvivaMonitor&&livePlayerObjs[e.divId].convivaSessionCreated&&Array.isArray(livePlayerObjs.adCallsAPI)&&0<livePlayerObjs.adCallsAPI.length&&liveConvivaClient.adEnd(livePlayerObjs[e.divId].convivaSessionKey),livePlayerObjs[e.divId].adBannerIsShow=!1,!livePlayerObjs[e.divId].adBannerGetting&&!livePlayerObjs[e.divId].adBannerPlayed&&livePlayerObjs[e.divId].adBanner&&3<livePlayerObjs[e.divId].adBanner.length&&!isIPad()&&"1"===livePlayerObjs[e.divId].vdn.public&&setTimeout(function(){livePlayerObjs[e.divId].adBannerGetting=!0,loadLiveScript(livePlayerObjs[e.divId].adBanner,parseLiveAdBannerDataFromApi,e,parseLiveAdBannerDataFromApiWhenError,100),livePlayerObjs[e.divId].adBannerGetting&&parseLiveAdBannerDataFromApi(e)},6e4)}}function createLiveVideoLoadingImg(e){var a,i;isMobleUseBrowserUi||(a="",i="https://player.cntv.cn/html5Player/images/cctv_html5player_loading.gif",0<location.href.indexOf("fromapp=cctvnews")&&(i="https://player.cntv.cn/html5Player/images/20190905/cctvnews_loading.gif"),"undefined"!=typeof calledByApp&&"cctvnews"===calledByApp&&(i="https://player.cntv.cn/html5Player/images/20190905/cctvnews_loading.gif"),a='<div id="loading_'+e.divId+'" style="position:absolute;top:42%;margin:0 auto;text-align:center;width:100%;height:42px;cursor:pointer;z-index:20;display:none;">',a+='<img src="'+i+'" style="width:120px;height:42px;display:inline-block;">',a+="</div>",document.getElementById(e.divId).insertAdjacentHTML("afterBegin",a))}function getLiveAdCallsData(e){"object"==typeof e&&e.divId&&!livePlayerObjs.adcallsVdnIsGeted&&(livePlayerObjs.adCallsPlayingNum+=1,getLiveAdCallsDataFromVdn(e,livePlayerObjs.adCallsPlayingNum))}function getLiveAdCallsDataFromVdn(e,a){var i,t,l,r;!Array.isArray(livePlayerObjs.adCallsAPI)||0<=livePlayerObjs.adCallsPlayingNum-livePlayerObjs.adCallsAPI.length||e.divId&&livePlayerObjs[e.divId].adCallsIsPlayed?playLiveVideo(e):(i=(new Date).getTime().toString().slice(0,10),t=l="","function"==typeof getCookie_vdn&&(getCookie_vdn("Fingerprint")?t=getCookie_vdn("Fingerprint"):"function"!=typeof getLivefingerprint2||void 0===getLivefingerprint2||livePlayerObjs.isFingerprintJsLoading||getLivefingerprint2()),l=setH5Str(i+"204947899B86370B879139C08EA3B5E88267"+t).toUpperCase(),r="http://vdnad.apps.cntv.cn/api/getIpadInfoAd.do?pid="+livePlayerObjs.adCallsAPI[a].guid+"&tai=ipad&client=html5","true"===livePlayerObjs.isHttps&&(r="https://vdnad.apps.cntv.cn/api/getIpadInfoAd.do?pid="+livePlayerObjs.adCallsAPI[a].guid+"&tai=ipad&client=html5"),isIPad()?r+="&im=1":r+="&im=0",r+="&tsp="+i+"&vn=2049&vc="+l+"&uid="+t+"&wlan=",r+="&jsonp=liveAdCallsData",livePlayerObjs.adcallsVdnIsGeted=!1,loadLiveScript(r,parseLiveAdCallsDataFromVdn,e,getLiveAdCallsData,6e3),livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].loadTime=0,livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].cdnCode="",isUseAliMonitor&&sendLiveAliAdCallsRequestData(e,"play.1.40"),"string"==typeof livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure&&-1!==livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure.indexOf("http")&&getApiByImage(livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure),"string"==typeof livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure1&&-1!==livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure1.indexOf("http")&&getApiByImage(livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].eventExposure1),"string"==typeof livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startcount&&-1!==livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startcount.indexOf("http")&&getApiByImage(livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startcount))}function getApiByImage(e){var a=new Image;a.style.display="none",a.src=e}function parseLiveAdCallsDataFromVdn(paras){var title="",videoUrl="",defaultStream="",duration=15,cdnCode="",obj=null,adNum,nowAdDuration;livePlayerObjs.adcallsVdnIsGeted=!0;try{var obj=eval("("+liveAdCallsData+")"),videoUrl=obj.hls_url,title=obj.title,defaultStream=obj.default_stream,cdnCode=obj.hls_cdn_info.cdn_code}catch(e){title="error"}"error"===title||videoUrl.length<3||1!=obj.public||0<=livePlayerObjs.adCallsPlayingNum-livePlayerObjs.adCallsAPI.length?(livePlayerObjs.adCallsPlayingNum+=1,getLiveAdCallsDataFromVdn(paras,livePlayerObjs.adCallsPlayingNum)):(livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].title=title,livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].hlsUrl=videoUrl,livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].defaultStream=defaultStream,livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].cdnCode=cdnCode,playLiveAdCalls(paras),adNum=livePlayerObjs.adCallsPlayingNum,livePlayerObjs.adCallsAPI[adNum].duration&&(nowAdDuration=parseInt(livePlayerObjs.adCallsAPI[adNum].duration),0<nowAdDuration&&(nowAdDuration=nowAdDuration<5?5:nowAdDuration<20?parseInt(.9*nowAdDuration):parseInt(.8*nowAdDuration),setTimeout(function(){adNum==livePlayerObjs.adCallsPlayingNum&&playNextLiveAdCalls(paras)},2*nowAdDuration*1e3))))}function parseLiveAdCallsDataFromApi(e){if(e&&!e.divId){var a=0;Array.isArray(e)&&(a=e.length),livePlayerObjs.adCallsAPI=[];for(var i=0;i<a;i++)e[i].guid&&e[i].clickUrl&&(livePlayerObjs.adCallsAPI[i]={},livePlayerObjs.adCallsAPI[i].guid=e[i].guid,livePlayerObjs.adCallsAPI[i].duration=0<+e[i].duration?+e[i].duration:15,livePlayerObjs.adCallsAPI[i].clickUrl=e[i].clickUrl,livePlayerObjs.adCallsAPI[i].eventExposure=e[i].eventExposure,livePlayerObjs.adCallsAPI[i].eventExposure1=e[i].eventExposure1,livePlayerObjs.adCallsAPI[i].startcount=e[i].startcount,livePlayerObjs.adCallsAPI[i].monitorTime=e[i].monitorTime,livePlayerObjs.adCallsAPI[i].middlecount=e[i].middlecount);Array.isArray(livePlayerObjs.adCallsAPI)&&livePlayerObjs.adCallsAPI.length<1&&(livePlayerObjs.adCallsAPI="")}else if(Array.isArray(livePlayerObjs.adCallsAPI)&&0<livePlayerObjs.adCallsAPI.length){setLiveConvivaMetadata(e),setLiveWsMetadata(e),livePlayerObjs.adCallsPlayingNum=0,getLiveAdCallsDataFromVdn(e,livePlayerObjs.adCallsPlayingNum);for(var t=livePlayerObjs.adCallsAPI.totalLength=0;t<livePlayerObjs.adCallsAPI.length;t++)livePlayerObjs.adCallsAPI[t]&&0<livePlayerObjs.adCallsAPI[t].duration&&(livePlayerObjs.adCallsAPI.totalLength+=+livePlayerObjs.adCallsAPI[t].duration);0<+livePlayerObjs.adCallsAPI.totalLength&&(livePlayerObjs[e.divId].adCallsTimer=setTimeout(function(){livePlayerObjs[e.divId].adCallsIsPlayed||playLiveVideo(e)},2*livePlayerObjs.adCallsAPI.totalLength*1e3))}else livePlayerObjs.adCallsAPI="",playLiveVideo(e)}function parseLiveAdCallsDataFromApiWhenError(e){livePlayerObjs.adCallsAPI&&Array.isArray(livePlayerObjs.adCallsAPI)&&0<livePlayerObjs.adCallsAPI.length||playLiveVideo(e)}function playNextLiveAdCalls(e,a){a=a||window.event;livePlayerObjs[e.divId].adCallsIsPlayed||document.getElementById("h5player_"+e.divId).currentTime<3&&a&&"ended"===a.type||(isUseAliMonitor&&sendLiveAliAdCallsRequestData(e,"play.1.43"),livePlayerObjs.adCallsPlayingNum+=1,getLiveAdCallsDataFromVdn(e,livePlayerObjs.adCallsPlayingNum))}function playLiveAdCalls(e){destroyH5LiveHls(e),createAdCallsLiveHls(e),livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startLoad=Date.parse(new Date),0===livePlayerObjs.adCallsPlayingNum&&isUseConvivaMonitor&&(livePlayerObjs[e.divId].convivaSessionCreated?liveConvivaClient.adStart(livePlayerObjs[e.divId].convivaSessionKey,Conviva.Client.AdStream.SEPARATE,Conviva.Client.AdPlayer.SEPARATE,Conviva.Client.AdPosition.PREROLL):setTimeout(function(){livePlayerObjs[e.divId].convivaSessionCreated&&liveConvivaClient.adStart(livePlayerObjs[e.divId].convivaSessionKey,Conviva.Client.AdStream.SEPARATE,Conviva.Client.AdPlayer.SEPARATE,Conviva.Client.AdPosition.PREROLL)},400)),livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].loadTime=0,isUseAliMonitor&&sendLiveAliAdCallsRequestData(e,"play.1.41")}function parseLiveAdBannerDataFromApi(e){if(e&&!e.divId){var a=0;Array.isArray(e)&&(a=e.length),livePlayerObjs.adBannerAPI=[];for(var i=0;i<a;i++)e[i].url&&(0<e[i].url.indexOf(".mp4")||0<e[i].url.indexOf(".m3u8"))||e[i].url&&(livePlayerObjs.adBannerAPI[i]={},livePlayerObjs.adBannerAPI[i].url=e[i].url,livePlayerObjs.adBannerAPI[i].clickUrl=e[i].clickUrl,livePlayerObjs.adBannerAPI[i].eventExposure=e[i].eventExposure,livePlayerObjs.adBannerAPI[i].eventExposure1=e[i].eventExposure1);Array.isArray(livePlayerObjs.adBannerAPI)&&livePlayerObjs.adBannerAPI.length<1&&(livePlayerObjs.adBannerAPI="")}else Array.isArray(livePlayerObjs.adBannerAPI)&&0<livePlayerObjs.adBannerAPI.length?(livePlayerObjs[e.divId].adBannerIsShow=!0,document.getElementById("adbanner_"+e.divId)?LiveAdBanner.prototype.adBannerShowOrHide(e,"show"):new LiveAdBanner(e)):(livePlayerObjs.adBannerAPI="",livePlayerObjs[e.divId].adBannerIsShow=!1,livePlayerObjs[e.divId].adBannerPlayed||(livePlayerObjs[e.divId].adBannerPlayed=!0,setTimeout(function(){livePlayerObjs[e.divId].adBannerGetting=!0,loadLiveScript(livePlayerObjs[e.divId].adBanner,parseLiveAdBannerDataFromApi,e,parseLiveAdBannerDataFromApiWhenError,100),livePlayerObjs[e.divId].adBannerGetting&&parseLiveAdBannerDataFromApi(e)},12e4)))}function parseLiveAdBannerDataFromApiWhenError(e){livePlayerObjs.adBannerAPI="",livePlayerObjs[e.divId].adBannerIsShow=!1,livePlayerObjs[e.divId].adBannerPlayed||(livePlayerObjs[e.divId].adBannerPlayed=!0,setTimeout(function(){livePlayerObjs[e.divId].adBannerGetting=!0,loadLiveScript(livePlayerObjs[e.divId].adBanner,parseLiveAdBannerDataFromApi,e,parseLiveAdBannerDataFromApiWhenError,100),livePlayerObjs[e.divId].adBannerGetting&&parseLiveAdBannerDataFromApi(e)},12e4))}function initLiveH5Player(a){if(livePlayerObjs[a.divId].video.playing=!1,livePlayerObjs[a.divId].adCallsIsPlayed=!1,"hw"===a.playerType){var e=document.getElementById("error_msg_"+a.divId);if(e&&"none"!==e.style.display&&-1===e.innerText.indexOf("鍚�"))return}var i,e=document.getElementById("h5player_"+a.divId),e=document.getElementById("h5player_"+a.divId);livePlayerObjs[a.divId].adCalls&&3<livePlayerObjs[a.divId].adCalls.length&&!isIPad()&&"1"===livePlayerObjs[a.divId].vdn.public?(livePlayerObjs.adCallsPlayingNum=0,e.addEventListener("ended",playNextLiveAdCalls.bind(null,a),!1),e.addEventListener("play",liveAdCallsStartPlay.bind(null,a),!1),loadLiveScript(livePlayerObjs[a.divId].adCalls,parseLiveAdCallsDataFromApi,a,parseLiveAdCallsDataFromApiWhenError,100,6e3)):("liveback"===a.playerType&&(a.st&&a.et||a.start&&a.end)?(createLivebackPlayer(a),a.st="",a.et=""):playLiveVideo(a),!isIPad()&&"true"===a.hasBarrage&&!isLiveBarrageJsLoaded&&a.barrageitemID&&a.barrageApp&&(i=3,"undefined"!=typeof barrageRows&&(i=barrageRows),LazyLoad.js("//js.player.cntv.cn/creator/html5player_barrage.js",function(){var e;isLiveBarrageJsLoaded=!0,"undefined"!=typeof Html5PlayerBarrage&&(e={itemid:a.barrageitemID,app:a.barrageApp,numOfRows:i,speed:1},new Html5PlayerBarrage(a.divId,e))})))}function getRandom(){return(new Date).getTime()}function liveCheckVdnReturnMsg(e,a){var i="",t=!0,l="video";return"no"===e.ack?(i=liveStatusMsg.ack_no,t=!1):"0"===e.status?(i=liveStatusMsg.status_0,t=!1):i="0"===e.public?(e.video_protect&&e.audio_protect&&(i=liveStatusMsg["video_protect_"+e.video_protect+"_and_audio_protect_"+e.audio_protect],"0"===e.public&&"3"===e.audio_protect&&(l=e.hls_url&&e.hls_url.hls6||a?"audio":(i="","video"))),i||liveStatusMsg.public_0_default):"",{msg:i,hasHlsAddr:t,hlsType:l}}function parseLiveDataFromVdnWhenError(e,a){var i,t;livePlayerObjs[e.divId].isErrorDone||(livePlayerObjs[e.divId].isErrorDone=!0,isUseConvivaMonitor&&("string"!=typeof livePlayerObjs[e.divId].video.url||livePlayerObjs[e.divId].video.url.length<10)&&(livePlayerObjs[e.divId].video.url="",createH5LivePlayerElement(e.divId),a||(setLiveConvivaMetadata(e,"VDN_REQUEST_FAILED"),setLiveWsMetadata(e,"VDN_REQUEST_FAILED"),setCntvLiveMetadata(e,"690003","VDN_REQUEST_FAILED")),"cctv1"!==e.t&&showLivePlayerErrorMsg(e)),"cctv1"===e.t&&(t=i="",t=(a=Math.floor(100*Math.random()))<23?(i="http://cctvalih5c.v.myalicdn.com/live/cdrmcctv1_1/index.m3u8","LIVE-HLS-CDN-ALI"):23<=a&&a<53?(i="http://cctvtxyh5c.liveplay.myqcloud.com/live/cdrmcctv1_1/index.m3u8","LIVE-HLS-CDN-TXY"):53<=a&&a<76?(i="http://cctvcnch5c.v.wscdns.com/live/cdrmcctv1_1/index.m3u8","LIVE-HLS-CDN-CNC2"):(i="http://cctvksh5c.v.kcdnvip.com/live/cdrmcctv1_1/index.m3u8","LIVE-HLS-CDN-KS"),isIPad()&&(i+="?BR=hd"),"true"===e.isHttps&&(i=i.replace("http://","https://")),(a={ack:"yes",public:"1",default_stream:"",client_sid:"",hls_url:{}}).hls_url.hls2=i,a.hls_cdn_info={},a.hls_cdn_info.cdn_code=t,a.lc={},a.lc.ip="",a.lc.country_code="",a.lc.provice_code="",a.lc.city_code="",a.lc.isp_code="",html5VideoData=JSON.stringify(a),parseLiveDataFromVdn(e)))}function parseLiveDataFromVdn(paras,isDirectVideoUrl){var obj={},videoUrl="",errStr="";void 0!==livePlayerObjs[paras.divId].vdnTimer&&clearTimeout(livePlayerObjs[paras.divId].vdnTimer),livePlayerObjs[paras.divId].isErrorDone=!0;var playerUrl="http://js.player.cntv.cn/creator/liveplayer_controls.js",checkCount;if("true"===paras.isHttps&&(playerUrl="https://js.player.cntv.cn/creator/liveplayer_controls.js"),!isDirectVideoUrl){try{obj=eval("("+html5VideoData+")"),"yes"!==obj.ack.toLowerCase()||"0"===obj.status?(setLiveConvivaMetadata(paras,"VDN_RESPONSE_EMPTY"),setLiveWsMetadata(paras,"VDN_RESPONSE_EMPTY"),"undefined"!=typeof goldlog&&goldlog["h5player_"+paras.divId]&&void 0!==goldlog["h5player_"+paras.divId].heartbeatStarted&&(goldlog["h5player_"+paras.divId].heartbeatStarted=!1),setCntvLiveMetadata(paras,"690003","VDN_RESPONSE_EMPTY")):(livePlayerObjs[paras.divId].vdn.public=obj.public,livePlayerObjs[paras.divId].vdn.cdnName=obj.hls_cdn_info.cdn_code,livePlayerObjs[paras.divId].vdn.sid=obj.client_sid,livePlayerObjs[paras.divId].vdn.vdnIP=obj.lc.ip,livePlayerObjs[paras.divId].vdn.vdnCountryCode=obj.lc.country_code,livePlayerObjs[paras.divId].vdn.vdnProvinceCode=obj.lc.provice_code,livePlayerObjs[paras.divId].vdn.vdnCityCode=obj.lc.city_code,livePlayerObjs[paras.divId].vdn.vdnISPCode=obj.lc.isp_code,videoUrl=isLiveSdrmPlayer(paras)&&obj.flv_url&&obj.flv_url.flv1?obj.flv_url.flv1:obj.hls_url.hls2,livePlayerObjs[paras.divId].video.url=videoUrl,obj.hls_url.hls6&&(livePlayerObjs[paras.divId].video.defaultAudioUrl=obj.hls_url.hls6),"0"!==obj.public||isTimeshift(paras)||"liveback"===paras.playerType||(errStr="鐢变簬鎾嚭瀹夋帓鍙樻洿锛屾殏涓嶆敮鎸佹挱鏀捐鏃舵鍐呭",isUseConvivaMonitor&&createFlvHtml5ConvivaEvent(paras),"undefined"!=typeof LiveControlsBar||livePlayerObjs.isLoadLiveJs?createH5LivePlayerElement(paras.divId):(livePlayerObjs.isLoadLiveJs=!0,LazyLoad.js(playerUrl,function(){createH5LivePlayerElement(paras.divId)}))),obj.default_stream&&(livePlayerObjs[paras.divId].video.defaultStream=obj.default_stream),currentLiveTimeData=null,obj.flv_url&&obj.flv_url.flv5&&(livePlayerObjs[paras.divId].flv5=obj.flv_url.flv5))}catch(e){errStr="retry",obj={},setLiveConvivaMetadata(paras,"VDN_RESPONSE_PARSE_ERROR"),setLiveWsMetadata(paras,"VDN_RESPONSE_PARSE_ERROR"),setCntvLiveMetadata(paras,"690003","VDN_RESPONSE_PARSE_ERROR"),"undefined"!=typeof goldlog&&goldlog["h5player_"+paras.divId]&&void 0!==goldlog["h5player_"+paras.divId].heartbeatStarted&&(goldlog["h5player_"+paras.divId].heartbeatStarted=!1)}var errObj=null;if("retry"!==errStr&&"object"==typeof obj&&obj&&"liveback"!==paras.playerType&&(errObj=liveCheckVdnReturnMsg(obj),"object"==typeof errObj&&errObj&&(errStr=errObj.msg,"audio"===errObj.hlsType&&obj.hls_url&&obj.hls_url.hls6&&(livePlayerObjs[paras.divId].video.audioUrl=obj.hls_url.hls6))),"string"==typeof errStr&&1<errStr.length&&("retry"===errStr&&"cctv1"===paras.t?(livePlayerObjs[paras.divId].isErrorDone=!1,parseLiveDataFromVdnWhenError(paras,errStr)):"retry"===errStr?showLivePlayerErrorMsg(paras):(showLivePlayerMsg(paras,errStr),setTimeout(function(){try{var e=document.getElementById("loading_"+paras.divId);e&&document.getElementById(paras.divId)&&(e.style.display="none")}catch(e){}},1200)),livePlayerObjs[paras.divId]&&livePlayerObjs[paras.divId].video&&!livePlayerObjs[paras.divId].video.audioUrl&&!livePlayerObjs[paras.divId].video.url))return}createH5LivePlayerElement(paras.divId),livePlayerObjs.isLoadLiveJs?"undefined"!=typeof LiveControlsBar?(clearInterval(livePlayerObjs[paras.divId].loadLiveTimer),initLiveH5Player(paras)):(checkCount=0,livePlayerObjs[paras.divId].loadLiveTimer=setInterval(function(){50<++checkCount&&clearInterval(livePlayerObjs[paras.divId].loadLiveTimer),"undefined"!=typeof LiveControlsBar&&(clearInterval(livePlayerObjs[paras.divId].loadLiveTimer),initLiveH5Player(paras))},200)):(livePlayerObjs.isLoadLiveJs=!0,loadLiveScript(playerUrl,initLiveH5Player,paras)),isUseAliMonitor&&(livePlayerObjs[paras.divId].aliInited=!0,setCntvLiveMetadata(paras,"init"))}function createH5LivePlayerElement(e){var a,i,t,l=document.getElementById(e);!document.getElementById("h5player_"+e)&&isLiveHlsJsSupported()&&((a=document.createElement("video")).controls=!!isMobleUseBrowserUi,a.muted=!1,a.volume=.5,a.autoplay=!0,a.setAttribute("webkit-playsinline","webkit-playsinline"),a.setAttribute("playsinline",""),a.setAttribute("controlslist","nodownload"),a.setAttribute("x-webkit-airplay","allow"),a.setAttribute("x5-playsinline",""),a.preload=!0,a.setAttribute("id","h5player_"+e),a.style.width="100%",a.style.height="100%",a.style.left="0px",a.style.top="0px",a.style.backgroundColor="#000",i=document.getElementById("error_msg_"+e),isIPad()?(l=document.getElementById(e),document.getElementById("h5canvas_"+e)||((t=document.createElement("canvas")).id="h5canvas_"+e,t.style.width="100%",t.style.height="100%",t.style.display="none",t.width=l.clientWidth*window.devicePixelRatio,t.height=l.clientHeight*window.devicePixelRatio,document.getElementById(e).appendChild(t)),t=document.getElementById("h5canvas_"+e),isCanvasSupported(e)?(i&&"none"!==i.style.display?t.style.display="none":t.style.display="block",a.style.display="none",document.body.appendChild(a)):(l.removeChild(t),i&&"none"!==i.style.display?a.style.display="none":a.style.display="block",l.appendChild(a))):(i&&"none"!==i.style.display?a.style.display="none":a.style.display="block",l.appendChild(a)),isMobleUseBrowserUi||initH5LivePlayerEvents(e))}function initH5LivePlayerEvents(t){var y,a=document.getElementById("h5player_"+t);livePlayerObjs[t].updateTime=0,["play","playing","canplay","canplaythrough","durationchange","emptied","abort","ended","pause","seeked","seeking","stalled","waiting","error","timeupdate","contextmenu"].forEach(function(e){liveAddListener(a,e,captureLive)}),window.addEventListener("blur",function(){var e=document.getElementById("player_pagefullscreen_"+t);(0<navigator.userAgent.toLowerCase().indexOf("micromessenger")||0<navigator.userAgent.toLowerCase().indexOf("huaweibrowser")||0<navigator.userAgent.toLowerCase().indexOf("weibo"))&&e&&"true"===e.getAttribute("isPageFullscreen")&&(e.setAttribute("isPageFullscreen","true"),LiveMobileFullscreenBtn.prototype.pageFullscreenClick(t,"yes"))},!1),isIPad()&&(document.addEventListener("visibilitychange",function(){var e,a=document.hidden,i=document.getElementById("h5player_"+t);if(a){if(i){if(i.pause(),livePlayerObjs[t].LiveCanplaythroughTime=Date.parse(new Date)/1e3,isCanvasSupported(t)&&clearInterval(livePlayerObjs[t].canvasDrawTimer),liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[t].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1))try{liveConvivaClient.cleanupSession(livePlayerObjs[t].convivaSessionKey),livePlayerObjs[t].convivaSessionKey=void 0}catch(e){}"undefined"!=typeof goldlog&&goldlog["h5player_"+t]&&void 0!==goldlog["h5player_"+t].heartbeatStarted&&(goldlog["h5player_"+t].heartbeatStarted=!1),livePlayerObjs[t].isLive&&livePlayerObjs&&livePlayerObjs[t]&&(clearInterval(livePlayerObjs[t].titleUpdateTimer),clearInterval(livePlayerObjs[t].loadingErrorTimer))}}else i&&((e=document.getElementById("error_msg_"+t))?document.getElementById("loading_"+t)&&(document.getElementById("loading_"+t).style.display="none"):(/(iphone|ipad)/i.test(navigator.userAgent)&&/(safari)/i.test(navigator.userAgent)&&((a=document.getElementById("player_pagefullscreen_"+t))&&"true"===a.getAttribute("isPageFullscreen")&&(a.setAttribute("isPageFullscreen","true"),LiveMobileFullscreenBtn.prototype.pageFullscreenClick(t,"yes"))),livePlayerObjs[t].isLive&&livePlayerObjs[t].end&&0<+livePlayerObjs[t].end&&(livePlayerObjs[t].end=parseInt(livePlayerObjs[t].end)+Date.parse(new Date)/1e3-livePlayerObjs[t].LiveCanplaythroughTime),livePlayerObjs[t].isLive&&livePlayerObjs[t].LiveCanplaythroughTime&&Date.parse(new Date)/1e3-livePlayerObjs[t].LiveCanplaythroughTime>livePlayerObjs.liveRetryTimeout?(e&&"none"!==e.style.display||(document.getElementById("loading_"+t)&&(document.getElementById("loading_"+t).style.display="block"),createLiveHls(livePlayerObjs[t])),livePlayerObjs[t].LiveCanplaythroughTime=Date.parse(new Date)/1e3):(isUseConvivaMonitor&&(setLiveConvivaMetadata(livePlayerObjs[t]),setLiveWsMetadata(livePlayerObjs[t])),"undefined"!=typeof goldlog&&goldlog["h5player_"+t]&&void 0!==goldlog["h5player_"+t].heartbeatStarted&&(goldlog["h5player_"+t].heartbeatStarted=!0),i.play(),/(weibo)/i.test(navigator.userAgent)?isCanvasSupported(t)&&"undefined"!=typeof canvasLive&&canvasLive(t):setTimeout(function(){var e,a;/(iphone|ipad)/i.test(navigator.userAgent)?(livePlayerObjs[t].isLive||i.currentTime,i.load(),i.play(),!livePlayerObjs[t].isLive&&livePlayerObjs[t].playedPos&&0<+livePlayerObjs[t].playedPos&&setTimeout(function(){i.currentTime=livePlayerObjs[t].playedPos},800)):(e=document.body.clientWidth||window.innerWidth,a=document.documentElement.clientHeight||window.innerHeight,(e=parseInt(e))/(a=parseInt(a))<1?a=(e=Math.abs(livePlayerObjs[t].w-e)<50?livePlayerObjs[t].w:e)*livePlayerObjs[t].h/livePlayerObjs[t].w:e=(a=Math.abs(livePlayerObjs[t].h-a)<50?livePlayerObjs[t].w:a)*livePlayerObjs[t].w/livePlayerObjs[t].h,document.getElementById(t).style.width=e+"px",document.getElementById(t).style.height=a+"px",isCanvasSupported(t)&&"undefined"!=typeof canvasLive&&canvasLive(t))},350),livePlayerObjs[t].isLive&&(LiveTileShow.prototype.updateTitleAndCheckCopyright(livePlayerObjs[t]),LiveTileShow.prototype.checkLoadingError(livePlayerObjs[t])))))},!1),y=t,window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){if(livePlayerObjs[y]&&"false"===livePlayerObjs[y].rotation){var e=document.getElementById("player_pagefullscreen_"+y);e&&"true"===e.getAttribute("isPageFullscreen")&&(e.setAttribute("isPageFullscreen","true"),LiveMobileFullscreenBtn.prototype.pageFullscreenClick(y,"yes"))}else{if(180===window.orientation||0===window.orientation){for(var l=document.getElementsByTagName("canvas"),a=document.getElementsByTagName("video"),r=l.length,n=null,d=null,s="",o=null,v="false",i=0;i<a.length;i++)-1!==a[i].getAttribute("id").indexOf("h5player_")&&(s=a[i].getAttribute("id").replace("h5player_",""),(t=document.getElementById("player_pagefullscreen_"+s)).setAttribute("isByClick","true"),setTimeout(function(){t.setAttribute("isByClick","false")},500));setTimeout(function(){var e=document.body.clientWidth||window.innerWidth,a=document.documentElement.clientHeight||window.innerHeight;(e=parseInt(e))/(a=parseInt(a))<1?("undefined"!=typeof playerOriginalWidth&&playerOriginalWidth&&(e*=playerOriginalWidth),a=e*livePlayerObjs[s].h/livePlayerObjs[s].w):e=a*livePlayerObjs[s].w/livePlayerObjs[s].h;for(var i,t=0;t<r;t++)-1!==l[t].getAttribute("id").indexOf("h5canvas_")&&(n=l[t],s=l[t].getAttribute("id").replace("h5canvas_",""),i=document.getElementById("control_bar_"+s),(o=document.getElementById("player_pagefullscreen_"+s))&&(v=o.getAttribute("isPageFullscreen")),d=document.getElementById(s),"true"===v?(LiveMobileFullscreenBtn.prototype.pageFullsreenToCanvas(n,s),(document.body.clientWidth||window.innerWidth)/(document.documentElement.clientHeight||window.innerHeight)<1?i.style.bottom="80px":i.style.bottom="0px"):(d.style.width=e+"px",d.style.height=a+"px",LiveMobileFullscreenBtn.prototype.pageFullsreenToCanvas(n,s,"nofull"),i.style.bottom="0px"))},380)}if(90===window.orientation||-90===window.orientation){for(var t,l=document.getElementsByTagName("canvas"),a=document.getElementsByTagName("video"),r=l.length,n=null,d=null,s="",o=null,v="false",i=0;i<a.length;i++)-1!==a[i].getAttribute("id").indexOf("h5player_")&&(s=a[i].getAttribute("id").replace("h5player_",""),(t=document.getElementById("player_pagefullscreen_"+s)).setAttribute("isByClick","true"),setTimeout(function(){t.setAttribute("isByClick","false")},500));setTimeout(function(){var e=document.body.clientWidth||window.innerWidth,a=document.documentElement.clientHeight||window.innerHeight;(e=parseInt(e))/(a=parseInt(a))<1?("undefined"!=typeof playerOriginalWidth&&playerOriginalWidth&&(e*=playerOriginalWidth),a=e*livePlayerObjs[s].h/livePlayerObjs[s].w):e=a*livePlayerObjs[s].w/livePlayerObjs[s].h;for(var i,t=0;t<r;t++)-1!==l[t].getAttribute("id").indexOf("h5canvas_")&&(n=l[t],s=l[t].getAttribute("id").replace("h5canvas_",""),i=document.getElementById("control_bar_"+s),o=document.getElementById("player_pagefullscreen_"+s),"true"===(v=o?o.getAttribute("isPageFullscreen"):v)?(LiveMobileFullscreenBtn.prototype.pageFullsreenToCanvas(n,s),(document.body.clientWidth||window.innerWidth)/(document.documentElement.clientHeight||window.innerHeight)<1?i.style.bottom="80px":i.style.bottom="0px"):((d=document.getElementById(s)).style.width=e+"px",d.style.height=a+"px",LiveMobileFullscreenBtn.prototype.pageFullsreenToCanvas(n,s,"nofull"),i.style.bottom="0px"))},380)}}},!1))}function removeH5LivePlayerEvents(e){var a=document.getElementById("h5player_"+e);["play","playing","canplay","canplaythrough","durationchange","emptied","abort","ended","pause","seeked","seeking","stalled","waiting","error","timeupdate","contextmenu"].forEach(function(e){a.removeEventListener(e,captureLive,!1)})}function captureLive(e){if(e.target&&e.target.id){var a,i=e.target.id.replace("h5player_","");if("canplaythrough"==e.type&&(livePlayerObjs[i].LiveCanplaythroughTime=Date.parse(new Date)/1e3,document.getElementById("loading_"+i)&&(document.getElementById("loading_"+i).style.display="none"),document.getElementById("h5canvas_"+i)&&canvasLive(i),livePlayerObjs[i].startCreatHls&&!isIPad()&&setTimeout(function(){document.getElementById("h5player_"+i)&&(document.getElementById("h5player_"+i).style.visibility="visible")},330),livePlayerObjs[i].startCreatHls=!1),/macintosh|mac os x/i.test(navigator.userAgent)&&/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)&&"timeupdate"==e.type&&livePlayerObjs[i].updateTime++,("play"==e.type||"playing"==e.type||"timeupdate"==e.type&&(/(iphone|ipad)/i.test(navigator.userAgent)||3<livePlayerObjs[i].updateTime&&/macintosh|mac os x/i.test(navigator.userAgent)&&/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)))&&(livePlayerObjs[i].video.playing=!0,livePlayerObjs[i].isNoError=!0,"undefined"!=typeof LivePlayOrPauseBtn&&LivePlayOrPauseBtn.prototype.switchPlayOrPauseBtn(i,"play"),document.getElementById("loading_"+i)&&(document.getElementById("loading_"+i).style.display="none")),("waiting"==e.type||"pause"==e.type||"ended"==e.type||"error"==e.type||"stalled"==e.type&&/macintosh|mac os x/i.test(navigator.userAgent)&&/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent))&&(livePlayerObjs[i].video.playing=!1,"undefined"!=typeof LivePlayOrPauseBtn&&"stalled"!==e.type&&LivePlayOrPauseBtn.prototype.switchPlayOrPauseBtn(i,"pause"),("waiting"==e.type||"seeking"==e.type&&0<navigator.userAgent.toLowerCase().indexOf("micromessenger"))&&document.getElementById("loading_"+i)&&(document.getElementById("loading_"+i).style.display="block",livePlayerObjs[i].startCreatHls&&!isIPad()&&(document.getElementById("h5player_"+i).style.visibility="hidden")),"ended"==e.type&&document.getElementById("player_progress_cached_"+i)&&(document.getElementById("player_progress_cached_"+i).style.width="0%"),"ended"==e.type&&(livePlayerObjs[i].isEnd=!0,liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[i].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1)&&(liveConvivaClient.cleanupSession(livePlayerObjs[i].convivaSessionKey),livePlayerObjs[i].convivaSessionKey=void 0),"undefined"!=typeof goldlog&&goldlog["h5player_"+i]&&void 0!==goldlog["h5player_"+i].heartbeatStarted&&(goldlog["h5player_"+i].heartbeatStarted=!1))),"durationchange"==e.type&&isIPad()&&livePlayerObjs[i].video.duration&&((a=document.getElementById("h5player_"+i))&&0<a.duration&&Math.abs(1-a.duration/livePlayerObjs[i].video.duration)<.1&&Math.ceil(a.duration)!=Math.ceil(livePlayerObjs[i].video.duration)&&(livePlayerObjs[i].video.duration=a.duration,document.getElementById("played_time_total_"+i)&&(document.getElementById("played_time_total_"+i).innerHTML=LivePlayTimeShow.prototype.formatTimeToStr(livePlayerObjs[i].video.duration)))),"play"==e.type&&document.querySelectorAll){var t=document.querySelectorAll("video,audio"),l=t.length;if(0<l-1)for(var r=0;r<l;r++)"h5player_"+i!==t[r].id?t[r].pause():isCanvasSupported(i)&&"undefined"!=typeof canvasLive&&canvasLive(i)}}e&&"contextmenu"===e.type&&(e.preventDefault?e.preventDefault():e.returnValue=!1,document.getElementById("contextmenu_"+i)&&LiveContextmenu.prototype.showOrHideContextmenu(livePlayerObjs[i],"show",e))}function liveAddListener(e,a,i){e.attachEvent?e.attachEvent("on"+a,i):e.addEventListener&&e.addEventListener(a,i,!1)}function loadLiveScript(e,a,i,t,l,r){var n=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.onload=function(){"function"==typeof a&&(l&&l<1e3?setTimeout(function(){a(i)},l):a(i))},d.onerror=function(){"function"==typeof t&&t(i)},d.src=e,n.appendChild(d),t&&(l&&1e3<=l||r&&1e3<=r)&&(r=1e3<=l?l:r,!t||"parseLiveDataFromVdnWhenError"!==t.name&&"checkLivebackCopyrightWhenError"!==t.name?setTimeout(function(){t(i)},r):livePlayerObjs[i.divId].vdnTimer=setTimeout(function(){t(i)},r))}function liveChangeWindowToNormal(e){var a=e.replace("flashplayer_",""),i=document.getElementById(a),t=document.getElementById(e),e="";return i&&t?(t.getAttribute("originalStyle")&&3<t.getAttribute("originalStyle").length?e=t.getAttribute("originalStyle"):(e=i.getAttribute("style"),t.setAttribute("originalStyle",e)),i.style.cssText=e,t.setAttribute("isPageFullsreen","false"),document.body.style.overflow="visible","undefined"!=typeof tellPageWhenNomalScreen&&tellPageWhenNomalScreen(a),"true"):"false"}function liveChangeWindowToWebFullSceen(e){var a=e.replace("flashplayer_",""),i=document.getElementById(a),t=document.getElementById(e),e="";return i&&t?(t.getAttribute("originalStyle")&&3<t.getAttribute("originalStyle").length?(e=t.getAttribute("originalStyle"),i.style.cssText=""):(e=i.getAttribute("style"),t.setAttribute("originalStyle",e)),i.style.position="fixed",i.style.zIndex="999",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.width="100%",i.style.height="auto",i.style.maxHeight="100%",t.setAttribute("isPageFullsreen","true"),document.body.style.overflow="hidden","undefined"!=typeof tellPageWhenFullScreen&&tellPageWhenFullScreen(a),"true"):"false"}function initLiveConviva(e){var a,i;"undefined"!=typeof Conviva&&(i=new Conviva.SystemSettings,a=new Conviva.SystemInterface(new Conviva.Impl.Html5Time,new Conviva.Impl.Html5Timer,new Conviva.Impl.Html5Http,new Conviva.Impl.Html5Storage,new Conviva.Impl.Html5Metadata,new Conviva.Impl.Html5Logging),systemFactory=new Conviva.SystemFactory(a,i),(i=new Conviva.ClientSettings("03798c7108aa9ad57f419fa2a1c7e155f38a6343")).gatewayUrl="https://cws-cctv.conviva.com",liveConvivaClient=new Conviva.Client(i,systemFactory),liveConvivaPlayerStateManager=liveConvivaClient.getPlayerStateManager())}function createFlvHtml5ConvivaEvent(e){var a={assetName:e.t,device:"[WEB.HTML5].[HTML5].["+livePlayerVer+"]",client:"["+livePlayerObjs[e.divId].vdn.vdnISPCode+"].["+livePlayerObjs[e.divId].vdn.vdnCityCode+"].["+livePlayerObjs[e.divId].vdn.vdnProvinceCode+"].["+livePlayerObjs[e.divId].vdn.vdnCountryCode+"].["+livePlayerObjs[e.divId].vdn.vdnIP+"]",voice:"no"},i=setInterval(function(){liveConvivaClient&&"undefined"!=typeof Conviva&&(clearInterval(i),liveConvivaClient.sendCustomEvent(Conviva.Client.NO_SESSION_KEY,"NO_COPYRIGHT_EVENT",a))},50)}function createLiveConvivaSession(e,a){if(liveConvivaClient&&liveConvivaPlayerStateManager){if(liveConvivaClient&&liveConvivaClient.cleanupSession&&void 0!==livePlayerObjs[e.divId].convivaSessionKey&&(!Array.isArray(livePlayerObjs.adCallsAPI)||livePlayerObjs.adCallsAPI.length<1))try{liveConvivaClient.cleanupSession(livePlayerObjs[e.divId].convivaSessionKey),livePlayerObjs[e.divId].convivaSessionKey=void 0}catch(e){}var i=new Conviva.ContentMetadata;livePlayerObjs[e.divId].video.url||(i.streamUrl=livePlayerObjs[e.divId].vdn.vdnUrl),i.streamType=Conviva.ContentMetadata.StreamType.LIVE;var t={};"VDN_REQUEST_FAILED"===a?(i.defaultResource="",i.streamUrl=livePlayerObjs[e.divId].vdn.vdnUrl,t.cdnCode=""):(i.defaultResource=livePlayerObjs[e.divId].vdn.cdnName,i.streamUrl=livePlayerObjs[e.divId].video.url,t.cdnCode=livePlayerObjs[e.divId].vdn.cdnName),i.assetName=e.t,isIPad()?(liveConvivaPlayerStateManager.setBitrateKbps(900),i.defaultBitrateKbps=Math.floor(900),t.playAMR="F"):(liveConvivaPlayerStateManager.setBitrateKbps(1780),i.defaultBitrateKbps=Math.floor(1780),t.playAMR="T");var l=document.getElementById("error_msg_"+e.divId);livePlayerObjs[e.divId].video&&livePlayerObjs[e.divId].video.audioUrl&&l&&0<l.innerText.indexOf("鍚�")?(t.streamProtocol="hls6",i.applicationName="HTML5_LIVE_AUDIO_PLAYER",i.streamUrl=livePlayerObjs[e.divId].video.audioUrl):(t.streamProtocol="HLS","liveback"===e.playerType?i.applicationName="HTML5_LIVEBACK_DRM_PLAYER":livePlayerObjs[e.divId]&&livePlayerObjs[e.divId].video&&livePlayerObjs[e.divId].video.url&&0<livePlayerObjs[e.divId].video.url.indexOf("begintimeabs=")?i.applicationName="HTML5_LIVESHIFT_DRM_PLAYER":i.applicationName="HTML5_CDN_LIVE_DRM_PLAYER"),"undefined"!=typeof userid&&"string"==typeof userid?i.viewerId=userid:i.viewerId=getCookie_vdn("Fingerprint")?getCookie_vdn("Fingerprint"):"",isIPad()?t.playScene="HTML5.PHD":t.playScene="HTML5.PC",t.appName="WEB.HTML5",t.channel=e.t,t.contentId=e.t;l=location.href.split("/");1<l.length&&(t.site=l[2]),t.playerVersion=livePlayerVer,t.referURL=location.href.substr(0,127),t.videoProfileType="VDN",isLiveEnableP2p&&livePlayerObjs[e.divId].isP2p?t.P2PStyle="T":t.P2PStyle="F",t.streamMBR="1",t.streamReload="F",t.cdncip="0",t.cdnsip="0",t.crbPath="",/(iphone|ipad)/i.test(navigator.userAgent)?t.convivaPrefix="HTML5.IOS":/(Android)/i.test(navigator.userAgent)?t.convivaPrefix="HTML5.AND":/windows|win32/i.test(navigator.userAgent)?t.convivaPrefix="HTML5.WIN":/macintosh|mac os x/i.test(navigator.userAgent)?t.convivaPrefix="HTML5.MAC":t.convivaPrefix="",t.vdnSID=livePlayerObjs[e.divId].vdn.sid,t.vdnIP=livePlayerObjs[e.divId].vdn.vdnIP,t.vdnCountryCode=livePlayerObjs[e.divId].vdn.vdnCountryCode,t.vdnProvinceCode=livePlayerObjs[e.divId].vdn.vdnProvinceCode,t.vdnCityCode=livePlayerObjs[e.divId].vdn.vdnCityCode,t.vdnISPCode=livePlayerObjs[e.divId].vdn.vdnISPCode,livePlayerObjs[e.divId].adCallsIsPlayed?t.hasAds="F":t.hasAds="T",t.playerAlterName="live_html5",t.playerType=e.playerType,isLiveHlsJsSupported()?t.playerFrame="video":t.playerFrame="canvas",i.custom=t;t=document.getElementById("h5player_"+e.divId)||document.getElementById("h5player_error_"+e.divId);if(livePlayerObjs[e.divId].convivaSessionKey=liveConvivaClient.createSession(i),livePlayerObjs[e.divId].convivaSessionCreated=!0,!livePlayerObjs[e.divId].video.url||a)return liveConvivaClient.reportError(livePlayerObjs[e.divId].convivaSessionKey,a||"VDN_REQUEST_FAILED",Conviva.Client.ErrorSeverity.FATAL),liveConvivaClient.cleanupSession(livePlayerObjs[e.divId].convivaSessionKey),void(livePlayerObjs[e.divId].convivaSessionKey=void 0);new Conviva.Impl.Html5PlayerInterface(liveConvivaPlayerStateManager,t,systemFactory);function r(){liveConvivaClient.cleanupSession(livePlayerObjs[e.divId].convivaSessionKey),livePlayerObjs[e.divId].convivaSessionKey=void 0}liveConvivaClient.attachPlayer(livePlayerObjs[e.divId].convivaSessionKey,liveConvivaPlayerStateManager),t.addEventListener("error",function(){livePlayerObjs[e.divId].adCallsIsPlayed&&r()}),t.addEventListener("ended",function(){livePlayerObjs[e.divId].adCallsIsPlayed&&document.getElementById("control_bar_"+e.divId)}),window.addEventListener("beforeunload",function(){r()})}}function setLiveConvivaMetadata(a,i){var t,l;livePlayerObjs[a.divId].convivaIsChecked=!1,livePlayerObjs.convivaJsLoaded&&document.getElementById("h5player_"+a.divId)?createLiveConvivaSession(a,i):(t=0,l=setInterval(function(){t++;var e=document.getElementById("h5player_"+a.divId)||document.getElementById("h5player_error_"+a.divId);liveConvivaClient&&liveConvivaPlayerStateManager&&t<32&&e&&!livePlayerObjs[a.divId].convivaIsChecked&&(livePlayerObjs[a.divId].convivaIsChecked=!0,clearInterval(l),createLiveConvivaSession(a,i)),30<t&&clearInterval(l),e||((e=document.createElement("video")).style.display="none",e.setAttribute("id","h5player_error_"+a.divId),document.getElementById(a.divId).appendChild(e))},300))}function createLiveWsSession(e,a){var i,t,l,r="h5player_"+e.divId;(document.getElementById(r)||a)&&(i="HTML5_CDN_LIVE_DRM_PLAYER",livePlayerObjs[e.divId]&&livePlayerObjs[e.divId].video&&livePlayerObjs[e.divId].video.url&&(0<livePlayerObjs[e.divId].video.url.indexOf("begintimeabs=")&&(i="HTML5_LIVESHIFT_DRM_PLAYER"),0<livePlayerObjs[e.divId].video.url.indexOf("begintimeabs=")&&0<livePlayerObjs[e.divId].video.url.indexOf("endtimeabs=")&&(i="HTML5_LIVEBACK_DRM_PLAYER")),t="F",isLiveEnableP2p&&livePlayerObjs[e.divId].isP2p&&(t="T"),l={platform:"H5",playerInfo:i+="/"+livePlayerVer,appVer:livePlayerVer,channel:e.t,streamType:livePlayerObjs[e.divId].isLive?"live":"playback",streamUrl:livePlayerObjs[e.divId].video.url,streamProtocol:"HLS",cdn:livePlayerObjs[e.divId].vdn.cdnName,ispCode:livePlayerObjs[e.divId].vdn.vdnISPCode,P2PStyle:t},"undefined"!=typeof dataCollector&&setTimeout(function(){a?dataCollector.reportErrorEvents(r,l,a):dataCollector.createSession(r,l)},20))}function setLiveWsMetadata(a,i){var t,l;isUseWsMonitor&&(livePlayerObjs[a.divId].wsIsChecked=!1,livePlayerObjs.wsJsLoaded&&(document.getElementById("h5player_"+a.divId)||i)?createLiveWsSession(a,i):(t=0,l=setInterval(function(){t++;var e=document.getElementById("h5player_"+a.divId)||document.getElementById("h5player_error_"+a.divId);t<32&&e&&!livePlayerObjs[a.divId].wsIsChecked&&(livePlayerObjs[a.divId].wsIsChecked=!0,clearInterval(l),createLiveWsSession(a,i)),30<t&&clearInterval(l),e||((e=document.createElement("video")).style.display="none",e.setAttribute("id","h5player_error_"+a.divId),document.getElementById(a.divId).appendChild(e))},300)))}function liveAdCallsStartPlay(e){livePlayerObjs[e.divId].adCallsIsPlayed||!livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].endLoad&&livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startLoad&&(livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].endLoad=Date.parse(new Date),livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].loadTime=livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].endLoad-livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].startLoad,isUseAliMonitor&&sendLiveAliAdCallsRequestData(e,"play.1.42"))}function sendLiveAdCallsDataByAliApi(e,a){var i="",t="h5player_"+e.divId,l=0,r={type:"LIVE",ad_url:livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].hlsUrl,ad_v_id:livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].guid,ad_sum:livePlayerObjs.adCallsAPI.length,ad_num:livePlayerObjs.adCallsPlayingNum+1,ad_len:15*livePlayerObjs.adCallsAPI.length,v_id:e.t,channel:e.t,playerversion:livePlayerVer,bit:"900",streamProtocol:"HLS",referURL:encodeURIComponent(location.href.substr(0,127)),cdnCode:livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].cdnCode,videoProfile:"vdn"};goldlog[t]&&goldlog[t].createTime?l=goldlog[t].createTime:(l=Date.parse(new Date)/1e3,goldlog[t]={},goldlog[t].createTime=l),r.createTime=l,r.loadTime=livePlayerObjs.adCallsAPI[livePlayerObjs.adCallsPlayingNum].loadTime,document.referrer&&(r.referer=encodeURIComponent(document.referrer.substr(0,127))),Object.keys(r).forEach(function(e){i+="&"+e+"="+r[e]});l="",l=isIPad()?"HTML5.PHD":"HTML5.PC";goldlog.record("/"+a,"","playScene="+l+i,"")}function sendLiveAliAdCallsRequestData(e,a){var i,t;"undefined"!=typeof goldlog&&document.getElementById("h5player_"+e.divId)?sendLiveAdCallsDataByAliApi(e,a):(i=0,t=setInterval(function(){50<++i?clearInterval(t):"undefined"!=typeof goldlog&&document.getElementById("h5player_"+e.divId)&&(clearInterval(t),sendLiveAdCallsDataByAliApi(e,a))},150))}function setCntvLiveMetadata(e,t,l){var r="h5player_"+e.divId,n=null,a="",i="HTML5_CDN_LIVE_DRM_PLAYER";livePlayerObjs[e.divId]&&livePlayerObjs[e.divId].video&&livePlayerObjs[e.divId].video.url&&(0<livePlayerObjs[e.divId].video.url.indexOf("begintimeabs=")&&(i="HTML5_LIVESHIFT_DRM_PLAYER"),0<livePlayerObjs[e.divId].video.url.indexOf("begintimeabs=")&&0<livePlayerObjs[e.divId].video.url.indexOf("endtimeabs=")&&(i="HTML5_LIVEBACK_DRM_PLAYER"));var d,s,o,v="",v=isIPad()?"HTML5.PHD":"HTML5.PC",y="F";isLiveEnableP2p&&livePlayerObjs[e.divId].isP2p&&(y="T"),"690003"==t?(n={playScene:v,type:"LIVE",column:e.t,v_id:e.t,channel:e.t,column:e.t,ver:livePlayerVer,applicationName:i,playerName:i,streamType:livePlayerObjs[e.divId].isLive?"live":"liveback",assetName:e.t,streamUrl:"",playAMR:"F",streamMBR:"1",bit:"900",streamProtocol:"HLS",videoProfile:"vdn",P2PStyle:y,error_code:t,error_info:l},1<(a=location.href.split("/")).length&&"undefined"!=typeof goldlog&&void 0!==goldlog.initSession&&(n.site=encodeURIComponent(a[2]))):(n={playScene:v,column:e.t,v_id:e.t,channel:e.t,ver:livePlayerVer,applicationName:i,playerName:i,streamType:livePlayerObjs[e.divId].isLive?"live":"liveback",assetName:e.t,streamUrl:encodeURIComponent(livePlayerObjs[e.divId].video.url),playAMR:"F",streamMBR:"1",bit:"900",streamProtocol:"HLS",cdnCode:livePlayerObjs[e.divId].vdn.cdnName,videoProfile:"vdn",vdnSID:livePlayerObjs[e.divId].vdn.sid,vdnIP:livePlayerObjs[e.divId].vdn.vdnIP,vdnCountryCode:livePlayerObjs[e.divId].vdn.vdnCountryCode,vdnProvinceCode:livePlayerObjs[e.divId].vdn.vdnProvinceCode,vdnCityCode:livePlayerObjs[e.divId].vdn.vdnCityCode,vdnISPCode:livePlayerObjs[e.divId].vdn.vdnISPCode,public:livePlayerObjs[e.divId].vdn.public,P2PStyle:y},1<(a=location.href.split("/")).length&&(n.site=encodeURIComponent(a[2]))),"undefined"!=typeof goldlog&&void 0!==goldlog.startSession?"init"==t?goldlog.initSession(r,n):"690003"==t?(y="",y=goldlog[r]&&goldlog[r].createTime?goldlog[r].createTime:Date.parse(new Date)/1e3,a=Object.keys(n),d="",a.forEach(function(e){switch(e){case"ver":break;case"vdnSID":d+="&client_sid="+n[e];break;case"vdnIP":d+="&lc_ip="+n[e];break;case"vdnCountryCode":d+="&lc_coun="+n[e];break;case"vdnProvinceCode":d+="&lc_prov="+n[e];break;case"vdnCityCode":d+="&lc_city="+n[e];break;case"vdnISPCode":d+="&lc_isp="+n[e];break;default:d+="&"+e+"="+n[e]}}),d+="&createTime="+y,d+="&curURL="+encodeURIComponent(location.href.substr(0,127)),document.referrer?d+="&referURL="+encodeURIComponent(document.referrer.substr(0,127)):d+="&referURL=",goldlog.record("/play.1.24","","&type=H5&playtime=0&loadtime=0"+d+"&error_info="+l,"")):goldlog.startSession(r,n,20):(s=0,o=setInterval(function(){var e,a,i;50<++s?clearInterval(o):"undefined"!=typeof goldlog&&void 0!==goldlog.startSession&&(clearInterval(o),"init"==t?goldlog.initSession(r,n):"690003"==t?(e="",e=goldlog[r]&&goldlog[r].createTime?goldlog[r].createTime:Date.parse(new Date)/1e3,a=Object.keys(n),i="",a.forEach(function(e){switch(e){case"ver":break;case"vdnSID":i+="&client_sid="+n[e];break;case"vdnIP":i+="&lc_ip="+n[e];break;case"vdnCountryCode":i+="&lc_coun="+n[e];break;case"vdnProvinceCode":i+="&lc_prov="+n[e];break;case"vdnCityCode":i+="&lc_city="+n[e];break;case"vdnISPCode":i+="&lc_isp="+n[e];break;default:i+="&"+e+"="+n[e]}}),i+="&createTime="+e,i+="&curURL="+encodeURIComponent(location.href.substr(0,127)),document.referrer?i+="&referURL="+encodeURIComponent(document.referrer.substr(0,127)):i+="&referURL=",goldlog.record("/play.1.24","","&type=H5&playtime=0&loadtime=0"+i+"&error_info="+l,"")):goldlog.startSession(r,n,20))},200))}function doLoadLiveAliAnalyticsJs(e){var a=createElementByType("script","convivaJs237","absolute","0px","0px","0px","0px");"true"===e.isHttps?a.src="https://js.data.cctv.com/__aplus_plugin_cctv.js,aplus_plugin_aplus_u.js":a.src="http://js.data.cctv.com/__aplus_plugin_cctv.js,aplus_plugin_aplus_u.js",document.getElementsByTagName("head")[0].appendChild(a)}function isTimeshift(e){return"live"===e.playerType&&e.st&&0<e.st-1e9}function isLiveHlsJsSupported(){var e=window.MediaSource||window.WebKitMediaSource;if(!e)return!1;if(/(iphone|ipad)/i.test(navigator.userAgent))return!1;var a=SourceBuffer||window.WebKitSourceBuffer,e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!a||a.prototype&&"function"==typeof a.prototype.appendBuffer&&"function"==typeof a.prototype.remove;return!!e&&!!a}function isWasmSupported(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}function flashIsCreated(){livePlayerObjs.flashLiveback&&livePlayerObjs.flashLiveback.flashId&&livePlayerObjs.flashLiveback.start&&document.getElementById(livePlayerObjs.flashLiveback.flashId).PageCallFlash({IsLive:"false",ShiftTime:livePlayerObjs.flashLiveback.start})}function getFlashVer(){var e=flashChecker();isFlashPlayer=!!(e.f&&33<=e.v)}function flashChecker(){var e,a=0,i=0;if(0,navigator.plugins&&0<navigator.plugins.length)try{if(e=navigator.plugins["Shockwave Flash"])for(var a=1,t=e.description.split(" "),l=0;l<t.length;++l)isNaN(parseInt(t[l]))||(i=parseInt(t[l]),!isIPad()&&55<=getChromeVersion()&&23<=i&&"internal-not-yet-present"===e.filename&&(i=22))}catch(e){}return{f:a,v:i}}function showLivePlayerPosterImg(a){var e="";a.posterImg&&3<a.posterImg.length&&(e='<div id="poster_'+a.divId+'" style="position:absolute;top:0px;left:0px;margin:0 auto;text-align:center;width:100%;height:100%;cursor:pointer;z-index:20;">',e+='<img src="'+a.posterImg+'" style="width:100%;height:100%;object-fit:contain;">',e+="</div>",document.getElementById(a.divId).insertAdjacentHTML("afterBegin",e));var i="//player.cntv.cn/html5Player/images/20190905/play.png";"ipanda"===a.ui&&(i="//player.cntv.cn/html5Player/images/ipanda20201204/play.png");var t="bottom:18px;left:18px;width:48px;",l="width:48px;height:48px;padding:0px;";"false"===a.isLeftBottom?(t="top:50%;margin:-24px auto 0;text-align:center;width:100%;",isIPad()&&(l="width:30px;height:30px;padding:9px;")):isIPad()&&(t="bottom:0px;left:9px;width:48px;",l="width:30px;height:30px;padding:9px;"),e='<div id="poster_playbtn_'+a.divId+'" style="position:absolute;'+t+'height:48px;cursor:pointer;z-index:23;">',e+='<img src="'+i+'" style="'+l+'">',e+="</div>",document.getElementById(a.divId).insertAdjacentHTML("afterBegin",e),document.getElementById("poster_playbtn_"+a.divId).addEventListener("click",function(e){removeLivePlayerPosterImg(a)},!1),document.getElementById(a.divId).addEventListener("click",function(e){removeLivePlayerPosterImg(a)},!1)}function removeLivePlayerPosterImg(e){var a=document.getElementById(e.divId),i=document.getElementById("poster_playbtn_"+e.divId),t=document.getElementById("poster_"+e.divId);(i||t)&&(document.getElementById("html5Player-"+e.divId)||(i&&a.removeChild(i),t&&a.removeChild(document.getElementById("poster_"+e.divId)),e.posterImg="",/(iphone|ipad)/i.test(navigator.userAgent)&&(livePlayerObjs.isSdrmAutoPlay="true"),e.others&&(0<e.others.indexOf(".m3u8")||0<e.others.indexOf(".ts"))?(livePlayerObjs[e.divId].video.url=e.others,livePlayerObjs[e.divId].vdn.public="1",parseLiveDataFromVdn(e,!0)):loadLiveScript(livePlayerObjs[e.divId].vdn.vdnUrl,parseLiveDataFromVdn,e,parseLiveDataFromVdnWhenError,1e4),createLiveVideoLoadingImg(e)))}function showLivePlayerErrorMsg(e){location.href;document.getElementById(e.divId)&&(document.getElementById(e.divId).innerHTML=""),showLivePlayerMsg(e,"缃戠粶寮€灏忓樊浜嗭紝璇风◢鍚庡啀璇�")}function showLivePlayerMsg(e,a,i){destroyH5LiveHls(e,i);var t=document.getElementById(e.divId);document.getElementById("h5player_"+e.divId)&&(document.getElementById("h5player_"+e.divId).pause(),document.getElementById("h5player_"+e.divId).style.display="none"),document.getElementById("h5canvas_"+e.divId)&&(document.getElementById("h5canvas_"+e.divId).style.display="none"),isIPad()&&document.getElementById("control_bar_"+e.divId)&&(document.getElementById("control_bar_"+e.divId).style.display="none"),a&&0<a.indexOf("鍒锋柊")&&(t.innerHTML=""),a&&-1!==a.indexOf("sorry")&&(a=a.replace("sorry",""),"cctv5"!==e.t&&"cctv5plus"!==e.t||(a="鍥犵増鏉冨師鍥狅紝鏆傛椂涓嶆彁渚涜鏃舵鑺傜洰",isIPad()?a+="<br />":a+="锛�",a+="璇烽€夋嫨澶棰戣鐪嬬綉缁滅洿鎾�"));var l,r,n=document.getElementById("error_msg_"+e.divId);n||(n=createElementByType("div","error_msg_"+e.divId,"absolute","100%","100%","0","0"),l="16",r="28",i="55%",isIPad()&&(l="14",r="20",i="50%"),n.style.cssText="position:absolute;width:100%;top:"+i+";color:#FFF;font-size:"+l+"px;line-height:"+r+"px;word-break:break-all;font-family:PingFangSC-Regular,Helvetica,Arial,Microsoft Yahei,sans-serif;margin:0 auto;text-align:center;",t.appendChild(n)),n.innerHTML=a,showLivePlayerBg(e.divId),document.getElementById("loading_"+e.divId)&&(document.getElementById("loading_"+e.divId).style.display="none"),document.getElementById("play_or_pause_play_"+e.divId)&&LivePlayOrPauseBtn.prototype.switchPlayOrPauseBtn(e.divId,"pause"),livePlayerObjs[e.divId]&&livePlayerObjs[e.divId].video&&(clearInterval(livePlayerObjs[e.divId].video.playedTimer),livePlayerObjs[e.divId].loadingTime=0)}function removeLiveErrorMsg(e,a){var i=document.getElementById(e.divId),t=document.getElementById("error_msg_"+e.divId);t&&(i.removeChild(t),isIPad()?(t="cctv_html5player_bg_16X9.png",1<e.h/e.w&&(t="cctv_html5player_bg_9X16.png"),"true"===e.isHttps?i.style.backgroundImage="url('https://player.cntv.cn/html5Player/images/"+t+"')":i.style.backgroundImage="url('http://player.cntv.cn/html5Player/images/"+t+"')"):(i.style.backgroundImage="",i.style.backgroundColor="#000"),i=document.getElementById("h5player_"+e.divId),isIPad()||(i.style.display="block"),document.getElementById("h5canvas_"+e.divId)&&(document.getElementById("h5canvas_"+e.divId).style.display="block"),document.getElementById("timeshift_bar_"+e.divId)&&!a&&(createLiveHls(e),l=2,livePlayerObjs[e.divId].startStamp&&(l=livePlayerObjs[e.divId].startStamp),livePlayerObjs[e.divId].startStamp&&0<+livePlayerObjs[e.divId].startStamp&&livePlayerObjs[e.divId].startStamp,LiveTimeshiftBar.prototype.liveTimeUpdate(e,l)),"small"!==e.playerType&&"hw"!==e.playerType||createLiveHls(e));var l=document.getElementById("logo_"+e.divId);l&&document.getElementById(e.divId)&&(l.style.display="none",document.getElementById(e.divId).removeChild(l))}function showLivePlayerBg(e){var a=document.getElementById(e);if(a.style.backgroundImage="url('//player.cntv.cn/html5Player/images/20190905/cctv_bg.png')",a.style.backgroundRepeat="no-repeat",a.style.backgroundPosition="0px 0px",a.style.backgroundSize="100% 100%",!document.getElementById("logo_"+e)){var i,t="//player.cntv.cn/html5Player/images/20190905/cctv_logo.png";0<location.href.indexOf("fromapp=cctvnews")&&(t="//player.cntv.cn/html5Player/images/20190905/cctv_logo.png"),i='<div id="logo_'+e+'" style="position:absolute;top:20%;margin:0 auto;text-align:center;width:100%;height:45px;cursor:pointer;z-index:20;">',i+='<img src="'+(t="undefined"!=typeof calledByApp&&"cctvnews"===calledByApp?"//player.cntv.cn/html5Player/images/20190905/cctv_logo.png":t)+'" style="width:140px;height:45px;display:inline-block;">',i+="</div>";try{a.insertAdjacentHTML("afterBegin",i)}catch(e){}}}function showLiveInstallFlashPlayerMsg(e,a,i){"vplayer"===e&&document.getElementById("myFlash")&&!document.getElementById("vplayer")&&(e="myFlash");var t=document.getElementById(e),e=document.createElement("img");e.position="absolute",e.src="//t.live.cntv.cn/cntvwebplay/cntvplayer/images/plug-in_bg.gif";e.width=a,e.height=i,t.style.lineHeight="20px",t.appendChild(e);i=document.createElement("div");i.style.position="relative",i.style.margin="0 auto",i.style.left="0",i.style.width=a+"px",i.style.textAlign="center",i.style.top=-parseInt(2*e.height/5)+"px",i.style.color="#dddddd",i.style.fontSize="16px",i.style.fontWeight="bold",i.innerHTML='<div class="flash_install"><a style=\'color:#cccccc;font-size:16px;text-decoration:underline;\' href="https://www.flash.cn" onfocus="this.blur()"><img style="display:inline-block" src="//player.cntv.cn/flashplayer/logo/get_adobe_flash_player.png"/><p style=\'margin-top:8px;color:#cccccc\'>璇风偣姝ゅ畨瑁呮渶鏂癴lash</p></a></div>',i.align="center",t.appendChild(i)}function showLivePlayerSmallWindow(a,e,i,t,l){var r=document.getElementById(a),n=document.getElementById("h5player_"+a);if(r&&n&&document.getElementById("control_bar_"+a)&&(!livePlayerObjs[a]||livePlayerObjs[a].isShowSmallWindow)){e=e||20,i=i||20,t=t||428,l=parseInt(t*livePlayerObjs[a].h/livePlayerObjs[a].w),r.style.position="fixed",r.style.right=e+"px",r.style.bottom=i+"px",r.style.width=t+"px",r.style.height=l+"px",r.style.margin="0";for(var d=document.getElementById("control_bar_"+a).children,s=d.length,o=0;o<s;o++)d[o].style.display="none";r=document.getElementById("timeshift_time_"+a);r&&(r.style.display="none");r=document.getElementById("play_or_plause_"+a);return r&&(r.style.display="block"),document.getElementById("close_player_"+a)?document.getElementById("close_player_"+a).style.display="block":(r=i+l-30,i=e+10,l="block",e=document.querySelector(".dragLayer"),i='<div id="close_player_'+a+'" style="position:fixed;bottom:'+r+"px;right:"+i+'px;margin:2px;text-align:center;width:16;height:16;cursor:pointer;z-index:20;">',i+='<img src="//player.cntv.cn/html5Player/images/20190905/close_player.png" style="width:12px;height:12px;display:'+(l=e?"none":l)+';">',i+="</div>",document.getElementById(a).insertAdjacentHTML("afterBegin",i)),document.getElementById("close_player_"+a).addEventListener("click",function(e){hideLivePlayerSmallWindow(a)},!1),document.getElementById(a)&&LiveAdBanner.prototype.adBannerShowOrHide(livePlayerObjs[a],"hide"),!0}}function hideLivePlayerSmallWindow(e){var a=document.getElementById(e),i=a.offsetWidth;if(a&&document.getElementById("control_bar_"+e)&&!(0<i-600)){i=document.getElementById("player_fullscreen_"+e);if(!i||"true"!==i.getAttribute("isFullscreen")){i=a.getAttribute("originalStyle");document.getElementById("close_player_"+e)&&a.removeChild(document.getElementById("close_player_"+e)),a.style.cssText=i;var i=document.getElementById("control_bar_"+e),t=["play_or_plause_"+e,"played_time_"+e,"player_speed_"+e,"player_resolution_"+e,"player_set_"+e];if(t.push("play_next_"+e),t.push("player_sound_btn_"+e),t.push("player_pagefullscreen_"+e),t.push("player_fullscreen_"+e),t.push("player_progress_"+e),t.push("player_progress_total_"+e),t.push("player_progress_played_"+e),t.push("player_progress_cached_"+e),t.push("timeshift_bar_"+e),t.push("timeshift_pointer_"+e),t.push("timeshiftbtn_"+e),t.push("audio_"+e),livePlayerObjs[e].isLive||(t.push("timeshift_time_"+e),t.push("return_to_live_"+e)),i){i.style.display="none";e=document.getElementById("pic_in_pic_"+e);e&&(e.style.display="none");for(var l=i.children,r=l.length,n=0;n<r;n++)t.includes(l[n].id)&&(l[n].style.display="block")}return!0}}}function isDrmLegalDomainUrl(){var e="",a=!1;try{var i=(i=window.location.href||self.location.href||document.URL||document.location).toString().toLocaleLowerCase();if(e=/https?:\/\/(?:[^/]+\.)?([^./]+\.\w*.(?:cn|com|org))(?:$|\/)/.exec(i))e=e[1];else{var t=i.split("/");if(!(t&&1<t.length))return!1;e=t[2]}for(var l,r,n,d=["7G179P79P7A47A17G179P7AA7AG","7G179P7A97A47A17G179P7A9","7AJ7AJ7AJ7G17927AY79W7A979H79W7G179P7AA7AG","79R7A97G17927AY79W7A979H79W7G179P7AA7AG","7A17G17A97AY79P7G179E7AA7A17G179P7A9","7AJ7AJ7AJ7G179H7AA79P7A079P79T7927A979W7G179P7A9","7AJ7AJ7AJ7G179P7A979H7937927A77AG7G179P7AA7AG","7AJ7AJ7AJ7G17AK7AG7A47A17G179P7A9","7AJ7AJ7AJ7G179P79T7A979P7AY79W7G17AA7AQ79E","7AJ7AJ7AJ7G17A979P7AY79W7G079P7A779W7AU7AU79279P7G179P7AA7AG","7AG7G17A979P7AY79W7G079P7A779W7AU7AU79279P7G179P7AA7AG","79P7A779W7AU7AU79279P7G179P79T7A979P7AY79W7G17AA7AQ79E","7G17G57GL7GM7GS7G57G179P7A9","7AJ7AJ7AJ7G179P7AY7AY79P79P7G179E7AA7A17G179P7A9","7AJ7AJ7AJ7G179E7AA7A17G179P7A9","79W79H7AG7927A97G179P7AY7AA7AQ7A479W7A77G179P7A97A47A17927A97A479R7AQ7A979W7A77G179P7A9","7G179E7AA7A17G179P7A9","7G17927AY79W7A979H79W7G179P7AA7AG"],s="7G9AY8QU401JK5LMVBFSCX6DNWOPHR3ET2IZ",o=s.length,v=s.split(""),y="",c=0;c<e.length;c++)y+=v[((l=((l=e.charCodeAt(c))-(r=l%o))/o)-(n=l%o))/o%o]+v[n]+v[r];for(c=0;c<d.length;c++)if(0<=y.indexOf(d[c])){a=!0;break}window.top&&window.self&&window.top!=window.self&&(a=!1)}catch(e){}return a}function isIPad(){return/(iphone|ipad)/i.test(navigator.userAgent)||/(Android)/i.test(navigator.userAgent)}function isCanvasSupported(e){var a=!1,e=document.getElementById("h5canvas_"+e);e&&e.getContext&&isIPad()&&(a=!0);e=navigator.userAgent.toLowerCase();return a=0<e.indexOf("oppobrowser")||0<e.indexOf("firefox")||0<e.indexOf("liebao")||0<e.indexOf("oneplus")?!1:a}function transformDateToStamp(e){if(10===(e+="").length)return e;var a="00";return datetimeToUnix(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)+" "+e.substr(8,2)+":"+e.substr(10,2)+":"+(a=14===e.length?e.substr(12,2):a))}function createElementByType(e,a,i,t,l,r,n){e=document.createElement(e);return e.setAttribute("id",a),e.style.position=i,e.style.width=t,e.style.height=l,e.style.left=r,e.style.top=n,e}function IsMaxthon(){try{return window.external.max_invoke("GetHotKey"),!0}catch(e){return!1}}function getLivefingerprint2(){var e=document.getElementsByTagName("head")[0],a=createElementByType("script","jsFingerLoader","absolute","0px","0px","0px","0px");"true"===livePlayerObjs.isHttps?a.src="https://js.player.cntv.cn/creator/fingerprint2.js":a.src="http://js.player.cntv.cn/creator/fingerprint2.js",e.appendChild(a),void 0!==a.onload&&(a.onload=function(){getFingerprint()}),void 0!==a.onreadystatechange&&(a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||getFingerprint()})}function setCookie_vdn(e,a,i){var t;i?((t=new Date).setTime(t.getTime()+24*i*60*60*1e3),document.cookie=e+"="+a+";expires="+t.toGMTString()):document.cookie=e+"="+a;try{window.localStorage&&localStorage.setItem(e,a)}catch(e){}}function removeCookie_vdn(e){setCookie_vdn(e,"",-1)}function getCookie_vdn(e){var a="";if(document.cookie)for(var i=document.cookie.split("; "),t=0;t<i.length;t++){var l=i[t].split("=");if(l[0]==e){a=l[1].toString();break}}a+="";try{(!a||a.length<20)&&window.localStorage&&(a=localStorage[e]||"")}catch(e){a=""}return a}function getFingerprint(){(new Fingerprint2).get(function(e){setCookie_vdn("Fingerprint",e.toUpperCase(),7)})}function thisMovie(e){return(-1!=navigator.appName.indexOf("Microsoft")?window:document)[e]}isIPad();var clientInfo={os:null,browser:null,broserVersion:null,osVersion:null};!function(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var a=0;a<e.length;a++){var i=e[a].string,t=e[a].prop;if(this.versionSearchString=e[a].versionSearch||e[a].identity,i){if(-1!=i.indexOf(e[a].subString))return e[a].identity}else if(t)return e[a].identity}},searchVersion:function(e){var a=e.indexOf(this.versionSearchString);if(-1!=a)return parseFloat(e.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};e.init(),clientInfo.os=e.OS,clientInfo.browser=e.browser,clientInfo.broserVersion=e.version}();var liveStatusMsg={ack_no:"缃戠粶寮€灏忓樊浜嗭紝璇风◢鍚庡啀璇�",status_0:"鐢变簬鎾嚭瀹夋帓鍙樻洿锛屾殏涓嶆敮鎸佹挱鏀捐鏃舵鍐呭",public_0_default:"鐢变簬鎾嚭瀹夋帓鍙樻洿锛屾殏涓嶆敮鎸佹挱鏀捐鏃舵鍐呭",video_protect_0_and_audio_protect_0:"sorry鎮ㄦ墍鍦ㄧ殑鍦板尯锛屾殏涓嶆敮鎸佹挱鏀捐瑙嗛",video_protect_0_and_audio_protect_3:"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰",video_protect_1_and_audio_protect_0:isIPad()?"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风Щ鑷崇數鑴戠瑙傜湅鏁堟灉鏇翠匠":"鎮ㄦ墍鍦ㄧ殑鍦板尯锛屾殏涓嶆敮鎸佹挱鏀捐瑙嗛",video_protect_1_and_audio_protect_3:isIPad()?"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰锛�<br />鎴栫Щ鑷崇數鑴戠瑙傜湅鏁堟灉鏇翠匠":"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰",video_protect_2_and_audio_protect_0:isIPad()?"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风Щ鑷崇數鑴戠瑙傜湅鏁堟灉鏇翠匠":"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀�",video_protect_2_and_audio_protect_3:isIPad()?"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰":"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰锛�<br />鎴栫Щ鑷崇Щ鍔ㄧ瑙傜湅",video_protect_3_and_audio_protect_0:isIPad()?"鎮ㄦ墍鍦ㄧ殑鍦板尯锛屾殏涓嶆敮鎸佹挱鏀捐瑙嗛":"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紝璇疯嚦澶缃戠Щ鍔ㄧ瑙傜湅",video_protect_3_and_audio_protect_3:(isIPad(),"鏈椂娈佃妭鐩洜鐗堟潈鍘熷洜锛屾殏鏃舵棤娉曟挱鏀撅紱<br />璇风偣鍑绘挱鏀炬寜閽敹鍚鑺傜洰")};!function(e){"use strict";function y(e,a){var i=(65535&e)+(65535&a);return(e>>16)+(a>>16)+(i>>16)<<16|65535&i}function d(e,a,i,t,l,r){return y((r=y(y(a,e),y(t,r)))<<l|r>>>32-l,i)}function c(e,a,i,t,l,r,n){return d(a&i|~a&t,e,a,l,r,n)}function p(e,a,i,t,l,r,n){return d(a&t|i&~t,e,a,l,r,n)}function u(e,a,i,t,l,r,n){return d(a^i^t,e,a,l,r,n)}function g(e,a,i,t,l,r,n){return d(i^(a|~t),e,a,l,r,n)}function n(e,a){e[a>>5]|=128<<a%32,e[14+(a+64>>>9<<4)]=a;for(var i,t,l,r,n=1732584193,d=-271733879,s=-1732584194,o=271733878,v=0;v<e.length;v+=16)n=c(i=n,t=d,l=s,r=o,e[v],7,-680876936),o=c(o,n,d,s,e[v+1],12,-389564586),s=c(s,o,n,d,e[v+2],17,606105819),d=c(d,s,o,n,e[v+3],22,-1044525330),n=c(n,d,s,o,e[v+4],7,-176418897),o=c(o,n,d,s,e[v+5],12,1200080426),s=c(s,o,n,d,e[v+6],17,-1473231341),d=c(d,s,o,n,e[v+7],22,-45705983),n=c(n,d,s,o,e[v+8],7,1770035416),o=c(o,n,d,s,e[v+9],12,-1958414417),s=c(s,o,n,d,e[v+10],17,-42063),d=c(d,s,o,n,e[v+11],22,-1990404162),n=c(n,d,s,o,e[v+12],7,1804603682),o=c(o,n,d,s,e[v+13],12,-40341101),s=c(s,o,n,d,e[v+14],17,-1502002290),n=p(n,d=c(d,s,o,n,e[v+15],22,1236535329),s,o,e[v+1],5,-165796510),o=p(o,n,d,s,e[v+6],9,-1069501632),s=p(s,o,n,d,e[v+11],14,643717713),d=p(d,s,o,n,e[v],20,-373897302),n=p(n,d,s,o,e[v+5],5,-701558691),o=p(o,n,d,s,e[v+10],9,38016083),s=p(s,o,n,d,e[v+15],14,-660478335),d=p(d,s,o,n,e[v+4],20,-405537848),n=p(n,d,s,o,e[v+9],5,568446438),o=p(o,n,d,s,e[v+14],9,-1019803690),s=p(s,o,n,d,e[v+3],14,-187363961),d=p(d,s,o,n,e[v+8],20,1163531501),n=p(n,d,s,o,e[v+13],5,-1444681467),o=p(o,n,d,s,e[v+2],9,-51403784),s=p(s,o,n,d,e[v+7],14,1735328473),n=u(n,d=p(d,s,o,n,e[v+12],20,-1926607734),s,o,e[v+5],4,-378558),o=u(o,n,d,s,e[v+8],11,-2022574463),s=u(s,o,n,d,e[v+11],16,1839030562),d=u(d,s,o,n,e[v+14],23,-35309556),n=u(n,d,s,o,e[v+1],4,-1530992060),o=u(o,n,d,s,e[v+4],11,1272893353),s=u(s,o,n,d,e[v+7],16,-155497632),d=u(d,s,o,n,e[v+10],23,-1094730640),n=u(n,d,s,o,e[v+13],4,681279174),o=u(o,n,d,s,e[v],11,-358537222),s=u(s,o,n,d,e[v+3],16,-722521979),d=u(d,s,o,n,e[v+6],23,76029189),n=u(n,d,s,o,e[v+9],4,-640364487),o=u(o,n,d,s,e[v+12],11,-421815835),s=u(s,o,n,d,e[v+15],16,530742520),n=g(n,d=u(d,s,o,n,e[v+2],23,-995338651),s,o,e[v],6,-198630844),o=g(o,n,d,s,e[v+7],10,1126891415),s=g(s,o,n,d,e[v+14],15,-1416354905),d=g(d,s,o,n,e[v+5],21,-57434055),n=g(n,d,s,o,e[v+12],6,1700485571),o=g(o,n,d,s,e[v+3],10,-1894986606),s=g(s,o,n,d,e[v+10],15,-1051523),d=g(d,s,o,n,e[v+1],21,-2054922799),n=g(n,d,s,o,e[v+8],6,1873313359),o=g(o,n,d,s,e[v+15],10,-30611744),s=g(s,o,n,d,e[v+6],15,-1560198380),d=g(d,s,o,n,e[v+13],21,1309151649),n=g(n,d,s,o,e[v+4],6,-145523070),o=g(o,n,d,s,e[v+11],10,-1120210379),s=g(s,o,n,d,e[v+2],15,718787259),d=g(d,s,o,n,e[v+9],21,-343485551),n=y(n,i),d=y(d,t),s=y(s,l),o=y(o,r);return[n,d,s,o]}function s(e){for(var a="",i=0;i<32*e.length;i+=8)a+=String.fromCharCode(e[i>>5]>>>i%32&255);return a}function o(e){var a,i=[];for(i[(e.length>>2)-1]=void 0,a=0;a<i.length;a+=1)i[a]=0;for(a=0;a<8*e.length;a+=8)i[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return i}function t(e){for(var a,i="0123456789abcdef",t="",l=0;l<e.length;l+=1)a=e.charCodeAt(l),t+=i.charAt(a>>>4&15)+i.charAt(15&a);return t}function i(e){return unescape(encodeURIComponent(e))}function l(e){return s(n(o(e=i(e)),8*e.length))}function r(e,a){return function(e,a){var i,t=o(e),l=[],r=[];for(l[15]=r[15]=void 0,16<t.length&&(t=n(t,8*e.length)),i=0;i<16;i+=1)l[i]=909522486^t[i],r[i]=1549556828^t[i];return a=n(l.concat(o(a)),512+8*a.length),s(n(r.concat(a),640))}(i(e),i(a))}function a(e,a,i){return a?i?r(a,e):t(r(a,e)):i?l(e):t(l(e))}"function"==typeof define&&define.amd?define(function(){return a}):e.setH5Str=a}(this),LazyLoad=function(g){var m,b,P={},I=0,h={css:[],js:[]},i=g.styleSheets;function f(e,a){var i,t=g.createElement(e);for(i in a)a.hasOwnProperty(i)&&t.setAttribute(i,a[i]);return t}function O(e){var a,i,t=P[e];t&&(a=t.callback,(i=t.urls).shift(),I=0,i.length||(a&&a.call(t.context,t.obj),P[e]=null,h[e].length&&l(e)))}function l(e,a,i,t,l){function r(){O(e)}var n,d,s,o,v,y,c,p="css"===e,u=[];if(m||(c=navigator.userAgent,((m={async:!0===g.createElement("script").async}).webkit=/AppleWebKit\//.test(c))||(m.ie=/MSIE|Trident/.test(c))||(m.opera=/Opera/.test(c))||(m.gecko=/Gecko\//.test(c))||(m.unknown=!0)),a)if(a="string"==typeof a?[a]:a.concat(),p||m.async||m.gecko||m.opera)h[e].push({urls:a,callback:i,obj:t,context:l});else for(n=0,d=a.length;n<d;++n)h[e].push({urls:[a[n]],callback:n===d-1?i:null,obj:t,context:l});if(!P[e]&&(o=P[e]=h[e].shift())){for(b=b||(g.head||g.getElementsByTagName("head")[0]),n=0,d=(v=o.urls.concat()).length;n<d;++n)y=v[n],p?s=m.gecko?f("style"):f("link",{href:y,rel:"stylesheet"}):(s=f("script",{src:y})).async=!1,s.className="lazyload",s.setAttribute("charset","utf-8"),m.ie&&!p&&"onreadystatechange"in s&&!("draggable"in s)?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&(s.onreadystatechange=null,r())}:p&&(m.gecko||m.webkit)?m.webkit?(o.urls[n]=s.href,j()):(s.innerHTML='@import "'+y+'";',function a(i){var t;try{t=!!i.sheet.cssRules}catch(e){return void((I+=1)<200?setTimeout(function(){a(i)},50):t&&O("css"))}O("css")}(s)):s.onload=s.onerror=r,u.push(s);for(n=0,d=u.length;n<d;++n)b.appendChild(u[n])}}function j(){var e,a=P.css;if(a){for(e=i.length;0<=--e;)if(i[e].href===a.urls[0]){O("css");break}I+=1,a&&(I<200?setTimeout(j,50):O("css"))}}return{css:function(e,a,i,t){l("css",e,a,i,t)},js:function(e,a,i,t){l("js",e,a,i,t)}}}(this.document);

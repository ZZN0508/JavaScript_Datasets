!function(n){function s(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}var i={};s.m=n,s.c=i,s.p="",s(0)}([function(e,t,n){"use strict";n(1);var s=n(142),i=n(149),a=n(150),o=n(266),r=n(171),c=n(167),l=n(143),u=n(151),d=n(152),g=n(264),f=n(261),p=n(281),b=n(158),m=n(154),y=n(162),_=n(155),v=n(170),h=n(260),S=n(153),P=n(144),A=n(282),k=n(262),E=n(263),n=n(283);P("index").info("Using Webpack"),Object.assign(window.bbcdotcom,{objects:b,domLoaded:!1,addLoadEvent:f,classes:m,config:a,currencyProviders:g,utils:l,adverts:o,analytics:r,analyticsHelper:c,sections:u,locale:d,permutive:_,pubsub:y,Predicate:v,stats:h,survey:S,Logger:P,stickyAdvert:A,idcta:k,piano:E}),s(),window.bbcdotcom.init=i.bind(window.bbcdotcom),Object.assign(window.bbcdotcom,p),e.exports=window.bbcdotcom,window.ns_=n,window.google_ad_request_done=window.bbcdotcom.adverts.adsenseRenderer.google_ad_request_done},function(e,t,n){"use strict";n(2),n(101),n(53),n(104),n(108),n(109),n(129),n(131),n(137)},function(e,t,n){n(3),n(40),n(41),n(42),n(46),n(49),n(50),n(53),n(55),n(56),n(57),n(58),n(59),n(60),n(63),n(65),n(67),n(68),n(69),n(74),n(75),n(76),n(77),n(78),n(80),n(81),n(82),n(83),n(86),n(87),n(88),n(90),n(91),n(95),n(97),n(98),e.exports=n(6)},function(e,t,n){var s=n(4);s(s.S,"Object",{create:n(25)})},function(e,t,n){function f(e,t,n){var s,i,a,o=e&f.F,r=e&f.G,c=e&f.P,l=e&f.B,u=r?p:e&f.S?p[t]||(p[t]={}):(p[t]||{})[v],d=r?b:b[t]||(b[t]={}),g=d[v]||(d[v]={});for(s in n=r?t:n)a=!o&&u&&void 0!==u[s],i=(a?u:n)[s],a=l&&a?_(i,p):c&&"function"==typeof i?_(Function.call,i):i,u&&y(u,s,i,e&f.U),d[s]!=i&&m(d,s,a),c&&g[s]!=i&&(g[s]=i)}var p=n(5),b=n(6),m=n(7),y=n(17),_=n(23),v="prototype";p.core=b,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(e,t,n){var s=n(8),i=n(16);e.exports=n(12)?function(e,t,n){return s.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var s=n(9),i=n(11),a=n(15),o=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(s(e),t=a(t,!0),s(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var s=n(10);e.exports=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(12)&&!n(13)(function(){return 7!=Object.defineProperty(n(14)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var s=n(10),i=n(5).document,a=s(i)&&s(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var i=n(10);e.exports=function(e,t){if(!i(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!i(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(5),o=n(7),r=n(18),c=n(19)("src"),s=n(20),i="toString",l=(""+s).split(i);n(6).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var i="function"==typeof n;i&&(r(n,"name")||o(n,"name",t)),e[t]!==n&&(i&&(r(n,c)||o(n,c,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[c]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},function(e,t,n){e.exports=n(21)("native-function-to-string",Function.toString)},function(e,t,n){var s=n(6),i=n(5),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:s.version,mode:n(22)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var a=n(24);e.exports=function(s,i,e){if(a(s),void 0===i)return s;switch(e){case 1:return function(e){return s.call(i,e)};case 2:return function(e,t){return s.call(i,e,t)};case 3:return function(e,t,n){return s.call(i,e,t,n)}}return function(){return s.apply(i,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){function s(){}var i=n(9),a=n(26),o=n(38),r=n(37)("IE_PROTO"),c="prototype",l=function(){var e=n(14)("iframe"),t=o.length;for(e.style.display="none",n(39).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;t--;)delete l[c][o[t]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=i(e),n=new s,s[c]=null,n[r]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var o=n(8),r=n(9),c=n(27);e.exports=n(12)?Object.defineProperties:function(e,t){r(e);for(var n,s=c(t),i=s.length,a=0;a<i;)o.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var s=n(28),i=n(38);e.exports=Object.keys||function(e){return s(e,i)}},function(e,t,n){var o=n(18),r=n(29),c=n(33)(!1),l=n(37)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),i=0,a=[];for(n in s)n!=l&&o(s,n)&&a.push(n);for(;t.length>i;)o(s,n=t[i++])&&(~c(a,n)||a.push(n));return a}},function(e,t,n){var s=n(30),i=n(32);e.exports=function(e){return s(i(e))}},function(e,t,n){var s=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var c=n(29),l=n(34),u=n(36);e.exports=function(r){return function(e,t,n){var s,i=c(e),a=l(i.length),o=u(n,a);if(r&&t!=t){for(;o<a;)if((s=i[o++])!=s)return!0}else for(;o<a;o++)if((r||o in i)&&i[o]===t)return r||o||0;return!r&&-1}}},function(e,t,n){var s=n(35),i=Math.min;e.exports=function(e){return 0<e?i(s(e),9007199254740991):0}},function(e,t){var n=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?s:n)(e)}},function(e,t,n){var s=n(35),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=s(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var s=n(21)("keys"),i=n(19);e.exports=function(e){return s[e]||(s[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){n=n(5).document;e.exports=n&&n.documentElement},function(e,t,n){var s=n(4);s(s.S+s.F*!n(12),"Object",{defineProperty:n(8).f})},function(e,t,n){var s=n(4);s(s.S+s.F*!n(12),"Object",{defineProperties:n(26)})},function(e,t,n){var s=n(29),i=n(43).f;n(45)("getOwnPropertyDescriptor",function(){return function(e,t){return i(s(e),t)}})},function(e,t,n){var s=n(44),i=n(16),a=n(29),o=n(15),r=n(18),c=n(11),l=Object.getOwnPropertyDescriptor;t.f=n(12)?l:function(e,t){if(e=a(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(r(e,t))return i(!s.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(4),a=n(6),o=n(13);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var s=n(47),i=n(48);n(45)("getPrototypeOf",function(){return function(e){return i(s(e))}})},function(e,t,n){var s=n(32);e.exports=function(e){return Object(s(e))}},function(e,t,n){var s=n(18),i=n(47),a=n(37)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),s(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var s=n(47),i=n(27);n(45)("keys",function(){return function(e){return i(s(e))}})},function(e,t,n){n(45)("getOwnPropertyNames",function(){return n(51).f})},function(e,t,n){var s=n(29),i=n(52).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(s(e))}},function(e,t,n){var s=n(28),i=n(38).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,i)}},function(e,t,n){var s=n(10),i=n(54).onFreeze;n(45)("freeze",function(t){return function(e){return t&&s(e)?t(i(e)):e}})},function(e,t,n){function s(e){r(e,i,{value:{i:"O"+ ++c,w:{}}})}var i=n(19)("meta"),a=n(10),o=n(18),r=n(8).f,c=0,l=Object.isExtensible||function(){return!0},u=!n(13)(function(){return l(Object.preventExtensions({}))}),d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";s(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;s(e)}return e[i].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!o(e,i)&&s(e),e}}},function(e,t,n){var s=n(10),i=n(54).onFreeze;n(45)("seal",function(t){return function(e){return t&&s(e)?t(i(e)):e}})},function(e,t,n){var s=n(10),i=n(54).onFreeze;n(45)("preventExtensions",function(t){return function(e){return t&&s(e)?t(i(e)):e}})},function(e,t,n){var s=n(10);n(45)("isFrozen",function(t){return function(e){return!s(e)||!!t&&t(e)}})},function(e,t,n){var s=n(10);n(45)("isSealed",function(t){return function(e){return!s(e)||!!t&&t(e)}})},function(e,t,n){var s=n(10);n(45)("isExtensible",function(t){return function(e){return!!s(e)&&(!t||t(e))}})},function(e,t,n){var s=n(4);s(s.P,"Function",{bind:n(61)})},function(e,t,n){"use strict";var a=n(24),o=n(10),r=n(62),c=[].slice,l={};e.exports=Function.bind||function(t){var n=a(this),s=c.call(arguments,1),i=function(){var e=s.concat(c.call(arguments));return this instanceof i?function(e,t,n){if(!(t in l)){for(var s=[],i=0;i<t;i++)s[i]="a["+i+"]";l[t]=Function("F,a","return new F("+s.join(",")+")")}return l[t](e,n)}(n,e.length,e):r(n,e,t)};return o(n.prototype)&&(i.prototype=n.prototype),i}},function(e,t){e.exports=function(e,t,n){var s=void 0===n;switch(t.length){case 0:return s?e():e.call(n);case 1:return s?e(t[0]):e.call(n,t[0]);case 2:return s?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return s?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return s?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(4);s(s.S,"Array",{isArray:n(64)})},function(e,t,n){var s=n(31);e.exports=Array.isArray||function(e){return"Array"==s(e)}},function(e,t,n){"use strict";var s=n(4),i=n(29),a=[].join;s(s.P+s.F*(n(30)!=Object||!n(66)(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var s=n(13);e.exports=function(e,t){return!!e&&s(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var s=n(4),i=n(39),c=n(31),l=n(36),u=n(34),d=[].slice;s(s.P+s.F*n(13)(function(){i&&d.call(i)}),"Array",{slice:function(e,t){var n=u(this.length),s=c(this);if(t=void 0===t?n:t,"Array"==s)return d.call(this,e,t);for(var i=l(e,n),n=l(t,n),a=u(n-i),o=new Array(a),r=0;r<a;r++)o[r]="String"==s?this.charAt(i+r):this[i+r];return o}})},function(e,t,n){"use strict";var s=n(4),i=n(24),a=n(47),o=n(13),r=[].sort,c=[1,2,3];s(s.P+s.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n(66)(r)),"Array",{sort:function(e){return void 0===e?r.call(a(this)):r.call(a(this),i(e))}})},function(e,t,n){"use strict";var s=n(4),i=n(70)(0),n=n(66)([].forEach,!0);s(s.P+s.F*!n,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var v=n(23),h=n(30),S=n(47),P=n(34),s=n(71);e.exports=function(d,e){var g=1==d,f=2==d,p=3==d,b=4==d,m=6==d,y=5==d||m,_=e||s;return function(e,t,n){for(var s,i,a=S(e),o=h(a),r=v(t,n,3),c=P(o.length),l=0,u=g?_(e,c):f?_(e,0):void 0;l<c;l++)if((y||l in o)&&(i=r(s=o[l],l,a),d))if(g)u[l]=i;else if(i)switch(d){case 3:return!0;case 5:return s;case 6:return l;case 2:u.push(s)}else if(b)return!1;return m?-1:p||b?b:u}}},function(e,t,n){var s=n(72);e.exports=function(e,t){return new(s(e))(t)}},function(e,t,n){var s=n(10),i=n(64),a=n(73)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),s(t)&&(null===(t=t[a])&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var s=n(21)("wks"),i=n(19),a=n(5).Symbol,o="function"==typeof a;(e.exports=function(e){return s[e]||(s[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=s},function(e,t,n){"use strict";var s=n(4),i=n(70)(1);s(s.P+s.F*!n(66)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var s=n(4),i=n(70)(2);s(s.P+s.F*!n(66)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var s=n(4),i=n(70)(3);s(s.P+s.F*!n(66)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var s=n(4),i=n(70)(4);s(s.P+s.F*!n(66)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var s=n(4),i=n(79);s(s.P+s.F*!n(66)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var u=n(24),d=n(47),g=n(30),f=n(34);e.exports=function(e,t,n,s,i){u(t);var a=d(e),o=g(a),r=f(a.length),c=i?r-1:0,l=i?-1:1;if(n<2)for(;;){if(c in o){s=o[c],c+=l;break}if(c+=l,i?c<0:r<=c)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=c:c<r;c+=l)c in o&&(s=t(s,o[c],c,a));return s}},function(e,t,n){"use strict";var s=n(4),i=n(79);s(s.P+s.F*!n(66)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var s=n(4),i=n(33)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;s(s.P+s.F*(o||!n(66)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var s=n(4),i=n(29),a=n(35),o=n(34),r=[].lastIndexOf,c=!!r&&1/[1].lastIndexOf(1,-0)<0;s(s.P+s.F*(c||!n(66)(r)),"Array",{lastIndexOf:function(e){if(c)return r.apply(this,arguments)||0;var t=i(this),n=o(t.length),s=n-1;for((s=1<arguments.length?Math.min(s,a(arguments[1])):s)<0&&(s=n+s);0<=s;s--)if(s in t&&t[s]===e)return s||0;return-1}})},function(e,t,n){"use strict";function o(e,t){for(var n=-1,s=t;++n<6;)s+=e*f[n],f[n]=s%1e7,s=a(s/1e7)}function r(e){for(var t=6,n=0;0<=--t;)n+=f[t],f[t]=a(n/e),n=n%e*1e7}function c(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===f[t]||(e=String(f[t]),n=""===n?e:n+g.call("0",7-e.length)+e);return n}function l(e,t,n){return 0===t?n:t%2==1?l(e,t-1,n*e):l(e*e,t/2,n)}var s=n(4),u=n(35),d=n(84),g=n(85),i=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],p="Number.toFixed: incorrect invocation!";s(s.P+s.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(13)(function(){i.call({})})),"Number",{toFixed:function(e){var t,n,s=d(this,p),i=u(e),a="",e="0";if(i<0||20<i)throw RangeError(p);if(s!=s)return"NaN";if(s<=-1e21||1e21<=s)return String(s);if(s<0&&(a="-",s=-s),1e-21<s)if(s=(n=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(s*l(2,69,1))-69)<0?s*l(2,-n,1):s/l(2,n,1),s*=4503599627370496,0<(n=52-n)){for(o(0,s),t=i;7<=t;)o(1e7,0),t-=7;for(o(l(10,t,1),0),t=n-1;23<=t;)r(1<<23),t-=23;r(1<<t),o(1,1),r(2),e=c()}else o(0,s),o(1<<-n,0),e=c()+g.call("0",i);return e=0<i?a+((n=e.length)<=i?"0."+g.call("0",i-n)+e:e.slice(0,n-i)+"."+e.slice(n-i)):a+e}})},function(e,t,n){var s=n(31);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=s(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var i=n(35),a=n(32);e.exports=function(e){var t=String(a(this)),n="",s=i(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;0<s;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},function(e,t,n){"use strict";var s=n(4),i=n(13),a=n(84),o=1..toPrecision;s(s.P+s.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,n){n=n(4);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var s=n(4),n=n(89);s(s.P+s.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,n){"use strict";function i(e){return 9<e?e:"0"+e}var n=n(13),a=Date.prototype.getTime,s=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!n(function(){s.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),s=t<0?"-":9999<t?"+":"";return s+("00000"+Math.abs(t)).slice(s?-6:-4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+(99<n?n:"0"+i(n))+"Z"}:s},function(e,t,n){"use strict";var s=n(4),i=n(47),a=n(15);s(s.P+s.F*n(13)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var s=n(4),n=n(92);s(s.G+s.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var s=n(5).parseInt,i=n(93).trim,n=n(94),a=/^[-+]?0[xX]/;e.exports=8!==s(n+"08")||22!==s(n+"0x16")?function(e,t){e=i(String(e),3);return s(e,t>>>0||(a.test(e)?16:10))}:s},function(e,t,n){var a=n(4),s=n(32),o=n(13),r=n(94),n="["+r+"]",i=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),n=function(e,t,n){var s={},i=o(function(){return!!r[e]()||"â€‹Â…"!="â€‹Â…"[e]()}),t=s[e]=i?t(l):r[e];n&&(s[n]=t),a(a.P+a.F*i,"String",s)},l=n.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(i,"")),e=2&t?e.replace(c,""):e};e.exports=n},function(e,t){e.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(e,t,n){var s=n(4),n=n(96);s(s.G+s.F*(parseFloat!=n),{parseFloat:n})},function(e,t,n){var s=n(5).parseFloat,i=n(93).trim;e.exports=1/s(n(94)+"-0")!=-1/0?function(e){var t=i(String(e),3),e=s(t);return 0===e&&"-"==t.charAt(0)?-0:e}:s},function(e,t,n){"use strict";n(93)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";n(99);function s(e){n(17)(RegExp.prototype,r,e,!0)}var i=n(9),a=n(100),o=n(12),r="toString",c=/./[r];n(13)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?a.call(e):void 0)}):c.name!=r&&s(function(){return c.call(this)})},function(e,t,n){n(12)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(100)})},function(e,t,n){"use strict";var s=n(9);e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var s=n(4);s(s.S+s.F,"Object",{assign:n(102)})},function(e,t,n){"use strict";var g=n(12),f=n(27),p=n(103),b=n(44),m=n(47),y=n(30),i=Object.assign;e.exports=!i||n(13)(function(){var e={},t={},n=Symbol(),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=s})?function(e,t){for(var n=m(e),s=arguments.length,i=1,a=p.f,o=b.f;i<s;)for(var r,c=y(arguments[i++]),l=a?f(c).concat(a(c)):f(c),u=l.length,d=0;d<u;)r=l[d++],g&&!o.call(c,r)||(n[r]=c[r]);return n}:i},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var s=n(4),i=n(34),a=n(105),o="endsWith",r=""[o];s(s.P+s.F*n(107)(o),"String",{endsWith:function(e){var t=a(this,e,o),n=1<arguments.length?arguments[1]:void 0,s=i(t.length),s=void 0===n?s:Math.min(i(n),s),e=String(e);return r?r.call(t,e,s):t.slice(s-e.length,s)===e}})},function(e,t,n){var s=n(106),i=n(32);e.exports=function(e,t,n){if(s(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var s=n(10),i=n(31),a=n(73)("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var s=n(73)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[s]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(e,t,n){"use strict";var s=n(4),i=n(105),a="includes";s(s.P+s.F*n(107)(a),"String",{includes:function(e){return!!~i(this,e,a).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){"use strict";var s=n(110),i=n(124);e.exports=n(125)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=s.getEntry(i(this,"Map"),e);return e&&e.v},set:function(e,t){return s.def(i(this,"Map"),0===e?0:e,t)}},s,!0)},function(e,t,n){"use strict";function o(e,t){var n,s=p(t);if("F"!==s)return e._i[s];for(n=e._f;n;n=n.n)if(n.k==t)return n}var r=n(8).f,c=n(25),l=n(111),u=n(23),d=n(112),g=n(113),s=n(119),i=n(122),a=n(123),f=n(12),p=n(54).fastKey,b=n(124),m=f?"_s":"size";e.exports={getConstructor:function(e,i,n,s){var a=e(function(e,t){d(e,a,i,"_i"),e._t=i,e._i=c(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&g(t,n,e[s],e)});return l(a.prototype,{clear:function(){for(var e=b(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t,n=b(this,i),s=o(n,e);return s&&(t=s.n,e=s.p,delete n._i[s.i],s.r=!0,e&&(e.n=t),t&&(t.p=e),n._f==s&&(n._f=t),n._l==s&&(n._l=e),n[m]--),!!s},forEach:function(e){b(this,i);for(var t,n=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(b(this,i),e)}}),f&&r(a.prototype,"size",{get:function(){return b(this,i)[m]}}),a},def:function(e,t,n){var s,i=o(e,t);return i?i.v=n:(e._l=i={i:s=p(t,!0),k:t,v:n,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[m]++,"F"!==s&&(e._i[s]=i)),e},getEntry:o,setStrong:function(e,n,t){s(e,n,function(e,t){this._t=b(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),a(n)}}},function(e,t,n){var i=n(17);e.exports=function(e,t,n){for(var s in t)i(e,s,t[s],n);return e}},function(e,t){e.exports=function(e,t,n,s){if(!(e instanceof t)||void 0!==s&&s in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var d=n(23),g=n(114),f=n(115),p=n(9),b=n(34),m=n(117),y={},_={};(t=e.exports=function(e,t,n,s,i){var a,o,r,c,i=i?function(){return e}:m(e),l=d(n,s,t?2:1),u=0;if("function"!=typeof i)throw TypeError(e+" is not iterable!");if(f(i)){for(a=b(e.length);u<a;u++)if((c=t?l(p(o=e[u])[0],o[1]):l(e[u]))===y||c===_)return c}else for(r=i.call(e);!(o=r.next()).done;)if((c=g(r,l,o.value,t))===y||c===_)return c}).BREAK=y,t.RETURN=_},function(e,t,n){var i=n(9);e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(t){n=e.return;throw void 0!==n&&i(n.call(e)),t}}},function(e,t,n){var s=n(116),i=n(73)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||a[i]===e)}},function(e,t){e.exports={}},function(e,t,n){var s=n(118),i=n(73)("iterator"),a=n(116);e.exports=n(6).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[s(e)]}},function(e,t,n){var s=n(31),i=n(73)("toStringTag"),a="Arguments"==s(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:a?s(t):"Object"==(e=s(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,n){"use strict";function y(){return this}var _=n(22),v=n(4),h=n(17),S=n(7),P=n(116),A=n(120),k=n(121),E=n(48),w=n(73)("iterator"),T=!([].keys&&"next"in[].keys()),I="values";e.exports=function(e,t,n,s,i,a,o){A(n,t,s);function r(e){if(!T&&e in f)return f[e];switch(e){case"keys":case I:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var c,l,u=t+" Iterator",d=i==I,g=!1,f=e.prototype,p=f[w]||f["@@iterator"]||i&&f[i],b=p||r(i),m=i?d?r("entries"):b:void 0,s="Array"==t&&f.entries||p;if(s&&((e=E(s.call(new e)))!==Object.prototype&&e.next&&(k(e,u,!0),_||"function"==typeof e[w]||S(e,w,y))),d&&p&&p.name!==I&&(g=!0,b=function(){return p.call(this)}),_&&!o||!T&&!g&&f[w]||S(f,w,b),P[t]=b,P[u]=y,i)if(c={values:d?b:r(I),keys:a?b:r("keys"),entries:m},o)for(l in c)l in f||h(f,l,c[l]);else v(v.P+v.F*(T||g),t,c);return c}},function(e,t,n){"use strict";var s=n(25),i=n(16),a=n(121),o={};n(7)(o,n(73)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=s(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var s=n(8).f,i=n(18),a=n(73)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&s(e,a,{configurable:!0,value:t})}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var s=n(5),i=n(8),a=n(12),o=n(73)("species");e.exports=function(e){e=s[e];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var s=n(10);e.exports=function(e,t){if(!s(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var y=n(5),_=n(4),v=n(17),h=n(111),S=n(54),P=n(113),A=n(112),k=n(10),E=n(13),w=n(126),T=n(121),I=n(127);e.exports=function(n,e,t,s,i,a){function o(e){var n=b[e];v(b,e,"delete"==e?function(e){return!(a&&!k(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!k(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!k(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var r,c,l,u,d,g=y[n],f=g,p=i?"set":"add",b=f&&f.prototype,m={};return"function"==typeof f&&(a||b.forEach&&!E(function(){(new f).entries().next()}))?(c=(r=new f)[p](a?{}:-0,1)!=r,l=E(function(){r.has(1)}),u=w(function(e){new f(e)}),d=!a&&E(function(){for(var e=new f,t=5;t--;)e[p](t,t);return!e.has(-0)}),u||(((f=e(function(e,t){A(e,f,n);e=I(new g,e,f);return null!=t&&P(t,i,e[p],e),e})).prototype=b).constructor=f),(l||d)&&(o("delete"),o("has"),i&&o("get")),(d||c)&&o(p),a&&b.clear&&delete b.clear):(f=s.getConstructor(e,n,i,p),h(f.prototype,t),S.NEED=!0),T(f,n),m[n]=f,_(_.G+_.W+_.F*(f!=g),m),a||s.setStrong(f,n,i),f}},function(e,t,n){var a=n(73)("iterator"),o=!1;try{var s=[7][a]();s.return=function(){o=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var s=[7],i=s[a]();i.next=function(){return{done:n=!0}},s[a]=function(){return i},e(s)}catch(e){}return n}},function(e,t,n){var i=n(10),a=n(128).set;e.exports=function(e,t,n){var s,t=t.constructor;return t!==n&&"function"==typeof t&&(s=t.prototype)!==n.prototype&&i(s)&&a&&a(e,s),e}},function(e,t,i){function a(e,t){if(s(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=i(10),s=i(9);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,s){try{(s=i(23)(Function.call,i(43).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:s(e,t),e}}({},!1):void 0),check:a}},function(e,t,n){"use strict";var s=n(4),i=n(33)(!0);s(s.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(130)("includes")},function(e,t,n){var s=n(73)("unscopables"),i=Array.prototype;null==i[s]&&n(7)(i,s,{}),e.exports=function(e){i[s][e]=!0}},function(e,t,n){n(132),n(136),e.exports=n(6).Symbol},function(e,t,n){"use strict";function s(e){var t=q[e]=I(U[G]);return t._k=e,t}function i(e,t){P(e);for(var n,s=h(t=E(t)),i=0,a=s.length;i<a;)Q(e,n=s[i++],t[n]);return e}function a(e){var t=V.call(this,e=w(e,!0));return!(this===H&&c(q,e)&&!c(z,e))&&(!(t||!c(this,e)||!c(q,e)||c(this,j)&&this[j][e])||t)}function o(e,t){if(e=E(e),t=w(t,!0),e!==H||!c(q,t)||c(z,t)){var n=B(e,t);return!n||!c(q,t)||c(e,j)&&e[j][t]||(n.enumerable=!0),n}}var r=n(5),c=n(18),l=n(12),u=n(4),d=n(17),g=n(54).KEY,f=n(13),p=n(21),b=n(121),m=n(19),y=n(73),_=n(133),v=n(134),h=n(135),S=n(64),P=n(9),A=n(10),k=n(47),E=n(29),w=n(15),T=n(16),I=n(25),C=n(51),x=n(43),L=n(103),N=n(8),O=n(27),B=x.f,D=N.f,R=C.f,U=r.Symbol,F=r.JSON,M=F&&F.stringify,G="prototype",j=y("_hidden"),K=y("toPrimitive"),V={}.propertyIsEnumerable,W=p("symbol-registry"),q=p("symbols"),z=p("op-symbols"),H=Object[G],Y="function"==typeof U&&!!L.f,$=r.QObject,J=!$||!$[G]||!$[G].findChild,X=l&&f(function(){return 7!=I(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var s=B(H,t);s&&delete H[t],D(e,t,n),s&&e!==H&&D(H,t,s)}:D,Z=Y&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},Q=function(e,t,n){return e===H&&Q(z,t,n),P(e),t=w(t,!0),P(n),c(q,t)?(n.enumerable?(c(e,j)&&e[j][t]&&(e[j][t]=!1),n=I(n,{enumerable:T(0,!1)})):(c(e,j)||D(e,j,T(1,{})),e[j][t]=!0),X(e,t,n)):D(e,t,n)},p=function(e){for(var t,n=R(E(e)),s=[],i=0;n.length>i;)c(q,t=n[i++])||t==j||t==g||s.push(t);return s},$=function(e){for(var t,n=e===H,s=R(n?z:E(e)),i=[],a=0;s.length>a;)!c(q,t=s[a++])||n&&!c(H,t)||i.push(q[t]);return i};Y||(d((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var t=m(0<arguments.length?arguments[0]:void 0),n=function(e){this===H&&n.call(z,e),c(this,j)&&c(this[j],t)&&(this[j][t]=!1),X(this,t,T(1,e))};return l&&J&&X(H,t,{configurable:!0,set:n}),s(t)})[G],"toString",function(){return this._k}),x.f=o,N.f=Q,n(52).f=C.f=p,n(44).f=a,L.f=$,l&&!n(22)&&d(H,"propertyIsEnumerable",a,!0),_.f=function(e){return s(y(e))}),u(u.G+u.W+u.F*!Y,{Symbol:U});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)y(ee[te++]);for(var ne=O(y.store),se=0;ne.length>se;)v(ne[se++]);u(u.S+u.F*!Y,"Symbol",{for:function(e){return c(W,e+="")?W[e]:W[e]=U(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in W)if(W[t]===e)return t},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!Y,"Object",{create:function(e,t){return void 0===t?I(e):i(I(e),t)},defineProperty:Q,defineProperties:i,getOwnPropertyDescriptor:o,getOwnPropertyNames:p,getOwnPropertySymbols:$});$=f(function(){L.f(1)});u(u.S+u.F*$,"Object",{getOwnPropertySymbols:function(e){return L.f(k(e))}}),F&&u(u.S+u.F*(!Y||f(function(){var e=U();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,s=[e],i=1;i<arguments.length;)s.push(arguments[i++]);if(n=t=s[1],(A(t)||void 0!==e)&&!Z(e))return S(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),s[1]=t,M.apply(F,s)}}),U[G][K]||n(7)(U[G],K,U[G].valueOf),b(U,"Symbol"),b(Math,"Math",!0),b(r.JSON,"JSON",!0)},function(e,t,n){t.f=n(73)},function(e,t,n){var s=n(5),i=n(6),a=n(22),o=n(133),r=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=!a&&s.Symbol||{});"_"==e.charAt(0)||e in t||r(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(27),c=n(103),l=n(44);e.exports=function(e){var t=r(e),n=c.f;if(n)for(var s,i=n(e),a=l.f,o=0;i.length>o;)a.call(e,s=i[o++])&&t.push(s);return t}},function(e,t,n){"use strict";var s=n(118),i={};i[n(73)("toStringTag")]="z",i+""!="[object z]"&&n(17)(Object.prototype,"toString",function(){return"[object "+s(this)+"]"},!0)},function(e,t,n){n(138),n(140),e.exports=n(133).f("iterator")},function(e,t,n){"use strict";var s=n(139)(!0);n(119)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=s(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,n){var o=n(35),r=n(32);e.exports=function(a){return function(e,t){var n,s=String(r(e)),i=o(t),e=s.length;return i<0||e<=i?a?"":void 0:(t=s.charCodeAt(i))<55296||56319<t||i+1===e||(n=s.charCodeAt(i+1))<56320||57343<n?a?s.charAt(i):t:a?s.slice(i,i+2):n-56320+(t-55296<<10)+65536}}},function(e,t,n){for(var s=n(141),i=n(27),a=n(17),o=n(5),r=n(7),c=n(116),n=n(73),l=n("iterator"),u=n("toStringTag"),d=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(g),p=0;p<f.length;p++){var b,m=f[p],y=g[m],_=o[m],v=_&&_.prototype;if(v&&(v[l]||r(v,l,d),v[u]||r(v,u,m),c[m]=d,y))for(b in s)v[b]||a(v,b,s[b],!0)}},function(e,t,n){"use strict";var s=n(130),i=n(122),a=n(116),o=n(29);e.exports=n(119)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")},function(e,t,n){"use strict";var s=n(143);e.exports=function(){s.addHtmlTagClass("bbcdotcom")}},function(e,t,n){"use strict";function s(e,t,n){if(void 0!==e&&""!==e&&null!==e){n=new RegExp("(\\s|^)"+n+"(\\s|$)");return e[t].match(n)}}function i(e,t,n,s){var i,a=!1,o=0;if(!e)return!1;for(s="number"==typeof s?s:10,i=(n=!0===n)?e:e.parentNode;i&&o<s;){var r=t(i);if(0<r){a=i;break}if(r<0)break;i=i.parentNode,o++}return a}function a(){return-1!==window.location.hostname.indexOf(".bbc.com")?"bbc.com":-1!==window.location.hostname.indexOf(".bbc.co.uk")?"bbc.co.uk":window.location.hostname}var o=n(144)("utils"),r=[];e.exports={debounce:function(s,i,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||s.apply(e,t)},i),n&&s.apply(e,t)}},appendLinkToHead:function(e){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)},capitalize:function(e){if(void 0!==e){for(var t,n=e.split(" "),s=0;s<n.length;s++)2<n[s].length&&(t=n[s].charAt(0).toUpperCase(),n[s]=t+n[s].substr(1));return n.join(" ")}},log:function(){o.warn("utils.log is deprecated",arguments)},addTagClass:function(e,t){if(void 0!==e&&""!==e&&null!==e&&"string"==typeof t&&""!==t)return s(e,"className",t)||(e.className=e.className+" "+t),e.className},removeTagClass:function(e,t){if(void 0!==e&&""!==e&&null!==e&&"string"==typeof t&&""!==t)return s(e,"className",t)&&(t=RegExp(t+"\\b"),e.className=e.className.replace(t,"").replace("  "," ")),e.className},addBodyTagClass:function(e){var t=document.getElementsByTagName("body")[0];return this.addTagClass(t,e)},removeBodyTagClass:function(e){var t=document.getElementsByTagName("body")[0];return this.removeTagClass(t,e)},addHtmlTagClass:function(e){var t=document.getElementsByTagName("html")[0];return this.addTagClass(t,e)},removeHtmlTagClass:function(e){var t=document.getElementsByTagName("html")[0];return this.removeTagClass(t,e)},hasBodyTagId:function(e){return function(e,t){e=document.getElementsByTagName(e)[0];return void 0!==e&&""!==e&&null!==e&&"string"==typeof t&&null!==s(e,"id",t)}("body",e)},getUriParamByName:function(e,t){if(t=!1!==t,void 0===e)return"";e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(bbcdotcom.config.getWindowLocation().search);return null===e?"":decodeURIComponent(t?e[1].replace(/[^a-zA-Z0-9\-_]/g,""):e[1])},isDebug:function(){return/[?|&]ads-debug/.test(window.location.href)||-1!==document.cookie.indexOf("ads-debug=")},isDebugTrace:function(){return/[?|&]ads-debug-trace/.test(window.location.href)||-1!==document.cookie.indexOf("ads-debug-trace=")},getEnv:function(){var e=bbcdotcom.config.getWindowLocation();if(/[a-z]+\-test[0-9]+\.bbc.*\.com/.test(e.href))return"test";e=e.href.match(/(sandbox|int|test|stage)(.dev)*.bbc.co*/);return null===e?"live":e[1]},isLiveEnv:function(){return"live"===this.getEnv()},isTestEnv:function(){return"live"!==this.getEnv()&&"stage"!==this.getEnv()},stackTrace:function(){var e=new Error;window.console.log(e.stack)},getParentElementByClass:function(e,t,n,s){s=void 0!==s&&!0===s;return i(e,function(e){return!e||void 0===e.className||void 0===e.tagName||s&&"body"===e.tagName.toLowerCase()?-1:-1!==e.className.indexOf(t)?1:void 0},!1,void 0===n||0===n?5:n)},getClosestElementByTagName:function(e,t,n,s){return i(e,function(e){return e&&e.tagName&&e.tagName.toLowerCase()===t?1:0},n,s)},getParentElementByAttribute:function(e,t,n){return i(e,function(e){return e&&null!==e.getAttribute(t)?1:0},n)},parentHasClass:function(e,t,n,s){return!1!==this.getParentElementByClass(e,t,n,s)},getAnchorPositionWithinElement:function(e,t){var n,s,i;if(e&&t)for(s=e.getElementsByTagName("a"),i=new RegExp(t+"$"),n=0;n<s.length;n++)if(void 0!==s[n].href&&""!==t&&null!==s[n].href.match(i))return n+1;return 0},getClosestElementWithAttribute:function(e,t){var n,s,i;if(e&&href)for(s=e.getElementsByTagName("a"),i=new RegExp(href+"$"),n=0;n<s.length;n++)if(void 0!==s[n].href&&""!==href&&null!==s[n].href.match(i))return n+1;return 0},addEvent:function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)},removeEvent:function(e,t,n){null!=e&&(e.detachEvent?(e.detachEvent("on"+t,e[t+n]),e[t+n]=null):e.removeEventListener(t,n,!1))},triggerEvent:function(e,t,n){n=void 0===n||n;var s=document.createEvent("MouseEvents");return s.initMouseEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n&&s.preventDefault(),e.dispatchEvent(s),s},cancelEvent:function(e){return!!e&&void("function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1)},isEventDefaultPrevented:function(e){return!!e&&(e.defaultPrevented||!1===e.returnValue)},trim:function(e){return"string"==typeof e?e.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""):e},navigateTo:function(e){window.location.href=e},getMetaNameContent:function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n].getAttribute("content");return""},getMetaPropertyContent:function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""},setCookie:function(e,t,n){var s;void 0!==e&&""!==e&&void 0!==t&&""!==t&&(null!=n&&0!==n||(n=31536e3),(s=new Date).setTime(s.getTime()+1e3*n),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; expires="+s.toGMTString()+"; domain=."+a()+"; path=/",r.push(["set",e,t,n]))},getCookie:function(e){var t,n=("; "+document.cookie).split("; "+encodeURIComponent(e)+"=");return 2===n.length&&(t=decodeURIComponent(n.pop().split(";").shift())),r.push(["get",e,t]),t},deleteCookie:function(e){document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=."+a()+"; path=/",r.push(["delete",e])},generateUuidV4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})},createWindowLocation:function(e){var t=e,e=null==e||""===e?{href:"",protocol:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:""}:(t=(t=-1!==e.indexOf("?")?e.substr(0,e.indexOf("?")):t).substr(t.indexOf(":")+3),{href:e,protocol:e.substr(0,e.indexOf(":")+1),host:t.substr(0,t.indexOf("/")),hostname:t.substr(0,t.indexOf("/")),port:"",pathname:t.substr(t.indexOf("/")),search:e.substr(e.indexOf("?")),hash:""});return e},secondsToMilliSeconds:function(e){return Math.floor(1e3*parseFloat(e,10))},r:function(){r=[]},getTrackCookieValues:function(e){if(void 0===e)return r;for(var t=[],n=0;n<r.length;n++)-1!==e.indexOf(r[n][1])&&t.push(r[n]);return t},isString:function(e){return"string"==typeof e||e instanceof String},cleanArray:function(e){for(var t=[],n=0;n<e.length;n++)!e[n]&&0!==e[n]||t.push(e[n]);return t},outerHTML:function(e){if(void 0!==e)return e.outerHTML||(t=e,(e=document.createElement("div")).appendChild(t.cloneNode(!0)),t=e.innerHTML,e=null,t);var t},onDomReady:function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.onreadystatechange=function(){"interactive"===document.readyState&&e()}}}},function(e,t,n){"use strict";function s(e){function t(){return s.apply(void 0,arguments)}var n="bbcdotcom:"+e,s=u(n),i=!0,a=!1,o=void 0;try{for(var r,c=["log","info","warn","error","debug"][Symbol.iterator]();!(i=(r=c.next()).done);i=!0)!function(s){(t[s]=u(n)).log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"object"===l(window.console)&&window.console[s]&&Function.prototype.apply.call(window.console[s],window.console,t)}}(r.value)}catch(e){a=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}return t}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(145);s.enable=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.enable.apply(u,t),u("bbcdotcom")("Debugging enabled",t)},s.disable=function(){u("bbcdotcom")("Debugging disabled"),u.disable.apply(u,arguments)},/[?|&]ads-debug/.test(window.location.href)||-1!==document.cookie.indexOf("ads-debug=")?s.enable("bbcdotcom*"):u.enabled("bbcdotcom*")&&u("bbcdotcom")("To disable debugging: `bbcdotcom.Logger.disable()`"),e.exports=s},function(n,i,s){!function(t){function e(){var e;try{e=i.storage.debug}catch(e){}return e=!e&&void 0!==t&&"env"in t?t.env.DEBUG:e}(i=n.exports=s(147)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t,n,s=this.useColors;e[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+e[0]+(s?"%c ":" ")+"+"+i.humanize(this.diff),s&&(s="color: "+this.color,e.splice(1,0,s,"color: inherit"),e[n=t=0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,s))},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=e,i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(e())}.call(i,s(146))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(){f&&d&&(f=!1,d.length?g=d.concat(g):p=-1,g.length&&o())}function o(){if(!f){var e=i(a);f=!0;for(var t=g.length;t;){for(d=g,g=[];++p<t;)d&&d[p].run();p=-1,t=g.length}d=null,f=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===s||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(e)}}function r(e,t){this.fun=e,this.array=t}function c(){}var l,u,e=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{u="function"==typeof clearTimeout?clearTimeout:s}catch(e){u=s}}();var d,g=[],f=!1,p=-1;e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new r(e,t)),1!==g.length||f||i(o)},r.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=c,e.addListener=c,e.once=c,e.off=c,e.removeListener=c,e.removeAllListeners=c,e.emit=c,e.prependListener=c,e.prependOnceListener=c,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,r,t){function n(e){function o(){if(o.enabled){var s=o,e=+new Date,t=e-(c||e);s.diff=t,s.prev=c,s.curr=e,c=e;for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;a++;var n=r.formatters[t];return"function"==typeof n&&(t=i[a],e=n.call(s,t),i.splice(a,1),a--),e}),r.formatArgs.call(s,i),(o.log||r.log||console.log.bind(console)).apply(s,i)}}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),"function"==typeof r.init&&r.init(o),o}var c;(r=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,s=0;s<n;s++)t[s]&&("-"===(e=t[s].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){for(var t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=t(148),r.names=[],r.skips=[],r.formatters={}},function(e,t){function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=36e5,o=864e5;e.exports=function(e,t){t=t||{};var n,s=typeof e;if("string"==s&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return t*o;case"hours":case"hour":case"hrs":case"hr":case"h":return t*a;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(e);if("number"==s&&!1===isNaN(e))return t.long?i(n=e,o,"day")||i(n,a,"hour")||i(n,6e4,"minute")||i(n,1e3,"second")||n+" ms":o<=(n=e)?Math.round(n/o)+"d":a<=n?Math.round(n/a)+"h":6e4<=n?Math.round(n/6e4)+"m":1e3<=n?Math.round(n/1e3)+"s":n+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var d=n(150),g=n(143),f=n(151),p=n(152),b=n(153),m=n(154),y=n(155),_=n(170),v=n(171),h=n(157),S=n(169),P=n(160),A=n(163),k=n(166),E=n(159),w=n(259),T=n(156),I=n(162),C=n(260),x=n(167),L=n(261),N=n(144)("init"),O=n(262),B=n(263),D=n(264);e.exports=function(e){window.bbcdotcom.initCount?window.bbcdotcom.initCount+=1:window.bbcdotcom.initCount=1;try{var t,n,s,i,a=d.getWindowLocation(),o=d.getWindowDocument();if(N.info("bbcdotcom.init() with params: ",e),g.addHtmlTagClass(m.classNames("init","responsive")),C.init(),d.isAdsEnabled()&&(!d.isSportApp()||d.isSportApp()&&d.isAdsportappEnabled())){if(bbcdotcom.initCalled){if(e.adsToDisplay&&(i=k.build(e.adsToDisplay)))for(window.bbcdotcom.adsToDisplay=i,n=0,s=i.length;n<s;n++)P.registerAd(i[n]);return}d.init(e),O.init();var r,c=/[?|&]ads-debug/.test(window.location.href),l=/[?|&]piano-debug/.test(window.location.href),u=window.bbccookies&&bbccookies.readPolicy&&bbccookies.readPolicy("performance");if(setTimeout(function(){(u&&d.isPianoEnabled()&&"news"===E.get("channel")||c&&l)&&B.init(c,l)},1),g.addHtmlTagClass(m.fromConfig(d,window)),d.isIE8()&&h.disableReset(),f.build(!0),"sport"===f.getSection(0)&&S.setGroupStart(4,900),"group5"===e.layout&&(r=Object.assign({},S.getGroup(4)),S.setGroup(5,r),S.setGroupFinish(4,1279)),h.init(S.getGroups()),e.clientWidth&&h.setClientWidth(e.clientWidth),e.customBreakpoints&&S.setGroups(e.customBreakpoints),i=e.adsToDisplay?k.build(e.adsToDisplay):i)for(window.bbcdotcom.adsToDisplay=i,n=0,s=i.length;n<s;n++)P.registerAd(i[n]);if(e.localeData)for(t in e.localeData)e.localeData.hasOwnProperty(t)&&p.set(t,e.localeData[t]);else p.setLocale(document.documentElement.lang);if((new _).set(o.title+" "+g.getMetaNameContent("description")),A.init(h.getClientWidth(),this.serversideAdUnits2to9,f.getSections("advert"),f.getSections()),E.init(a,o,d.getType()),void 0!==e.keyValues)for(t in e.keyValues)e.keyValues.hasOwnProperty(t)&&E.set(t,e.keyValues[t]);y.init(e.pwa),w.init(a.href),T.pwa(e.pwa),T.init(),window.addEventListener?window.addEventListener("message",this.receiveMessage,!1):window.attachEvent("onmessage",this.receiveMessage)}b.init(),v.init(),I.trigger("bbcdotcom:init:complete",{params:e,stats:{pageType:x.getPageType(),primaryAdUnit:A.getAdUnit1(),secondaryAdUnit:A.getAdUnits2to9(),adsEnabled:d.isAdsEnabled(),isAsync:d.isAsync()}}),d.isActive("analytics")&&"au"===bbcdotcom.data.country&&D.initNielsenAu(),d.isAnalyticsEnabled()&&window.bbcdotcom&&bbcdotcom.currencyProviders&&(bbcdotcom.currencyProviders.write(),bbcdotcom.currencyProviders.postWrite())}catch(e){N&&N.error?N.error(e):window.console.log(e)}L(function(){try{var e,t=P.getAds();if(this.domLoaded=!0,d.isAsync())this.reset();else for(e in t)t.hasOwnProperty(e)&&t[e].disableScreenReaderForAdContent()}catch(e){g.log(e)}}.bind(this)),bbcdotcom.initCalled=!0}},function(e,t,n){"use strict";function s(){return window.location}function i(){return window.document}function a(e){return/(sandbox|int|test|stage)(.dev)*.bbc.co*/.test(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e},r=n(144)("config"),c={COMSCORE:{HTTPS:"https://sb.scorecardresearch.com/b",WEBSITE_SUITE_LIVE:"bbc",WEBSITE_SUITE_TEST:"bbc-global-test",APP_SUITE_LIVE:"bbc",APP_SUITE_TEST:"bbc-global-test",CUSTOMER_ID_LIVE:19293874,CUSTOMER_ID_TEST:18897612},SSC:{HTTPS:"https://ssc.api.bbc.com"}},l=new RegExp("^/(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),u={referrer:"",windowLocation:s(),windowDocument:i(),settings:{ads:!0,analytics:!0,comScore:!0},sections:[],pageType:"",headline:"",async:!0,disableAdsInitialLoad:!1,daxEnvironments:["bbc-global"],outbrainEnabled:!0,contentRecEnabled:!0,grapeshotEnabled:!0,adsenseEnabled:!0,adsportappEnabled:!1,percentActive:0,platinumEnabled:!1,tlSportIndexEnabled:!1,tlSportStoryEnabled:!1,tlSportFpEnabled:!1,thirdPartyDisabled:!1,optimizelyEnabled:!1,signinEnabled:!0,signinNewsEnabled:!1,signinSportEnabled:!1,signinWwhpEnabled:!1,permutiveEnabled:!1,pianoEnabled:!1,cmpEnabled:!1,iasEnabled:!1,continuousPlayPage:!1,stickyPlayerPage:!1,isWorldService:!1,isEU:void 0,isNPA:!1,ieVersion:{ie7:!1,ie8:!1,ie9:!1},version:"",prefixes:{assetPrefix:"",jsPrefix:"",swfPrefix:"",cssPrefix:""},appName:null},o=(o(d,[{key:"init",value:function(e,t,n,s){/^\/news\/election\/us2016/.test(u.windowLocation.pathname)&&bbcdotcom.utils.addHtmlTagClass(bbcdotcom.classes.classNames("news-election-us2016")),void 0!==e&&this.rehydrate(e),this.setData(t),window.self!==window.top&&new RegExp("/embed/.*?.*amp=1").test(u.windowLocation.href)&&(this.setAdsEnabled(!1),this.setAnalyticsEnabled(!1),r("disabling ads/analytics, amp-iframe ",window.self.location.href)),void 0!==n&&this.setWindowLocation(n),void 0!==s&&this.setWindowDocument(s),this.isAdsEnabled()&&bbcdotcom.utils.addHtmlTagClass("ads-enabled"),/tlsportstory/i.test(u.windowLocation.href)&&this.setTlSportStoryEnabled(!0),/tlsportindex/i.test(u.windowLocation.href)&&this.setTlSportIndexEnabled(!0),/tlsportfp/i.test(u.windowLocation.href)&&this.setTlSportFpEnabled(!0),(l.test(u.windowLocation.pathname)||window.SEARCHBOX&&window.SEARCHBOX.variant&&"worldservice"===window.SEARCHBOX.variant)&&this.setIsWorldService(!0);s=(void 0!==window.orb&&void 0!==window.orb.referrer?window.orb:u.windowDocument).referrer;if(this.setReferrer(s),this.updateNPA(),bbcdotcom.resolves){if(bbcdotcom.resolves.isAvailable.length)for(var i=0;i<bbcdotcom.resolves.isAvailable.length;i++)bbcdotcom.resolves.isAvailable[i](!0);if(bbcdotcom.resolves.adsEnabled.length)for(i=0;i<bbcdotcom.resolves.adsEnabled.length;i++)bbcdotcom.resolves.adsEnabled[i](this.isAdsEnabled());if(bbcdotcom.resolves.analyticsEnabled.length)for(i=0;i<bbcdotcom.resolves.analyticsEnabled.length;i++)bbcdotcom.resolves.analyticsEnabled[i](this.isAnalyticsEnabled());delete bbcdotcom.resolves}}},{key:"isAvailable",value:function(){return new Promise(function(e){e(!0)})}},{key:"isAdsEnabledAsync",value:function(){var t=this;return new Promise(function(e){e(t.isAdsEnabled())})}},{key:"isAnalyticsEnabledAsync",value:function(){var t=this;return new Promise(function(e){e(t.isAnalyticsEnabled())})}},{key:"rehydrate",value:function(e){var t;void 0!==e&&(void 0!==e.sections&&this.setSections(e.sections),void 0!==e.type&&this.setType(e.type),void 0!==e.headline&&this.setHeadline(e.headline),void 0!==e.thirdPartyDisabled&&this.setThirdPartyDisabled(e.thirdPartyDisabled),void 0!==e.adsEnabled&&this.setAdsEnabled(e.adsEnabled),void 0!==e.allowAdvertising&&this.setAdsEnabled(e.allowAdvertising),void 0!==e.analyticsEnabled&&this.setAnalyticsEnabled(e.analyticsEnabled),void 0!==e.comScoreEnabled&&this.setComScoreEnabled(e.comScoreEnabled),void 0!==e.asyncEnabled&&this.setAsync(e.asyncEnabled),void 0!==e.optimizelyEnabled&&this.setOptimizelyEnabled(e.optimizelyEnabled),void 0!==e.disableInitialLoad&&this.setDisableInitialLoad(e.disableInitialLoad),void 0!==(t=void 0!==e.adKeyword?e.adKeyword:e.adCampaignKeyword)&&bbcdotcom.adverts.keyValues.set("keyword",t),void 0!==e.url&&this.setWindowLocation(bbcdotcom.utils.createWindowLocation(e.url)),bbcdotcom.locale&&(void 0!==e.advertisementText&&bbcdotcom.locale.set("advertisementText",e.advertisementText),void 0!==e.advertInfoPageUrl&&bbcdotcom.locale.set("advertInfoPageUrl",e.advertInfoPageUrl),void 0!==e.inAssociationWithText&&bbcdotcom.locale.set("inAssociationWithText",e.inAssociationWithText),void 0!==e.sponsoredByText&&bbcdotcom.locale.set("sponsoredByText",e.sponsoredByText),void 0!==e.adsByGoogleText&&bbcdotcom.locale.set("adsByGoogleText",e.adsByGoogleText)),void 0!==e.isContinuousPlayPage&&this.setContinuousPlayPage(e.isContinuousPlayPage),void 0!==e.isStickyPlayerPage&&this.setStickyPlayerPage(e.isStickyPlayerPage))}},{key:"getConfig",value:function(){return u}},{key:"setData",value:function(e){if(void 0!==e&&void 0!==e.ads&&void 0!==e.stats&&void 0!==e.statsProvider){var t=parseInt(e.statsProvider,10).toString(2);if(5!==t.length)for(;t.length<5;)t="0"+t;u.settings={ads:1===e.ads&&!1!==u.settings.ads,analytics:1===e.stats&&!1!==u.settings.analytics,"nielsen-au":1===e.stats&&parseInt(t.substr(0,1),10),"nielsen-nz":1===e.stats&&parseInt(t.substr(1,1),10),"nielsen-us":1===e.stats&&parseInt(t.substr(2,1),10),sitestat:0,agof:0,comScore:u.settings.comScore}}}},{key:"setFlagpoles",value:function(e){void 0!==e.tp&&this.setThirdPartyDisabled(e.tp),void 0!==e.thirdPartyEEA&&this.setThirdPartyDisabled(e.thirdPartyEEA),void 0!==e.o&&this.setOutbrainEnabled(e.o),void 0!==e.outbrain&&this.setOutbrainEnabled(e.outbrain),void 0!==e.content_rec&&this.setContentRecEnabled(e.content_rec),void 0!==e.d&&this.setAdsenseEnabled(e.d),void 0!==e.adsense&&this.setAdsenseEnabled(e.adsense),void 0!==e.asa&&this.setAdsportappEnabled(e.asa),void 0!==e.adsportapp&&this.setAdsportappEnabled(e.adsportapp),void 0!==e.p&&this.setPlatinumEnabled(e.p),void 0!==e.platinum&&this.setPlatinumEnabled(e.platinum),void 0!==e.z&&this.setOptimizelyEnabled(e.z),void 0!==e.g&&this.setGrapeshotEnabled(e.g),void 0!==e.grapeshot&&this.setGrapeshotEnabled(e.grapeshot),void 0!==e.pe&&this.setPermutiveEnabled(e.pe),void 0!==e.permutive&&this.setPermutiveEnabled(e.permutive),void 0!==e.si&&this.setSigninEnabled(e.si),void 0!==e.signin&&this.setSigninEnabled(e.signin),void 0!==e.sis&&this.setSigninSportEnabled(e.sis),void 0!==e.signinSport&&this.setSigninSportEnabled(e.signinSport),void 0!==e.sin&&this.setSigninNewsEnabled(e.sin),void 0!==e.signinNews&&this.setSigninNewsEnabled(e.signinNews),void 0!==e.siw&&this.setSigninWwhpEnabled(e.siw),void 0!==e.signinWWHP&&this.setSigninWwhpEnabled(e.signinWWHP),void 0!==e.piano&&this.setPianoEnabled(e.piano),void 0!==e.fundingchoices_cmp&&this.setCmpEnabled(e.fundingchoices_cmp),/fundingchoices_cmp/i.test(u.windowLocation.href)&&this.setCmpEnabled(!0),void 0!==e.content_rec&&this.setContentRecEnabled(e.content_rec),/content_rec/i.test(u.windowLocation.href)&&this.setContentRecEnabled(!0),void 0!==e.ias_publisher&&this.setIASEnabled(e.ias_publisher),/ias_publisher/i.test(u.windowLocation.href)&&this.setIASEnabled(!0)}},{key:"setSections",value:function(e){void 0!==e?e instanceof Array?u.sections=e:u.sections=e.split("/"):u.sections=[]}},{key:"getSections",value:function(){return u.sections}},{key:"setType",value:function(e){u.pageType=e.toUpperCase()}},{key:"getType",value:function(){return u.pageType}},{key:"setHeadline",value:function(e){u.headline=e}},{key:"getHeadline",value:function(){return u.headline}},{key:"setAsync",value:function(e){u.async=e}},{key:"isAsync",value:function(){return u.async}},{key:"setDisableInitialLoad",value:function(e){u.disableAdsInitialLoad=e}},{key:"isDisableInitialLoad",value:function(){return u.disableAdsInitialLoad}},{key:"isTopLevelSite",value:function(e){var t=u.windowLocation.pathname;return void 0!==t&&0===t.indexOf("/"+e)}},{key:"isSportApp",value:function(){var e=u.windowLocation.pathname,t=u.windowLocation.href;return void 0!==e&&(-1!==e.indexOf(".app")||void 0!==t&&-1!==t.indexOf(".app"))&&(0===e.indexOf("/sport")||void 0!==t&&-1!==t.indexOf("analytics-debug"))}},{key:"isReel",value:function(){var e=u.windowLocation.pathname;return void 0!==e&&0===e.indexOf("/reel")}},{key:"isActive",value:function(e){return void 0!==u.settings[e]&&u.settings[e]}},{key:"isAdsEnabled",value:function(){return this.isActive("ads")}},{key:"setAdsEnabled",value:function(e){u.settings.ads=0!==e&&!1!==e}},{key:"setAnalyticsEnabled",value:function(e){u.settings.analytics=0!==e&&!1!==e}},{key:"isAnalyticsEnabled",value:function(){return this.isActive("analytics")}},{key:"setComScoreEnabled",value:function(e){u.settings.comScore=0!==e&&!1!==e}},{key:"isComScoreEnabled",value:function(){return this.isActive("comScore")&&this.isActive("analytics")}},{key:"setOutbrainEnabled",value:function(e){u.outbrainEnabled=0!==e&&!1!==e}},{key:"isOutbrainEnabled",value:function(){return window.bbcdotcom.consent?u.outbrainEnabled&&window.bbcdotcom.consent.outbrain:u.outbrainEnabled&&window.bbccookies&&bbccookies.readPolicy&&bbccookies.readPolicy("performance")}},{key:"setContentRecEnabled",value:function(e){u.contentRecEnabled=0!==e&&!1!==e}},{key:"isContentRecEnabled",value:function(){return u.contentRecEnabled}},{key:"setIASEnabled",value:function(e){u.iasEnabled=0!==e&&!1!==e}},{key:"isIASEnabled",value:function(){return u.iasEnabled}},{key:"setAdsenseEnabled",value:function(e){u.adsenseEnabled=0!==e&&!1!==e}},{key:"isAdsenseEnabled",value:function(){return u.adsenseEnabled}},{key:"setAdsportappEnabled",value:function(e){u.adsportappEnabled=0!==e&&!1!==e}},{key:"isAdsportappEnabled",value:function(){return u.adsportappEnabled}},{key:"isLotameEnabled",value:function(){return!1}},{key:"isLotameActive",value:function(){return!1}},{key:"setContinuousPlayPage",value:function(e){u.continuousPlayPage=!0===e}},{key:"isContinuousPlayPage",value:function(){return u.continuousPlayPage}},{key:"setPlatinumEnabled",value:function(e){u.platinumEnabled=0!==e&&!1!==e}},{key:"isPlatinumEnabled",value:function(){return u.platinumEnabled}},{key:"setTlSportIndexEnabled",value:function(e){u.tlSportIndexEnabled=e}},{key:"isTlSportIndexEnabled",value:function(){return u.tlSportIndexEnabled}},{key:"setTlSportStoryEnabled",value:function(e){u.tlSportStoryEnabled=e}},{key:"isTlSportStoryEnabled",value:function(){return u.tlSportStoryEnabled}},{key:"setTlSportFpEnabled",value:function(e){u.tlSportFpEnabled=e}},{key:"isTlSportFpEnabled",value:function(){return u.tlSportFpEnabled}},{key:"setOptimizelyEnabled",value:function(e){u.optimizelyEnabled=0!==e&&!1!==e}},{key:"isOptimizelyEnabled",value:function(){return u.optimizelyEnabled}},{key:"setGrapeshotEnabled",value:function(e){u.grapeshotEnabled=0!==e&&!1!==e}},{key:"isGrapeshotEnabled",value:function(){return u.grapeshotEnabled}},{key:"setPermutiveEnabled",value:function(e){u.permutiveEnabled=0!==e&&!1!==e}},{key:"isPermutiveEnabled",value:function(){return u.permutiveEnabled}},{key:"setIsWorldService",value:function(e){u.isWorldService=e}},{key:"isWorldService",value:function(){return u.isWorldService}},{key:"setThirdPartyDisabled",value:function(e){u.thirdPartyDisabled=1===e||!0===e||!0===u.thirdPartyDisabled}},{key:"isThirdPartyDisabled",value:function(){return u.thirdPartyDisabled}},{key:"isThirdPartyDisabledEU",value:function(){return u.thirdPartyDisabled&&u.isEU}},{key:"setSigninEnabled",value:function(e){u.signinEnabled=0!==e&&!1!==e}},{key:"isSigninEnabled",value:function(){return u.signinEnabled}},{key:"setSigninSportEnabled",value:function(e){u.signinSportEnabled=0!==e&&!1!==e}},{key:"isSigninSportEnabled",value:function(){return u.signinSportEnabled}},{key:"setSigninNewsEnabled",value:function(e){u.signinNewsEnabled=0!==e&&!1!==e}},{key:"isSigninNewsEnabled",value:function(){return u.signinNewsEnabled}},{key:"setSigninWwhpEnabled",value:function(e){u.signinWwhpEnabled=0!==e&&!1!==e}},{key:"isSigninWwhpEnabled",value:function(){return u.signinWwhpEnabled}},{key:"setPianoEnabled",value:function(e){u.pianoEnabled=0!==e&&!1!==e}},{key:"isPianoEnabled",value:function(){return u.pianoEnabled}},{key:"setCmpEnabled",value:function(e){u.cmpEnabled=0!==e&&!1!==e}},{key:"isCmpEnabled",value:function(){var e=this.getWindowLocation();return("www.test.bbc.com"===e.host||"www.bbc.com"===e.host||-1!==e.search.indexOf("fundingchoices_cmp"))&&u.cmpEnabled}},{key:"setStickyPlayerPage",value:function(e){u.stickyPlayerPage=!0===e}},{key:"isStickyPlayerPage",value:function(){return u.stickyPlayerPage}},{key:"setIE7",value:function(e){u.ieVersion.ie7=e}},{key:"isIE7",value:function(){return u.ieVersion.ie7}},{key:"setIE8",value:function(e){u.ieVersion.ie8=e}},{key:"isIE8",value:function(){return u.ieVersion.ie8}},{key:"setIE9",value:function(e){u.ieVersion.ie9=e}},{key:"isIE9",value:function(){return u.ieVersion.ie9}},{key:"setEU",value:function(e){u.isEU=0!==e&&!1!==e}},{key:"isEU",value:function(){return u.isEU}},{key:"updateNPA",value:function(){u.isNPA=!(!window.bbccookies||!bbccookies.readPolicy||!1!==bbccookies.readPolicy("performance"))}},{key:"setNPA",value:function(e){u.isNPA=0!==e&&!1!==e}},{key:"isNPA",value:function(){return u.isNPA}},{key:"setAssetPrefix",value:function(e){u.prefixes.assetPrefix=e}},{key:"getAssetPrefix",value:function(){return u.prefixes.assetPrefix}},{key:"setAppName",value:function(e){return u.appName=e,this}},{key:"getAppName",value:function(){return u.appName}},{key:"isFPSigninEnabled",value:function(){var e=bbcdotcom.sections.getSection(0),t=!1;if(!bbcdotcom.sections.getSection(1))switch(e){case"news":t=this.isSigninNewsEnabled();break;case"sport":t=this.isSigninSportEnabled();break;case"homepage":t=this.isSigninWwhpEnabled()}return t}},{key:"setJsPrefix",value:function(e){u.prefixes.jsPrefix=e}},{key:"getJsPrefix",value:function(){return""!==u.prefixes.jsPrefix?u.prefixes.jsPrefix:this.getAssetPrefix()+"script"}},{key:"setSwfPrefix",value:function(e){u.prefixes.swfPrefix=e}},{key:"getSwfPrefix",value:function(){return""!==u.prefixes.swfPrefix?u.prefixes.swfPrefix:this.getAssetPrefix()+"swf"}},{key:"setCssPrefix",value:function(e){u.prefixes.cssPrefix=e}},{key:"getCssPrefix",value:function(){return""!==u.prefixes.cssPrefix?u.prefixes.cssPrefix:this.getAssetPrefix()+"style"}},{key:"setVersion",value:function(e){return u.version=e,this}},{key:"getVersion",value:function(){return u.version}},{key:"setWindowLocation",value:function(e){return u.windowLocation=e,this}},{key:"getWindowLocation",value:function(){return u.windowLocation}},{key:"setWindowDocument",value:function(e){return u.windowDocument=e,this}},{key:"getWindowDocument",value:function(){return u.windowDocument}},{key:"setReferrer",value:function(e){return u.referrer=e,this}},{key:"getReferrer",value:function(){return u.referrer}},{key:"getAnalyticsConfig",value:function(){return c}},{key:"getAnalyticsUri",value:function(e){return bbcdotcom.analytics.comScore.sscHelper.getAnalyticsLocation()}},{key:"setDaxEnvironments",value:function(){return u.daxEnvironments=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],this}},{key:"getDaxEnvironments",value:function(){return u.daxEnvironments}},{key:"getAnalyticsSuite",value:function(e){var t=a(u.windowLocation.href);return this.isSportApp()?t?c.COMSCORE.APP_SUITE_TEST:c.COMSCORE.APP_SUITE_LIVE:t?c.COMSCORE.WEBSITE_SUITE_TEST:c.COMSCORE.WEBSITE_SUITE_LIVE}},{key:"getAnalyticsAcctId",value:function(){return a(u.windowLocation.href)?c.COMSCORE.CUSTOMER_ID_TEST:c.COMSCORE.CUSTOMER_ID_LIVE}},{key:"r",value:function(){this.setWindowLocation(s()),this.setWindowDocument(i()),this.setReferrer(""),this.setSections([]),u.settings={ads:!0,analytics:!0,comScore:!0},this.setIE7(!1),this.setIE8(!1),this.setAssetPrefix(""),this.setOutbrainEnabled(!0),this.setAdsenseEnabled(!0),this.setAdsportappEnabled(!1),this.setStickyPlayerPage(!1),this.setContinuousPlayPage(!1),this.setHeadline(""),this.setType("")}}]),d);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d)}function g(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.default=new o,e.exports=t.default},function(e,t,n){"use strict";function s(e,t){var n,s="",i=[],a=[],o=[],r="unknown";return n=s=(s=void 0!==t?(n=t.match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk|.net)(\/)?(.*)?/))?n[n.length-1]:(n=t.match(/^\/(.*)?/))?n[n.length-1]:r:0===c.getSections().length?void 0===(t=bbcdotcom.analyticsHelper.getUriForSections())||""===t||null===t||0!==t.indexOf("http")?r:(n=t.match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk|.net)(\/)?(.*)?/))?n[n.length-1]:r:c.getSections().join("/"))||"",r=new RegExp("^(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|newyddion|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),""===(s=n.replace(/\?.*$/,"").replace(/\#.*$/,"").replace(/^news\/0/,"news").replace(/^weather\/0/,"weather").replace(/^news\/(uk|world|us|asia)\/(health)(?!-)/,"news/$2").replace(/^(news\/av\/)(.*)\/[^\/]+$/,"$1$2").replace(/^news\/av\//,"news/").replace(/(_|\-|\/)?[A-Z0-9]{7,8}$/,"").replace(/\/[a-z0-9]+\.stm/,"").replace(/_and_/,"-").replace(/_/g,"-").replace(/^news\/(england|northern-ireland|scotland|wales)($|-|\/)/,"news/uk/$1$2").replace(/^news\/uk-([a-z]+)(-([a-z]+))?/,"news/uk/$1/$3").replace(/^news\/(world)-(africa|asia|europe)(-([a-z]+))?/,"news/$1/$2/$4").replace(/^news\/(world)-([a-z\-]+)/,"news/$1/$2/").replace(/^(newsbeat)($|-|\/)/,"news/$1$2").replace(/^sport\/0/,"sport").replace(/^sport\/beta/,"sport").replace(/^sport\/av\//,"sport/").replace(/^sport\/(world|uk)/,"sport").replace(/^sport\/(.*)\/sports($|\/)/,"sport/$1$2").replace(/market-data\/overview/,"market-data").replace(/^(programmes)/,"news/$1").replace(r,"worldservice/$1").replace(/^wwhp/,"").replace(/\.app$/,"").replace(/:\d+(?=\/)/,"").replace(/\/+$/,""))?i=a=o=["homepage"]:(i=s.split("/"),a=s.replace(/^news\/world\/([a-z]+)(-([a-z]+))?/,"news/world$1$3").replace(/programmes\/asiabusinessreport/,"asiabusiness").replace(/programmes\/click$/,"clickonline").replace(/worldservice\//,"").split("/"),o=s.replace(/^specialfeatures/,"news/specialfeatures").replace(/^sport\/(.*)\/(20[0-9]{2})($|\/)/,"sport/$1-$2$3").split("/")),e&&(l=i,u=a,d=o),[i,a,o]}function i(e){return"advert"===(e=void 0===e?"":e)?u:"analytics"===e?d:l}var c=n(150),l=[],u=[],d=[];e.exports={build:s,getSection:function(e,t,n){return void 0!==e&&(void 0!==n&&!0===n&&s(!0),e=parseInt(e,10),void 0!==i(t)&&void 0!==i(t)[e]&&""!==i(t)[e])&&i(t)[e]},getSections:function(e,t){return void 0!==t&&!0===t&&s(!0),i(e)},getSectionsForUri:function(e,t){t=void 0===t?"":t;e=s(!1,e=null==e?"":e);return"advert"===t?e[1]:"analytics"===t?e[2]:e[0]},r:function(){l=[],u=[],d=[]}}},function(e,t,n){"use strict";var s=n(144)("locale"),i={advertisementText:"Advertisement",inAssociationWithText:"in association with",sponsoredByText:"is sponsored by",advertisingPartnersText:"Advertising Partners",adsByGoogleText:"Ads by Google",advertInfoPageUrl:"https://www.bbc.com/privacy/cookies/international/",associationInfoPageUrl:"https://advertising.bbcworldwide.com/bbc-storyworks-content-definitions/",googleAdsPageUrl:"https://www.bbc.co.uk/bbc.com/faq/ads_by_google.shtml"},a={am:{advertisementText:"áˆ›áˆµá‰³á‹ˆá‰‚á‹«",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"áŒ‹áˆ­ á‰ áˆ˜á‰°á‰£á‰ áˆ­",sponsoredByText:"áˆ°á–áŠ•áˆ°áˆ­ á‹«á‹°áˆ¨áŒˆá‹‰/á‰½á‹‰/áŒ‰á‰µ",advertisingPartnersText:"áŠ áŒ‹áˆ®á‰½",adsByGoogleText:"á‹¨áŒ‰áŒáˆ áˆ›áˆµá‰³á‹ˆá‰‚á‹«á‹Žá‰½"},ar:{advertisementText:"Ø¥Ø¹Ù„Ø§Ù†",advertInfoPageUrl:"/arabic/institutional/2012/06/120410_faq_help_bbc_arabic",inAssociationWithText:"Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù…Ø¹",sponsoredByText:"Ø¨Ø±Ø¹Ø§ÙŠØ©",advertisingPartnersText:"Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†",adsByGoogleText:"Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù† ØºÙˆØºÙ„"},az:{advertisementText:"Reklam",advertInfoPageUrl:"/azeri/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"ilÉ™ birgÉ™",sponsoredByText:"Sponsor: ",advertisingPartnersText:"Reklam partnyorlarÄ±",adsByGoogleText:"Google reklamÄ±"},bn:{advertisementText:"à¦¬à¦¿à¦œà§à¦žà¦¾à¦ªà¦¨",advertInfoPageUrl:"/bengali/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"à¦à¦° à¦¸à¦¹à¦¯à§‹à¦—à¦¿à¦¤à¦¾à§Ÿ",sponsoredByText:"à¦à¦° à¦¸à§Œà¦œà¦¨à§à¦¯à§‡",advertisingPartnersText:"à¦¬à¦¿à¦œà§à¦žà¦¾à¦ªà¦¨ à¦¸à¦¹à¦¯à§‹à¦—à§€",adsByGoogleText:"à¦—à§à¦—à¦²-à¦à¦° à¦¬à¦¿à¦œà§à¦žà¦¾à¦ªà¦¨"},es:{advertisementText:"Publicidad",advertInfoPageUrl:"/mundo/institucional/2012/06/000000_ayuda_sobre_publicidad",inAssociationWithText:"En asociaciÃ³n con",sponsoredByText:"Patrocinado por",advertisingPartnersText:"Anunciantes",adsByGoogleText:"Avisos de Google"},fa:{advertisementText:"Ø¢Ú¯Ù‡ÛŒ",advertInfoPageUrl:"http://www.bbc.com/persian/institutional/2015/08/000000_advertising_faq",inAssociationWithText:"inAssociationWith",sponsoredByText:"sponsoredBy",advertisingPartnersText:"advertisingPartners",adsByGoogleText:"adsByGoogle"},fr:{advertisementText:"PublicitÃ©s",advertInfoPageUrl:"/afrique/institutionelles/2015/08/000000_advertising_faq.shtml",inAssociationWithText:"inAssociationWith",sponsoredByText:"sponsoredBy",advertisingPartnersText:"advertisingPartners",adsByGoogleText:"adsByGoogle"},gu:{advertisementText:"àªœàª¾àª¹à«‡àª°àª¾àª¤",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"àª¨àª¾ àª¸àª¹àª¯à«‹àª—àª¥à«€",sponsoredByText:"àªªà«àª°àª¾àª¯à«‹àªœàª•",advertisingPartnersText:"àªªàª¾àª°à«àªŸàª¨àª°à«àª¸",adsByGoogleText:"Google àª¦à«àªµàª¾àª°àª¾àªœàª¾àª¹à«‡àª°àª¾àª¤à«‹"},ha:{advertisementText:"Talla",advertInfoPageUrl:"http://www.bbc.co.uk/hausa/institutional/2015/01/000000_advertising_faqs",inAssociationWithText:"Da hadin gwiwar",sponsoredByText:"Wanda ya dauki nauyi",advertisingPartnersText:"Abokan hulda",adsByGoogleText:"Tallace-tallace daga Google"},hi:{advertisementText:"à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨",advertInfoPageUrl:"http://www.bbc.co.uk/hindi/institutional/2015/01/000000_advertising_faqs",inAssociationWithText:"à¤•à¥‡ à¤¸à¤¾à¤¥",sponsoredByText:"à¤ªà¥à¤°à¤¾à¤¯à¥‹à¤œà¤•",advertisingPartnersText:"à¤ªà¤¾à¤°à¥à¤Ÿà¤¨à¤°",adsByGoogleText:"à¤—à¥‚à¤—à¤² à¤•à¥‡ à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨"},id:{advertisementText:"Iklan",advertInfoPageUrl:"http://www.bbc.com/indonesia/institutional/2015/08/000000_advertising_faq",adsByGoogleText:"adsByGoogle"},ig:{advertisementText:"Mgbasa ozi",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"Na njiká»ta nke",sponsoredByText:"Akwadoro site n'aka",advertisingPartnersText:"Ndá»‹ mmeká»",adsByGoogleText:"Mgbasa ozi nke Google"},ja:{advertisementText:"åºƒå‘Š",advertInfoPageUrl:"/japanese/help-34287354",inAssociationWithText:"ææº:",sponsoredByText:"æä¾›:",advertisingPartnersText:"ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼:",adsByGoogleText:"Ads by Google"},ko:{advertisementText:"ê´‘ê³ ",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"ê´€ë ¨ ë‚´ìš©",sponsoredByText:"í›„ì›ì‚¬",advertisingPartnersText:"í˜‘ë ¥ì‚¬",adsByGoogleText:"Google ê´‘ê³ "},ky:{advertisementText:"Ð–Ð°Ñ€Ð½Ð°Ð¼Ð°",advertInfoPageUrl:"/kyrgyz/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"Ð¼ÐµÐ½ÐµÐ½ ÐºÑ‹Ð·Ð¼Ð°Ñ‚Ñ‚Ð°ÑˆÑ‚Ñ‹ÐºÑ‚Ð° ",sponsoredByText:"Ð¡Ð¿Ð¾Ð½ÑÐ¾Ñ€",advertisingPartnersText:"Ð–Ð°Ñ€Ð½Ð°Ð¼Ð° Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€Ð»Ð¾Ñ€Ñƒ",adsByGoogleText:"Google Ð¶Ð°Ñ€Ð½Ð°Ð¼Ð°ÑÑ‹"},mr:{advertisementText:"à¤œà¤¾à¤¹à¤¿à¤°à¤¾à¤¤",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"à¤šà¥à¤¯à¤¾ à¤¸à¤‚à¤¯à¥à¤•à¥à¤¤ à¤µà¤¿à¤¦à¥à¤¯à¤®à¤¾à¤¨à¥‡",sponsoredByText:"à¤šà¥à¤¯à¤¾ à¤¸à¥Œà¤œà¤¨à¥à¤¯à¤¾à¤¨à¥‡",advertisingPartnersText:"à¤­à¤¾à¤—à¥€à¤¦à¤¾à¤°",adsByGoogleText:"Google à¤¦à¥à¤µà¤¾à¤°à¥‡ à¤œà¤¾à¤¹à¤¿à¤°à¤¾à¤¤à¥€"},my:{advertisementText:"á€€á€¼á€±á€¬á€ºá€„á€¼á€¬",advertInfoPageUrl:"/burmese/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"á€”á€¾á€„á€ºá€· á€•á€°á€¸á€á€½á€²á€á€”á€ºá€†á€±á€¬á€„á€ºá",sponsoredByText:"á€€á€™á€€á€‘á€•á€¼á€¯á€žá€°",advertisingPartnersText:"á€•á€°á€¸á€á€½á€²á€á€”á€ºá€†á€±á€¬á€„á€ºá€žá€°á€™á€»á€¬á€¸",adsByGoogleText:"á€‚á€°á€‚á€²á€œá€º á€€á€¼á€±á€¬á€ºá€„á€¼á€¬"},ne:{advertisementText:"à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨",advertInfoPageUrl:"/nepali/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"à¤¸à¤¾à¤¥à¤®à¤¾",sponsoredByText:"à¤ªà¥à¤°à¤¾à¤¯à¥‹à¤œà¤•",advertisingPartnersText:"à¤ªà¥à¤°à¤¾à¤¯à¥‹à¤œà¤•",adsByGoogleText:"à¤—à¥à¤—à¤²à¤•à¥‹ à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨"},om:{advertisementText:"Beeksiisa",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"...Waliin ta'uun.",sponsoredByText:"Ispoonsara kan godhe...",advertisingPartnersText:"Waahillan",adsByGoogleText:"Beeksia Google'n"},pa:{advertisementText:"à¨‡à¨¶à¨¤à¨¿à¨¹à¨¾à¨°",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"à¨‡à¨¸ à¨¦à©‡ à¨¸à¨¹à¨¿à¨¯à©‹à¨— à¨¨à¨¾à¨²",sponsoredByText:"à¨‡à¨¸ à¨¦à©à¨†à¨°à¨¾ à¨ªà©à¨°à¨¾à¨¯à©‹à¨œà¨¿à¨¤",advertisingPartnersText:"à¨­à¨¾à¨ˆà¨µà¨¾à¨²",adsByGoogleText:"Google à¨¦à©à¨†à¨°à¨¾ à¨‡à¨¶à¨¤à¨¿à¨¹à¨¾à¨°"},pcm:{advertisementText:"Tori we dem pay for",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"E join hand with",sponsoredByText:"De person we sponsor am",advertisingPartnersText:"Partner dem",adsByGoogleText:"Ads we Google do"},ps:{advertisementText:"Ø§Ø¹Ù„Ø§Ù†",advertInfoPageUrl:"/pashto/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"Ù¾Ù‡ Ú«Ú‰Ù‡",sponsoredByText:"Ù¾Ù‡ Ù…Ù„Ø§ØªÚ“",advertisingPartnersText:"Ù…Ù„Ú«Ø±ÙŠ",adsByGoogleText:"Ø¯ Ú«ÙˆÚ«Ù„ Ø§Ø¹Ù„Ø§Ù†ÙˆÙ†Ù‡"},pt:{advertisementText:"Publicidade",advertInfoPageUrl:"http://www.bbc.co.uk/portuguese/institutional/2015/01/000000_advertising_faqs",inAssociationWithText:"Em parceria com",sponsoredByText:"Com patrocÃ­nio de",advertisingPartnersText:"Parceiros",adsByGoogleText:"AnÃºncios do Google"},ru:{advertisementText:"Ð ÐµÐºÐ»Ð°Ð¼Ð°",advertInfoPageUrl:"/russian/institutional/2012/12/000000_advert_uk_faq",inAssociationWithText:"Ð’ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ðµ Ñ",sponsoredByText:"Ð¡Ð¿Ð¾Ð½ÑÐ¾Ñ€:",advertisingPartnersText:"Ð ÐµÐºÐ»Ð°Ð¼Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹",adsByGoogleText:"Ð ÐµÐºÐ»Ð°Ð¼Ð° Google"},"ru-UK":{advertisementText:"Ð ÐµÐºÐ»Ð°Ð¼Ð°",advertInfoPageUrl:"",inAssociationWithText:"Ð’ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ðµ Ñ",sponsoredByText:"Ð¡Ð¿Ð¾Ð½ÑÐ¾Ñ€:",advertisingPartnersText:"Ð ÐµÐºÐ»Ð°Ð¼Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹",adsByGoogleText:"Ð ÐµÐºÐ»Ð°Ð¼Ð° Google"},rw:{advertisementText:"Kwamamaza",advertInfoPageUrl:"/gahuza/ibindi_wifashisha/2015/08/000000_advertising_faq.shtml"},si:{advertisementText:"à·€à·™à·…à·™à¶³ à¶¯à·à¶±à·Šà·€à·“à¶¸à¶šà·Š ",advertInfoPageUrl:"/sinhala/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"à·ƒà·„à¶·à·à¶œà·’à¶­à·Šà·€à¶º à¶‡à¶­à·’à·€ ",sponsoredByText:"à¶…à¶±à·”à¶œà·Šâ€à¶»à·à·„à¶šà¶­à·Šà·€à¶º ",advertisingPartnersText:"à¶¯à·à¶±à·Šà·€à·“à¶¸à·Š à¶…à¶±à·”à¶œà·Šâ€à¶»à·à·„à¶šà¶ºà·",adsByGoogleText:"à¶œà·–à¶œà¶½à·Š à·€à·™à·…à·™à¶³ à¶¯à·à¶±à·Šà·€à·“à¶¸à·Š"},so:{advertisementText:"Xayeysiin",advertInfoPageUrl:"/somali/hayadeed/2015/08/000000_advertising_faq.shtml"},sw:{advertisementText:"Matangazo",advertInfoPageUrl:"http://www.bbc.co.uk/swahili/taasisi/2015/01/000000_advertising_faqs",inAssociationWithText:"Kwa ushirikiano na",sponsoredByText:"Imedhaminiwa na",advertisingPartnersText:"Washirika",adsByGoogleText:"Matangazo ya biashara ya Google"},ta:{advertisementText:"à®µà®¿à®³à®®à¯à®ªà®°à®®à¯",advertInfoPageUrl:"/tamil/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"à®‰à®Ÿà®©à¯ à®‡à®£à¯ˆà®¨à¯à®¤à¯",sponsoredByText:"à®‰à®¤à®µà®¿à®¯à¯à®Ÿà®©à¯",advertisingPartnersText:"à®•à¯‚à®Ÿà¯à®Ÿà®¾à®³à®¿à®•à®³à¯",adsByGoogleText:"à®•à¯‚à®•à®¿à®³à¯ à®µà®¿à®³à®®à¯à®ªà®°à®™à¯à®•à®³à¯"},te:{advertisementText:"à°µà±à°¯à°¾à°ªà°¾à°° à°ªà±à°°à°•à°Ÿà°¨",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"à°µà±€à°°à°¿ à°¸à°¹à°•à°¾à°°à°‚à°¤à±‹",sponsoredByText:"à°ªà±à°°à°¾à°¯à±‹à°œà°¿à°¤à±à°²à±",advertisingPartnersText:"à°­à°¾à°—à°¸à±à°µà°¾à°®à±à°²à±",adsByGoogleText:"à°—à±‚à°—à±à°²à± à°¸à°®à°°à±à°ªà°¿à°¤ à°ªà±à°°à°•à°Ÿà°¨à°²à±"},th:{advertisementText:"à¹‚à¸†à¸©à¸“à¸²",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"à¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸£à¹ˆà¸§à¸¡à¸¡à¸·à¸­à¸à¸±à¸š",sponsoredByText:"à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¹‚à¸”à¸¢",advertisingPartnersText:"à¸ à¸²à¸„à¸µà¸‚à¸­à¸‡à¹€à¸£à¸²",adsByGoogleText:"à¹‚à¸†à¸©à¸“à¸²à¹‚à¸”à¸¢à¸à¸¹à¹€à¸à¸´à¸¥"},ti:{advertisementText:"áˆ˜áˆ‹áˆˆá‹ª",advertInfoPageUrl:"http://faq.external.bbc.co.uk/questions/bbc_online/adverts_general",inAssociationWithText:"á‰¥áˆá‰µáˆ•áŒáŒ‹á‹",sponsoredByText:"áˆ˜á‹‹áˆŠ",advertisingPartnersText:"áˆ˜áˆ‹ááŠ•á‰µáŠ“",adsByGoogleText:"áŠ£á‰¥ áŒŽáŒáˆ á‹á‹ˆá€ áˆ˜á‰“áˆáˆ•"},tr:{advertisementText:"Reklam",advertInfoPageUrl:"http://www.bbc.co.uk/turkce/kurumsal/2015/01/000000_advertising_faqs",inAssociationWithText:"In association with",sponsoredByText:"Sponsor",advertisingPartnersText:"Ortakla",adsByGoogleText:"Google reklamlar"},uk:{advertisementText:"Ð ÐµÐºÐ»Ð°Ð¼Ð°",advertInfoPageUrl:"/ukrainian/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"Ð£ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€ÑÑ‚Ð²Ñ– Ð·",sponsoredByText:"Ð¡Ð¿Ð¾Ð½ÑÐ¾Ñ€: ",advertisingPartnersText:"ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€Ð¸",adsByGoogleText:"Ð ÐµÐºÐ»Ð°Ð¼Ð° Google"},ur:{advertisementText:"Ø§Ø´ØªÛØ§Ø±",advertInfoPageUrl:"http://www.bbc.com/urdu/institutional/2015/08/000000_advertising_faq"},uz:{advertisementText:"Ð ÐµÐºÐ»Ð°Ð¼Ð°",advertInfoPageUrl:"/uzbek/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"Ð±Ð¸Ð»Ð°Ð½ Ò³Ð°Ð¼ÐºÐ¾Ñ€Ð»Ð¸ÐºÐ´Ð°",sponsoredByText:"Ò²Ð¾Ð¼Ð¸Ð¹",advertisingPartnersText:"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð±ÑžÐ¹Ð¸Ñ‡Ð° ÑˆÐµÑ€Ð¸ÐºÐ»Ð°Ñ€",adsByGoogleText:"Google Ñ€ÐµÐºÐ»Ð°Ð¼Ð°ÑÐ¸"},"uz-latin":{advertisementText:"Reklama",advertInfoPageUrl:"/uzbek/institutional/2015/10/000000_advertising_faq.shtml",inAssociationWithText:"bilan hamkorlikda",sponsoredByText:"Homiy",advertisingPartnersText:"Reklama bo'yicha sheriklar",adsByGoogleText:"Google reklamasi"},vi:{advertisementText:"QuaÌ‰ng caÌo",advertInfoPageUrl:"http://www.bbc.com/vietnamese/institutional/2015/08/000000_advertising_faq"},"zh-Hans":{advertisementText:"å¹¿å‘Š",advertInfoPageUrl:"http://www.bbc.com/zhongwen/simp/institutional/2015/08/000000_advertising_faq"},"zh-Hans-UKCN":{advertisementText:"å¹¿å‘Š",advertInfoPageUrl:"http://www.bbc.com/ukchina/simp/institutional/2015/08/000000_advertising_faq"},"zh-Hant":{advertisementText:"å»£å‘Š",advertInfoPageUrl:"http://www.bbc.com/zhongwen/trad/institutional/2015/08/000000_advertising_faq"},"zh-Hant-UKCN":{advertisementText:"å»£å‘Š",advertInfoPageUrl:"http://www.bbc.com/ukchina/trad/institutional/2015/08/000000_advertising_faq"}};e.exports={get:function(e){return i[e]},set:function(e,t){i[e]=t},getData:function(){return i},setLocale:function(e){var t,n=e&&a[e];if(n)for(t in s.info("setting ad text to locale : ",e),n)n.hasOwnProperty(t)&&this.set(t,n[t])}}},function(e,t){"use strict";var i={key:"INS-vt29-666188954",url:"script/vendor/edr/edr.min.js"};e.exports={init:function(){var e,t,n,s;void 0!==bbcdotcom.data&&(void 0!==bbcdotcom.data.a&&1===bbcdotcom.data.a||void 0!==bbcdotcom.data.ads&&1===bbcdotcom.data.ads)&&void 0!==bbcdotcom.flag&&1===bbcdotcom.flag.s&&void 0===window.EDRSurvey&&(e=(bbcdotcom.assetPrefix||bbcdotcom.config.getAssetPrefix())+i.url,n=document.createElement("script"),s=document.head||document.getElementsByTagName("head")[0],n.setAttribute("async","async"),n.setAttribute("defer","defer"),n.type="text/javascript",n.src=e,"function"==typeof t&&(n.onload=t),s.appendChild(n))}}},function(e,t,n){"use strict";function s(){return[a].concat(Array.prototype.slice.call(arguments)).join("-")}function i(){for(var e=[],t=Array.prototype.slice.call(arguments),n=0;n<t.length;n++)e.push(s.apply(null,o.isString(t[n])?[t[n]]:t[n]));return e.join(" ")}var a="bbcdotcom",o=n(143);e.exports={className:s,classNames:i,fromConfig:function(e,t){var n=t||window,t=[];return e.isAsync()&&t.push("async"),e.isAdsEnabled()&&t.push("ads-enabled"),n.config&&n.config.service&&t.push(["service",n.config.service]),i.apply(null,t)}}},function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(150),a=n(156),d=n(143),n=function(){this.consentToken="PERF_COOKIE_ENABLED",this.enabled=!1,this.pathname="",this.p_resetListener=this.sendData.bind(this),this.p_clickListener=this.onDocClick.bind(this),this.trackedPlayers=[],this.videoEventListener=this.trackVideoEvent.bind(this),this.playerStateChangeEvents=["playing","adsPlugin","timeupdate","fullscreenEnter","fullscreenExit","picInPicStarted","picInPicStopped","ended","playlistLoaded","bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED"]};n.prototype.init=function(e){i.isSportApp()||!i.isPermutiveEnabled()||i.isWorldService()||this.setConsent(!0)},n.prototype.getEnabled=function(){return this.enabled},n.prototype.onDocClick=function(e){var s=this,t=e.target;"A"===t.tagName?-1===t.href.indexOf("social.link")||(e=t.href.match(new RegExp("social.link.([a-z0-9]+)"))).length&&this.sendData(e[1]):function e(t){var n=t.parentNode;n&&("BUTTON"===n.tagName?-1!==n.className.indexOf("share-tools")&&(!n.getAttribute("aria-label")||(t=n.getAttribute("aria-label").split(" ")).length&&("Twitter"!==(t=t[t.length-1])&&"Facebook"!==t||s.sendData(t))):e(n))}(t)},n.prototype.setConsent=function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];window.permutive&&(e=window.bbcdotcom.consent?window.bbcdotcom.consent.permutive:window.bbccookies&&bbccookies.readPolicy&&bbccookies.readPolicy("performance"),t=window.bbcdotcom.consent?"CMP_VENDOR_CONSENT":this.consentToken,!n&&this.enabled===e||(this.enabled=e,this.enabled?(window.permutive.consent({opt_in:e,token:t}),document.addEventListener("bbc-page-reset",this.p_resetListener),document.addEventListener("click",this.p_clickListener),this.sendData("initial")):(window.permutive.consent({opt_in:!1}),n||(document.removeEventListener("bbc-page-reset",this.p_resetListener),document.removeEventListener("click",this.p_clickListener),this.removePlayerListeners())),n||a.setPermutiveData(this.enabled)))},n.prototype.addPlayerListeners=function(){var u=this;setTimeout(function(){var l=window.embeddedMedia&&window.embeddedMedia.api&&window.embeddedMedia.api.players();l&&Object.keys(l).forEach(function(e,t){var n=l[e],s=n.playlist(),i=s?s.title:"",e=s?s.groupId:"",s=s?s.summary:"",a={play_id:d.generateUuidV4(),video:{duration:0,name:i,video_id:e,description:s},enriched_data:u.buildData()};i&&e&&permutive.track("VideoLoad",a);function o(e){c.trackVideoEvent(e,a,n,r)}var r={value:0},c=u;u.playerStateChangeEvents.forEach(function(e){n.bind(e,o)}),u.trackedPlayers.push({player:n,func:o})})},3e3)},n.prototype.removePlayerListeners=function(){var e=this;this.trackedPlayers.forEach(function(t){e.playerStateChangeEvents.forEach(function(e){t.player.unbind(e,t.func)})}),this.trackedPlayers=[]},n.prototype.trackVideoEvent=function(e,t,n,s){switch(e.type){case"bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED":case"bbc":delete t.ad;break;case"playlistLoaded":t.video={name:e.playlist.title,video_id:e.playlist.items[e.playlist.items-1].identifier,description:e.playlist.summary},t.enriched_data=this.buildData(),permutive.track("VideoLoad",t);break;case"playing":e.pausedatzero||(t.video.duration=Math.round(n.duration()),permutive.track("VideoPlay",t));break;case"timeupdate":var i=Math.floor(e.currentTime)/Math.floor(e.duration)*100,a=void 0;(a=i<25?0:25<=i&&i<50?.25:50<=i&&i<75?.5:.75)!==s.value&&(s.value=a,t.progress=a,permutive.track("VideoProgress",t),delete t.progress);break;case"ended":t.progress=1,permutive.track("VideoProgress",t),delete t.progress;break;case"fullscreenEnter":case"fullscreenExit":case"picInPicStarted":case"picInPicStopped":a=t.ad?"VideoAdEvent":"VideoEvent";t.event={fullscreenEnter:"Full screen on",fullscreenExit:"Full screen off",picInPicStarted:"Picture in picture on",picInPicStopped:"Picture in picture off"}[e.type],permutive.track(a,t),delete t.event;break;case"adsPlugin":switch(e.id){case"adRequest":t.ad={duration:0,lineitem_id:0,creative_id:0};break;case"adDuration":t.ad.duration=Math.round(e.duration);break;case"adStarted":permutive.track("VideoAdPlay",t);break;case"adProgress":var o=0;switch(e.progress){case"firstQuartile":o=25;break;case"midpoint":o=50;break;case"thirdQuartile":o=75;break;case"complete":o=100}t.progress=o,permutive.track("VideoAdProgress",t),delete t.progress;break;case"adClick":permutive.track("VideoAdClick",t);break;case"adData":t.ad.creative_id=parseInt(e.info.creativeId,10),t.ad.lineitem_id=parseInt(e.info.adId,10)}}},n.prototype.buildData=function(){var e=window.location.pathname.split("/");if((e=e.filter(function(e){return e})).length||e.push("homepage"),e.length<3)for(var t=e.length-1;t<4;t++)e.push("");var n=bbcdotcom.adverts.keyValues.getAll(),s=[""];return n.tags&&(s=Array.isArray(n.tags)?n.tags:[n.tags]),{dfp_adUnit1:bbcdotcom.adverts.adUnit.getAdUnit1(),dfp_adUnit2:bbcdotcom.adverts.adUnit.getAdUnits2to9(),type:n.asset_type,article:{destinations:n.destinations_structured||[""],keyword:n.keyword||"",name:document.title},channel:e[0],column:n.column||"",section:e[1],story_id:n.story_id||"",subsection:e[2],tags:s}},n.prototype.sendData=function(e){var t;"initial"===(e="object"===(void 0===e?"undefined":s(e))&&"bbc-page-reset"===e.type?void 0:e)?e=void 0:this.setConsent(),this.enabled&&(t={page:this.buildData()},"grapeshot"===e?this.pathname!==window.location.pathname&&(this.pathname=window.location.pathname,t.page.grapeshot=window.gs_channels,delete t.page.dfp_adUnit1,delete t.page.dfp_adUnit2,window.permutive.track("Grapeshot",t.page)):e?(t.page.platform=e,window.permutive.track("SocialShare",t.page)):(this.trackedPlayers&&this.removePlayerListeners(),this.addPlayerListeners(),window.permutive.addon("web",t)))},e.exports=new n},function(e,t,n){"use strict";function g(e){var t={adSizes:p.getAdCurrentGroupSizes(e)};return t.domId=s("bbcdotcom.config.isAsync")?P+e:e,t}var i,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(144)("adverts:dfppRequest"),p=n(157),s=n(158),a=n(159),b=n(160),o=n(161),m=n(162),y=n(163),_=n(150),r=n(151),l=n(143),v=n(165),d=n(166),u=n(169),h=[],S=!1,P="bbccom_",n=function(){this.slots={},this.deferredSlots=[],this.initComplete=!1,this.inititialIASslots=[],this.initialIASrequestsComplete=!1,this.initialIASpostProcessFuncs=[]};n.prototype.trackInitialIASslots=function(e,t){var n=this;this.inititialIASslots=this.inititialIASslots.concat(e),this.initialIASpostProcessFuncs.push(t),this.initialIASrequestTimeout||(this.initialIASrequestTimeout=setTimeout(function(){n.processIASslots(n.inititialIASslots,function(){for(var e=0;e<n.initialIASpostProcessFuncs.length;e++)n.initialIASpostProcessFuncs[e]()}),n.initialIASrequestsComplete=!0},1e3))},n.prototype.reset=function(){try{_.isAdsEnabled()&&"undefined"!=typeof googletag&&(googletag.pubads().clearTargeting(),googletag.pubads().updateCorrelator(),this.init(!0))}catch(e){f.error("Unable to reset ads targeting",e)}},n.prototype.pwa=function(e){S=e},n.prototype.init=function(n){try{_.isAdsEnabled()&&"undefined"!=typeof googletag&&(m.on("ad:ias:complete",function(){window.bbcdotcom.iasInited=!0}),googletag.cmd.push(function(){googletag.pubads().setTargeting("frd","1"),y.getPreviewUid()&&googletag.pubads().setTargeting("uid",y.getPreviewUid()),this.setKeyValues(),this.setGrapeshotData(),bbcdotcom.permutive.getEnabled()&&this.setPermutiveData(!0),this.setProgrammesData(),this.setGroup(),googletag.pubads().setTargeting("esi","0"),"weather"===r.getSection(0)&&googletag.pubads().addEventListener("impressionViewable",function(e){"mpu"===e.slot.getSlotElementId()&&(e="SCRIPT"===(e=document.getElementById("bbccom_mpu").children)[e.length-1].tagName?e[e.length-2]:e[e.length-1],l.addBodyTagClass("bbccom_slot_mpu"+100*Math.floor(e.clientHeight/100)))}),googletag.pubads().enableSingleRequest();var e="ckpf_ppid",t=l.getCookie(e)||l.generateUuidV4().split("-").join("");window.bbcdotcom.ppid=t,window.bbccookies&&bbccookies.readPolicy("performance")&&(f("Calling SetCookie with value : "+t),l.setCookie(e,t)),window.googletag.pubads().setPublisherProvidedId(t),s("bbcdotcom.config.isAsync")?(s("bbcdotcom.config.isDisableInitialLoad")&&googletag.pubads().disableInitialLoad(),googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(e){bbcdotcom.adverts.dfppRequest.getInitComplete()||bbcdotcom.adverts.dfppRequest.setInitComplete(!0);var t=(t=e.slot.getTargeting("slot"))[0].replace("bbccom_",""),n=b.getAd(t),s=e.slot.getSlotElementId();f(t,s,"isEmpty",e.isEmpty),n&&n.isRendered()||!n||(n.injectAdvertisementText(),n.setRendered(!0),n.setEventSize(e.size),n.renderIfReady(),m.trigger("ad:render:complete",s,e.isEmpty),bbcdotcom.adverts.dfppRequest.requestDeferredAds())})})):googletag.pubads().enableSyncRendering();t=!window.bbcdotcom.consent&&_.isNPA();t&&googletag.pubads().setRequestNonPersonalizedAds(1),googletag.pubads().setPrivacySettings({restrictDataProcessing:!0===t}),void 0!==n&&!0===n||this.requestAds(),m.trigger("ads:initialised"),window.bbcdotcom.dfpInited=!0}.bind(this)))}catch(n){f.error("Unable to setup ads",n)}},n.prototype.requestAds=function(){var s=d.isSlotEnabled("interstitial");try{if(_.isAdsEnabled()&&"undefined"!=typeof googletag){var i,a,o,r=y.get(),c=b.getAds(),l=Object.keys(this.slots);if(0===b.getAdCount()){var u=this;return googletag.cmd.push(function(){if(s&&(b.registerAd("interstitial"),t=googletag.defineOutOfPageSlot(r,"bbccom_interstitial").addService(googletag.pubads()).setTargeting("slot","interstitial"),l.push("bbccom_interstitial")),googletag.enableServices(),_.isIASEnabled()){var e,t,n=[];for(e in this.slots)n.push(this.slots[e]);t&&n.push(t),n.length&&(t=function(){googletag.display("bbccom_interstitial")},u.initialIASrequestsComplete?u.processIASslots(n,t):u.trackInitialIASslots(n,t))}else googletag.display("bbccom_interstitial")}),void this.setInitComplete(!0)}googletag.cmd.push(function(){for(i in c)c.hasOwnProperty(i)&&d.isSlotEnabled(c[i].getAdId().replace(P,""))&&(a=g(c[i].getAdId().replace(P,"")),o=a.adSizes,c[i].isFluid&&o.push("fluid"),a&&(0<a.adSizes.length||c[i].isFluid)&&(this.slots[a.domId]=googletag.defineSlot(r,o,a.domId).addService(googletag.pubads()),this.slots[a.domId].setTargeting("slot",a.domId.replace(P,""))));if(s&&(b.registerAd("interstitial"),n=googletag.defineOutOfPageSlot(r,"bbccom_interstitial").addService(googletag.pubads()).setTargeting("slot","interstitial"),l.push("bbccom_interstitial")),googletag.enableServices(),m.trigger("ads:requested",l),s)if(_.isIASEnabled()){var e,t=[];for(e in this.slots)t.push(this.slots[e]);n&&t.push(n);var n=function(){googletag.display("bbccom_interstitial")};this.initialIASrequestsComplete?this.processIASslots(t,n):this.trackInitialIASslots(t,n)}else googletag.display("bbccom_interstitial");this.setInitComplete(!0)}.bind(this))}}catch(s){f.error("Unable to request ads",s)}},n.prototype.refreshAd=function(e){var t=b.getAd(e.replace("bbccom_",""));t?(googletag.pubads().refresh([this.slots[e]]),t.injectAdvertisementText()):f.warn("No "+e.replace("bbccom_","")+" ad found to refresh")};var A=[];n.prototype.requestDeferredAds=function(e){var i=this;if(0<this.deferredSlots.length){for(var a=[],t=!!e&&e,n=p.getCurrentGroupId(),o=0;o<this.deferredSlots.length;o++){var s,r=(s=this.deferredSlots[o]).domId,c=s.groups,l=s.keyValues,u=s.advertText,d=(s.booleanCorrelator,b.registerAd(r));S&&"undefined"!=typeof IntersectionObserver&&(s=(s=r.split("_"))[s.length-1],isNaN(s)||A.includes(s)||(A.push(s),2<A.length&&function(){var n=A.shift(),e=b.getAds(),s=[];Object.keys(e).forEach(function(e){var t=e.split("_"),t=t[t.length-1];isNaN(t)||t!==n||s.push(e)});var t=[];s.forEach(function(e){window.bbcdotcom.pubsub.trigger("ad:destroyed",e),b.unregisterAd(e),t.push(i.slots["bbccom_"+e])}),googletag.destroySlots(t),s.forEach(function(e){delete i.slots["bbccom_"+e]})}())),d&&!d.hasAnyGroupAlreadyBeenRegistered([c])&&0<=c.indexOf(n)?(f("Registering ad: "+r+" for groups "+c),googletag.cmd.push(function(){var t=this,e=y.get(),n=g(d.getAdId().replace(P,"")),s=n.adSizes;d.isFluid&&s.push("fluid"),this.slots[n.domId]=googletag.defineSlot(e,s,n.domId).addService(googletag.pubads()),this.slots[n.domId].setTargeting("slot",n.domId.replace(P,"")),l&&Object.keys(l).forEach(function(e){e&&l[e]&&t.slots[n.domId].setTargeting(e,l[e])}),a.push(this.slots[n.domId]),v(r,c),u&&d.setAdText(u),d.injectAdvertisementText(),this.deferredSlots[o]="",m.trigger("ads:requested",r)}.bind(this))):f.warn("No "+r.replace("bbccom_","")+" ad found to register (for groups "+c+" )")}this.deferredSlots=[],_.isIASEnabled()?(e=function(){googletag.pubads().refresh(i.slotsToProcess)},this.initialIASrequestsComplete?this.processIASslots(a,e):this.trackInitialIASslots(a,e)):googletag.pubads().refresh(a,{changeCorrelator:t})}},n.prototype.processIASslots=function(s,t){function i(e){clearTimeout(n),__iasPET.setTargetingForGPT(),t(),m.trigger("ad:ias:complete")}var n=setTimeout(function(){t(),m.trigger("ad:ias:complete")},2e3);googletag.cmd.push(function(){for(var e=[],t=0;t<s.length;t++){var n=s[t].getSizes().map(function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]});e.push({adSlotId:s[t].getSlotElementId(),size:n,adUnitPath:s[t].getAdUnitPath()})}__iasPET.queue.push({adSlots:e,dataHandler:i})})},n.prototype.registerAd=function(e,t,n){var s,i,a=!1,o="mpu_middle"===e&&4===t.length&&l.parentHasClass(document.getElementById("bbccom_mpu_middle_1_2_3_4"),"lx-stream")&&"undefined"!==u.getGroup(5);if(void 0!==t)o&&(document.getElementById("bbccom_mpu_middle_1_2_3_4").id="bbccom_mpu_middle_1_2_3_4_5",t=[1,2,3,4,5]),d.isSlotEnabled(e)||d.isLazyLoadedSlot(e)?this.deferredSlots.push({domId:e,groups:t.map(Number),keyValues:n}):f.warn("Slot "+e+" not enabled");else for(var r in a=void 0===(n||{}).mode||n.mode,e)d.isSlotEnabled(r)?"object"!==c(e[r])||e[r]instanceof Array?this.deferredSlots.push({domId:r,groups:e[r].map(Number),keyValues:n}):(s=e[r].advertText,i=e[r].groups,this.deferredSlots.push({domId:r,groups:i.map(Number),advertText:s,keyValues:n})):f.warn("Slot "+r+" not enabled");this.initComplete&&this.requestDeferredAds(a)},n.prototype.scrollHandler=function(){for(var e=0;e<h.length;e++){var t=h[e];t.selectorElement.getBoundingClientRect().top<document.documentElement.clientHeight&&(d.isSlotEnabled(t.domId)?bbcdotcom.registerAd(t.domId,t.groups):f.warn("Slot "+t.domId+" not enabled"),h.splice(e,1),e--)}0===h.length&&window.removeEventListener("scroll",i)},n.prototype.lazyLoadAd=function(e,t){var n=bbcdotcom.adverts.adFilter.isLazyLoadedSlot(e),s=document.getElementById("bbccom_"+e+"_"+t.join("_")),n=l.getParentElementByClass(s,n);n&&h.push({selectorElement:n,domId:e,groups:t}),this.delayedScroll||(i=function(n,s,i){var a,o,r,c=null,l=0;i=i||{};function u(){l=!1===i.leading?0:Date.now(),c=null,r=n.apply(a,o),c||(a=o=null)}return function(){var e=Date.now();l||!1!==i.leading||(l=e);var t=s-(e-l);return a=this,o=arguments,t<=0||s<t?(c&&(clearTimeout(c),c=null),l=e,r=n.apply(a,o),c||(a=o=null)):c||!1===i.trailing||(c=setTimeout(u,t)),r}}(this.scrollHandler,200),window.addEventListener("scroll",i))},n.prototype.registerAdSlots=function(e){function t(e){e=e.match(/bbccom_(.+?)_([\d_]+)/);return e?{slotType:e[1],slotGroups:e[2].split("_").map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)})}:["",[]]}var n;if(document.querySelectorAll)for(var s=document.querySelectorAll(e),i=0;i<s.length;i++)(n=t(s[i].id)).slotType&&n.slotGroups.length&&this.registerAd(n.slotType,n.slotGroups);return!1},n.prototype.setGrapeshotData=function(){void 0!==window.gs_channels&&"DEFAULT"!==window.gs_channels&&(googletag.cmd.push(function(){googletag.pubads().setTargeting("gs_cat",window.gs_channels)}),bbcdotcom.permutive.sendData("grapeshot"))},n.prototype.setPermutiveData=function(t){_.isSportApp()||!_.isPermutiveEnabled()||_.isWorldService()||googletag.cmd.push(function(){var e;t?0===googletag.pubads().getTargeting("permutive").length&&(e=window.localStorage.getItem("_pdfps"),googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])):googletag.pubads().clearTargeting("permutive")})},n.prototype.setProgrammesData=function(){var e,t,n;if("programmes"===r.getSection(1))try{n=document.getElementsByClassName("br-masthead__title")[0].children[0],e=n.href.split("/").pop(),t=n.innerText,googletag.cmd.push(function(){googletag.pubads().setTargeting("programme",e),googletag.pubads().setTargeting("name",t)})}catch(e){}},n.prototype.setKeyValues=function(){var e,t=a.getAll();if(t)for(e in t)t.hasOwnProperty(e)&&""!==t[e]&&googletag.pubads().setTargeting(e,t[e])},n.prototype.setInitComplete=function(e){(this.initComplete=e)&&(o(),this.requestDeferredAds(!1))},n.prototype.getInitComplete=function(){return this.initComplete},n.prototype.setExclusion=function(e){googletag.cmd.push(function(){googletag.pubads().setCategoryExclusion(e)})},n.prototype.setGroup=function(){var e="4",t=document.documentElement.clientWidth;t<1008&&(e="3"),t<600&&(e="2"),t<400&&(e="1"),t<320&&(e="0"),googletag.cmd.push(function(){googletag.pubads().setTargeting("group",e)})},e.exports=new n},function(e,t,n){"use strict";function s(e){return e.currentSlotHasGroup(r)&&function(e){for(var t=bbcdotcom.adverts.layout.getAdCurrentGroupSizes(e.getAdName()),n=void 0===e.adType||"promo"!==e.adType&&"feature"!==e.adType?20:30,s=0;s<t.length;s++)if(Math.abs(t[s][0]-e.getWidth())<=n&&Math.abs(t[s][1]-e.getCreativeHeight())<=n)return 1}(e)}function i(){var e;if(d)g.debug("layoutDisableReset is set to",!0);else try{var t,n=bbcdotcom.adverts.adRegister.getAds();for(t in bbcdotcom.adverts.layout.init(bbcdotcom.adverts.breakpoints.getGroups()),n)n.hasOwnProperty(t)&&(-1<t.indexOf("adsense")?bbcdotcom.adverts.adsenseRenderer.reset():(e=n[t],!bbcdotcom.domLoaded||e.isResponsive||e.isFluid||(s(e)?(g.debug("=== Opening "+e.getAdId()+" for current slot ==="),e.open()):(g.debug("=== Shutting "+e.getAdId()+" for current slot ==="),e.shut()))))}catch(t){g.error(t)}}var a,o,r,c=!1,l=!1,u={},d=!1,g=n(144)("adverts:layout"),f=n(154),p=n(143);e.exports={init:function(e){a=document.documentElement.clientWidth,function(e){var t,n,s;for(t in e)if(p.removeHtmlTagClass(f.className("group",t)),(void 0===e[t].f||a<=e[t].f)&&a>=e[t].s)for(n in r=+t,o=e[t],c||l||(c=o,l=r),p.addHtmlTagClass(f.className("group",r)),o.slots)for(s in u[n]=[],o.slots[n])a>=o.slots[n][s][0]&&u[n].push(o.slots[n][s])}(e),d||bbcdotcom.addLoadEvent(function(){window.addEventListener("resize",p.debounce(i,500))})},moveAd:function(e,t){},setClientWidth:function(e){a=e},getClientWidth:function(){return a},getCurrentGroup:function(){return o},getCurrentGroupId:function(){return r},setCurrentGroupId:function(e){r=e},getCurrentGroupSizes:function(){return u},getAdCurrentGroupSizes:function(e){return void 0!==u[e]?u[e]:void 0!==u[e.slice(0,e.lastIndexOf("_"))]?u[e.slice(0,e.lastIndexOf("_"))]:void 0!==u[e.slice(0,e.indexOf("_"))]?u[e.slice(0,e.indexOf("_"))]:[]},overrideGroupSizes:function(e){for(var t in u=[],e)u[t]=e[t]},disableReset:function(){d=!0},reset:i,r:function(){d=!1,o={},r=0,u={}}}},function(e,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){for(var t=arguments,n=e.split("."),s=null!==t[1]&&"object"===o(t[1])?t[1]:window,i=0,a=n.length;i<a;i++){if(void 0===s[n[i]]){if("string"!=typeof t[1]||"create"!==t[1])return!1;s[n[i]]={}}else if("function"==typeof s[n[i]]){if(null!=t[1]&&void 0!==s[n[i]](t[1]))return s[n[i]](t[1]);if(void 0!==s[n[i]]())return s[n[i]]()}s=s[n[i]]}return s}},function(e,t,n){"use strict";var i=n(151),a=n(143),o={},r=!1,c={AV:"media_asset",INDEX:"index"};e.exports={init:function(e,t,n){var s;o.domain=e.hostname,s=e.href,/([0-9]{7,8})$/.test(s.split("?")[0].split("#")[0])&&(o.story_id=RegExp.$1),s=(s=e.href).split("?")[0].split("#")[0],o.ctype=/[0-9]{7,8}$/.test(s)?"content":"index",s=e.href,n=n,void 0===o.asset_type&&(n&&"string"==typeof n&&c[n]?o.asset_type=c[n]:(s=s.split("?")[0].split("#")[0],o.asset_type=/[0-9]{7,8}$/.test(s)?"story":"index"),/\/(sport|news)\/live\//.test(s)&&(o.asset_type="live_event")),function(e){e=e.match(/^(http[s]?:\/\/[a-z0-9\.]*bbc\.(co\.uk|com))(.*)$/);e?0<(e=e[3].replace(/default.stm$|\-|\/|_/g,"")).length&&e.length<=64?o.referrer=escape(e):o.referrer="":o.referrer="nonbbc"}(t.referrer),function(e){e=e.match(/^(http[s]?:\/\/)([a-z0-9\.]*)((?:\/(?:\w|-|\+|\.)+)*)(\/.*)$/);o.referrer_domain=e?e[2]:""}(t.referrer),function(e){var t,n,s,i=[];if(void 0!==e.cookie)for(s=e.cookie.indexOf("rsi_segs="),o.rsi=[],0<=s&&(0<(s=e.cookie.indexOf("=",s)+1)&&(-1===(n=e.cookie.indexOf(";",s))&&(n=e.cookie.length),i=e.cookie.substring(s,n).split("|"))),t=0;t<i.length&&t<20;t++)o.rsi.push(i[t])}(t),e=e.pathname,"worldservice"===i.getSection(0)&&(void 0!==(e=e.split("/").pop().split("_"))[1]&&(o.keyword=e[1]+(void 0!==e[2]?"_"+e[2]:"")),e.shift(),o.title=e.join("_"))},getAll:function(){return o},get:function(e){return void 0!==o[e]&&o[e]},set:function(e,t){var n,s;"string"==typeof e&&void 0!==e&&void 0!==t&&""!==t&&("keyword"===e?null!==(s=(n=t).match(/(((?!(sponsor:)).)*)(sponsor:([^,]+),?(.*))?/))&&void 0!==s[5]&&""!==s[5]&&void 0!==s[6]&&""!==s[6]?(r={href:s[6],title:a.capitalize(s[5])},o.keyword=s[5].replace(/ /g,"")):o.keyword=n:o[e]=t)},unset:function(e){"string"==typeof e&&void 0!==e&&void 0!==o[e]&&delete o[e]},setArray:function(e,t){"string"==typeof e&&(void 0===o[e]&&(o[e]=[]),void 0!==e&&void 0!==t&&""!==t&&o[e].push(t))},getKeywordParts:function(){return r},r:function(){r=!(o={})}}},function(e,t){"use strict";var n,s={},i={wallpaper:{isResponsive:!0},interstitial:{isResponsive:!0},native:{allowScreenReader:!0,isResponsive:!0,hasAdText:!1},native_slice_l:{allowScreenReader:!0,isResponsive:!0,hasAdText:!0},native_slice_r:{allowScreenReader:!0,isResponsive:!0,hasAdText:!0},infeed:{allowScreenReader:!0,isResponsive:!0,hasAdText:!1},infeed_news_home:{allowScreenReader:!0,isResponsive:!0,hasAdText:!0},infeed_news_index:{allowScreenReader:!0,isResponsive:!0,hasAdText:!0,isFluid:!0},infeed_news_story:{allowScreenReader:!0,isResponsive:!0,hasAdText:!0,isFluid:!0},adsense:{adType:"adsense",isResponsive:!1,hasAdText:!0},outbrain:{adType:"outbrain",isResponsive:!0,isDfppRequest:!1},promo:{adType:"promo",hasAdText:!1},sponsor:{adType:"sponsor",isResponsive:!0,size:[88,31]},sponsorbig:{adType:"sponsorbig",isResponsive:!0,size:[132,64]},module:{adType:"module",isResponsive:!0,size:[88,31]},module_worldinpictures:{adType:"module_worldinpictures",isResponsive:!1},sponsor_section:{adType:"sponsor_section",isResponsive:!1,size:[88,31]},ad_feature_rc:{adType:"feature",hasAdText:!1},sponsor_banner:{adType:"sponsor_banner",isResponsive:!1,size:[88,31]},googlenative:{isFluid:!0},"content-rec":{adType:"content-rec",hasAdText:!1,size:[30,30]}};e.exports={setAdFactory:function(e){0},registerAd:function(e){return""!==e&&void 0===s[e]&&(s[e]=new bbcdotcom.adverts.ad(e),void 0!==i[e]?s[e].setConfig(i[e]):void 0!==i[e.slice(0,e.indexOf("_"))]&&s[e].setConfig(i[e.slice(0,e.indexOf("_"))])),s[e]},unregisterAd:function(e){delete s[e]},setCurrentAdId:function(e){n=e},getCurrentAdId:function(){return n},getCurrentAd:function(){return bbcdotcom.config.isActive("ads")?void 0!==n&&s[n]?s[n]:{setBaseContent:function(){},show:function(){},close:function(){}}:{show:function(){},close:function(){}}},getAd:function(e){if(void 0!==s[e])return s[e]},getAds:function(){return s},getAdCount:function(){var e,t=0;for(e in s)s.hasOwnProperty(e)&&t++;return t},r:function(){s={},n=void 0}}},function(e,t){"use strict";e.exports=function(){window.bbcdotcom.cmd=window.bbcdotcom.cmd||[],window.bbcdotcom.cmd&&setTimeout(function(){for(;0<window.bbcdotcom.cmd.length;)window.bbcdotcom.cmd.shift()();Object.defineProperty(window.bbcdotcom.cmd,"push",{value:function(e){"function"==typeof e&&e()}})},500)}},function(e,t){"use strict";var i={};e.exports={on:function(e,t){if("function"!=typeof t)throw new TypeError("Event handler must be a function");for(var n=e.split(" "),s=0;s<n.length;s++)i[n[s]]=i[n[s]]||[],i[n[s]].push(t);return this},trigger:function(e){var t;if(!i.hasOwnProperty(e))return this;for(t=0;t<i[e].length;t++)i[e][t].apply(this,Array.prototype.slice.call(arguments,1));return this},off:function(e,t){if(!i.hasOwnProperty(e))return this;if(void 0===t)return delete i[e],this;for(;0<=i[e].indexOf(t);)i[e].splice(i[e].indexOf(t),1);return 0===i[e].length&&delete i[e],this},clear:function(){return i={},this}}},function(e,t,n){"use strict";function i(){var e,t=new RegExp("(m.stage.|m.)bbc.co(m|m/|.uk|.uk/)"),n=l.isTestEnv(),s=l.getUriParamByName("ad-unit",!1),i=l.getUriParamByName("site",!1),a=l.getUriParamByName("uid",!1);a&&(k=a),!l.isLiveEnv()&&s?(h=s+"/",E=!0):"preview"===i?(h=w.preview,E=!0):i&&void 0!==w[i]?(h=w[i],E=!0):h="worldservice"===o[0]&&void 0!==r[0]?T[(n?"test":"live")+"_"+P]+(e=I[r[0]]||r[0],"zhongwen"!==r[0]&&"ukchina"!==r[0]||(e+=r[1]),e="desktop"===P&&"russian"===e?"russia":e)+"/":/^(earth)$/.test(r[0])?n?w.test_earth:w.live_earth:n&&"live"!==l.getCookie("ad-unit")?"desktop"===P?w.test:w.test_mobile:u.isSportApp()?w.live_sport_app:"homepage"===o[0]?"desktop"===P?w.www:w.www_mobile:/^(autos|capital|culture|future|travel|worklife)$/.test(r[0])?(e=r[0].replace(/autos/,"auto"),C[n?"test":"live"]+e+"/"):t.test(L.href)?"desktop"===P?w.live:w.live_mobile:/(.com|.co.uk|.net)\/specialfeatures\//.test(L.href)?"desktop"===P?w.specials:w.specials_mobile:/\/embed$/.test(L.pathname)?n?w.test_embed:w.live_embed:/(.com|.co.uk)\/reel/.test(L.href)?n?w.test_reel:w.live_reel:"mobile"===P?w.live_mobile:p}function a(e){A=void 0!==e&&"frameworks_barlesque"===e?this.processZoneData(L.pathname,s.zones).zone:void 0!==e?e:function(){var e,t,n,s=b,i="/"+r.join("/");if(void 0!==r&&0!==r.length&&r[0]!==m){for(e=0;e<5;e++)r[e]=void 0===r[e]?"":r[e],o[e]=void 0===o[e]?"":o[e];for(t in x)if(n=new RegExp(t),n.test(i)){s=x[t].replace("$1",RegExp.$1).replace("$2",RegExp.$2);break}s===b&&("homepage"===r[0]?s="bbc_homepage_int":"reel"===r[0]?s=""===r[1]?"reel_homepage":"reel_other":""===r[1]?(s=r[0]+"_homepage_int",r[1]="homepage"):s="news"===r[0]&&"world"===o[1]&&""!==o[2]?r[0]+"_"+o[2]+"_content":"specialfeatures"===r[0]?r[1]+"_"+(""===r[2]?"home":r[2]):"zhongwen"===r[0]||"ukchina"===r[0]?r[0]+r[1]+"_"+(""===r[2]?"home":r[2])+"_content":r[0]+"_"+r[1]+"_content"),c.set(y,r[0]),c.set(_,r[1]),c.set(v,r[2])}return s.replace(/-/,"")}()}var o,r,c=n(159),l=n(143),u=n(150),s=n(164),d={},g="/4817/",f="desktop",p="bbccom.live.site.news/",b="_default",m="unknown",y="channel",_="sectn",v="subsect",h=p,S=!1,P=f,A="",k=!1,E=!1,w={live:"bbccom.live.site.news/",www:"bbccom.live.site.www/",specials:"bbccom.live.site.specialfeatures/",preview:"bbccom.preview.site.test/",test:"bbccom.test.site.flash/",live_mobile:"bbccom.live.site.mobile.news/",www_mobile:"bbccom.live.site.mobile.www/",specials_mobile:"bbccom.live.site.specialfeatures/",preview_mobile:"bbccom.preview.site.mobile.news/",test_mobile:"bbccom.qa.site.mobile.news/",test_arabic:"bbcws.test.site.mobile.arabic/",test_russian:"bbcws.test.site.mobile.russian/",live_earth:"bbcearth.com/",test_earth:"bbcearth.test.com/",test_amp_news:"bbccom.test.amp.news/",live_amp_news:"bbccom.live.amp.news/",live_sport_app:"BBCSportAppIOS/",live_embed:"bbccom.embedplayer/",test_embed:"bbccom.test.embedplayer/",live_reel:"bbccom.live.site.reel/",test_reel:"bbccom.test.site.reel/"},T={live_desktop:"bbcworldservice.live.site.",test_desktop:"bbcworldservice.test.site.",live_mobile:"bbcws.live.site.mobile.",test_mobile:"bbcws.test.site.mobile."},I={japanese:"japan"},C={live:"bbccom.live.site.",test:"bbccom.test.site."},x={"^/sport/football/teams/(liverpool|manchester-city)":"sport_football$1_content","^/news/election/us2016":"news_uscanada_content"},L="";e.exports={init:function(e,t,n,s){L=u.getWindowLocation(),o=s,r=n,"number"==typeof e&&(P=e<900?"mobile":"desktop"),i(),a(t)},get:function(){return!1===S?g+h+A:!0===E?g+h+(-1!==S.indexOf("/")?S.split("/")[1]:"/"+b):g+S+(-1!==S.indexOf("/")?"":"/"+b)},setUid:function(e){k=e},setAdUnit:function(e){void 0!==e&&(void 0!==w[e]&&(h=w[e]),/(bbccom\.(test|live)\.site|bbcearth\.com|bbcearth\.test\.com)/.test(e)&&(S=e))},getPreviewUid:function(){return k},getAdUnit1:function(){return h.endsWith("/")?h.substr(0,h.length-1):h},getAdUnits2to9:function(){return A},processZoneData:function(e,t){var n,s;if((void 0===t.uri||-1!==e.indexOf(t.uri))&&void 0!==t.data)for(n in t.data)if(d[n]=t.data[n],void 0!==t.zones)for(s in t.zones)void 0!==t.zones[s].uri&&(e=e.replace(t.uri,"")),this.processZoneData(e,t.zones[s]);return d},r:function(){L="",h=p,A=b,E=k=S=!(P=f)}}},function(e,t){"use strict";e.exports={zones:{data:{uri:"/",site:"bbccom.live.site.mobile.news",zone:""},zones:[{uri:"specialfeatures/",data:{zone:"news_specialfeatures_content"},zones:[{uri:"horizonsbusiness",data:{zone:"horizonsbusiness_home"},zones:[{uri:"/megatrend",data:{zone:"horizonsbusiness_other"}},{uri:"/clips-library",data:{zone:"horizonsbusiness_clips"}},{uri:"/episodes",data:{zone:"horizonsbusiness_episodes"}},{uri:"/episode",data:{zone:"horizonsbusiness_episode"}}]}]},{uri:"wwscripts/",data:{zone:"wwscripts_content"},zones:[{uri:"test/",data:{zone:"wwscripts_test_content"},zones:[{uri:"orb-web-service",data:{zone:"wwscripts_test_orbwebservice"}}]}]}]}}},function(e,t){"use strict";e.exports=function(e,t){var n=bbcdotcom.adverts.layout.getCurrentGroupId();window.bbcdotcom&&bbcdotcom.ad&&bbcdotcom.isActive&&bbcdotcom.isActive("ads")&&(void 0===(e=bbcdotcom.ad(e))||e.hasAnyGroupAlreadyBeenRegistered([t])||(e.registerSlotGroups(t),0<=t.indexOf(n)&&(e.setCurrentSlotGroups(t),(t=(n=document.getElementById("bbccom_"+e.getAdId()+"_"+t.join("_"))).firstElementChild||n.firstChild)&&(t.id="bbccom_"+e.getAdId()),bbcdotcom.utils.addTagClass(n,"bbccom_"+e.adType+"_slot"))))}},function(e,t,n){"use strict";function s(){var e=c.getWindowLocation(),t=l.getSection(0),n=l.getSection(1),s=l.getSection(2),i=t+"|"+n,a=["inread","infeed_sport_story","infeed_sport_index","infeed_sport_fp","native_ctp"],o={worldservice:["sponsor_section","mpu_bottom"],homepage:["module_feature-2","parallax"],travel:["responsive_box_1","promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc","native_responsive"],future:["responsive_box_1","promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc"],worklife:["responsive_box_1","promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc"],earth:["parallax","verticalnavbar","sponsor_section","responsive_box_1","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc","native_side"],culture:["promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc"],capital:["responsive_box_1","promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc"],autos:["parallax","verticalnavbar","sponsor_section","responsive_box_1","promo_feature_responsive","promo_feature_1","promo_feature_2","promo_feature_3","ad_feature_rc"],news:["sponsor","sponsor_section","sponsor_banner","module","native_slice_r"],sport:["sponsor","sponsor_section","sponsor_banner","module"],"worldservice|persian":["adsense"],"worldservice|swahili":["adsense"],"news|entertainment-arts":["adsense","outbrain","outbrain_tr_1","outbrain_ar_5","outbrain_ar_7","outbrain_ar_8","outbrain_ar_9"]},r={"news|business":["sponsor","sponsor_section","sponsor_banner","module"],"news|technology":["sponsor","sponsor_section","sponsor_banner","module"],"news|resources":["sponsor","sponsor_section","sponsor_banner","module"],"sport|golf":["sponsor","sponsor_section","sponsor_banner","module"],"sport|tennis":["sponsor","sponsor_section","sponsor_banner","module"],"sport|football":["sponsor","sponsor_section","sponsor_banner","module"],"sport|formula1":["sponsor","sponsor_section","sponsor_banner","module"],"sport|equestrian":["sponsor","sponsor_section","sponsor_banner","module"],"sport|horse-racing":["sponsor","sponsor_section","sponsor_banner","module"],"sport|olympics":["sponsor","sponsor_section","sponsor_banner","module"],"sport|move-like-never-before":["sponsor","sponsor_section","sponsor_banner","module"],"sport|home-of-the-english-premier-league":["sponsor","sponsor_section","sponsor_banner","module"]};return c.isTlSportStoryEnabled()&&(a=a.filter(function(e){return"infeed_sport_story"!==e})),c.isTlSportIndexEnabled()&&(a=a.filter(function(e){return"infeed_sport_index"!==e})),c.isTlSportFpEnabled()&&(a=a.filter(function(e){return"infeed_sport_fp"!==e})),/testctp/i.test(window.location.href)&&(a=a.filter(function(e){return"native_ctp"!==e})),/^\/news\/world\/us_and_canada\/states/.test(e.pathname)&&a.push("mpu"),o[t]&&(a=a.concat(o[t])),o[i]&&(a=a.concat(o[i])),r[i]&&(a=a.filter(function(e){return!r[i].includes(e)})),-1!=="future/earth/culture/capital/autos/worklife".indexOf(t)&&(/(\/story\/)(\d{8})(-)/.test(e.pathname)?a.push("native_responsive"):a.push("native_side")),"news"===t&&"STORY"===d.getPageType()||"homepage"===t||a.push("native"),c.isPlatinumEnabled()||a.push("platinum"),("news|the-reporters"==i||"news|special-reports"==i||"news|world"==i&&"radio-tv"===s)&&(a.push("infeed_news_index"),a.push("native_slice_l")),(c.isSportApp()||"autos"===t||"japan"===t&&"STORY"!==d.getPageType()||"worldservice"===t&&("STORY"!==d.getPageType()||"STORY"===d.getPageType()&&-1==="arabic|mundo|portuguese|japanese".indexOf(n)))&&a.push("interstitial"),"VIDEO"===d.getPageType()&&"sport"===t&&a.push("leaderboard"),u.isTestEnv()&&/[?|&]googlenative/.test(window.location.href)&&"STORY"===d.getPageType()&&(a.push("mpu"),a.push("leaderboard")),u.isTestEnv()&&/[?|&]googlenative/.test(window.location.href)&&"INDEX"===d.getPageType()&&(a.push("mpu"),a.push("leaderboard")),"news"===t&&0<document.getElementsByClassName("column--single-column-layout").length&&"STORY"===d.getPageType()&&(a.push("mpu"),a.push("mpu_bottom")),a.join("|")}function i(e){return{"homepage|mpu_bottom":"module--secondary-special-features","homepage|infeed":"module__content","news|infeed_news_story":"features-and-analysis__stories","news|infeed_news_home":"gel-wrap"}[l.getSection(0)+"|"+e]}var c=n(150),l=n(151),u=n(143),d=n(167);e.exports={build:function(e){var t=s();return c.isSportApp()?e.filter(function(e){return e.includes("mpu")&&!e.includes("mpu_")&&!e.includes("_mpu")}):e.filter(function(e){return!t.match(new RegExp("(^|\\|)("+e+")($|\\|)","g"))&&!i(e)})},isSlotEnabled:function(e){return!s().match(new RegExp("(^|\\|)("+e+")($|\\|)","g"))},isLazyLoadedSlot:i}},function(e,t,n){"use strict";function a(e){return/^http(|s):\/\/[a-z0-9\-.]+.bbc.co(m|.uk)(\/)?(.*)?/.test(e)}function s(e){e=(e=e||d.getWindowLocation().href).split(/[?#]/)[0];var t,n=_.getSectionsForUri(e,"analytics"),s=k().toLowerCase(),e=p(e),i=n.join("."),a={".live":"","world-africa":"world.africa","entertainment-arts":"entertainment_and_arts","us-canada":"us_and_canada","video-audio":"video_and_audio","world.radio-tv":"world_radio_and_tv","blogs-the-papers":"blogs.the-papers","worldservice.":""};switch(s){case"corr_story":s=".correspondent_story";break;case"index":s="";break;case"live-event":s=".live_coverage";break;default:s="."+s}for(t in a)i=i.replace(t,a[t]);return i.replace(/-/g,"_")+s+(e!==A?"."+e:"")+".page"}function i(e){return(e=(e=(e=(e=e.replace(/"/g,"'")).replace(/(^bbc (news|sport) \- )/i,"")).replace(/( \- bbc (news|sport)$)/i,"")).replace(/( \- BBCãƒ‹ãƒ¥ãƒ¼ã‚¹$)/i,"")).toLowerCase()}function m(){return void 0===d.getWindowDocument().title?"":i(d.getWindowDocument().title)}function o(){var e=d.getWindowLocation().pathname.replace(/\.app$/,"").toLowerCase().slice(1);return 0<(e=(e="/"===e.slice(-1)?e.slice(0,-1):e).split("/")).length?e[0]:""}function r(){return bbcdotcom.analytics.sscHelper.getAnalyticsLocation()}function c(e,t){e=r()+e,g("Tracking URL: ",e);var n=document.createElement("img");"function"==typeof t&&(n.onload=t),void 0===window.IS_GNL_JS_UNIT_TEST&&(n.src=e)}function l(e,t,n,s){function i(e,t,n,s){clearTimeout(n),t&&!a&&s&&e&&y.navigateTo(e),a=!0}var a=!1,o=null,r=!y.isEventDefaultPrevented(n);y.cancelEvent(n),e(s,"link",function(e){i(t,n,o,r)}),o=setTimeout(function(){i(t,n,o,r)},P)}var u,y=n(143),d=n(150),_=n(151),g=n(144)("analytics:helper"),f=n(158),p=n(168),v=["","","",""],b=!1,h=/^(autos|capital|culture|earth|future|travel)$/,S=["homepage","news","sport","wwscripts","reel"],P=500,A="na",k=function(e){e=e||d.getWindowLocation().href;var t=_.getSectionsForUri(e,"analytics"),n=d.getType();switch("homepage"===t[0]?n="INDEX":"reel"===t[0]&&1<t.length?n="MAP":null!==/(news|sport)\/live\//.exec(_.getSections().join("/"))?n="LIVE-EVENT":d.isStickyPlayerPage()?n="VIDEO-STICKY":""===n&&(window.config&&window.config.asset&&window.config.asset.type?n=window.config.asset.type:window.onesport&&window.onesport.config&&window.onesport.config.omnitureAssetType?n=window.onesport.config.omnitureAssetType:window.bbc&&bbc.fmtj&&bbc.fmtj.page&&bbc.fmtj.page.assetType?n=bbc.fmtj.page.assetType:("sport"===t[0]&&"av"===t[1]||"sport"===t[0]&&0<e.indexOf("/sport/av"))&&(n="AV")),n=y.isString(n)?n.toUpperCase():""){case"AV":case"MAP":case"MEDIA_ASSET":n="VIDEO";break;case"STY":n="STORY";break;case"IDX":n="INDEX";break;case"LEP":case"LIVE_EVENT":n="LIVE-EVENT"}return(n="STORY"===n&&d.isContinuousPlayPage()?"STORY-VIDEO":n)||(/.*(-|\/)(\d{7,9})$/.test(e)?"STORY":"INDEX")};e.exports={isBBCUri:a,determineSections:function(e){void 0===e&&(e=">");var t=_.getSections("analytics",!0);return(v=["","","",""])[0]=t[0],void 0!==t[1]&&t[1]&&("news"!==t[0]||0!==t[1].indexOf("world")&&"specialfeatures"!==t[1]?"sport"===t[0]?(v[1]=t[0]+e+t[1],void 0!==t[2]&&t[2]&&(v[2]=v[1]+e+t[2],void 0!==t[4]&&t[4]&&t[3]&&t[2]?v[3]=v[2]+e+t[3]+e+t[4]:void 0!==t[3]&&t[3]&&t[2]&&(v[3]=v[2]+e+t[3]))):void 0!==t[2]&&t[2]?(v[1]=t[0]+e+t[1],v[2]=v[1]+e+t[2]):v[1]=t[0]+e+t[1]:void 0!==t[3]&&t[3]&&t[2]?(v[1]=t[0]+e+t[1]+e+t[2],v[2]=v[1]+e+t[3]):void 0!==t[2]&&t[2]?v[1]=t[0]+e+t[1]+e+t[2]:v[1]=t[0]+e+t[1]),""===v[1]&&(v[1]=v[0]),""===v[2]&&(v[2]=v[1]),v},getStoryHeadline:function(){var e=d.getHeadline();return""!==e?e:void 0!==window.config&&void 0!==window.config.asset&&void 0!==window.config.asset.headline&&""!==window.config.asset.headline?window.config.asset.headline:""!==(e=y.getMetaNameContent("Headline"))?e:"na"},getPageEdition:function(){var e=void 0;return"japanese"===o()?A:void 0!==window.config&&void 0!==window.config.asset&&void 0!==window.config.asset.edition&&""!==window.config.asset.edition?window.config.asset.edition:""!==(e=y.getMetaNameContent("CPS_AUDIENCE"))?e:""!==(e=y.getMetaPropertyContent("wwhp-edition"))?e:A},getVertical:o,getPageType:k,sanitisePageName:i,getAnalyticsUri:r,getPageName:m,getPageNameComScore:function(){var e=d.getWindowLocation().pathname.replace(/\.app$/,"").replace(/news\/av\//,"news/").replace(/^\/weather\/0/,"/weather").replace(/^\/sport\/(uk|world)/,"/sport").toLowerCase().slice(1),t=(e="/"===e.slice(-1)?e.slice(0,-1):e).split("/"),e=o();return 1===t.length?""===e||"wwhp"===e?"homepage.home":"news"===e||"weather"===e||"sport"===e||"japanese"===e||"reel"===e?e+".home":m():"sport"===e&&1<t.length&&"0"===t[1]?2===t.length?t[0]+".home":t[0]+"."+t.slice(2).join("."):"weather"===e||"sport"===e?t.join(".").replace(/^news\.(uk|world|us|asia)\.(health)(?!-)/,"news.$2"):"news"===e||"japanese"===e?s():"reel"===e?t.join("."):m()},getEmbedPageName:s,encodeValue:function(e){return/^\{[a-zA-Z0-9\-_]+\}$/.test(e)?e:encodeURIComponent(e)},getLinkTrackingProperties:function(e){var t="",n=_.getSectionsForUri(e.href,"analytics");void 0!==e.text?t=e.text:void 0!==e.innerText&&(t=e.innerText),c="unknown"===(c=n[0])?"external":c;function s(e){return-1===(e=y.trim(e).toLowerCase().replace(/[^a-zA-Z0-9]/g,"-")).indexOf("----")?e:e.substr(0,e.indexOf("----"))}var i="";if(void 0!==e.dataset&&void 0!==e.dataset.track&&""!==e.dataset.track?i=e.dataset.track:e.getAttribute("data-track")?i=e.getAttribute("data-track"):void 0!==e.rev&&""!==e.rev&&(i=e.rev),-1!==e.className.indexOf("external-link"))return{events:!1,promoted:"external",linkName:s(t),moduleName:!1};if("homepage"!==v[0]&&"wwscripts"!==v[0]||-1===i.indexOf("|")){if(y.parentHasClass(e,"bbccom_adsense",void 0,!0))return{events:!1,promoted:"ads",linkName:"adsense",moduleName:"google-adsense"};if(y.parentHasClass(e,"bbccom_advert",void 0,!0))return!1;if(y.parentHasClass(e,"bbc-st-buttons")||y.parentHasClass(e,"share__tool"))return{events:"event23",promoted:"share-tools",linkName:s(t),moduleName:"share-tools",v:{35:s(t)+"-share",39:v[1]+"-"+m()}};if("news"===v[0]&&("news"===v[1]||"news.0"===v[1])){var a=(b=y.getParentElementByAttribute(e,"data-entityid",10))?b.getAttribute("data-entityid"):"",o=a.match(/(.+?)(-|#)(\d)/)[1],r=a.match(/(\d{1,}$)/)[0];return{promoted:c,moduleName:o||A,linkName:s(t),linkPosition:r||A,linkSection:n.join(".")}}if(("news"===v[0]||"wwscripts"===v[0])&&y.parentHasClass(e,"hyper-promotional-content",5))return{events:!1,promoted:"elsewhere",linkName:s(t),moduleName:"elsewhere"};if(-1!==e.href.indexOf("outbrain.com")){var c="outbrain-module",l=y.getParentElementByClass(e,"OUTBRAIN",5);if(void 0!==l.dataset.widgetId){var u,d=parseInt(l.dataset.widgetId.substr(3,1),10),g={"videos-on-news":[1,5,6],"elsewhere-on-news":[2,3,7],"others-sites":[4,9],"elsewhere-on-features":[8]};for(u in g)if(-1!==g[u].indexOf(d)){c=u;break}}return{events:!1,promoted:c,linkName:s(t),moduleName:"outbrain-recommends"}}if("reel"===v[0]){var f=i.split("|"),p="reel.home";2===n.length&&(p="reel.playlists"),2<n.length&&("playlist"===n[2]&&(p="reel.playlist"),"video"===n[2]&&(p="reel.video"));a=s(t);e.getAttribute&&e.getAttribute("aria-label")&&(a=s(e.getAttribute("aria-label")));o="",l="";return 1<f.length&&(o=f[1]),2<f.length&&(l=f[2]),{events:!1,promoted:"reel",moduleName:f[0],linkName:a,linkPosition:o,totalLinks:l,section:p}}}else{var b,i=i.split("|"),t=n[0].match(h)?function(e){e=e.match(/.*\/[0-9]+\-([^\/]+)/);return null!==e?e[1]:n.join(">")}(e.href):s(t);!1===(b=y.getParentElementByClass(e,"module2"))&&(b=y.getClosestElementByTagName(e,"section"));var r=y.getAnchorPositionWithinElement(b,e.href);if(0<i.length)return{events:!1,promoted:c.toLowerCase(),linkName:t,moduleName:i[0].toLowerCase(),linkType:"string"==typeof i[1]?i[1].toLowerCase():A,linkPosition:!1!==r&&0!==r?r:A}}return!1},loadTrackingImage:c,processDelayTrackingCookie:function(e,t){var n=y.getCookie(e);void 0!==n&&0<n.length&&(g("Delayed link tracking get "+e+" cookie:"+n),c(n),t.http.push(n),y.deleteCookie(e))},trackLink:function(e,t,n,s,i){a(n)||/^http(|s):\/\/traffic\.outbrain\.com/.test(n)?function(e,t,n){n=e(n,"link",void 0,!1);y.setCookie(t,n,60),g("link tracking set "+t+" cookie:"+n)}(e,t,i):l(e,n,s,i)},applyLinkTrackingToPageElements:function(n){var e=_.getSection(0,"analytics",!0);e&&-1===S.indexOf(e)||!0!==b&&(u=function(e){var t=y.getClosestElementByTagName(e.target||e.srcElement,"a",!0);!1!==t&&n(t,e)},y.addEvent(document.getElementsByTagName("body")[0],"click",u),b=!0)},getUriForSections:function(){var e=d.getWindowLocation(),t=e.href,n=f("config.asset.asset_uri");return t="VIDEO-EMBED"===d.getType()&&n?e.protocol+"//"+e.hostname+n:t},getAvFormatFromKind:function(e){return"radioProgramme"===e?"audio":"video"},r:function(){y.removeEvent(document.getElementsByTagName("body")[0],"click",u),b=!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0!==e&&""!==e||(e=a.default.getWindowLocation().href),/.*[\-\/](\d{7,9})($|(\/[a-z]*))/.test(e)?RegExp.$1:o};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s},o="na";e.exports=t.default},function(e,t){"use strict";var n={0:{s:0,f:319,slots:{wallpaper:[],leaderboard:[],mpu:[],mpu_middle:[],mpu_bottom:[],sponsor:[],module:[],module_worldinpictures:[],promo:[],ad_feature_rc:[],native:[[10,10]],native_slice_l:[[5,5]],native_slice_r:[[5,5]],native_side_2:[],native_main_small:[],native_main_medium:[],native_main_large:[],adsense:[],parallax:[],promo_feature_responsive:[[472,791]],responsive_box_1:[[8,1]],responsive_box_2:[[8,1]],verticalnavbar:[[20,20]],infeed:[[12,12]],platinum:[[88,31]],"content-rec":[[30,30]]}},1:{s:320,f:399,slots:{wallpaper:[],leaderboard:[[320,50],[300,50]],mpu:[[300,50],[320,50],[300,250]],mpu_middle:[[300,251]],mpu_bottom:[[300,251]],adsense:[[300,252]],sponsor:[[88,31]],sponsorbig:[[132,64]],module:[[88,31]],module_worldinpictures:[[320,50],[300,50]],promo:[],ad_feature_rc:[],native:[[10,10]],native_slice_l:[[5,5]],native_slice_r:[[5,5]],native_side_2:[],native_main_small:[],native_main_medium:[],native_main_large:[],parallax:[],promo_feature_responsive:[[472,791]],responsive_box_1:[[8,1]],responsive_box_2:[[8,1]],verticalnavbar:[[20,20]],infeed:[[12,12]],platinum:[[88,31]],"content-rec":[[30,30]]}},2:{s:400,f:599,slots:{wallpaper:[],leaderboard:[[516,60],[320,50],[300,50]],mpu:[[516,60],[300,50],[320,50],[300,250]],mpu_middle:[[300,251]],mpu_bottom:[[300,251]],adsense:[[300,252]],sponsor:[[88,31]],sponsorbig:[[132,64]],module:[[88,31]],module_worldinpictures:[[320,50],[300,50]],promo:[],ad_feature_rc:[],native:[[10,10]],native_slice_l:[[5,5]],native_slice_r:[[5,5]],native_side_2:[],native_main_small:[],native_main_medium:[],native_main_large:[],parallax:[],promo_feature_responsive:[[472,791]],responsive_box_1:[[8,1]],responsive_box_2:[[8,1]],verticalnavbar:[[20,20]],infeed:[[12,12]],platinum:[[88,31]],"content-rec":[[30,30]]}},3:{s:600,f:1007,slots:{wallpaper:[],leaderboard:[[516,60],[728,90],[970,300],[970,250],[970,90],[970,66]],mpu:[[300,250],[300,600]],mpu_middle:[[300,251]],mpu_bottom:[[300,251]],adsense:[[300,252]],sponsor:[[88,31]],sponsorbig:[[132,64]],module:[[88,31]],module_worldinpictures:[[320,50],[300,50]],promo:[[336,224]],ad_feature_rc:[[336,136]],native:[[10,10]],native_slice_l:[[5,5]],native_slice_r:[[5,5]],native_side_2:[[336,209]],native_main_small:[[384,258]],native_main_medium:[[464,258]],native_main_large:[[624,258]],parallax:[],promo_feature_responsive:[[472,791]],responsive_box_1:[[8,1]],responsive_box_2:[[8,1]],verticalnavbar:[[20,20]],infeed:[[12,12]],platinum:[[88,31]],"content-rec":[[30,30]]}},4:{s:1008,f:1e4,slots:{wallpaper:[[1,1]],leaderboard:[[728,90],[970,300],[970,250],[970,90],[970,66],[940,230]],mpu:[[300,250],[300,600]],mpu_middle:[[300,251]],mpu_bottom:[[300,251]],adsense:[[300,252]],sponsor:[[88,31]],sponsorbig:[[132,64]],module:[[88,31]],module_worldinpictures:[[320,50],[300,50]],promo:[[336,224]],ad_feature_rc:[[336,136]],native:[[10,10]],native_slice_l:[[5,5]],native_slice_r:[[5,5]],native_side_2:[[336,209]],native_main_small:[[384,258]],native_main_medium:[[464,258]],native_main_large:[[624,258]],parallax:[[976,400]],promo_feature_responsive:[[472,791]],responsive_box_1:[[8,1]],responsive_box_2:[[8,1]],verticalnavbar:[[20,20]],infeed:[[12,12]],platinum:[[88,31]],"content-rec":[[30,30]]}}};e.exports={setGroups:function(e){n=e},setGroup:function(e,t){t.s&&t.f&&t.slots&&(n[e]=t,this.setGroupStart(e,t.s),this.setGroupFinish(e,t.f))},setGroupStart:function(e,t){void 0!==n[e]&&void 0!==n[e].s&&(n[e].s=t),void 0!==n[e-1]&&void 0!==n[e-1].f&&(n[e-1].f=t-1)},setGroupFinish:function(e,t){void 0!==n[e]&&void 0!==n[e].f&&(n[e].f=t),void 0!==n[e+1]&&void 0!==n[e+1].f&&(n[e+1].s=t+1)},getGroups:function(){return n},getGroup:function(e){return n[e]}}},function(e,t,n){"use strict";var s=n(159),i=n(156),n=function(){this.exclusions=[],this.inclusions=[],this.predicates={airline:{rules:{1:{match:{1:["air","plane","flight","jet","aviation"],2:["ash","bomb","crash","dead","detonat","disaster","disrupt","emergenc","fire","incident","injur","kill","missing","package","passenger","crew","search","score","strand","strike","volcan","wreck"]},value:"!c"},2:{match:{1:["osama","bin laden","twin towers","9/11,september 11","11 september","al-qaeda","al qaeda"]},value:"!c"}}},violence:{rules:{1:{match:{1:["riot","violen","loot","unrest","unruly","attack","disturbance","shot","disorder","anarch","chaotic","chaos","unruliness","mindless","stealing","stolen","thiev","theft","arson","crisis","disarray","discord","lawlessness","criminal","vandal","thug","engulf","flame","burn","blast","blood","dead","death","die","explode","explosion","fatal","funeral","gun","injur","kill","knife","mourn","murder","stab","terror","traged","tragic","victim"]},value:"!c"}}},sensitive:{rules:{1:{match:{1:["violence","firearms","arms","tobacco","hygiene","religio","crim","illegal","politic","porno","paedophile","google","internet"]},value:"!c"}}}},this.setAdExclusion=function(e){if(void 0!==e&&""!==e){for(var t in e)e.hasOwnProperty(t)&&(i.setExclusion(e[t]),s.set("excl_cat",e.join(",")));s.set("!c",e.join(","))}}};n.prototype.getExclusions=function(){return this.exclusions},n.prototype.getInclusions=function(){return this.inclusions},n.prototype.set=function(e){var t,n,s,i,a;for(s in e=e.toLowerCase(),this.predicates)for(t in this.predicates[s].rules){for(n in a=i=0,this.predicates[s].rules[t].match)i++,new RegExp(this.predicates[s].rules[t].match[n].join("|")).test(e)&&a++;0!==a&&i===a&&("!c"===this.predicates[s].rules[t].value?this.exclusions:this.inclusions).push(s)}return this.setAdExclusion(this.exclusions),this},e.exports=n},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(172)),a=s(n(256)),o=s(n(258)),n=n(257);t.default=Object.assign(i.default,{streamSense:a.default,sscHelper:o.default,setMetricOverride:n.setOverride}),e.exports=t.default},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,s){if(!l.default.isAnalyticsEnabled())return h("did not do tracking because isAnalyticsEnabled=false"),"function"==typeof n&&n(!1),!1;!1===this.userTrackingCookieValue&&(this.userTrackingCookieValue=(0,p.default)());var i=(0,v.getOverrides)(),a=void 0!==e.c2?e.c2:"",o="?c1="+("page"===t?2:22)+"&c2="+(0,c.default)(i,"c2",a);for(var r in"fia"===i.b_app_type&&(i.app_name=e.prod_name,i.name=d.default.getEmbedPageName(),i.section=f.default.getSectionsForUri(l.default.getWindowLocation().href,"analytics").join("%2F"),i.page_type=d.default.getPageType().toLowerCase(),i.cps_asset_id=e.b_article_id),"video"===t&&(this.videoEventCounter++,e.ns_st_ec=this.videoEventCounter),(e=Object.assign(e,i)).c7=l.default.getWindowLocation().href.replace(/\.app$/,""),e.c8=l.default.getWindowDocument().title,void 0===e.c9&&(e.c9=document.referrer),e=(0,y.sanitiseKeyValues)(e))"c2"!==r&&(o+="&"+r+"="+d.default.encodeValue(e[r]));return o+=(window.bbcdotcom.consent?window.bbcdotcom.consent.comscore:window.bbccookies&&bbccookies.readPolicy("performance"))?"&cs_ucfr=1":"&cs_ucfr=0",void 0===s||!0===s?(this.trackingRequests.http.push(o),d.default.loadTrackingImage(o,n)):(this.trackingRequests.cookie.push(o),"function"==typeof n&&n()),h("comScore doTrack url:"+o),o}Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(173)),i=function(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e},l=s(n(150)),u=s(n(143)),d=s(n(167)),a=s(n(144)),g=n(221),o=s(n(256)),f=s(n(151)),p=s(n(255)),b=s(n(243)),m=s(n(241)),y=n(233),_=s(n(222)),v=n(257),h=(0,a.default)("analytics:comScore"),S="ckpf_gnlcs",P=(i(A,[{key:"init",value:function(){return this.userTrackingCookieValue=(0,p.default)(),d.default.processDelayTrackingCookie(S,this.trackingRequests),function(){for(var e=["startPlaylist","adRequest","adManagerLoaded","startAdvert","endAdvert","startProgramme","startPause","endPause","startSeek","endSeek","endProgramme","duration","uiinfo","volumeChange","startPreview","stopPreview"],t=0,n=e.length;t<n;t++)P.prototype[e[t]]=o.default[e[t]].bind(o.default);o.default.init()}.call(this),this}},{key:"getScwForApp",value:function(){var s=this;return h('getScwForApp() called to get "scw"'),this.isScwHandlerUsed=!0,{initAppPageTracking:function(e,t,n){s.setApp({pageName:e})},setAppName:function(e){s.setApp({appName:e})},setAppVersionNumber:function(e){s.setApp({appVersion:e})},setAppOs:function(e){s.setApp({appOs:e})},appTrackPage:function(){s.page()}}}},{key:"setApp",value:function(e){for(var t in e)switch(t){case"appName":this.keyValues.b_app_name=e[t]+"|app","horizons"===e[t]&&(this.keyValues.b_site_channel="news");break;case"appVersion":this.keyValues.b_app_imp_ver=e[t];break;case"appOs":this.keyValues.b_app_os=e[t];break;case"pageName":this.keyValues.name=e[t]}}},{key:"setAllowLinkTracking",value:function(e){this.allowLinkTracking=!!e}},{key:"getTrackingRequests",value:function(e){if(void 0===e||"http"!==e&&"cookie"!==e)throw new Error('Invalid type provided to getTrackingRequests() "'+e+'"');return this.trackingRequests[e]}},{key:"getTrackingValue",value:function(){return""}},{key:"setUserTrackingCookie",value:function(e){this.userTrackingCookieValue=e}},{key:"getUserTrackingCookie",value:function(){return this.userTrackingCookieValue}},{key:"r",value:function(){this.userTrackingCookieValue=!1,this.allowLinkTracking=!0,this.trackingRequests={http:[],cookie:[]},o.default.videoEvents=[],this.isPlaylistStarted=!1,u.default.deleteCookie(S),this.videoEventCounter=0}},{key:"page",value:function(e){if(!l.default.isComScoreEnabled())return h("did not do tracking because isComScoreEnabled=false"),!1;try{var t=(0,g.getCoreKeyValues)(),t=(0,g.appendPageCoreKeyValues)(t);void 0!==e&&(t.c9=e),Object.assign(t,this.keyValues),r.call(this,t,"page"),this.allowLinkTracking&&d.default.applyLinkTrackingToPageElements(this.link.bind(this))}catch(e){h.error('bbcdotcom.analytics.page() exception "'+e.message+'"')}}},{key:"link",value:function(e,t){if(!l.default.isComScoreEnabled())return!1;if(void 0===e||void 0===e.href)return!1;var n=(0,g.getCoreKeyValues)(),s=d.default.getLinkTrackingProperties(e),i=e.href;if(!s)return"";var a=new _.default,o=d.default.isBBCUri(i);a.with("pev1",{value:i.substr(0,255),preRequisite:function(){return o}}),a.with("domainFromUrl",{mapName:"pev1",args:[i],preRequisite:function(){return!o}}),s.pageType=(0,m.default)(e.href).substring(0,3).replace("|",""),(n=(0,g.appendNonPageCoreKeyValues)(n)).b_link=function(e){if(void 0===e)return!1;var t,n,s=(0,b.default)(),i={promoted:"",channel:s[0],moduleName:"",linkType:"text",linkName:"",linkPosition:"",totalLinks:"",extraLinkInfo:"",section:s[1],pageType:"",placement:""},a=[];for(t in e)void 0!==i[t]&&(i[t]=void 0===e[t]||""===e[t]||!1===e[t]?"":u.default.trim(e[t]));for(n in i)a.push(i[n]);return a.join("|")}.call(this,s),n=Object.assign(n,a.build()),d.default.trackLink(r.bind(this),S,i,t,n)}}]),A);function A(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,A),this.playlistCount=0,this.videoEventCounter=0,this.allowLinkTracking=!0,this.isPlaylistStarted=!1,this.userTrackingCookieValue=!1,this.trackingRequests={http:[],cookie:[]},this.keyValues={},this.isScwHandlerUsed=!1}function k(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.default=new P,e.exports=t.default},function(e,t,n){var s=n(174);e.exports=function(e,t,n){return void 0===(t=null==e?void 0:s(e,t))?n:t}},function(e,t,n){var i=n(175),a=n(219),o=n(220);e.exports=function(e,t){for(var n=0,s=(t=a(t,e)?[t]:i(t)).length;null!=e&&n<s;)e=e[o(t[n++])];return n&&n==s?e:void 0}},function(e,t,n){var s=n(176),i=n(177);e.exports=function(e){return s(e)?e:i(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var s=n(178),a=n(214),o=/^\./,r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,s=s(function(e){e=a(e);var i=[];return o.test(e)&&i.push(""),e.replace(r,function(e,t,n,s){i.push(n?s.replace(c,"$1"):t||e)}),i});e.exports=s},function(e,t,n){function o(s,i){if("function"!=typeof s||i&&"function"!=typeof i)throw new TypeError("Expected a function");function a(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;return n.has(t)?n.get(t):(e=s.apply(this,e),a.cache=n.set(t,e),e)}return a.cache=new(o.Cache||r),a}var r=n(179);o.Cache=r,e.exports=o},function(e,t,n){function s(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}var i=n(180),a=n(208),o=n(211),r=n(212),n=n(213);s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=n,e.exports=s},function(e,t,n){var s=n(181),i=n(199),a=n(207);e.exports=function(){this.__data__={hash:new s,map:new(a||i),string:new s}}},function(e,t,n){function s(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}var i=n(182),a=n(195),o=n(196),r=n(197),n=n(198);s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=n,e.exports=s},function(e,t,n){var s=n(183);e.exports=function(){this.__data__=s?s(null):{}}},function(e,t,n){n=n(184)(Object,"create");e.exports=n},function(e,t,n){var s=n(185),i=n(194);e.exports=function(e,t){return t=i(e,t),s(t)?t:void 0}},function(e,t,n){var s=n(186),i=n(188),a=n(189),o=n(187),r=n(193),c=/^\[object .+?Constructor\]$/,l=Function.prototype,n=Object.prototype,l=l.toString,n=n.hasOwnProperty,u=RegExp("^"+l.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(s(e)||i(e)?u:c).test(r(e))}},function(e,t,n){var s=n(187),i=Object.prototype.toString;e.exports=function(e){return"[object Function]"==(e=s(e)?i.call(e):"")||"[object GeneratorFunction]"==e}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}},function(e,t,n){var n=n(190),s=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!s&&s in e}},function(e,t,n){n=n(191)["__core-js_shared__"];e.exports=n},function(e,t,n){var s=n(192),n="object"==typeof self&&self&&self.Object===Object&&self,n=s||n||Function("return this")();e.exports=n},function(t,e){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(e,function(){return this}())},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){return this.has(e)&&delete this.__data__[e]}},function(e,t,n){var s=n(183),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(s){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var s=n(183),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return s?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var s=n(183);e.exports=function(e,t){return this.__data__[e]=s&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){function s(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}var i=n(200),a=n(201),o=n(204),r=n(205),n=n(206);s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=n,e.exports=s},function(e,t){e.exports=function(){this.__data__=[]}},function(e,t,n){var s=n(202),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__;return!((e=s(t,e))<0)&&(e==t.length-1?t.pop():i.call(t,e,1),!0)}},function(e,t,n){var s=n(203);e.exports=function(e,t){for(var n=e.length;n--;)if(s(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var s=n(202);e.exports=function(e){var t=this.__data__;return(e=s(t,e))<0?void 0:t[e][1]}},function(e,t,n){var s=n(202);e.exports=function(e){return-1<s(this.__data__,e)}},function(e,t,n){var i=n(202);e.exports=function(e,t){var n=this.__data__,s=i(n,e);return s<0?n.push([e,t]):n[s][1]=t,this}},function(e,t,n){n=n(184)(n(191),"Map");e.exports=n},function(e,t,n){var s=n(209);e.exports=function(e){return s(this,e).delete(e)}},function(e,t,n){var s=n(210);e.exports=function(e,t){return e=e.__data__,s(t)?e["string"==typeof t?"string":"hash"]:e.map}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var s=n(209);e.exports=function(e){return s(this,e).get(e)}},function(e,t,n){var s=n(209);e.exports=function(e){return s(this,e).has(e)}},function(e,t,n){var s=n(209);e.exports=function(e,t){return s(this,e).set(e,t),this}},function(e,t,n){var s=n(215);e.exports=function(e){return null==e?"":s(e)}},function(e,t,n){var s=n(216),i=n(217),s=s?s.prototype:void 0,a=s?s.toString:void 0;e.exports=function(e){if("string"==typeof e)return e;if(i(e))return a?a.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){n=n(191).Symbol;e.exports=n},function(e,t,n){var s=n(218),i=Object.prototype.toString;e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==i.call(e)}},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e}},function(e,t,n){var s=n(176),i=n(217),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var s=n(217);e.exports=function(e){if("string"==typeof e||s(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoreKeyValues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new a.default;t.with("b_imp_src",{value:"gnl"}).with("b_vs_un",{value:"bc"}).with("ns_c",{value:"UTF-8"}),t.with("daxCorp",{mapName:"b_daxcorp"}).with("adsEnabled",{mapName:"b_ad_enabled"}).with("appType",{mapName:["b_app_type","app_type"]}).with("isApp",{mapName:"b_is_app"}).with("referrer",{mapName:"b_c9"}).with("collection",{mapName:"b_collection"}).with("edition",{mapName:"b_edition"}).with("version",{mapName:"b_imp_ver"}).with("siteCatalystCookieValue",{mapName:"b_s_vi"}).with("pageName",{mapName:["name","b_article_title"]}).with("analyticsAccountID",{mapName:"c2"}).with("analyticsSuite",{mapName:["ns_site"]}).with("appName",{mapName:["ns_ap_an","app_name"]}).with("partner",{mapName:"b_article_partner"}).with("license",{mapName:"b_article_license"});var n=(0,r.default)();t.with("b_app_name",{value:n[0]+"|web"}).with("siteChannel",{mapName:["b_site_channel","bbc_site","prod_name"],args:[n]}).with("siteSection",{mapName:"b_site_section",args:[n]}).with("siteSubsection1",{mapName:"b_site_subsec1",args:[n]}).with("siteSubsection2",{mapName:"b_site_subsec2",args:[n]});var s=(0,o.default)();t.with("ns_alias",{preRequisite:function(){return!1!==s&&(!1===(e=navigator.cookieEnabled)?e:(document.cookie="cookietest=1",e=-1!==document.cookie.indexOf("cookietest="),document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e));var e},value:s});var i=(0,l.default)();return t.with("v37",{preRequisite:function(){return i},value:i}),Object.assign({},e,t.build())},t.appendPageCoreKeyValues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new a.default,n=(0,c.default)(),s=n.includes("idx"),i=n.includes("liv");return t.with("pageType",{mapName:"b_page_type",value:n}),t.with("articleID",{mapName:"b_article_id",preRequisite:function(){return!s}}).with("articleTitle",{mapName:"b_article_title",preRequisite:function(){return!s&&!i}}).with("articleUpdatedDate",{mapName:"b_article_update",preRequisite:function(){return!s},args:[!0]}).with("articlePublishedDate",{mapName:"b_article_date",preRequisite:function(){return!s},args:[!0]}).with("articleLength",{mapName:"b_article_length",preRequisite:function(){return!s}}).with("topicNames",{mapName:"b_topic_names",preRequisite:function(){return!s&&!i}}),Object.assign({},e,t.build())},t.appendNonPageCoreKeyValues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new a.default;return t.with("timestamp",{mapName:"ns__t"}).with("ns_type",{value:"hidden"}),Object.assign({},e,t.build())};var a=s(n(222)),o=s(n(255)),r=s(n(243)),c=s(n(241)),l=s(n(249))},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(176)),i=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e},o=s(n(223)),r=(0,s(n(144)).default)("analytics:metrics:metricsBuilder"),i=(i(c,[{key:"with",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.mapName,s=t.postProcess,i=t.preRequisite,a=t.args,t=t.value;return e&&this.metrics.set(e,{mapName:void 0===n?null:n,postProcess:void 0===s?null:s,args:void 0===a?[]:a,preRequisite:void 0===i?null:i,value:void 0===t?void 0:t}),this}},{key:"getMetric",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n="get"+(e.charAt(0).toUpperCase()+e.slice(1));if(o.default.hasOwnProperty(n))return o.default[n].apply(o.default,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));throw new Error("No metric helper for "+e+" ("+n+")")}},{key:"build",value:function(){var i={};return this.metrics.forEach(function(e,t){try{if(e.preRequisite&&!e.preRequisite())return;var n,s=void 0,s=void 0!==e.value?e.value:this.getMetric(t,e.args);e.postProcess&&(s=e.postProcess(s)),e.mapName?(n=e.mapName,(n=!(0,a.default)(n)?[n]:n).forEach(function(e){i[e]=s})):i[t]=s}catch(e){r.warn("Unable to build metric "+t,e)}}.bind(this)),i}}]),c);function c(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),this.metrics=new Map}function l(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=n(224),a=(s=i)&&s.__esModule?s:{default:s},o=a.default.getAdsEnabled,r=a.default.getAnalyticsAccountID,c=a.default.getAnalyticsSuite,l=a.default.getAppName,u=a.default.getAppType,d=a.default.getArticleID,g=a.default.getArticleLength,f=a.default.getArticlePublishedDate,p=a.default.getArticleTitle,b=a.default.getArticleUpdatedDate,m=a.default.getCollection,y=a.default.getDaxCorp,_=a.default.getDomainFromUrl,v=a.default.getEdition,h=a.default.getIsApp,S=a.default.getPageName,P=a.default.getPageType,A=a.default.getReferrer,k=a.default.getSiteCatalystCookieValue,E=a.default.getSiteChannel,w=a.default.getSiteSection,T=a.default.getSiteSubsection1,I=a.default.getSiteSubsection2,C=a.default.getTimestamp,x=a.default.getTopicNames,L=a.default.getVersion,n=a.default.getPartner,a=a.default.getLicense;t.default={getAdsEnabled:o,getAnalyticsAccountID:r,getAnalyticsSuite:c,getAppName:l,getAppType:u,getArticleID:d,getArticleLength:g,getArticlePublishedDate:f,getArticleTitle:p,getArticleUpdatedDate:b,getCollection:m,getDaxCorp:y,getDomainFromUrl:_,getEdition:v,getIsApp:h,getPageName:S,getPageType:P,getReferrer:A,getSiteCatalystCookieValue:k,getSiteChannel:E,getSiteSection:w,getSiteSubsection1:T,getSiteSubsection2:I,getTimestamp:C,getTopicNames:x,getVersion:L,getPartner:n,getLicense:a},e.exports=t.default},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(225)),a=s(n(226)),o=s(n(227)),r=s(n(228)),c=s(n(229)),l=s(n(168)),u=s(n(230)),d=s(n(231)),g=s(n(232)),f=s(n(234)),p=s(n(235)),b=s(n(236)),m=s(n(237)),y=s(n(238)),_=s(n(239)),v=s(n(240)),h=s(n(241)),S=s(n(242)),P=s(n(243)),A=s(n(244)),k=s(n(245)),E=s(n(246)),w=s(n(247)),T=s(n(248)),I=s(n(249)),C=s(n(250)),x=s(n(251)),L=s(n(252)),N=s(n(253)),O=s(n(254)),n=n(233);t.default={getAdsEnabled:i.default,getAnalyticsAccountID:a.default,getAnalyticsSuite:o.default,getAppName:r.default,getAppType:c.default,getArticleID:l.default,getArticleLength:u.default,getArticlePublishedDate:d.default,getArticleTitle:g.default,getArticleUpdatedDate:f.default,getCollection:p.default,getDaxCorp:b.default,getDomainFromUrl:m.default,getEdition:y.default,getIsApp:_.default,getPageName:v.default,getPageType:h.default,getReferrer:S.default,getSectionStrings:P.default,getSiteCatalystCookieValue:A.default,getSiteChannel:k.default,getSiteSection:E.default,getSiteSubsection1:w.default,getSiteSubsection2:T.default,getSyndicatedVideoSource:I.default,getTimestamp:C.default,getTopicNames:x.default,getVersion:L.default,sanitiseKeyValues:n.sanitiseKeyValues,sanitiseLabelValue:n.sanitiseLabelValue,sanitisePageName:n.sanitisePageName,getPartner:N.default,getLicense:O.default},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.isAdsEnabled()?1:0};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getAnalyticsAcctId()};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getAnalyticsSuite()};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getAppName()};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.isSportApp()||bbcdotcom.analytics.isScwHandlerUsed?"mobile-app":"undefined"!=typeof orb&&"function"==typeof orb.fig&&1===orb.fig("mb")||0===a.default.getWindowLocation().hostname.search(/m.*.bbc.co/)?"mobile-web":"web"};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t){"use strict";function n(e){if(null==e)return null;try{if(void 0!==e.innerText&&null!==e.innerText&&void 0!==e.innerText.length&&null!==e.innerText.length)return e.innerText.length;if(void 0!==e.textContent&&null!==e.textContent&&void 0!==e.textContent.length&&null!==e.textContent.length)return e.textContent.length}catch(e){return null}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(void 0!==window.config&&void 0!==window.config.asset&&void 0!==window.config.asset.length&&null!==window.config.asset.length)return window.config.asset.length;var e=document.getElementById("story-body");return null!=e?n(e):null!=(e=document.getElementsByClassName("article"))&&1===e.length?n(e[0]):null!=(e=document.getElementById("emp-content"))?n(e):null==(e=document.getElementsByClassName("layout-block-a"))||1!==e.length?null:n(e[0])},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=null,n=a.default.getMetaNameContent("DCTERMS.created"),s=a.default.getMetaPropertyContent("rnews:datePublished");if(window.config&&window.config.asset&&window.config.asset.first_created&&window.config.asset.first_created.date?t=window.config.asset.first_created.date:""!==n?t=n.replace("T"," ").replace("+00:00",""):""!==s&&(t=s),null===t||0===t.length)return null;if(t=t.replace(/-/g,"/"),void 0!==e&&!0===e)try{return Date.parse(t)/1e3}catch(e){return null}return t};var s,i=n(143),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.sanitiseLabelValue)(a.default.getPageName()).replace(/[\s]/g,"_").replace(/_{2,}/g,"_")};var s,i=n(167),a=(s=i)&&s.__esModule?s:{default:s},o=n(233);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitiseLabelValue=function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/[&=\/<>]/g,"")},t.sanitiseKeyValues=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&""!==e[t]&&null!==e[t]&&"na"!==e[t]&&(n[t]=isNaN(e[t])?e[t]:String(e[t]));return n},t.sanitisePageName=function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/[\s]/g,"_").replace(/[&=\/<>+?]/g,"").replace(/_{2,}/g,"_")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=null,n=a.default.getMetaNameContent("DCTERMS.modified"),s=o();if(void 0!==window.config&&void 0!==window.config.asset&&null!==typeof window.config.asset.last_updated&&void 0!==window.config.asset.last_updated&&void 0!==window.config.asset.last_updated.date)t=window.config.asset.last_updated.date;else if(""!==n)t=n.replace("T"," ").replace("+00:00","");else if(s)return s;return null===t||0===t.length?null:void 0!==e&&!0===e?new Date(t.replace(/\//g,"-").replace(" ","T")).getTime()/1e3:t.replace(/-/g,"/")};var s,i=n(143),a=(s=i)&&s.__esModule?s:{default:s},o=function(){var e=document.querySelector("time[data-timestamp]");if(void 0===e||!e||null===e)return null;e=e.getAttribute("data-timestamp");return void 0!==e&&e&&""!==e?e:null};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1!==a.default.get("keyword")?a.default.get("keyword").toLowerCase():""};var s,i=n(159),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getDaxEnvironments().join("_")};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"http"+(e=/http(|s):\/\/([^\/]+)(.*)?/.exec(e))[1]+"://"+e[2]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getPageEdition().toLowerCase()};var s,i=n(167),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.isSportApp()||bbcdotcom.analytics.isScwHandlerUsed?1:0};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.sanitisePageName)(a.default.getPageNameComScore())};var s,i=n(167),a=(s=i)&&s.__esModule?s:{default:s},o=n(233);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.default.getPageType(e).toLowerCase();return void 0!==(e={index:"idx|na",story:"sty|na","story-video":"sty|vid","live-event":"liv|na",video:"map|mps","video-sticky":"vid|sti","video-embed":"vid|emb"})[t]?e[t]:"na|na"};var s,i=n(167),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return document.referrer!==a.default.getReferrer()?a.default.getReferrer().substr(0,255):""};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.determineSections(".")};var s,i=n(167),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=a.default.getCookie("s_vi");return void 0!==e?e:""};var s,i=n(143),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[0]},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[1]===e[0]?"":e[1]},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[2]===e[1]?"":e[2]},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[3]===e[2]?"":e[3]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"VIDEO-EMBED"===a.default.getType()?"twitter":null};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Date.now?Date.now():(new Date).getTime()},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e,t=[],n={},s=document.querySelectorAll(".tags-list__tags a"),i=0;i<s.length;i++)void 0===n[e=s[i].innerText.replace(/\s/g,"_").toLowerCase()]&&(t.push(e),n[e]="Topic seen");return t.join("|")};var s,i=n(143);(s=i)&&s.__esModule,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.getVersion()};var s,i=n(150),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1!==a.default.get("partner")?a.default.get("partner").toLowerCase():""};var s,i=n(159),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1!==a.default.get("license")?a.default.get("license").toLowerCase():""};var s,i=n(159),a=(s=i)&&s.__esModule?s:{default:s};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=a.default.getCookie(o),t=a.default.getCookie(r),n=a.default.getCookie(c);return void 0!==n&&0!==n?n:void 0!==t&&0!==t.length?t:void 0!==e&&0!==e.length&&e};var s,i=n(143),a=(s=i)&&s.__esModule?s:{default:s},o="ckpf_uid",r="ckpf_sscid",c="ckns_sscid";e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=function(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e},a=n(144),o=(s=a)&&s.__esModule?s:{default:s},r=n(233),c=n(221),l=n(150),u=n(143),d=n(167),g=(0,o.default)("analytics:comScoreStreaming"),f="CONTENT",p="*null",i=(i(b,[{key:"init",value:function(){this.sa=new ns_.StreamingAnalytics({liveEndpointURL:d.getAnalyticsUri()}),g("init()")}},{key:"notify",value:function(e,t){return g("notify() "+e),l.isComScoreEnabled()?("notifyCustomEvent"!==e&&(g("playbackSession labels:"),g(this.sa.getPlaybackSession().getLabels()),g("asset labels:"),g(this.sa.getPlaybackSession().getAsset().getLabels())),void(void 0!==t?"notifyCustomEvent"===e?(g("custom labels:"),g(t),this.sa[e](0,t)):this.sa[e](t):this.sa[e]())):void g("bbcdotcom.analytics did not do tracking because isComScoreEnabled=false")}},{key:"startPlaylist",value:function(e){"AD"===this.currentlyPlaying&&this.notify("notifyEnd"),this.currentlyPlaying===f&&this.notify("notifyEnd",u.secondsToMilliSeconds(e.mediaOffset)),this.currentlyPlaying="",this.playlistCount++,this.adPlayed=!1;var t=bbcdotcom.utils.isString(e.mediaPlayerName)&&e.mediaPlayerName.includes("flash")?"19":"2",e=(0,c.getCoreKeyValues)({c1:t,c2:l.getAnalyticsAcctId(),c3:p,c4:p,b_av_action:this._getAVAction(e.videoPlaysAutomatically),ns_st_it:"c",ns_st_mp:e.mediaPlayerName,ns_st_mv:e.bumpVersion,ns_st_cp:"1",b_av_ad:l.isAdsEnabled()?"1":"0",b_av_format:d.getAvFormatFromKind(e.kind),b_av_plist:"multi",b_av_method:"stream",b_av_source:"bbc",ns_st_ws:this.uiInfoLabels.ns_st_ws,ns_st_cs:this.uiInfoLabels.ns_st_cs,ns_st_vo:this.volumeLabel.ns_st_vo,b_preview_flag:this.isPreview?"1":"0"}),e=(0,c.appendPageCoreKeyValues)(e);this.sa.createPlaybackSession(e)}},{key:"adRequest",value:function(e){this.notify("notifyCustomEvent",{ns_st_ev:"ad_request"})}},{key:"adManagerLoaded",value:function(e){this.notify("notifyCustomEvent",{ns_st_ev:"ad_loaded"})}},{key:"startAdvert",value:function(e){var t=(0,r.sanitisePageName)(e.mediaName);this.currentlyPlaying="AD",this.adPlayed=!0,this.sa.getPlaybackSession().setAsset({ns_st_br:p,ns_st_ci:"pre-roll",ns_st_cl:e.adLength||"0",ns_st_pu:p,ns_st_pr:t,ns_st_ep:p,ns_st_sn:p,ns_st_en:p,ns_st_ge:p,ns_st_ct:"va11",ns_st_ti:p,ns_st_ia:p,ns_st_ddt:p,ns_st_tdt:p,ns_st_st:p,ns_st_cp:"2",c3:p,c4:p,c6:p,ns_st_ad:"pre-roll"}),this.notify("notifyPlay",0)}},{key:"endAdvert",value:function(e){this.notify("notifyEnd")}},{key:"startProgramme",value:function(e){this.currentlyPlaying=f;var t=(0,r.sanitisePageName)(e.mediaName);this.sa.getPlaybackSession().setAsset({ns_st_br:p,ns_st_ci:t,ns_st_cl:this.contentDuration,ns_st_pu:"bbc",ns_st_pr:t,ns_st_ep:p,ns_st_sn:p,ns_st_en:p,ns_st_ge:p,ns_st_ct:e.isLive?"vc13":"vc11",ns_st_ti:p,ns_st_ia:p,ns_st_ddt:p,ns_st_tdt:p,ns_st_st:p,c3:p,c4:p,c6:p,ns_st_pn:"1",ns_st_ce:p,ns_st_li:e.isLive?"1":p,ns_st_cp:this.adPlayed?"2":"1"}),this.notify("notifyPlay",0)}},{key:"endProgramme",value:function(e){this.notify("notifyEnd")}},{key:"startPause",value:function(e){this.notify("notifyPause",u.secondsToMilliSeconds(e.mediaOffset))}},{key:"endPause",value:function(e){this.notify("notifyPlay",u.secondsToMilliSeconds(e.mediaOffset))}},{key:"startSeek",value:function(e){this.notify("notifySeekStart",u.secondsToMilliSeconds(e.mediaOffset))}},{key:"endSeek",value:function(){this.notify("notifyPlay",u.secondsToMilliSeconds(data.mediaOffset))}},{key:"duration",value:function(e){this.contentDuration=u.secondsToMilliSeconds(e.mediaLength).toString(),this.currentlyPlaying==f&&this.sa.getPlaybackSession().getAsset().setLabel("ns_st_cl",this.contentDuration)}},{key:"uiinfo",value:function(e){this.uiInfoLabels.ns_st_ws=!0===e.uiinfo.isFullscreen?"full":"norm",this.uiInfoLabels.ns_st_cs=e.uiinfo.videoWidth.toString()+"x"+e.uiinfo.videoHeight.toString(),""!==this.currentlyPlaying&&this.sa.getPlaybackSession().setLabels(this.uiInfoLabels)}},{key:"volumeChange",value:function(e){this.volumeLabel.ns_st_vo=(100*e.volume).toString(),""!==this.currentlyPlaying&&this.sa.getPlaybackSession().setLabels(this.volumeLabel)}},{key:"startPreview",value:function(e){this.isPreview=!0}},{key:"stopPreview",value:function(e){this.isPreview=!1,this.notify("notifyCustomEvent",{ns_st_ev:e.previewStoppedReason}),this.sa.getPlaybackSession().setLabel("b_preview_flag","0")}},{key:"_getAVAction",value:function(e){return l.isContinuousPlayPage()?1===this.playlistCount?e?"cpf":"cpfm":"cp":e?"ap":"mp"}}]),b);function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),this.sa=null,this.playlistCount=0,this.contentDuration="0",this.currentlyPlaying="",this.isPreview=!1,this.uiInfoLabels={ns_st_ws:"norm",ns_st_cs:""},this.volumeLabel={ns_st_vo:""},this.volume="",this.adPlayed=!1}function m(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.default=new i,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOverride=function(e,t){s.set(e,t)},t.getOverrides=function(){var n={};return s.forEach(function(e,t){n[t]=e}),n};var s=new Map},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(){var e=a.default.getAnalyticsConfig();this.sscHost={https:e.SSC.HTTPS},this.comScoreHost={https:e.COMSCORE.HTTPS}}var a=s(n(150)),o=s(n(255));i.prototype.getAnalyticsLocation=function(){return this.hasUserTrackingCookie()?this.getComScoreBaseUrl():this.getSscBaseUrl()},i.prototype.isSecure=function(){return"https:"===a.default.getWindowLocation().protocol},i.prototype.hasUserTrackingCookie=function(){return!1!==(0,o.default)()},i.prototype.getComScoreBaseUrl=function(){return this.comScoreHost.https},i.prototype.getSscBaseUrl=function(){return this.sscHost.https},e.exports=new i},function(e,t,n){"use strict";var s=n(163),i=n(157),a={"970x250":{dfppId:185036058,adUnit:"preview",uid:"5d453f2d6551484b782064357a",slots:{leaderboard:[[970,250]],mpu:[]}},large:{dfppId:114180258,adUnit:"preview",uid:"224f514079694b3d567a747a22",slots:{leaderboard:[[970,250]]}},big:{dfppId:185036058,adUnit:"preview",uid:"5d453f2d6551484b782064357a",slots:{leaderboard:[[970,250]],mpu:[[300,600]]}},standard:{dfppId:193669458,adUnit:"preview",uid:"3171676f4450464e3d5a3b4746",slots:{leaderboard:[[728,90]],mpu:[[300,250]]}},opaque:{dfppId:193669458,adUnit:"preview",uid:"3171676f4450464e3d5a3b4746",slots:{leaderboard:[[728,90]],mpu:[[300,250]]}},interstitial:{dfppId:193674858,adUnit:"preview",uid:"3f784566412e58404762524028",slots:{interstitial:[[1,1]],leaderboard:[[728,90]],mpu:[[300,250]]}},"int-uni-iframe":{dfppId:200145378,adUnit:"preview",uid:"2b614a6426584d2e767e7a2967",slots:{interstitial:[[1,1]],leaderboard:[[728,90]],mpu:[[300,250]]}},"int-uni-image":{dfppId:200147178,adUnit:"preview",uid:"2b5e292758336b7b662b346122",slots:{interstitial:[[1,1]],leaderboard:[[728,90]],mpu:[[300,250]]}},empty:{dfppId:114180258,adUnit:"preview",uid:"537034287a7as704b51655e3227"},none:{dfppId:114180258,adUnit:"preview",uid:"537034287a7as704b51655e3227"},noad:{dfppId:114180258,adUnit:"preview",uid:"537034287a7as704b51655e3227"}};e.exports={init:function(e){/[\\?&]ads=([^&#]*)/.test(e)&&void 0!==a[RegExp.$1]&&((e=a[RegExp.$1]).uid&&s.setUid(e.uid),e.adUnit&&s.setAdUnit(e.adUnit),e.slots&&i.overrideGroupSizes(e.slots))}}},function(e,t){"use strict";function n(e,n){(Array.isArray(e)?e:[e]).forEach(function(e){function t(){var e=Object.freeze(n.apply(null,[s.data].concat(Array.prototype.slice.call(arguments))));s.data=e}bbcdotcom.pubsub.on(e,t),a[e]=(a[e]||[]).concat(t)})}var s={data:{}},i={adsRequested:[],adsRendered:[],adsEmpty:[],adsSlots:[],adsShut:[]},a={};s.init=function(){var e;s.data=Object.freeze(i),e=a,Object.keys(e).forEach(function(t){e[t].forEach(function(e){bbcdotcom.pubsub.off(t,e)})}),n("bbcdotcom:init:complete",function(e,t){return Object.assign({},e,t.stats,{implementation:t.stats.isAsync?"gpt-async":"gpt"})}),n("ads:requested",function(e,t){return Object.assign({},e,{adsRequested:t})}),n("ad:render:complete",function(e,t,n){return 0<=e.adsRendered.indexOf(t)?e:Object.assign({},e,{adsRendered:e.adsRendered.concat(t),adsEmpty:n?e.adsEmpty.concat(t):e.adsEmpty})}),n("ad:render",function(e,t){return Object.assign({},e,{adsSlots:e.adsSlots.concat(t)})}),n("ad:render:close",function(e,t){return Object.assign({},e,{adsShut:e.adsShut.concat(t)})})},e.exports=s},function(e,t){"use strict";e.exports=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t&&t(),e()}}},function(e,t){"use strict";function n(){var e;((e=bbcdotcom.adverts.keyValues.get("keyword"))&&"signin"===e||bbcdotcom.config.isFPSigninEnabled()||/[?|&]idcta-debug/.test(window.location.href)?Promise.resolve(!0):Promise.reject("not_signin_page")).then(s).then(i).then(a).then(o).then(r).then(c).then(function(e){!function(e){b&&A(!0),(m=document.createElement("div")).setAttribute("id","sign_in-bg"),(b=document.createElement("div")).setAttribute("id","sign_in"),b.setAttribute("role","alertdialog"),b.setAttribute("data-bbc-container","sign-in-dismissible"),b.setAttribute("data-bbc-title","sign-in-container-viewed"),b.setAttribute("aria-labelledby","sign_in-header");var t=document.createElement("div");t.className="sign_in-container";var n=document.createElement("h2");n.className="sign_in-header",n.setAttribute("id","sign_in-header"),n.textContent=h,t.appendChild(n);var s=document.createElement("div");s.className="sign_in-button-container",s.innerHTML=e;var i=s.querySelector(".id4-cta-signin"),a=s.querySelector(".id4-cta-register");i.setAttribute("data-bbc-title","sign-in"),i.setAttribute("data-bbc-container","sign-in-dismissible"),a.setAttribute("data-bbc-title","register"),a.setAttribute("data-bbc-container","sign-in-dismissible"),t.appendChild(s),b.appendChild(t),setTimeout(function(){i.focus()},100);var o=document.createElement("button");o.className="sign_in-exit",o.setAttribute("aria-label","close"),o.setAttribute("data-bbc-title","dismiss"),o.setAttribute("data-bbc-container","sign-in-dismissible"),o.textContent=P,t.appendChild(o),o.addEventListener("click",function(e){e.preventDefault(),window.localStorage.setItem(v,String(p())),setTimeout(function(){A()},100)});var r=document.createElement("hr");r.className="sign_in-line-break",t.appendChild(r);var c=document.createElement("a");c.target="_blank",c.className="sign_in-why",c.href="https://www.bbc.com/usingthebbc/your-bbc-account-global",c.setAttribute("data-bbc-title","why-sign-in"),c.setAttribute("data-bbc-container","sign-in-dismissible");var l=document.createElement("span");l.className="sign_in-why-icon",l.innerHTML="<svg focusable='false' viewBox='0 0 32 32'><path d='M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm2 25h-4V13h4v12zm0-14h-4V7h4v4z'></path></svg>",c.appendChild(l);var u=document.createElement("span");u.className="sign_in-why-text",u.textContent=S,c.appendChild(u),t.appendChild(c),y=[i,a,o,c],_=1;for(var d=function(e){var t=e.keyCode||e.which;switch(t){case 27:e.preventDefault(),A();break;case 9:e.preventDefault();var n=y.length-1;_=e.shiftKey?0===_?n:_-1:_===n?0:_+1,setTimeout(function(){y[_].focus()},200)}},g=0;g<y.length;g++)y[g].addEventListener("keydown",d);var f=document.getElementById("orb-modules");f.appendChild(m),f.appendChild(b)}(e.html)}).catch(function(e){"not_signin_page"!==e&&document.dispatchEvent(new CustomEvent("bbc-user-event",{detail:{container:"sign-in-dismissible",label:e}}))})}function s(){return!0===window.bbcdotcom.config.isSigninEnabled()?Promise.resolve(!0):Promise.reject("signin_not_enabled")}function i(){return u("localStorage")?Promise.resolve(!0):Promise.reject("no_local_storage")}function a(){var e=[window.bbcuser.isSignedIn(),window.bbcuser.allowsPerformanceCookies()];return Promise.all(e).then(function(e){var t=l(e,2),e=t[0],t=t[1];return e?Promise.reject("user_signed_in"):t?Promise.resolve(!0):Promise.reject("cookies_disabled")})}function o(){return window.require(["idcta-v2/config"],function(e){return"GREEN"!==e["id-availability"]?Promise.reject("idcta_flagpole"):Promise.resolve(!0)})}function r(){var e=window.localStorage.getItem(v);return 0===(e=e?parseInt(e,10):0)||e+d<p()?Promise.resolve(!0):Promise.reject("recently_dismissed")}function c(){var e=0===g()?"small":"medium",t=window.location.href.replace(/\?.*$/,"")+"?prompt",n="https://idcta.test.api.bbc.com";return"www.bbc.com"===window.location.hostname&&(n="https://idcta.api.bbc.com"),fetch(n+"/idcta/init?&context=news&userOrigin=NEWS_GNL&ptrt="+t+"&buttonSize="+e+"&buttonColour=white").then(function(e){return e.json()})}var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],s=!0,i=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(s=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{!s&&r.return&&r.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(e){var t=void 0;try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}},d=604800,p=function(){return Math.floor(Date.now()/1e3)},g=function(){var e=0;return window.matchMedia("(min-width: 721px)").matches?e=1:window.matchMedia("(min-width: 1025px)").matches&&(e=2),e},b=void 0,m=void 0,y=void 0,_=void 0,v="dotcom/news/dismiss-timestamp",h="Sign in to get the best from the BBC",S="Why sign in to the BBC?",P="Maybe later",A=function(){m&&(m.parentNode.removeChild(m),m=void 0),b&&(b.parentNode.removeChild(b),b=void 0)};e.exports={init:function(){n()}}},function(e,t,n){"use strict";function s(){return new Promise(function(e,t){h(d,function(){e(!0)},function(){t("piano_load_fail")})})}function i(){return new Promise(function(t,n){window.__reverb.__reverbLoadedPromise.then(function(e){v=e,t()}).catch(function(e){n("no reverb")})})}var a,o=n(150),r=(a=o)&&a.__esModule?a:{default:a},c=!0,l="tYOkq7qlAI",u="YRhBqilb8R",d="https://cdn.tinypass.com/api/tinypass.min.js",g=!1,f={OT0GHC44Z9NN:"adblock",OTESW60VENZD:"modal"},p={OTHK08J79Y7F:"adblocker",OTUIM1I5MMZ6:"modal"},b=!1,m="",y="",_="",v=void 0,h=function(e,t,n){var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src=e,s.onload=t,s.onerror=n,document.getElementsByTagName("body")[0].appendChild(s)};e.exports={init:function(){g=0<arguments.length&&void 0!==arguments[0]&&arguments[0],c=1<arguments.length&&void 0!==arguments[1]&&arguments[1],function(){_="NEWS_GNL";var e=window.location.href.replace(/\?.*$/,"")+"?piano-REPLACETYPE",e=encodeURIComponent(e);return fetch("https://idcta.api.bbc.com/idcta/config?ptrt="+e+"&userOrigin="+_,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return-1!==document.cookie.indexOf(e.identity.idSignedInCookieName)&&(b=!0),m=e.signin_url,y=e.register_url,"GREEN"===e["id-availability"]?Promise.resolve(!0):Promise.reject(new Error("piano_idcta_flagpole_fail"))})}().then(s).then(i).then(function(){!function(){var e=window.tp;(c||g)&&e.push(["setDebug",!0]),e.push(["setAid",c?u:l]),e.push(["setSandbox",!!c]),e.push(["setUseTinypassAccounts",!1]);var t=r.default.getWindowLocation().pathname.split("/");(t=t.filter(function(e){return e})).length||t.push("homepage");var n=[bbcdotcom.adverts.keyValues.get("asset_type")];n.push(t[0]),e.push(["setTags",n]),t[1]&&e.push(["setContentSection",t[1]]),e.push(["setCustomVariable","signedinuser",b]),e.push(["addHandler","checkoutClose",function(e){"close"===e.state&&v.userActionEvent("sign-in prompt","dismiss",{container:"Piano Register Phase 1",personalisation:["EDN=Piano Register Phase 1"],metadata:["EXP=modal"],source:window.location.href},{},{},!0)}]),e.push(["addHandler","showTemplate",function(e){var t=void 0;t=""===e.containerSelector?(c?f:p)[e.templateId]||"unknown-"+e.templateId:e.containerSelector.split("-")[1];var n="EDN=Piano Register Phase 1";e.templateVariantId&&(n=n+"~EXP="+e.templateVariantId),v.userActionEvent("display","sign-in prompt",{container:"Piano Register Phase 1",personalisation:[n],metadata:["EXP="+t],source:window.location.href})}]);var s=["signin-modal","register-modal"];e.push(["addHandler","checkoutCustomEvent",function(e){var t="EDN=Piano Register Phase 1";if(e.params.variantid&&(t=t+"~EXP="+e.params.variantid),s.includes(e.eventName)){var n=e.eventName.split("-");switch(v.userActionEvent("display",n[0],{container:"Piano Register Phase 1",personalisation:[t],metadata:["EXP="+n[1]],source:window.location.href},{},{},!0),n[0]){case"register":window.location.assign(y.replace("REPLACETYPE",n[1]));break;case"signin":window.location.assign(m.replace("REPLACETYPE",n[1]))}}}]),e.push(["init",function(){e.experience.init()}])}()}).catch(function(e){document.dispatchEvent(new CustomEvent("bbc-user-event",{detail:{container:"piano",label:e}}))})}}},function(e,t,n){"use strict";function s(){"undefined"!=typeof nol_t&&(nol_t({cid:"nz-bbc",content:"0",server:"secure-nz"}).record().post(),clearInterval(a))}function i(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,document.getElementsByTagName("body")[0].appendChild(t)}function c(){return window.bbccookies&&bbccookies.readPolicy&&bbccookies.readPolicy("performance")}var a,o=n(150),r=n(160),l=n(265),u=n(151),d=n(143),g=[];e.exports={initNielsenAu:function(){var e,t,n,s,i,a,o,r;(window.bbcdotcom.consent?window.bbcdotcom.consent.nielsen:c())&&((o=window)[r="NOLBUNDLE"]=o[r]||{nlsQ:function(e,a,t,n,s,i){return(n=(s=o.document).createElement("script")).async=1,n.src=("http:"===o.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+e+".js#name="+a+"&ns="+r,(i=s.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i),o[r][a]=o[r][a]||{g:t||{},ggPM:function(e,t,n,s,i){(o[r][a].q=o[r][a].q||[]).push([e,t,n,s,i])}},o[r][a]}},g.push("nielsen_au"),n=u.getSections("analytics"),(e=(d.isLiveEnv()?{homepage:"P219D63F3-9886-4328-BC0E-12169AC85CC0",news:"P2704BFDE-073B-4F0E-9CBF-6E96DC971415",sport:"P73D072A9-789C-4972-88A2-DE6D33083A50",reel:"PC17F1AFA-EB39-4076-9CFF-82B484FF8365",worklife:"PA450AE31-6740-4B1B-A653-D81F88FBC6DB",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"P4D97E2C6-33E7-4E4F-9747-A1E959322287",culture:"PCC3AA1CB-C557-42F7-9278-D94AF13EA546",weather:"PC9B805B7-E9B8-4258-B950-5D2431D1472E"}:{homepage:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",news:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",sport:"T964FE259-B620-478C-AF4C-9B6853A11B9C",reel:"T10DCAF56-10F0-4128-A7F7-B9B1669D3445",worklife:"TA6543824-73CC-4EAF-B320-D24F2A892A7C",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"TAB5482CD-53F5-4AAA-8B9E-BD0581F5A177",culture:"T8CD81B31-A141-461B-A05B-294757BB38A8",weather:"TB4B38A72-A4C9-4644-8F68-BD9A84E4D23A"})[n[0]])&&(n=/[?|&]ads-debug/.test(window.location.href)?{nol_sdkDebug:"DEBUG"}:{},t=NOLBUNDLE.nlsQ(e,"nSdkInstance",n),n=location.pathname,i={type:"static",assetid:n,section:(s=function(){var e=u.getSections("analytics"),t=(t=(e="unknown"===e[0]?window.location.pathname.split("/"):e).slice()).filter(function(e){return e}),t=(t=1<e.length?t.slice(0,1):t).map(function(e){return""+e[0].toUpperCase()+e.substr(1)});return"BBC "+t.join(" ")})()},d.onDomReady(function(){t.ggPM("staticstart",i)}),a=0,document.addEventListener("bbc-page-reset",function(){t.ggPM("staticend",i),a=++a,i.referrerURL=i.pageURL||window.location,i.pageURL="page_"+a+"_"+window.location,i.section=s(),i.assetid=window.location.pathname,t.ggPM("staticstart",i)})))},write:function(){var e,t,n;o.isAnalyticsEnabled()&&(e=window.bbcdotcom.consent?window.bbcdotcom.consent.nielsen:c(),t=window.bbcdotcom.consent?window.bbcdotcom.consent.outbrain:c(),(o.isActive("nielsen-nz")||"nz"===bbcdotcom.data.country)&&e&&(i("https://secure-nz.imrworldwide.com/v60.js"),g.push("nielsen_nz")),(o.isActive("nielsen-us")||-1<"us,as,gu,mp,pr,um,vi".indexOf(bbcdotcom.data.country))&&e&&((n=new Image(1,1)).onerror=n.onload=function(){n.onerror=n.onload=null},n.src=["https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-804789h&amp;cg=0&amp;cc=1&amp;si=",encodeURI(window.location.href),"&amp;rp=",encodeURI(document.referrer),"&amp;ts=compact&amp;rnd=",(new Date).getTime()].join(""),g.push("nielsen_us")),i("https://me-ssl.effectivemeasure.net/em.js"),g.push("effective_measure"),void 0!==r.getAd("outbrain_tr_1")&&t&&(l.renderAd("outbrain_tr_1"),g.push("outbrain")),e=/(sandbox|int|test|stage)(.dev)*.bbc.co*/.test(window.document.location.href)?"18897612":"19293874",t=(window.bbcdotcom.consent?!window.bbcdotcom.consent.comscore:o.isNPA())?"0":"1",window._comscore=window._comscore||[],window._comscore.push({c1:"2",c2:e,cs_ucfr:t}),i("https://sb.scorecardresearch.com/beacon.js"),g.push("mmx"))},postWrite:function(){var e=window.bbcdotcom.consent?window.bbcdotcom.consent.nielsen:c();o.isAnalyticsEnabled()&&e&&(o.isActive("nielsen-nz")||"nz"===bbcdotcom.data.country)&&(a=setInterval(s,500),g.push("nielsen_nz-postWrite"))},getLoaded:function(){return g},r:function(){g=[]}}},function(e,t,n){"use strict";function i(e){return e.match(/^(https|http):\/\/(pal|m|www).*.bbc.(com|co.uk)/)?encodeURIComponent(e.replace(/(\?|#).+$/,"")):encodeURIComponent("http://www.bbc.com/news")}var a=n(150),o=n(151),r={news:"bbc.com/News",sport:"bbc.com/Sport",fallback:"bbc.com/News"},c=!1;e.exports={sanitiseDataSrc:i,renderAd:function(e){if(!window.bbcdotcom.consent||window.bbcdotcom.consent.outbrain){var t=o.getSection(0),n=r[t]||r.fallback,s="bbccom_"+e,t=document.getElementById(s)?document.getElementById(s):document.querySelectorAll('*[id^="'+s+'"]')[0];if(a.isIE7()||!a.isOutbrainEnabled())return!1;e=(s=n,'<div class="bbccom_advert bbccom_responsive" id="bbccom_'+(n=e)+'"><div class="bbccom_outbrain_container bbccom_'+n+'"><div class="OUTBRAIN" data-src="'+i(a.getWindowLocation().href.replace(/(pal|m).sandbox.dev/,"www"))+'" data-widget-id="'+n.replace(/outbrain_/,"").toUpperCase()+'" data-ob-template="'+s+'"></div></div></div>');return c||(n="https://widgets.outbrain.com/outbrain.js",(s=document.createElement("script")).type="text/javascript",s.async=!0,s.src=n,(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,n),c=!0),t&&(t.innerHTML=e),e}}}},function(e,t,n){"use strict";e.exports={ad:n(267),adAsyncRenderer:n(270),adFactory:n(271),adFilter:n(166),adRegister:n(160),adRenderer:n(272),adsenseRenderer:n(273),adSuites:n(259),adText:n(269),adUnit:n(163),adUnitWebService:n(164),branding:n(268),breakpoints:n(169),dfppRequest:n(156),keyValues:n(159),layout:n(157),outbrainRenderer:n(265),slot:n(274),slotAsync:n(275),slotDeferred:n(165),slotInfinite:n(276)}},function(e,t,n){"use strict";function s(e){return null!=(e=document.getElementById(e))&&e.innerHTML.replace(/\s+/g,"")}function i(e){try{var t=document.getElementById(e),n=t.getElementsByClassName("celtra-ad-inline-host"),s=o.getParentElementByClass(t,"AdFrame__inner",5,!0);0<n.length&&(l("Flex Frame Ad detected"),o.addTagClass(t,"flexframe-ad"),o.addTagClass(t.parentElement,"flexframe-ad"),s&&o.addTagClass(s,"flexframe-ad"))}catch(e){}}var a=n(268),o=n(143),r=n(162),c=n(157),l=n(144)("adverts:ad"),u="bbccom_",d=u+"visible",g=u+"shut",f=u+"display_none",p={default:"advertisementText",sponsor_section:"sponsoredByText",sponsor:"inAssociationWithText",module:"inAssociationWithText",partner:"advertisingPartnersText",adsense:"advertisementText"},n=function(e){this.adID=e,this.domId=u+e,this.width=null,this.height=null,this.branding=!1,this.preloaded=!1,this.closed=!1,this.rendered=!1,this.eventSize=null,this.contents={base:!1},this.element=null,this.adType="standard",this.sizeSet=!1,this.isResponsive=!1,this.isFluid=!1,this.allowScreenReader=!1,this.currentSlotGroups=[],this.registeredSlotGroups=[],this.sticky={isSticky:!1}};n.prototype.setClosed=function(e){return this.closed=e,this.closed},n.prototype.close=function(){l("close "+this.adID),this.setClosed(!0),this.shut()},n.prototype.isCloseAd=function(){return this.closed},n.prototype.setRendered=function(e){return this.rendered=e,this.rendered},n.prototype.isRendered=function(){return this.rendered},n.prototype.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},n.prototype.setBaseContent=function(){return this.contents.base=s(this.domId),this.contents.base},n.prototype.getBaseContent=function(){return this.contents.base},n.prototype.setCurrentSlotGroups=function(e){return l("settings slot groups for "+this.adID+" to "+e),this.currentSlotGroups=e,this},n.prototype.getCurrentSlotGroups=function(){return this.currentSlotGroups},n.prototype.registerSlotGroups=function(e){this.registeredSlotGroups.push(e)},n.prototype.getRegisteredSlotGroups=function(){return this.registeredSlotGroups},n.prototype.setPreloaded=function(e){return this.preloaded=e,this},n.prototype.isPreloaded=function(){return this.preloaded},n.prototype.domElement=function(){return this.getDomElement()},n.prototype.getDomElement=function(){return this.element||(this.element=document.getElementById(this.domId)),!this.element&&-1<this.domId.indexOf("adsense")&&(this.element=document.getElementsByClassName(this.domId)[0]),this.element},n.prototype.getAdvertDimensions=function(){var e=document.getElementById(this.domId);return{width:this.width||(e?e.clientWidth:0),height:this.height||(e?e.clientHeight:0)}},n.prototype.setWidth=function(e){return this.width=e,this},n.prototype.getWidth=function(){return parseInt(this.getAdvertDimensions().width,10)},n.prototype.setHeight=function(e){return this.height=e,this},n.prototype.getHeight=function(){return parseInt(this.getAdvertDimensions().height,10)},n.prototype.getCreativeHeight=function(){return bbcdotcom.objects("bbcdotcom.config.isAsync")?this.getHeight():this.getHeight()-30},n.prototype.setAdDomHeightWidth=function(e,t,n){var s=this.getDomElement();null===s||this.sizeSet&&!n||(void 0!==t&&(s.style.width=t+"px"),s.style.height=e+35+"px",this.sizeSet=!0)},n.prototype.setIframeSize=function(e,t){var n,s=this.getDomElement(),i=s.getElementsByTagName("iframe"),a=s.getElementsByTagName("ins");for(n in this.setAdDomHeightWidth(e,t,!0),this.setEventSize([t,e]),1<=i.length&&void 0!==i[0]&&(void 0!==t&&(i[0].width=t),i[0].height=e),a)void 0!==a[n].style&&(void 0!==t&&(a[n].style.width=t+"px"),a[n].style.height=e+"px");return this.openAsync(t,e),r.trigger("ad:resize",this.adID,t,e),r.trigger("ad:resize:"+this.adID,this.adID,t,e),this},n.prototype.setResponsive=function(e){return this.isResponsive=e,o.addTagClass(this.getDomElement(),"bbccom_responsive"),this},n.prototype.getAdTextKey=function(){for(var e in p)if(void 0!==this.adID&&void 0!==this.adID.indexOf&&-1!==this.adID.indexOf(e))return p[e];return p.default},n.prototype.getAdText=function(){return(void 0===this.hasAdText||!1!==this.hasAdText)&&(void 0===this.advertText?bbcdotcom.adverts.adText.getText(this.getAdTextKey()):this.advertText)},n.prototype.setAdText=function(e){0===this.adID.indexOf("sponsor")&&e&&/^[A-Za-z '\_-]+$/.test(e)&&(this.advertText=e,this.hasAdText=!0)},n.prototype.getAdInfoUrl=function(){return bbcdotcom.adverts.adText.getInfoUrl(this.getAdTextKey())},n.prototype.getAdId=function(){return this.adID},n.prototype.getAdName=function(){return this.getAdId()},n.prototype.show=function(){var e=s(this.domId);this.element=document.getElementById(this.domId),!e||this.isCloseAd()||bbcdotcom.objects("bbcdotcom.config.isAsync")||(this.setClosed(this.contents.base===e&&-1===e.indexOf("iframe")),this.open()),this.disableScreenReaderForAdContent()},n.prototype.disableScreenReaderForAdContent=function(){for(var e,t,n,s,i=document.getElementsByClassName("bbccom_advert"),a=0;a<i.length;a++){for(t=(s=i[a]).getElementsByTagName("a"),e=0;e<t.length;e++)t[e].tabIndex="-1";for(n=s.getElementsByTagName("iframe"),e=0;e<n.length;e++)n[e].tabIndex="-1"}},n.prototype.shut=function(){var e=this.getDomElement();null!=e&&-1===e.className.indexOf(g)&&-1===e.className.indexOf(f)&&(0===e.id.indexOf("bbccom_")&&o.addTagClass(e,g),0===e.parentElement.id.indexOf("bbccom_")&&o.addTagClass(e.parentElement,g),o.removeTagClass(e.parentElement,d),o.removeBodyTagClass(u+this.adID),0<this.domId.indexOf("mpu")&&(o.removeBodyTagClass(this.domId+"_big"),o.removeBodyTagClass(this.domId+"_small")),r.trigger("ad:close",this.adID),r.trigger("ad:close:"+this.adID,this.adID))},n.prototype.isShut=function(){return-1!==this.getDomElement().className.indexOf(g)},n.prototype.setTitleForSponsorAds=function(){this.branding||"sponsor_section"!==this.adID||(this.branding=new a(bbcdotcom.adverts.keyValues.get("keyword")))},n.prototype.open=function(){var e=this.getDomElement();this.setTitleForSponsorAds(),this.isResponsive&&o.addTagClass(e,"bbccom_responsive"),this.isCloseAd()||(o.removeTagClass(e,f),o.removeTagClass(e,g),o.removeTagClass(e.parentElement,g),o.addBodyTagClass(u+this.adID),o.addTagClass(e.parentElement,d),-1!==this.domId.indexOf("leaderboard")&&i(this.domId),2<c.getCurrentGroupId()&&0<this.domId.indexOf("mpu")&&(o.removeBodyTagClass(this.domId+"_big"),o.removeBodyTagClass(this.domId+"_small"),o.addBodyTagClass(this.domId+"_"+(251<this.height?"big":"small"))),this.disableScreenReaderForAdContent())},n.prototype.openAsync=function(t,n){var e=this.getDomElement();this.setWidth(t),this.setHeight(n),this.isResponsive&&o.addTagClass(e,"bbccom_responsive"),this.isFluid&&o.addTagClass(e,"bbccom_fluid");var s=this;setTimeout(function(){var e=s.isCloseAd();l("OpenAsync Timer ad:"+s.getAdId()+", isCloseAd: "+e),e||(o.removeTagClass(s.element,g),o.removeTagClass(s.element.parentElement,g),o.addTagClass(s.element.parentElement,d)),r.trigger("ad:done",s.adID,t,n),r.trigger("ad:done:"+s.adID,s.adID,t,n),c.reset()},300),o.removeTagClass(document.getElementById("bbccom_"+this.adID+"_text"),f),-1!==this.domId.indexOf("leaderboard")&&i(this.domId),o.addBodyTagClass(this.domId),0===window.location.pathname.indexOf("/storyworks")&&(-1!==this.domId.indexOf("leaderboard")&&o.addBodyTagClass("bbccom_leaderboard"),-1!==this.domId.indexOf("mpu")&&-1===this.domId.indexOf("mpu_bottom")&&o.addBodyTagClass("bbccom_mpu")),2<c.getCurrentGroupId()&&0<this.domId.indexOf("mpu")&&(o.removeBodyTagClass(this.domId+"_big"),o.removeBodyTagClass(this.domId+"_small"),o.addBodyTagClass(this.domId+"_"+(251<this.height?"big":"small"))),r.trigger("ad:open",this.adID,t,n),r.trigger("ad:open:"+this.adID,this.adID,t,n)},n.prototype.setEventSize=function(e){this.eventSize=e},n.prototype.renderIfReady=function(){try{null!==this.getDomElement()&&this.isRendered()&&(this.isCloseAd()||null===this.eventSize||void 0===this.eventSize[0]||void 0===this.eventSize[1]?(r.trigger("ad:render:close",this.domId),l("renderIfReady about to call .close()"),this.close()):setTimeout(function(){this.isCloseAd()?(r.trigger("ad:render:close",this.domId),l("renderIfReady ",this.domId," isCloseAd true - about to call .close()"),this.close()):this.openAsync(this.eventSize[0],this.eventSize[1])}.bind(this),200))}catch(e){l.error("Failed during renderEndedCallback",e)}},n.prototype.setCurrentSlotVisible=function(){var e,t,n=this.getRegisteredSlotGroups();for(t in n)n.hasOwnProperty(t)&&(e=document.getElementById(u+this.adID+"_"+n[t].join("_")),o.removeTagClass(e,d));this.currentSlotGroups&&0<this.currentSlotGroups.length&&!this.closed&&(e=document.getElementById(u+this.adID+"_"+this.currentSlotGroups.join("_")),o.addTagClass(e,d))},n.prototype.hasAnyGroupAlreadyBeenRegistered=function(e){for(var t=[].concat.apply([],this.registeredSlotGroups).join(),n=0,s=e.length;n<s;n+=1)if(-1!==t.indexOf(e[n]))return l.warn(e[n]+" has already been registered for "+this.adID),!0;return!1},n.prototype.injectAdvertisementText=function(){var n=void 0,s=void 0,i=void 0,a=0;this.adID.includes("interstitial")||this.adID.includes("wallpaper")||(s=this.getAdText())&&(i=this.getAdInfoUrl(),n=setInterval(function(){a++;var e,t=this.getDomElement();t&&0===t.getElementsByClassName("bbccom_text").length?((e=document.createElement("a")).innerHTML=s,e.href=i,e.className="bbccom_text",t.insertBefore(e,t.firstChild),clearInterval(n)):10<=a&&clearInterval(n)}.bind(this),50))},n.prototype.hideAdContainer=function(){var e=document.getElementById(this.domId);if(e)try{e.style.display="block",e.style.height="0px",e.style.overflow="hidden",e.style.padding="0"}catch(e){}},n.prototype.currentSlotHasGroup=function(e){return 0<=this.getCurrentSlotGroups().indexOf(e)},e.exports=n},function(e,t,n){"use strict";var s=n(151),r=n(269),i=n(159);e.exports=function(e){var a=!1,o=!1,t={firstperson:{title:"First Person",url:"/news/magazine-14633099"},firstpersonbigdreams:{title:"First Person Big Dreams",url:"/news/magazine-14633099"},picturethis:{title:"Picture This",url:"/news/magazine-14760628"},livingonline:{title:"Living Online",url:"/news/magazine-14760626"},rab:{title:"Running a Business",url:"/news/business-16611973"},powerofart:{title:"Power of Art",url:"/news/magazine-21459225"},alteredstates:{title:"Altered States",url:"/news/magazine-14760627"},uselection:{title:"US Election",url:"/news/world-us-canada-15949569"},jubilee:{title:"The Diamond Jubilee",url:"/news/uk-17500000",altTitle:"Back to Queen's Diamond Jubilee"},entrepreneurship:{title:"Entrepreneurship",url:"/news/business-22434141"},energy:{title:"Energy",url:"/news/business-15521824"},knowledgeeconomy:{title:"Knowledge economy",url:"/news/business-12686570"},ceoguru:{title:"CEO Guru",url:"/news/business-20071226"},theboss:{title:"The Boss",url:"/news/business-22449886"},makingtime:{title:"Making Time",url:"/news/magazine-24117219"},thinkingbusiness:{title:"Thinking Business",url:"/news/business-22449887"},techbiz:{title:"Technology of Business",url:"/news/business-11428889"},meettheteam:{title:"Meet the team",url:"/news/world-radio-and-tv-23426239"},"100women":{title:"100 Women",url:"/news/world-24371433"},businessoftennis:{title:"Business of Tennis",url:"/news/business-25319175"},nextsiliconvalleys:{title:"The Next Silicon Valleys",url:"/news/technology-25852150"},businessofgiving:{title:"The Business of Giving",url:"/news/business-19182463"},howtosucceedin:{title:"How to Succeed In",url:"/news/business-29617902"},komladumor:{title:"Komla Dumor Award",url:"/news/world-radio-and-tv-30725772"},lifeofluxury:{title:"Life of Luxury",url:"/news/business-31157861"},themakingofme:{title:"The Making of Me",url:"/news/business-32660236"},singaporeat50:{title:"Singapore at 50",url:"/news/world-asia-31522499"},madeinamerica:{title:"Made in America",url:"/news/business-30533292"},tomorrowscities:{title:"Tomorrow's Cities",url:"/news/technology-23517670"},mybusiness:{title:"My Business",url:"/news/business-15870435"},newentrepreneurs:{title:"The New Entrepreneurs",url:"/news/business-27614930"},africabeats:{title:"Africa Beats",url:"/news/entertainment-arts-17679490"},asiabeats:{title:"Asia Beats",url:"/news/entertainment-arts-26040146"},latambeats:{title:"LatAm Beats",url:"/news/world-latin-america-19523770"},middleeastbeats:{title:"Middle East Beats",url:"/news/world-middle-east-30555154"},businessbrain:{title:"Business Brain",url:"/news/business-32339576"}},n=i.getKeywordParts();return void 0!==t[e]?(a=t[e].url,o=t[e].title):n&&(a=n.href,o=n.title),"news"!==s.getSections()[0]&&"worldservice"!==s.getSections()[0]||requirejs(["module/bootstrap","module/indexTitle"],function(e,t){var n="sponsoredByText",s=r.getText(n),i=r.getInfoUrl(n);void 0!==t&&void 0!==t.setTitleHtml&&0<t.getIndexTitle().element.length&&(n=a&&1<=t.getIndexTitle().element.find("a").length?'<a href="'+a+'">'+o+"</a>":t.getIndexTitle().element[0].textContent,t.setTitleHtml('<span class="bbccom_index_title">'+n+'</span><a class="bbccom_text" href="'+i+'" tabindex="-1" aria-hidden="true">'+s+"</a>"))}),{getUrl:function(){return a},getTitle:function(){return o}}}},function(e,t,n){"use strict";var r=n(143),c=n(151),l=n(152),u={sport:{"ultimate-performers":{"*":{inAssociationWithText:"Partnered Content Presented by"}},"move-like-never-before":{"*":{inAssociationWithText:"Partnered Content Presented by"}},"home-of-the-english-premier-league":{"*":{inAssociationWithText:"Partnered Content Presented by"}}}},s={advertisementText:"advertInfoPageUrl",inAssociationWithText:"associationInfoPageUrl",sponsoredByText:"associationInfoPageUrl",advertisingPartnersText:"associationInfoPageUrl",adsByGoogleText:"googleAdsPageUrl"};e.exports={getText:function(e){for(var t,n=r.cleanArray(c.getSections()),s=u,i=0,a=n.length;i<a;++i){var o=n[i];if(s.hasOwnProperty(o))s=s[o];else if(!s.hasOwnProperty("*")){s=!1;break}}return s&&s.hasOwnProperty(e)?t=s[e]:s&&s.hasOwnProperty("*")&&s["*"].hasOwnProperty(e)&&(t=s["*"][e]),t||l.get(e)},getInfoUrl:function(e){return l.get(s[e]||"advertInfoPageUrl")},setSectionOverrides:function(e){u=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=n(162),r=(s=i)&&s.__esModule?s:{default:s};t.default={doDisplay:function(e,t){googletag.pubadsReady?googletag.cmd.push(function(){googletag.display(e),t.disableScreenReaderForAdContent()}):r.default.on("ads:initialised",function(){googletag.cmd.push(function(){googletag.display(e),t.disableScreenReaderForAdContent()})})},renderAd:function(e,t){var n,s,i,a=this;if(t&&e.setAdText(t),n=e.getAdText(),s=e.getAdId(),i="bbccom_"+s,t=document.getElementById(i),r.default.trigger("ad:render",s),n&&(s=e.getAdInfoUrl(),(o=document.createElement("a")).setAttribute("class","bbccom_text"),o.setAttribute("href",s),o.innerText=n,t&&0===t.getElementsByClassName("bbccom_text").length))try{t.prepend(o)}catch(e){}var o=bbcdotcom.config.isIASEnabled();!o||window.bbcdotcom.iasInited?this.doDisplay(i,e):r.default.on("ad:ias:complete",function(){a.doDisplay(i,e)})}},e.exports=t.default},function(e,t){"use strict";e.exports={createAd:function(e){return new bbcdotcom.adverts.ad(e)}}},function(e,t,n){"use strict";var s=n(162);e.exports={renderAd:function(e){var t="";return s.trigger("ad:render",e.adId),e.adText&&(t=this.substituteData('<a class="bbccom_text" href="{adInfo}">{adText}</a>',e)),t+=this.substituteData('<script type="text/javascript">bbcdotcom.ad("{adId}").setBaseContent();googletag.display("{adId}");<\/script>',e),document.write(t),t},substituteData:function(e,t){return e.replace(/\{[^{}]+\}/g,function(e){return t[e.replace(/[{}]+/g,"")]||e})}}},function(e,t,n){"use strict";function u(){var e=s.getSection(0),t=s.getSection(1).toString(),n=a.getWindowLocation();return/(adsense=)(\d{10})$/.test(window.location.href)?{dataAdSlot:RegExp.$2}:r[e]?0===n.pathname.indexOf("/weather/0")?(o("Adsense for ",e,"/0 = ",r["weather/0"]),r["weather/0"]):r[e][t]?(o("Adsense for ",e,"/",t," = ",r[e][t].dataAdSlot),r[e][t]):(o("Adsense for ",e," = ",r[e].dataAdSlot),r[e]):(o("No adsense data found for this page (",e,"/",t,"), using default ",r.default.dataAdSlot),r.default)}function d(){var e;return void 0===window.adsbygoogle&&((e=document.createElement("script")).setAttribute("async","async"),e.setAttribute("src","//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"),e.setAttribute("onload",void setTimeout(function(){bbcdotcom.config.isNPA()&&adsbygoogle&&(adsbygoogle.requestNonPersonalizedAds=1)},600)),document.body.appendChild(e),!0)}var s=n(151),g=n(269),f=n(169),p=n(157),i=n(143),a=n(150),o=n(144)("adverts:adsenseRenderer"),r={news:{dataAdSlot:"6031494774"},weather:{dataAdSlot:"7287144776"},"weather/0":{dataAdSlot:"7949963556"},sport:{dataAdSlot:"4333678371"},worldservice:{arabic:{dataAdSlot:"5810411579"},hindi:{dataAdSlot:"5131780375"},mundo:{dataAdSlot:"2597116378"},portuguese:{dataAdSlot:"1027494774"},turkce:{dataAdSlot:"1120383176"}},default:{dataAdSlot:"2504227975"}};e.exports={loadGoogleAdsense:d,getSettings:u,renderAd:function(e,t){var n,s=u(),i="adsByGoogleText",a=g.getText(i),o=g.getInfoUrl(i),r=window.document.documentElement.offsetWidth<f.getGroup(4).s,c=p.getCurrentGroupId()<2?16:32,l="bbccom_"+e+"_"+t.join("_"),i=r?window.document.documentElement.offsetWidth-c+"px":Math.min(document.getElementById(l).parentElement.offsetWidth,300)+"px",r=3===p.getCurrentGroupId()?"350px":"430px";void 0===window.adsbygoogle&&d(),5==t[t.length-1]&&(i=document.getElementById(l).parentElement.offsetWidth-c+"px",r="150px"),s='<h3><a href="'+o+'" tabindex="-1">'+a+'</a></h3><ins class="adsbygoogle" style="display:inline-block;width:'+i+";height:"+r+";max-width:"+i+';" data-ad-client="ca-pub-5087960732420604" data-ad-slot='+s.dataAdSlot+"></ins>";try{return document.getElementById(l).className+=" bbccom_adsense_slot",document.getElementById(l).getElementsByClassName("bbccom_advert")[0].id="bbccom_adsense",document.getElementById(l).getElementsByClassName("bbccom_advert")[0].innerHTML=s,(n=document.createElement("script")).innerHTML="(adsbygoogle = window.adsbygoogle || []).push({});",document.body.appendChild(n),!0}catch(e){return!1}},reset:function(){var e,t,n=p.getCurrentGroupId();!document.getElementById("bbccom_adsense")||document.getElementById("bbccom_adsense")&&document.getElementById("bbccom_adsense").getElementsByTagName("iframe").length<1||(e=document.getElementById("bbccom_adsense").getElementsByTagName("iframe")[0].width,5==(t=document.getElementById("bbccom_adsense").parentElement.id.replace("bbccom_adsense_","").split("_"))[t.length-1]&&e<f.getGroup(n).f||e<f.getGroup(n).f&&n<4||3<n&&e<301?(o.debug("=== Opening adsense for current layout ==="),i.removeTagClass(document.getElementById("bbccom_adsense"),"bbccom_shut"),i.addTagClass(document.getElementById("bbccom_adsense"),"bbccom_visible")):(o.debug("=== Shutting adsense for current layout ==="),i.removeTagClass(document.getElementById("bbccom_adsense"),"bbccom_visible"),i.addTagClass(document.getElementById("bbccom_adsense"),"bbccom_shut")),document.getElementById("bbccom_adsense").getElementsByTagName("iframe")[0].tabIndex="-1")}}},function(e,t,f){"use strict";var p=f(143),b=f(150),m=f(160),y=f(157),_=f(272),v=f(265),h=f(273);e.exports=function(e,t,n,s,i){var a=f(144)("adverts:slot");try{if(b.isActive("ads")&&"string"==typeof e&&0<e.length&&void 0!==t){var o,r,c=m.getAd(e),l=y.getCurrentGroupId(),u=n?"bbccom_"+e+"_"+t.join("_")+"_preload":"bbccom_"+e+"_"+t.join("_"),d=document.getElementById(u),g="bbccom_"+e;if(void 0!==c&&void 0!==c.getAdId()&&(o={adInfo:c.getAdInfoUrl(),adText:s||c.getAdText(),adDomId:g,adId:e},!c.hasAnyGroupAlreadyBeenRegistered(t))){if(c.registerSlotGroups(t),null===d){if(r=document.getElementsByTagName("script"),i=void 0===i?-1===r[r.length-1].innerHTML.indexOf("bbcdotcom")?r[r.length-2]:r[r.length-1]:i,!(d=p.getParentElementByClass(i,"bbccom_slot")))return a.warn('"bbccom_slot" class not found for this slot "'+u+'"'),m.setCurrentAdId(void 0),!1;d.id=u}if(d.className+=" bbccom_"+c.adType+"_slot",0<=t.indexOf(l))return c.setCurrentSlotGroups(t),void 0!==n&&n&&c.setPreloaded(!0),m.setCurrentAdId(e),d.children[0].id=g,c.setCurrentSlotVisible(),0===e.indexOf("adsense")?h.renderAd():0===e.indexOf("outbrain")?v.renderAd(e):_.renderAd(o);m.setCurrentAdId(!1)}}}catch(e){a.error(e)}}},function(e,t){"use strict";e.exports=function(e,t,n){var s,i,a=bbcdotcom.adverts.layout.getCurrentGroupId();if(window.bbcdotcom&&bbcdotcom.ad&&bbcdotcom.isActive&&bbcdotcom.isActive("ads")){if(!bbcdotcom.adverts.adFilter.isLazyLoadedSlot(e))return void 0!==(s=bbcdotcom.ad(e))&&!s.hasAnyGroupAlreadyBeenRegistered([t])&&(s.registerSlotGroups(t),0<=t.indexOf(a))?(s.setCurrentSlotGroups(t),(i=document.getElementById("bbccom_"+e+"_"+t.join("_")))?((a=i.firstElementChild||i.firstChild)&&(a.id="bbccom_"+e),bbcdotcom.utils.addTagClass(i,"bbccom_"+s.adType+"_slot"),s.renderIfReady(),0===e.indexOf("outbrain")?(s.open(),bbcdotcom.adverts.outbrainRenderer.renderAd(e)):bbcdotcom.adverts.adAsyncRenderer.renderAd(s,n)):void bbcdotcom.adverts.adRegister.unregisterAd(e)):void 0;bbcdotcom.lazyLoadAd(e,t,n)}}},function(e,t,n){"use strict";var o=n(144)("adverts:slotInfinite"),r=n(277);e.exports=function(e,t,n,s){o("Rendering Infinite Slot: ",{adId:e,groups:t,element:n,register:s});var i,a=t.join("_");try{i=r.getTemplate("adTemplates/infinite-slot").render({adId:e,groups:t,groupsClass:a,register:s})}catch(e){return o.error("Error rendering the template!"),null}return n?(o("Inserting rendered template into DOM element: ",{element:n,renderedTemplate:i}),void r.renderIntoElement(n,i)):(o("Returned rendered template for: "+e),i)}},function(e,t,n){"use strict";function s(){this.templates=o.reduce(function(e,t){return e[t]=n(278)("./"+t+".mustache"),e},{})}function i(e){if("SCRIPT"===e.tagName==!0)e.parentNode.replaceChild(function(e){var t=document.createElement("script");t.text=e.innerHTML;for(var n=e.attributes.length-1;0<=n;n--)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}(e),e);else for(var t=0,n=e.childNodes;t<n.length;)i(n[t++]);return e}var a=n(144)("templates:templateFactory"),o=["adTemplates/infinite-slot"];s.prototype.getTemplate=function(e){if(!this.templates.hasOwnProperty(e))throw a.error("Could not find template: "+e),new Error("Could not find template: "+e);return this.templates[e]},s.prototype.renderIntoElement=function(e,t){if(!e||!t)throw a.error("Require parameter not supplied",{element:e,html:t}),new Error("Required param not supplied");e.innerHTML=t;try{i(e)}catch(e){a.error("Error rendering template into DOM: ",e)}},e.exports=new s},function(e,t,n){function s(e){return n(i(e))}function i(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./adTemplates/infinite-slot.mustache":279};s.keys=function(){return Object.keys(a)},s.resolve=i,(e.exports=s).id=278},function(e,t,n){n=n(280);e.exports=new n.Template({code:function(e,t,s){var n=this;return n.b(s=s||""),n.b('<div id="bbccom_'),n.b(n.v(n.f("adId",e,t,0))),n.b("_"),n.b(n.v(n.f("groupsClass",e,t,0))),n.b('" class="bbccom_slot" aria-hidden="true"><div id="bbccom_'),n.b(n.v(n.f("adId",e,t,0))),n.b('" class="bbccom_advert">'),n.s(n.f("register",e,t,1),e,t,0,142,353,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<script type="text/javascript">/*<![CDATA[*/'),n.b("\n"+s),n.b("            if (window.bbcdotcom && bbcdotcom.registerAd) {"),n.b("\n"+s),n.b("                bbcdotcom.registerAd('"),n.b(n.v(n.f("adId",e,t,0))),n.b("', ["),n.b(n.v(n.f("groups",e,t,0))),n.b("]);"),n.b("\n"+s),n.b("            }"),n.b("\n"+s),n.b("            /*]]>*/<\/script>")}),e.pop()),n.b("</div></div>"),n.fl()},partials:{},subs:{}},'<div id="bbccom_{{adId}}_{{groupsClass}}" class="bbccom_slot" aria-hidden="true"><div id="bbccom_{{adId}}" class="bbccom_advert">{{#register}}<script type="text/javascript">/*<![CDATA[*/\n            if (window.bbcdotcom && bbcdotcom.registerAd) {\n                bbcdotcom.registerAd(\'{{adId}}\', [{{groups}}]);\n            }\n            /*]]>*/<\/script>{{/register}}</div></div>',n)},function(e,t,n){!function(e){function u(e,t,n){var s;return t&&"object"==typeof t&&(void 0!==t[e]?s=t[e]:n&&t.get&&"function"==typeof t.get&&(s=t.get(e))),s}function o(e){return String(null==e?"":e)}e.Template=function(e,t,n,s){this.r=(e=e||{}).code||this.r,this.c=n,this.options=s||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=o(e),r.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(s,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):e},t:o,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],s=t[n.name];if(n.instance&&n.base==s)return n.instance;if("string"==typeof s){if(!this.c)throw new Error("No compiler available.");s=this.c.compile(s,this.options)}if(!s)return null;if(this.partials[e].base=s,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);s=function(e,t,n,s,i,a){function o(){}function r(){}r.prototype=(o.prototype=e).subs;var c,l=new o;for(c in l.subs=new r,l.subsText={},l.buf="",l.stackSubs=s=s||{},l.subsText=a,t)s[c]||(s[c]=t[c]);for(c in s)l.subs[c]=s[c];for(c in l.stackPartials=i=i||{},n)i[c]||(i[c]=n[c]);for(c in i)l.partials[c]=i[c];return l}(s,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=s},rp:function(e,t,n,s){e=this.ep(e,n);return e?e.ri(t,n,s):""},rs:function(e,t,n){var s=e[e.length-1];if(d(s))for(var i=0;i<s.length;i++)e.push(s[i]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,s,i,a,o){return(!d(e)||0!==e.length)&&(o=!!(e="function"==typeof e?this.ms(e,t,n,s,i,a,o):e),!s&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,t,n,s){var i,a=e.split("."),o=this.f(a[0],t,n,s),r=this.options.modelGet,c=null;if("."===e&&d(t[t.length-2]))o=t[t.length-1];else for(var l=1;l<a.length;l++)o=void 0!==(i=u(a[l],o,r))?(c=o,i):"";return!(s&&!o)&&(s||"function"!=typeof o||(t.push(c),o=this.mv(o,t,n),t.pop()),o)},f:function(e,t,n,s){for(var i=!1,a=!1,o=this.options.modelGet,r=t.length-1;0<=r;r--)if(void 0!==(i=u(e,t[r],o))){a=!0;break}return a?i=!s&&"function"==typeof i?this.mv(i,t,n):i:!s&&""},ls:function(e,t,n,s,i){var a=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(o(e.call(t,s)),t,n)),this.options.delimiters=a,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,s,i,a,o){t=t[t.length-1],e=e.call(t);return"function"==typeof e?!!s||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,t,n,s.substring(i,a),o)):e},mv:function(e,t,n){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(o(e.call(t)),t,n):e},sub:function(e,t,n,s){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,s),this.activeSub=!1)}};var t=/&/g,n=/</g,s=/>/g,i=/\'/g,a=/\"/g,r=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i,c=s(n(150)),l=s(n(143)),a=s(n(152)),u=s(n(151)),d=s(n(170)),o=s(n(275)),r=s(n(276)),g=s(n(157)),f=s(n(274)),p=s(n(160)),b=s(n(166)),m=s(n(163)),y=s(n(259)),_=s(n(159)),v=s(n(169)),h=s(n(156)),S=n(171),P=n(144)("adverts:ad"),A={slot:function(e,t,n,s,i){return!(!e||!t)&&(0,f.default)(e,t,n,s,i)},asyncSlot:o.default,slotAsync:function(e,t,n,s){return!(!e||!t)&&(window.bbcdotcom.dfpInited&&2===window.bbcdotcom.initCount?h.default.registerAd(e,t):(0,o.default)(e,t,s))},slotInfinite:function(e,t,n,s){return(0,r.default)(e,t,n,s)},getCurrentGroupId:function(){return g.default.getCurrentGroupId()},receiveMessage:function(e){var t;if(null!==/(www|m)\.{0,1}(test|int|stage){0,1}\.bbc\.com$/.exec(e.origin)||"http://pal.sandbox.dev.bbc.com"===e.origin||"http://m.sandbox.dev.bbc.com"===e.origin){try{t=JSON.parse(e.data)}catch(e){return}void 0!==t.slot&&(P("receiveMessage about to call .close()"),p.default.getAd(t.slot).close(),e.source.postMessage(JSON.stringify({success:!0}),"*"))}},registerSlot:function(e,t){var n=t.join("_");p.default.registerAd(e).isPreloaded()&&e&&t&&(g.default.moveAd("bbccom_"+e+"_"+n+"_preload","bbccom_"+e+"_"+n),p.default.getAd(e).show())},reset:function(){return g.default.reset()},show:function(){void 0!==(i=p.default.getCurrentAd())&&i.show()},isActive:function(e){return c.default.isActive(e)},setAdKeyValue:function(e,t){_.default.set(e,t)},setAdUnit:function(e){m.default.setAdUnit(e)},setLocale:function(e,t){a.default.set(e,t)},ad:function(e){return p.default.getAd(e)},setGroupStartWidth:function(e,t){return v.default.setGroupStart(e,t)},setConfig:c.default.rehydrate.bind(c.default),registerAd:function(e,t,n){"string"==typeof e&&"content-rec"===e&&!c.default.isContentRecEnabled()||("string"==typeof e&&0===e.indexOf("outbrain")?bbcdotcom.adverts.outbrainRenderer.renderAd(e):h.default.registerAd(e,t,n))},lazyLoadAd:function(e,t){h.default.lazyLoadAd(e,t)},refreshAd:function(e,t,n){var s,i="",a=a.getAll(),o=p.default.getAd(e),r=document.getElementById("bbccom_"+e),c=document.createElement("a"),l=document.createElement("iframe"),u=o.getAdInfoUrl(),d=o.getAdText();for(s in a)a.hasOwnProperty(s)&&(i+=";"+s+"="+a[s]);o="https://ad.doubleclick.net"+m.default.get().replace("/4817","/N4817/adi")+";slot="+e+";sz="+t+i+";ord="+Math.random().toString().slice(2,16)+";tile=1;iframe=yes?",l.src=o,l.width=t.split("x")[0],l.height=t.split("x")[1],l.scrolling="no",l.style.border="none",l.style.overflow="hidden",c.innerHTML=d,c.href=u,c.className="bbccom_text",r.innerHTML="",r.style.width=t.split("x")[0]+"px",r.className=r.className.replace("bbccom_display_none",""),r.appendChild(c),r.appendChild(l),p.default.getAd(e).open()},trackEvent:function(){},reInit:function(e){var t={title:e.headline,referrer:e.referrer||""},n=e.url||"",s=new d.default;u.default.r(),_.default.r(),A.setConfig(e),void 0!==e.headline&&void 0!==e.summary&&s.set(e.headline+" "+e.summary),u.default.build(!0,n),m.default.init(g.default.getClientWidth(),void 0,u.default.getSections("advert"),u.default.getSections()),_.default.init(l.default.createWindowLocation(n),t),void 0!==e.assetType&&_.default.set("asset_type",e.assetType)},resetPage:function(e){var t,n=c.default.getWindowLocation().href||"",s=l.default.createWindowLocation(e.url),i=e.disableAdUnit||!1;if(c.default.isAdsEnabled()&&(!c.default.isSportApp()||c.default.isSportApp()&&c.default.isAdsportappEnabled())){if(_.default.r(),h.default.reset(),c.default.init(bbcdotcomConfig,bbcdotcom.data,s,{title:e.title,description:e.description,referrer:n}),u.default.build(!0),t=e.adsToDisplay?b.default.build(e.adsToDisplay):t)for(var a=0,o=(window.bbcdotcom.adsToDisplay=t).length;a<o;a++)p.default.registerAd(t[a]);if((new d.default).set(e.title+" "+e.description),i||m.default.init(g.default.getClientWidth(),this.serversideAdUnits2to9,u.default.getSections("advert"),u.default.getSections()),_.default.init(s,window.document,c.default.getType()),void 0!==e.keyValues)for(var r in e.keyValues)e.keyValues.hasOwnProperty(r)&&_.default.set(r,e.keyValues[r]);h.default.setKeyValues(),y.default.init(s.href)}c.default.isAnalyticsEnabled()&&S.page()},disableAndCloseOpenAds:function(){c.default.setAdsEnabled(!1);var t=bbcdotcom.adverts.adRegister.getAds(),e=Object.getOwnPropertyNames(t);e.forEach(function(e){return t[e].close()}),e.forEach(function(e){return bbcdotcom.adverts.adRegister.unregisterAd(e)})}};e.exports=A},function(e,t){"use strict";var n,s,i,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,s=arguments[t];for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r=(a={},window.addEventListener("scroll",function(){i=window.pageYOffset,Object.keys(a).forEach(function(e){a[e].update(i)})},!1),n=null,s=window.outerWidth,window.addEventListener("resize",function(e){e.target.outerWidth!==s&&(s=e.target.outerWidth,n||l(),clearTimeout(n),n=setTimeout(function(){n=null,l()},100))}),window.addEventListener("orientationchange",function(){setTimeout(function(){Object.keys(a).forEach(function(e){a[e].triggerResize()})},1e3)}),{add:function(e,t,n){t.clientHeight>n.heightLimit||(a[e]=c(t,n))},remove:function(e){delete a[e]},list:function(){return a}}),c=function(e,i){function t(e){if(!(r<e||e<a))switch(e){case a:_(p);break;case o:_(i.parallax?y:b);break;case r:_(m)}}function n(){l=Math.round(c.getBoundingClientRect().top+window.pageYOffset),u=function(){if(i.offset.from[0]&&i.offset.to[0]){var e=document.querySelector(i.offset.from[0]),t=document.querySelector(i.offset.to[0]),n=e.offsetTop,s=t.offsetTop;return"bottom"===i.offset.from[1]&&(n+=e.offsetHeight),"bottom"===i.offset.to[1]&&(s+=t.offsetHeight),"include"===i.offsetType&&(s-=c.offsetHeight),i.parallax&&(s+=c.offsetHeight),s-n}}(),d=Math.round(c.getBoundingClientRect().left)}function s(e){switch(!0){case(f=e)<l:t(a);break;case l<=f&&f<=l+u:t(o);break;case l+u<f:t(r)}}var a=0,o=1,r=2,c="parent"===i.applyTo?e.parentElement:e,l=null,u=null,d=null,g=!1,f=window.pageYOffset,p=function(){c.style.position="relative",c.style.left="0",c.style.top="0",c.style.transform="translate3d(0px, 0px, 0px)"},b=function(){c.style.position="fixed",c.style.left=d+"px",c.style.transform="translate3d(0px, 0px, 0px)",c.style.zIndex="100",c.style.top=0},m=function(){c.style.position="absolute",c.style.top=u+"px",c.style.left="50%",c.style.transform="translate3d(-50%, 0px, 0px)",c.style.zIndex="100"},y=function(){c.style.position="absolute",c.style.transform="translate3d(0px, "+Math.round(f-e.clientHeight/u*f)+"px, 0px)",c.style.left=d+"px"},_=function(e){g=g||requestAnimationFrame(function(){e(),g=!1})};return c.parentElement.style.height=c.offsetHeight+"px",c.parentElement.style.position="relative",n(),{update:s,triggerResize:function(){p(),n(),s(window.pageYOffset)}}};function l(){Object.keys(a).forEach(function(e){a[e].triggerResize()})}e.exports=function(){return o({},r)}},function(e,t,n){!function(n){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"use strict";"object"==d(n)&&n.exports?n.exports=t({}):t(e.ns_=e.ns_||{})}(void 0,function(e){"use strict";e.ns_=e;var i,n,a,o,t,ce=ce||{};ce.indexOf=function(n,e){var s=-1;return this.forEach(e,function(e,t){e==n&&(s=t)}),s},ce.forEach=function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var s,i=void 0!==e.__proto__;for(s in e)!e.hasOwnProperty(s)||i&&void 0!==e.__proto__[s]||"function"==typeof e[s]||t.call(n,e[s],s)}else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a)}catch(e){}},(ce=ce||{}).parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},ce.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},ce.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},ce.toString=function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";");return n||e.toString()},(ce=ce||{}).filter=function(e,t){var n,s={};for(n in t)t.hasOwnProperty(n)&&e(t[n])&&(s[n]=t[n]);return s},ce.extend=function(e){var t,n=arguments.length;e=e||{};for(var s=1;s<n;s++)if(t=arguments[s])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},(ce=ce||{}).cloneObject=function(e){return null==e||"object"!=(void 0===e?"undefined":d(e))?e:(i=[],n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},s.prototype={constructor:s,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,s=0;s<n;s++)if(t[s][0]===e)return t[s][1]},deepCopy:function(e){if(null===e)return null;if("object"!=(void 0===e?"undefined":d(e)))return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<i.length;n++){var s=i[n];if(s.canCopy(e))return this.applyDeepCopier(s,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=i,(a.register=function(e){e instanceof n||(e=new n(e)),i.unshift(e)})({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?"object"==(void 0===(e=e.constructor.prototype)?"undefined":d(e))?(t.prototype=e,new t):e:{}},populate:function(e,t,n){for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var s=0;s<t.length;s++)n.push(e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return e=e,"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var s=0;s<t.childNodes.length;s++){var i=e(t.childNodes[s]);n.appendChild(i)}}}),{deepCopy:a}).deepCopy(e);var i;function t(){}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function s(){this.copiedObjects=[];var t=this;this.recursiveDeepCopy=function(e){return t.deepCopy(e)},this.depth=0}function a(e,t){var n=new s;return t&&(n.maxDepth=t),n.deepCopy(e)}},(ce=ce||{}).getNamespace=function(){return e.ns_||e},ce.uid=(t=1,function(){return+new Date+"_"+t++}),ce.isEmpty=function(e){return null==e||""===e||e instanceof Array&&0===e.length},ce.isNotEmpty=function(e){return!this.isEmpty(e)},ce.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},ce.isTrue=function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},ce.regionMatches=function(e,t,n,s,i){if(t<0||s<0||t+i>e.length||s+i>n.length)return!1;for(;0<=--i;)if(e.charAt(t++)!=n.charAt(s++))return!1;return!0},ce.exists=function(e){return void 0!==e&&null!=e},a=!(n=!(i=[])),o=1e3,ce.onSystemClockJump=function(e,t){i.push(e),n||(n=!0,o=t||o,a=+new Date,setInterval(function(){var e=a+o,t=+new Date,n=(a=t)-e;if(Math.abs(n)>o)for(var s=0;s<i.length;++s)i[s](0<n)},o))},(ce=ce||{}).hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var e=void 0===document.hidden&&void 0===document.mozHidden&&void 0===document.msHidden&&void 0===document.webkitHidden?!1:!0;return function(){return e}}(),ce.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var e,t,n;void 0!==document.hidden?(e="hidden",t="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var s={hidden:e,visibilityChange:t,state:n};return function(){return s}}(),ce.isTabInBackground=function(){if("undefined"==typeof document)return null;var e=ce.getPageVisibilityAPI();return function(){return document[e.hidden]}}(),ce.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",s=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?s="Opera":-1!=(t=n.indexOf("Android"))?s="Android":-1!=(t=n.indexOf("Chrome"))?s="Chrome":-1!=(t=n.indexOf("Safari"))?s="Safari":-1!=(t=n.indexOf("Firefox"))?s="Firefox":-1!=(t=n.indexOf("IEMobile"))?s="Internet Explorer Mobile":"Microsoft Internet Explorer"==s||"Netscape"==s?s="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(s=n.substring(e,t)).toLowerCase()==s.toUpperCase()&&(s=navigator.appName):s="unknown",s},ce.getBrowserFullVersion=function(){if(!navigator)return"";var e,t=navigator.userAgent||"",n=navigator.appName||"",s=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(e=t.indexOf("Opera"))?(s=t.substring(e+6),-1!=(e=t.indexOf("Version"))&&(s=t.substring(e+8))):-1!=(e=t.indexOf("OPR/"))?s=t.substring(e+4):-1!=(e=t.indexOf("Android"))?s=t.substring(e+11):-1!=(e=t.indexOf("Chrome"))?s=t.substring(e+7):-1!=(e=t.indexOf("Safari"))?(s=t.substring(e+7),-1!=(e=t.indexOf("Version"))&&(s=t.substring(e+8))):-1!=(e=t.indexOf("Firefox"))?s=t.substring(e+8):"Microsoft Internet Explorer"==n?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(s=parseFloat(RegExp.$1)):"Netscape"==n?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(s=parseFloat(RegExp.$1)):s=t.lastIndexOf(" ")+1<(e=t.lastIndexOf("/"))?t.substring(e+1):"unknown",-1!=(e=(s=-1!=(e=(s=-1!=(e=(s=s.toString()).indexOf(";"))?s.substring(0,e):s).indexOf(" "))?s.substring(0,e):s).indexOf(")"))&&(s=s.substring(0,e)),e=parseInt(""+s,10),s=isNaN(e)?""+parseFloat(navigator.appVersion):s},ce.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},ce.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},ce.isWebSecure=function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)};var g,f,p,b,m,y,_,le=function(n,a){function t(e){e=e||[];var t=["comScore",+new Date];return n&&t.push(n),e=Array.prototype.slice.call(e),t.concat(e)}function s(e){var t,n,s;if("boolean"==typeof a||!a)return a;if(s=e.join(" "),!(a instanceof Array&&0<a.length)){if("object"!=(void 0===a?"undefined":d(a)))return 1;var i=!1;if(a.hide instanceof Array)for(t=0;t<a.hide.length;++t)if((n=a.hide[t])instanceof RegExp&&n.test(s)){i=!0;break}if(a.show instanceof Array)for(t=0;t<a.show.length;++t)if((n=a.show[t])instanceof RegExp&&n.test(s))return 1;return!i&&!a.show}for(t=0;t<a.length;++t)if((n=a[t])instanceof RegExp&&n.test(s))return 1}function i(e){var t=o.length;(1e4<t||a&&a.max&&t>a.max)&&(o=o.slice(-Math.floor(a.max/2))).push("Previous logs: "+t),o.push(e)}var o=[];this.log=function(){var e=t(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.log&&s(e)&&console.log.apply(console,e)},this.warn=function(){var e=t(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.warn&&s(e)&&console.warn.apply(console,e)},this.error=function(){var e=t(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.error&&s(e)&&console.error.apply(console,e)},this.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},this.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},this.deprecation=function(e,t){e=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&e.push("Use",t,"instead."),this.warn.apply(this,e)},this.getLogHistory=function(){return o}};return e.StreamingAnalytics=e.StreamingAnalytics||function(){var t,n,s,g={PLATFORM:"generic",httpGet:function(e,t){var n;"undefined"!=typeof Image?((n=new Image).onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},httpPost:function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)},Storage:(s="cs_",function(){var n="undefined"!=typeof localStorage?localStorage:null;ce.extend(this,{get:function(e){return n&&n.getItem(s+e)},set:function(e,t){n&&n.setItem(s+e,t)},has:function(e){return n&&n.getItem(s+e)},remove:function(e){n&&n.removeItem(s+e)},clear:function(){for(var e=0;n&&e<n.length;++e){var t=n.key(e);t.substr(0,s.length)===s&&n.removeItem(t)}}})}),IO:{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}},onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return J.UNKNOWN_VALUE},getAppVersion:function(){return J.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return J.UNKNOWN_VALUE},getPlatformVersion:function(){return J.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return J.UNKNOWN_VALUE},getRuntimeVersion:function(){return J.UNKNOWN_VALUE},getDisplayResolution:function(){return J.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return J.UNKNOWN_RESOLUTION},getLanguage:function(){return J.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:(n=function(e,t){return setTimeout(e,t)},i.toString=function(){return n.toString()},i),clearTimeout:(t=function(e){return clearTimeout(e)},e.toString=function(){return t.toString()},e),getDeviceArchitecture:function(){return J.UNKNOWN_VALUE},getConnectionType:function(){return J.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return J.UNKNOWN_VALUE},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}},J={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};function e(e){return t.apply(this,arguments)}function i(e,t){return n.apply(this,arguments)}ce.jsonObjectToStringDictionary=function(e){var t,n={};for(t in e){var s=e[t];n[t]=null==s?s:e[t]+""}return n},ce.getKeys=function(e,t){var n,s=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(s[s.length]=n);return s},ce.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},ce.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},ce.addNewPlaybackInterval=function(e,t,n,s){var i={};if(!(t<=n))return ce.cloneObject(e);if(i.start=t,i.end=n,0==e.length)return e.push(i),ce.cloneObject(e);for(c=0;c<e.length;c++)if(i.start>=e[c].start&&i.end<=e[c].end)return ce.cloneObject(e);for(var a=!1,o=0;o<e.length;o++)if(o+1===e.length&&i.start>=e[o].start||i.start>=e[o].start&&i.start<e[o+1].start){e.splice(o+1,0,i),a=!0;break}a||e.splice(0,0,i);for(var r=[e[0]],c=1;c<e.length;c++)r[r.length-1].end+s<e[c].start?r.push(e[c]):r[r.length-1].end<e[c].end&&(r[r.length-1].end=e[c].end);return ce.cloneObject(r)},ce.stateToString=function(e){var t,n=c.InternalStates;for(t in n)if(n.hasOwnProperty(t)&&n[t]==e)return t};var a,o,G=(o=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return o[e]}}),j={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},f=(a=["c","s","r"],{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(e){return a[e]}}),X={STREAMINGANALYTICS_VERSION:"6.0.0.161201",MODEL_VERSION:"5.7",LOG_NAMESPACE:"STA",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL:1e3,SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL:500,STANDARD_METADATA_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_ami","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]},v=(u.resetAsset=function(e,t,n){for(var s=e.getLabels(),i={},a=0;n&&a<n.length;++a)s.hasOwnProperty(n[a])&&(i[n[a]]=s[n[a]]);t.setLabels(i),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},u),p=(l.resetPlaybackSession=function(e,t,n){for(var s=t.getAsset(),i=t.getLabels(),a={},o=0;n&&o<n.length;o++)i.hasOwnProperty(n[o])&&(a[n[o]]=i[n[o]]);e.getPlaybackSession().setLabels(a),v.resetAsset(s,e.getPlaybackSession().getAsset(),n)},l),K=function(s){var t,i,n=this,a=[];ce.extend(this,{newEvent:function(e){for(var t=0;t<a.length;++t)a[t](e.eventLabels);(function(e){i=ce.extend({},e);var t,n=s.getStaCore().getLiveEndpointURL();s.getAppCore()?s.getStaCore().isProperlyInitialized()&&(t=s.getStaCore().getExports().et,"function"==typeof s.getAppCore().getMeasurementDispatcher?s.getAppCore().getMeasurementDispatcher().send(t.HIDDEN,e,n):(t=s.getStaCore().getExports().am.newApplicationMeasurement(s.getAppCore(),t.HIDDEN,e,n),s.getAppCore().getQueue().offer(t))):n&&s.getStaCore().getPlatformAPI().httpGet(s.getStaCore().prepareUrl(n,e))})(e.eventLabels),e.eventType!=G.HEARTBEAT&&n.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&a.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<a.length;++n)if(a[n]==e){t=n;break}isNaN(t)||a.splice(t,1)},getEventCounter:function(){return t},incrementEventCounter:function(){t++},setEventCounter:function(e){t=e},getMeasurementSnapshot:function(){return i}}),t=1},V=function(n){function t(){o++;var e={},t=ce.fixEventTime(e);e.ns_st_hc=n.getHeartbeat().getCount()+"";t=n.getStaCore().createLabels(G.HEARTBEAT,e,t);n.getPlaybackSession().getAsset().updateIndependentLabels(t.eventLabels),n.getEventManager().newEvent(t),a=0,r.resume()}function s(){null!=i&&(n.getStaCore().getPlatformAPI().clearTimeout(i),i=null)}var i,a,o,r=this,c=X.DEFAULT_HEARTBEAT_INTERVAL;ce.extend(this,{getCount:function(){return o},setIntervals:function(e){c=e},getInterval:function(e){var t=0;if(null!=c)for(var n=0;n<c.length;n++){var s=c[n],i=s.playingtime;if(!i||e<i){t=s.interval;break}}return t},getIntervals:function(){return c},resume:function(){s();var e=r.getInterval(n.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-n.getPlaybackSession().getAsset().getPlaybackTimestamp()));0<e&&(e=0<a?a:e,i=n.getStaCore().getPlatformAPI().setTimeout(t,e)),a=0},pause:function(){s();var e=r.getInterval(n.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-n.getPlaybackSession().getAsset().getPlaybackTimestamp()));a=e-(n.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-n.getPlaybackSession().getAsset().getPlaybackTimestamp()))%e}}),o=a=0},W=function(n){function e(){var e={},t=ce.fixEventTime(e);n.getStaCore().newPseudoEvent(G.KEEPALIVE,t,e),i.start()}function t(){null!=s&&(n.getStaCore().getPlatformAPI().clearTimeout(s),s=null)}var s,i=this,a=X.DEFAULT_KEEP_ALIVE_INTERVAL;ce.extend(i,{start:function(){t(),s=n.getStaCore().getPlatformAPI().setTimeout(e,a)},stop:t,setInterval:function(e){a=e},getInterval:function(){return a}})},q=function(e){var n,s,i,a=this;ce.extend(a,{eventTypeToState:function(e){if(i==j.IDLE){if(e==G.PLAY)return j.PLAYING;if(e==G.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(e==G.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(i==j.PLAYBACK_NOT_STARTED){if(e==G.PLAY)return j.PLAYING;if(e==G.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(e==G.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK;if(e==G.END||e==G.AD_SKIP)return j.IDLE}else if(i==j.PLAYING){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.BUFFER)return j.BUFFERING_DURING_PLAYBACK;if(e==G.PAUSE)return j.PAUSED;if(e==G.SEEK_START)return j.SEEKING_DURING_PLAYBACK}else if(i==j.PAUSED){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.BUFFER)return j.BUFFERING_DURING_PAUSE;if(e==G.PLAY)return j.PLAYING;if(e==G.SEEK_START)return j.SEEKING_DURING_PAUSE}else if(i==j.BUFFERING_BEFORE_PLAYBACK){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PAUSE||e==G.BUFFER_STOP)return j.PLAYBACK_NOT_STARTED;if(e==G.PLAY)return j.PLAYING;if(e==G.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK}else if(i==j.BUFFERING_DURING_PLAYBACK){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY||e==G.BUFFER_STOP)return j.PLAYING;if(e==G.PAUSE_ON_BUFFERING)return j.PAUSED_DURING_BUFFERING;if(e==G.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(e==G.PAUSE)return j.PAUSED}else if(i==j.BUFFERING_DURING_SEEKING){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY)return j.PLAYING;if(e==G.BUFFER_STOP)return j.SEEKING_DURING_PLAYBACK;if(e==G.PAUSE)return j.PAUSED}else if(i==j.BUFFERING_DURING_PAUSE){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY)return j.PLAYING;if(e==G.SEEK_START)return j.SEEKING_DURING_PAUSE;if(e==G.BUFFER_STOP||e==G.PAUSE)return j.PAUSED}else if(i==j.SEEKING_BEFORE_PLAYBACK){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PAUSE)return j.PLAYBACK_NOT_STARTED;if(e==G.PLAY)return j.PLAYING;if(e==G.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(i==j.SEEKING_DURING_PLAYBACK){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY)return j.PLAYING;if(e==G.PAUSE)return j.PAUSED;if(e==G.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(i==j.SEEKING_DURING_BUFFERING){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY)return j.PLAYING;if(e==G.PAUSE||e==G.BUFFER_STOP)return j.PAUSED;if(e==G.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(i==j.SEEKING_DURING_PAUSE){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.PLAY)return j.PLAYING;if(e==G.PAUSE||e==G.BUFFER_STOP)return j.PAUSED;if(e==G.BUFFER)return j.BUFFERING_DURING_PAUSE}else if(i==j.PAUSED_DURING_BUFFERING){if(e==G.END||e==G.AD_SKIP)return j.IDLE;if(e==G.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(e==G.PAUSE)return j.PAUSED;if(e==G.PLAY||e==G.BUFFER_STOP)return j.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,t){e=a.eventTypeToState(e);i!=e&&(s=i,i=e,n=t)},getPreviousState:function(){return s},getLastStateChangeTimestamp:function(){return n}}),i=j.IDLE,s=null,n=NaN},z=function(s){ce.extend(this,{onSeekStartWhenPausedOrBufferingDuringPause:function(e,t){t=parseInt(t.ns_st_po);s.getPlaybackSession().getAsset().isSeeking()?s.getPlaybackSession().getAsset().isCollectingSeekingTime()||(s.getPlaybackSession().getAsset().setSeekingTimestamp(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().isSeeking()||(s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(t),s.getPlaybackSession().getAsset().setSeekingTimestamp(e)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onBufferWhenSeekingOrPaused:function(e,t){s.getPlaybackSession().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(e,t){s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(e,t){s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().getAsset().addElapsedTime(e);var n=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(n.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(n.eventLabels),s.getEventManager().newEvent(n),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(e,t){s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(e,t){t=parseInt(t.ns_st_po);s.getStaCore().stopPausedOnBufferingTimer(),s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(t),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getHeartbeat().resume(),s.getKeepAlive().start()}})},H=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onBufferStop:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onSeekStart:function(e,t){t=parseInt(t.ns_st_po);s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()?s.getPlaybackSession().getAsset().isCollectingSeekingTime()||(s.getPlaybackSession().getAsset().setSeekingTimestamp(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().isSeeking()||(s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(t),s.getPlaybackSession().getAsset().setSeekingTimestamp(e))},onPause:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().setPlaybackStarted(!0),!s.getPlaybackSession().getAsset().isPlaybackSessionLooping()&&0!=s.getPlaybackSession().getPlaybackCounter()||(s.getPlaybackSession().incrementPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().setPlaybackStarted(!0),s.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),(0==s.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||s.getPlaybackSession().getAsset().getPartNumber()<=s.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(s.getPlaybackSession().getAsset().setLowestPartNumberPlayed(s.getPlaybackSession().getAsset().getPartNumber()),s.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaySequenceCounter(0),s.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getStaCore().isLoadingTimeSent()||(t.ns_st_lt=s.getStaCore().getLoadTimeOffset()+e-s.getStaCore().getInitTimestamp()+"",s.getStaCore().setLoadingTimeSent(!0)),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},Y=function(s){ce.extend(this,{onEndAndSkip:function(e,t){s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e);var n=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(n.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(n.eventLabels),s.getEventManager().newEvent(n),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onPause:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},$=function(s){ce.extend(this,{onPauseOnBuffering:function(e,t){parseInt(t.ns_st_po),s.getStaCore().stopPausedOnBufferingTimer(),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses();t=s.getStaCore().createLabels(G.PAUSE,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(t.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(t.eventLabels),s.getEventManager().newEvent(t),s.getPlaybackSession().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().setBufferingTimestamp(e)},onEndOrAdSkip:function(e,t){parseInt(t.ns_st_po),s.getStaCore().stopPausedOnBufferingTimer(),s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e);e=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onSeekStart:function(e,t){var n=parseInt(t.ns_st_po);s.getStaCore().stopPausedOnBufferingTimer(),s.getHeartbeat().pause(),s.getKeepAlive().stop(),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(n),s.getPlaybackSession().getAsset().setSeekingTimestamp(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses();e=s.getStaCore().createLabels(G.PAUSE,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)},onPause:function(e,t){parseInt(t.ns_st_po),s.getStaCore().stopPausedOnBufferingTimer(),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses();e=s.getStaCore().createLabels(G.PAUSE,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},Z=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getStaCore().stopPausedOnBufferingTimer(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e);var n=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(n.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(n.eventLabels),s.getEventManager().newEvent(n),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onPause:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses(),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},Q=function(s){ce.extend(this,{onBuffer:function(e,t){s.getPlaybackSession().setPlaybackSessionStarted(!0),s.getPlaybackSession().getAsset().setAssetStarted(!0),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().setSeekingTime(s.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),s.getPlaybackSession().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().setBufferingTimestamp(e)},onSeekStart:function(e,t){t=parseInt(t.ns_st_po);s.getPlaybackSession().setPlaybackSessionStarted(!0),s.getPlaybackSession().getAsset().setAssetStarted(!0),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().setSeekingTime(s.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(t),s.getPlaybackSession().getAsset().setSeekingTimestamp(e)},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().setPlaybackSessionStarted(!0),s.getPlaybackSession().getAsset().setAssetStarted(!0),!s.getPlaybackSession().getAsset().isPlaybackSessionLooping()&&0!=s.getPlaybackSession().getPlaybackCounter()||(s.getPlaybackSession().incrementPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().setSeekingTime(s.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().setPlaybackStarted(!0),s.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==s.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||s.getPlaybackSession().getAsset().getPartNumber()<=s.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(s.getPlaybackSession().getAsset().setLowestPartNumberPlayed(s.getPlaybackSession().getAsset().getPartNumber()),s.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaySequenceCounter(0),s.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getStaCore().isLoadingTimeSent()||(t.ns_st_lt=s.getStaCore().getLoadTimeOffset()+e-s.getStaCore().getInitTimestamp()+"",s.getStaCore().setLoadingTimeSent(!0)),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},ee=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().getAsset().addElapsedTime(e);var n=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(n.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(n.eventLabels),s.getEventManager().newEvent(n),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},te=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1));e=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onBufferStop:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)},onSeekStart:function(e,t){t=parseInt(t.ns_st_po);s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().isSeeking()?s.getPlaybackSession().getAsset().isCollectingSeekingTime()||(s.getPlaybackSession().getAsset().setSeekingTimestamp(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().isSeeking()||(s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(t),s.getPlaybackSession().getAsset().setSeekingTimestamp(e)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPause:function(e,t){s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().addBufferingTime(e),s.getPlaybackSession().getAsset().addBufferingTime(e),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},ne=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onSeekStart:function(e,t){t=parseInt(t.ns_st_po);s.getPlaybackSession().getAsset().isSeeking()?s.getPlaybackSession().getAsset().setSeekingTimestamp(e):s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().isSeeking()||(s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(t),s.getPlaybackSession().getAsset().setSeekingTimestamp(e))},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().setPlaybackSessionStarted(!0),!s.getPlaybackSession().getAsset().isPlaybackSessionLooping()&&0!=s.getPlaybackSession().getPlaybackCounter()||(s.getPlaybackSession().incrementPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().setPlaybackStarted(!0),s.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==s.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||s.getPlaybackSession().getAsset().getPartNumber()<=s.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(s.getPlaybackSession().getAsset().setLowestPartNumberPlayed(s.getPlaybackSession().getAsset().getPartNumber()),s.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaySequenceCounter(0),s.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getStaCore().isLoadingTimeSent()||(t.ns_st_lt=s.getStaCore().getLoadTimeOffset()+e-s.getStaCore().getInitTimestamp()+"",s.getStaCore().setLoadingTimeSent(!0)),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)},onBuffer:function(){s.getPlaybackSession().setBufferingTimestamp(eventTimestamp),s.getPlaybackSession().getAsset().setBufferingTimestamp(eventTimestamp)}})},se=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){var n=parseInt(t.ns_st_po);s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().addPlaybackTime(e),s.getPlaybackSession().getAsset().addPlaybackTime(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().addInterval(n);e=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onBuffer:function(e,t){var n=parseInt(t.ns_st_po);s.getHeartbeat().pause(),s.getKeepAlive().stop(),s.getPlaybackSession().addPlaybackTime(e),s.getPlaybackSession().getAsset().addPlaybackTime(e),s.getPlaybackSession().getAsset().addInterval(n),s.getStaCore().isPauseOnBufferingEnabled()&&s.getStaCore().startPausedOnBufferingTimer(e,t),s.getPlaybackSession().getAsset().incrementBufferCount(),s.getPlaybackSession().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().setBufferingTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e)},onSeekStart:function(e,t){var n=parseInt(t.ns_st_po);s.getHeartbeat().pause(),s.getKeepAlive().stop(),s.getPlaybackSession().addPlaybackTime(e),s.getPlaybackSession().getAsset().addPlaybackTime(e),s.getPlaybackSession().getAsset().addInterval(n),s.getPlaybackSession().getAsset().incrementSeeks(),s.getPlaybackSession().getAsset().setSeeking(!0),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),s.getPlaybackSession().getAsset().setSeekStartPosition(n),s.getPlaybackSession().getAsset().setSeekingTimestamp(e),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses();e=s.getStaCore().createLabels(G.PAUSE,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)},onPause:function(e,t){var n=parseInt(t.ns_st_po);s.getHeartbeat().pause(),s.getKeepAlive().stop(),s.getPlaybackSession().addPlaybackTime(e),s.getPlaybackSession().getAsset().addPlaybackTime(e),s.getPlaybackSession().getAsset().addInterval(n),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().incrementPauses(),s.getPlaybackSession().getAsset().incrementPauses();e=s.getStaCore().createLabels(G.PAUSE,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},ie=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onPause:function(e,t){s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),!s.getPlaybackSession().getAsset().isPlaybackSessionLooping()&&0!=s.getPlaybackSession().getPlaybackCounter()||(s.getPlaybackSession().incrementPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().getAsset().setPlaybackStarted(!0),s.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==s.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||s.getPlaybackSession().getAsset().getPartNumber()<=s.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(s.getPlaybackSession().getAsset().setLowestPartNumberPlayed(s.getPlaybackSession().getAsset().getPartNumber()),s.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),s.getPlaybackSession().getAsset().setPlaySequenceCounter(0),s.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getStaCore().isLoadingTimeSent()||(t.ns_st_lt=s.getStaCore().getLoadTimeOffset()+e-s.getStaCore().getInitTimestamp()+"",s.getStaCore().setLoadingTimeSent(!0)),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},ae=function(n){ce.extend(this,{onPause:function(e,t){n.getPlaybackSession().incrementPauses(),n.getPlaybackSession().getAsset().incrementPauses(),n.getPlaybackSession().getAsset().isSeeking()&&n.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(n.getPlaybackSession().getAsset().addSeekingTime(e),n.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),n.getPlaybackSession().getAsset().addElapsedTime(e),n.getPlaybackSession().getAsset().setElapsedTimestamp(e)}})},oe=function(s){ce.extend(this,{onEndOrAdSkip:function(e,t){parseInt(t.ns_st_po),s.getStaCore().resetHeartbeat(),s.getKeepAlive().stop(),s.getPlaybackSession().getAsset().addElapsedTime(e);var n=s.getStaCore().createLabels(G.END,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(n.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(n.eventLabels),s.getEventManager().newEvent(n),s.getPlaybackSession().getAsset().isSeeking()&&s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(e-s.getPlaybackSession().getAsset().getSeekingTimestamp()),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().storeAssetPlaybackCounters(),s.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),s.getPlaybackSession().getAsset().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&ce.parseBoolean(t.ns_st_pe,!1)&&s.getStaCore().resetPlaybackSession()},onPlay:function(e,t){var n=parseInt(t.ns_st_po);s.getPlaybackSession().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),s.getPlaybackSession().getAsset().incrementPlayCounter(),s.getPlaybackSession().getAsset().isSeeking()&&(s.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(s.getPlaybackSession().getAsset().addSeekingTime(e),s.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),s.getPlaybackSession().getAsset().addSeekingAmount(n),s.getPlaybackSession().getAsset().setSeeking(!1)),s.getPlaybackSession().getAsset().addElapsedTime(e),s.getPlaybackSession().getAsset().setElapsedTimestamp(e),s.getPlaybackSession().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackTimestamp(e),s.getPlaybackSession().getAsset().setPlaybackStartPosition(n),s.getStaCore().isLoadingTimeSent()||(t.ns_st_lt=s.getStaCore().getLoadTimeOffset()+e-s.getStaCore().getInitTimestamp()+"",s.getStaCore().setLoadingTimeSent(!0)),s.getHeartbeat().resume(),s.getKeepAlive().start();e=s.getStaCore().createLabels(G.PLAY,t,e);s.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),s.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),s.getEventManager().newEvent(e)}})},r=function(e){function b(e){var t=m.getStateMachine().getCurrentState();if(t==j.IDLE||t==j.PLAYBACK_NOT_STARTED||t==j.BUFFERING_BEFORE_PLAYBACK||t==j.SEEKING_BEFORE_PLAYBACK){if(e==G.PLAY)return 1}else if(t==j.PLAYING){if(e==G.END||e==G.AD_SKIP||e==G.SEEK_START||e==G.PAUSE)return 1}else if(t==j.PAUSED||t==j.BUFFERING_DURING_PAUSE||t==j.SEEKING_DURING_PLAYBACK||t==j.SEEKING_DURING_BUFFERING||t==j.SEEKING_DURING_PAUSE){if(e==G.END||e==G.AD_SKIP||e==G.PLAY)return 1}else if(t==j.BUFFERING_DURING_PLAYBACK){if(e==G.PAUSE_ON_BUFFERING||e==G.END||e==G.AD_SKIP||e==G.SEEK_START||e==G.PAUSE||e==G.PLAY)return 1}else if(t==j.BUFFERING_DURING_SEEKING){if(e==G.END||e==G.AD_SKIP||e==G.PAUSE||e==G.PLAY)return 1}else if(t==j.PAUSED_DURING_BUFFERING&&(e==G.END||e==G.AD_SKIP||e==G.BUFFER_STOP||e==G.PLAY))return 1}var m,y,_,v,h,S,P,A,k,E,w,T,I,C,t,n,x,L,s,i,a,N,O,r,B,D,R,U,o,F=this,c={},l=X.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,u=X.THROTTLING_DELAY,d={},M=!1;ce.extend(F,{getConfiguration:function(){return e||{}},enableSystemClockJumpsDetection:function(e){ce.onSystemClockJump(function(e){D=e,M=!0},e=e<X.SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL||!e?X.SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL:e)},createLabels:function(e,t,n){var s=!1;e==G.HEARTBEAT&&(i=isNaN(L)?x:L,((L=n)<i||M)&&(M=!(s=!0),n<i?(m.getPlaybackSession().addInternalErrorFlag("1"),m.getLogging().infoLog("System clock jump detected","to the far past")):D?(m.getPlaybackSession().addInternalErrorFlag("3"),m.getLogging().infoLog("System clock jump detected","to the future")):(m.getPlaybackSession().addInternalErrorFlag("2"),m.getLogging().infoLog("System clock jump detected","to the near past")),n=i));var i,a={};return"undefined"!=typeof document&&(a.c7=(i=document).URL,a.c8=i.title,a.c9=i.referrer),a.ns_ts=+new Date+"",a.ns_st_ev=G.toString(e),a.ns_st_mp=X.DEFAULT_PLAYERNAME,a.ns_st_mv=X.STREAMINGANALYTICS_VERSION,a.ns_st_ub="0",a.ns_st_br="0",a.ns_st_pn="1",a.ns_st_tp="0",a.ns_st_it=f.toString(f.SINGLE_CLIP),a.ns_st_sv=X.STREAMINGANALYTICS_VERSION,a.ns_st_smv=X.MODEL_VERSION,a.ns_type="hidden",a.ns_st_ec=m.getEventManager().getEventCounter()+"",a.ns_st_ki=m.getKeepAlive().getInterval()+"",m.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?a.ns_st_po=m.getPlaybackSession().getAsset().getExpectedPlaybackPosition(n)+"":a.ns_st_po=B+"",B=parseInt(a.ns_st_po),ce.extend(a,F.getLabels()),m.getPlaybackSession().createLabels(a,n),ce.extend(a,t),s&&(m.getPlaybackSession().setPlaybackTimestamp(L-parseInt(a.ns_st_pt)),m.getPlaybackSession().getAsset().setPlaybackTimestamp(L-parseInt(a.ns_st_pt)),m.getPlaybackSession().getAsset().setElapsedTimestamp(L-parseInt(a.ns_st_et)),m.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&m.getPlaybackSession().getAsset().setBufferingTimestamp(L-parseInt(a.ns_st_bp))),{eventType:e,eventLabels:a}},newEvent:function(e,t,n,s){F.stopDelayedTransitionTimer();var i=m.getStateMachine().getCurrentState(),a=m.getStateMachine().eventTypeToState(e);if(null!=a&&a!=i)if(!F.isThrottlingEnabled()||i!=j.PLAYING&&i!=j.PAUSED||a!=j.PLAYING&&a!=j.PAUSED||s){var o,r,c,l,u=isNaN(L)?x:L,d=!1;((L=t)<u||M)&&(M=!(d=!0),t<u?(m.getPlaybackSession().addInternalErrorFlag("1"),m.getLogging().infoLog("System clock jump detected","to the far past")):D?(m.getPlaybackSession().addInternalErrorFlag("3"),m.getLogging().infoLog("System clock jump detected","to the future")):(m.getPlaybackSession().addInternalErrorFlag("2"),m.getLogging().infoLog("System clock jump detected","to the near past")),t=u),n.ns_st_po||(m.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?m.getStateMachine().getCurrentState()==j.IDLE?n.ns_st_po="0":n.ns_st_po=m.getPlaybackSession().getAsset().getExpectedPlaybackPosition(t)+"":n.ns_st_po=B+""),B=parseInt(n.ns_st_po),m.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(n.ns_st_po)),c=e,l=t,s=n,u=m.getStateMachine().getCurrentState(),c==G.AD_SKIP&&!s.hasOwnProperty("ns_st_ui")&&b(c)?s.ns_st_ui="skip":c==G.SEEK_START&&!s.hasOwnProperty("ns_st_ui")&&b(c)&&(s.ns_st_ui="seek"),u==j.IDLE?c==G.BUFFER?y.onBuffer(l,s):c==G.SEEK_START?y.onSeekStart(l,s):c==G.PLAY&&y.onPlay(l,s):u==j.PLAYBACK_NOT_STARTED?c==G.END||c==G.AD_SKIP?v.onEndOrAdSkip(l,s):c==G.SEEK_START?v.onSeekStart(l,s):c==G.PLAY?v.onPlay(l,s):c==G.BUFFER&&v.onBuffer(l,s):u==j.PLAYING?c==G.END||c==G.AD_SKIP?h.onEndOrAdSkip(l,s):c==G.BUFFER?h.onBuffer(l,s):c==G.SEEK_START?h.onSeekStart(l,s):c==G.PAUSE&&h.onPause(l,s):u==j.PAUSED?c==G.END||c==G.AD_SKIP?_.onEndOrAdSkip(l,s):c==G.PLAY?_.onPlay(l,s):c==G.BUFFER?C.onBufferWhenSeekingOrPaused(l,s):c==G.SEEK_START&&C.onSeekStartWhenPausedOrBufferingDuringPause(l,s):u==j.BUFFERING_BEFORE_PLAYBACK?c==G.END||c==G.AD_SKIP?S.onEndOrAdSkip(l,s):c==G.BUFFER_STOP?S.onBufferStop(l,s):c==G.SEEK_START?S.onSeekStart(l,s):c==G.PAUSE?S.onPause(l,s):c==G.PLAY&&S.onPlay(l,s):u==j.BUFFERING_DURING_PLAYBACK?c==G.PAUSE_ON_BUFFERING?P.onPauseOnBuffering(l,s):c==G.BUFFER_STOP?C.onBufferStopOrOnPlayWhenBufferingDuringPlayback(l,s):c==G.END||c==G.AD_SKIP?P.onEndOrAdSkip(l,s):c==G.SEEK_START?P.onSeekStart(l,s):c==G.PAUSE?P.onPause(l,s):c==G.PLAY&&C.onBufferStopOrOnPlayWhenBufferingDuringPlayback(l,s):u==j.BUFFERING_DURING_SEEKING?c==G.END||c==G.AD_SKIP?A.onEndOrAdSkip(l,s):c==G.PAUSE?A.onPause(l,s):c==G.PLAY?A.onPlay(l,s):c==G.BUFFER_STOP&&C.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(l,s):u==j.BUFFERING_DURING_PAUSE?c==G.END||c==G.AD_SKIP?k.onEndAndSkip(l,s):c==G.PAUSE?k.onPause(l,s):c==G.PLAY?k.onPlay(l,s):c==G.SEEK_START?C.onSeekStartWhenPausedOrBufferingDuringPause(l,s):c==G.BUFFER_STOP&&C.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(l,s):u==j.SEEKING_BEFORE_PLAYBACK?c==G.END||c==G.AD_SKIP?w.onEndOrAdSkip(l,s):c==G.PAUSE?w.onPause(l,s):c==G.PLAY?w.onPlay(l,s):c==G.BUFFER&&C.onBufferWhenSeekingOrPaused(l,s):u==j.SEEKING_DURING_PLAYBACK?c==G.END||c==G.AD_SKIP?I.onEndOrAdSkip(l,s):c==G.PLAY?I.onPlay(l,s):c==G.BUFFER?C.onBufferWhenSeekingOrPaused(l,s):c==G.PAUSE&&C.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(l,s):u==j.SEEKING_DURING_BUFFERING?c==G.PAUSE?T.onPause(l,s):c==G.BUFFER?C.onBufferWhenSeekingOrPaused(l,s):c==G.PLAY?C.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(l,s):c==G.END||c==G.AD_SKIP?C.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(l,s):c==G.BUFFER_STOP&&C.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(l,s):u==j.PAUSED_DURING_BUFFERING?c==G.END||c==G.AD_SKIP?E.onEndOrAdSkip(l,s):c==G.BUFFER_STOP?E.onBufferStop(l,s):c==G.SEEK_START?E.onSeekStart(l,s):c==G.PAUSE?E.onPause(l,s):c==G.PLAY&&E.onPlay(l,s):u==j.SEEKING_DURING_PAUSE&&(c==G.BUFFER?C.onBufferWhenSeekingOrPaused(l,s):c==G.PLAY?C.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(l,s):c==G.PAUSE?C.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(l,s):c==G.END||c==G.AD_SKIP?C.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(l,s):c==G.BUFFER_STOP&&C.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(l,s)),b(c)&&m.getPlaybackSession().setFirstEventSent(!0);var g=0;isNaN(m.getStateMachine().getLastStateChangeTimestamp())||(g=t-m.getStateMachine().getLastStateChangeTimestamp()),m.getStateMachine().newEvent(e,t),d&&(a!=j.IDLE&&a!=j.PLAYBACK_NOT_STARTED&&a!=j.SEEKING_BEFORE_PLAYBACK&&a!=j.BUFFERING_BEFORE_PLAYBACK&&m.getPlaybackSession().getAsset().setElapsedTimestamp(L),a!=j.BUFFERING_BEFORE_PLAYBACK&&a!=j.BUFFERING_DURING_PAUSE&&a!=j.BUFFERING_DURING_PLAYBACK&&a!=j.BUFFERING_DURING_SEEKING&&a!=j.PAUSED_DURING_BUFFERING||(m.getPlaybackSession().setBufferingTimestamp(L),m.getPlaybackSession().getAsset().setBufferingTimestamp(L)),a!=j.PLAYING&&a!=j.BUFFERING_DURING_PLAYBACK||(m.getPlaybackSession().setPlaybackTimestamp(L),m.getPlaybackSession().getAsset().setPlaybackTimestamp(L)),a!=j.SEEKING_BEFORE_PLAYBACK&&a!=j.SEEKING_DURING_BUFFERING&&a!=j.SEEKING_DURING_PAUSE&&a!=j.SEEKING_DURING_PLAYBACK&&a!=j.BUFFERING_DURING_SEEKING||m.getPlaybackSession().getAsset().setSeekingTimestamp(L)),m.getLogging().log("Transition from",ce.stateToString(i),"to",ce.stateToString(a),"due to event:",G.toString(e));for(var f=0,p=O.length;f<p;f++)O[f](i,a,n,g)}else{m.getLogging().infoLog("Throttled event:",G.toString(e),"during state",ce.stateToString(i),n,F.getThrottlingDelay(),"ms");d=(o=e,r=n,function(){F.newEvent(o,t,r,!0)});N=m.getPlatformAPI().setTimeout(d,F.getThrottlingDelay())}else m.getLogging().infoLog("Ignored event:",G.toString(e),"during state",ce.stateToString(i),n)},newPseudoEvent:function(e,t,n){if(e!=G.LOAD&&e!=G.ENGAGE||m.getStateMachine().getCurrentState()==j.IDLE){e==G.ERROR&&null==n.ns_st_er&&(n.ns_st_er=J.UNKNOWN_VALUE),e==G.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=J.UNKNOWN_VALUE);var s,i,a,o,r=!0,c=!1;switch(e){case G.BIT_RATE:s="ns_st_br",i="ns_st_pbr",c=!0;break;case G.PLAYBACK_RATE:s="ns_st_rt",i="ns_st_prt",c=!0;break;case G.VOLUME:s="ns_st_vo",i="ns_st_pvo",c=!0;break;case G.WINDOW_STATE:s="ns_st_ws",i="ns_st_pws",c=!0;break;case G.AUDIO:s="ns_st_at",c=!(i="ns_st_pat");break;case G.VIDEO:s="ns_st_vt",c=!(i="ns_st_pvt");break;case G.SUBS:s="ns_st_tt",c=!(i="ns_st_ptt");break;case G.CDN:s="ns_st_cdn",c=!(i="ns_st_pcdn");break;default:r=!1}r&&n.hasOwnProperty(s)&&(c?(F.getLabels().hasOwnProperty(s)&&(o=F.getLabels()[s],n[i]=o),F.setLabel(s,n[s])):(m.getPlaybackSession().getAsset().hasInternalLabel(s)&&(o=m.getPlaybackSession().getAsset().getInternalLabel(s),n[i]=o),m.getPlaybackSession().getAsset().setInternalLabel(s,n[s]))),r&&m.getStateMachine().getCurrentState()!=j.PLAYING&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK?m.getLogging().infoLog("No measurement send for the pseudo-event:",G.toString(e),"during state",ce.stateToString(m.getStateMachine().getCurrentState()),n):(a=isNaN(L)?x:L,o=!1,((L=t)<a||M)&&(M=!(o=!0),t<a?(m.getPlaybackSession().addInternalErrorFlag("1"),m.getLogging().infoLog("System clock jump detected","to the far past")):D?(m.getPlaybackSession().addInternalErrorFlag("3"),m.getLogging().infoLog("System clock jump detected","to the future")):(m.getPlaybackSession().addInternalErrorFlag("2"),m.getLogging().infoLog("System clock jump detected","to the near past")),t=a),n.ns_st_po||(m.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?n.ns_st_po=m.getPlaybackSession().getAsset().getExpectedPlaybackPosition(t)+"":n.ns_st_po=B+""),B=parseInt(n.ns_st_po),m.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(n.ns_st_po)),m.getStateMachine().getCurrentState()!=j.IDLE&&m.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&m.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&(m.getPlaybackSession().getAsset().addElapsedTime(t),m.getPlaybackSession().getAsset().setElapsedTimestamp(t)),m.getStateMachine().getCurrentState()!=j.PLAYING&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(m.getPlaybackSession().addPlaybackTime(t),m.getPlaybackSession().setPlaybackTimestamp(t),m.getPlaybackSession().getAsset().addPlaybackTime(t),m.getPlaybackSession().getAsset().setPlaybackTimestamp(t),m.getPlaybackSession().getAsset().addInterval(parseInt(n.ns_st_po)),m.getPlaybackSession().getAsset().setPlaybackStartPosition(parseInt(n.ns_st_po))),m.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||(m.getPlaybackSession().addBufferingTime(t),m.getPlaybackSession().setBufferingTimestamp(t),m.getPlaybackSession().getAsset().addBufferingTime(t),m.getPlaybackSession().getAsset().setBufferingTimestamp(t)),t=F.createLabels(e,n,t),m.getPlaybackSession().getAsset().updateDeltaLabels(t.eventLabels),m.getPlaybackSession().getAsset().updateIndependentLabels(t.eventLabels),m.getEventManager().newEvent(t),o&&(m.getStateMachine().getCurrentState()!=j.PLAYING&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(m.getPlaybackSession().setPlaybackTimestamp(L),m.getPlaybackSession().getAsset().setPlaybackTimestamp(L)),m.getStateMachine().getCurrentState()!=j.IDLE&&m.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&m.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&m.getPlaybackSession().getAsset().setElapsedTimestamp(L),m.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&m.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||(m.getPlaybackSession().setBufferingTimestamp(L),m.getPlaybackSession().getAsset().setBufferingTimestamp(L)),newState!=j.SEEKING_BEFORE_PLAYBACK&&newState!=j.SEEKING_DURING_BUFFERING&&newState!=j.SEEKING_DURING_PAUSE&&newState!=j.SEEKING_DURING_PLAYBACK&&newState!=j.BUFFERING_DURING_SEEKING||m.getPlaybackSession().getAsset().setSeekingTimestamp(L)))}else m.getLogging().infoLog("Ignored pseudo-event:",G.toString(e),"during state",ce.stateToString(m.getStateMachine().getCurrentState()),n)},getState:function(){return m.getStateMachine().getCurrentState()},addListener:function(e){O.push(e)},removeListener:function(e){O.splice(ce.indexOf(e,O),1)},getLabel:function(e){return d[e]},getLabels:function(){return d},setLabel:function(e,t){null==t?delete d[e]:d[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&F.setLabel(t,e[t])},getPlatformAPI:function(){return m.getAppCore()?m.getAppCore().getPlatformAPI():g},getExports:function(){return c},isProperlyInitialized:function(){var e=m.getAppCore().getAppContext(),t=m.getAppCore().getSalt(),n=m.getAppCore().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){u=e},getThrottlingDelay:function(){return u},isThrottlingEnabled:function(){return a},setThrottlingEnabled:function(e){a=e},isLoadingTimeSent:function(){return t},setLoadingTimeSent:function(e){t=e},getLoadTimeOffset:function(){return n},setLoadTimeOffset:function(e){n=e},getInitTimestamp:function(){return x},setPauseOnBufferingInterval:function(e){l=e},getPauseOnBufferingInterval:function(){return l},isPauseOnBufferingEnabled:function(){return s},setPauseOnBufferingEnabled:function(e){s=e},startPausedOnBufferingTimer:function(e,s){F.stopPausedOnBufferingTimer(),i=F.getPlatformAPI().setTimeout(function(){var e={},t=ce.fixEventTime(e),n=parseInt(s.ns_st_po);e.ns_st_po=n+"",F.newEvent(G.PAUSE_ON_BUFFERING,t,e)},l)},stopPausedOnBufferingTimer:function(){null!=i&&(F.getPlatformAPI().clearTimeout(i),i=null)},stopDelayedTransitionTimer:function(){N&&(F.getPlatformAPI().clearTimeout(N),N=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(0<=n){if(n<e.length-1){for(var s=e.substring(n+1).split("&"),i=0,a=s.length;i<a;i++){var o=s[i].split("=");2==o.length?F.setLabel(o[0],t(o[1])):1==o.length&&F.setLabel(X.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return r=e},getLiveEndpointURL:function(){return r||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?r=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?r=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return m},resetPlaybackSession:function(e){var t=m.getPlaybackSession();m.setPlaybackSession(new p(m)),p.resetPlaybackSession(m,t,e)},resetHeartbeat:function(){m.getHeartbeat().pause();var e=m.getHeartbeat().getIntervals();m.setHeartbeat(new V(m)),m.getHeartbeat().setIntervals(e)}}),U=ce.isBrowser()?(R=window,document):(R={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),ce.extend(F,{prepareUrl:function(e,t){for(var n=R.encodeURIComponent||escape,s=[],i=X.LABELS_ORDER,a=e.split("?"),o=a[0],r=a[1].split("&"),c=0,l=r.length;c<l;c++){var u=r[c].split("="),d=unescape(u[0]),u=unescape(u[1]);d&&(t[d]=u)}for(var g,f={},p=0,b=i.length;p<b;p++){var m,y=i[p];!t.hasOwnProperty(y)||void 0!==(m=t[y])&&null!=m&&(f[y]=!0,s.push(n(y)+"="+n(t[y])))}for(g in t)if(t.hasOwnProperty(g)){if(f[g])continue;var _=t[g];void 0!==_&&null!=_&&s.push(n(g)+"="+n(t[g]))}return e=(e=o+"?"+s.join("&"))+(e.indexOf("&c8=")<0?"&c8="+n(U.title):"")+(e.indexOf("&c7=")<0?"&c7="+n(U.URL):"")+(e.indexOf("&c9=")<0?"&c9="+n(U.referrer):""),a=ce.browserAcceptsLargeURLs()?X.URL_LENGTH_LIMIT:X.RESTRICTED_URL_LENGTH_LIMIT,e.length>a&&0<e.indexOf("&")&&(o=e.substr(0,a-8).lastIndexOf("&"),e=(e.substring(0,o)+"&ns_cut="+n(e.substring(o+1))).substr(0,a)),e}}),m=new re(F),ce.getNamespace().comScore?(c=ce.getNamespace().comScore.exports,m.setAppCore(c.c())):m.setAppCore(null),e.publisherId&&(F.setLabel("c2",e.publisherId),!(o=e.secure)&&m.getAppCore()?o=m.getAppCore().isSecure():!o&&ce.isBrowser()&&(o=ce.isWebSecure()),F.setLiveEndpointURL((o?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2")),e.liveEndpointURL&&F.setLiveEndpointURL(e.liveEndpointURL),m.setKeepAlive(new W(m)),m.setHeartbeat(new V(m)),m.setEventManager(new K(m)),m.setStateMachine(new q),m.setLogging(new le(X.LOG_NAMESPACE,e.debug)),m.setPlaybackSession(new p(m)),y=new Q(m),_=new ee(m),v=new ne(m),h=new se(m),S=new H(m),P=new $(m),A=new Z(m),k=new Y(m),E=new te(m),w=new ie(m),T=new ae(m),I=new oe(m),C=new z(m),t=!1,n=0,x=+new Date,a=!(s=!0),O=[],e.systemClockJumpDetection&&F.enableSystemClockJumpsDetection(parseInt(e.systemClockJumpDetectionInterval))},re=function(e){var t,n,s,i,a,o,r;ce.extend(this,{getAppCore:function(){return t},getStaCore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return s},getHeartbeat:function(){return i},getKeepAlive:function(){return a},getPlaybackSession:function(){return o},getLogging:function(){return r},setAppCore:function(e){t=e},setKeepAlive:function(e){a=e},setHeartbeat:function(e){i=e},setEventManager:function(e){n=e},setStateMachine:function(e){s=e},setPlaybackSession:function(e){o=e},setLogging:function(e){r=e}})},c=function(e){function s(e,t,n){var s;s="object"==d(t)?t:"object"==d(n)?n:{},t="number"==typeof t?t:"number"==typeof n?n:NaN,G.toString(e)&&(s=ce.jsonObjectToStringDictionary(s),n=ce.fixEventTime(s),s.ns_st_po||isNaN(t)||(s.ns_st_po=ce.parseInteger(t,0)+""),e==G.PLAY||e==G.PAUSE||e==G.BUFFER||e==G.END||e==G.SEEK_START||e==G.AD_SKIP||e==G.BUFFER_STOP?i.newEvent(e,n,s):i.newPseudoEvent(e,n,s))}function t(){a&&i.getStaSM().getStateMachine().getCurrentState()!=j.IDLE&&n.notifyEnd()}var i,n=this,a=!0;ce.extend(this,{isProperlyInitialized:function(){return i.isProperlyInitialized()},reset:function(e){s(G.END);var t=i;t.getStaSM().getKeepAlive().stop(),t.getStaSM().getHeartbeat().pause(),i=new r(t.getConfiguration()),p.resetPlaybackSession(i.getStaSM(),t.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){i.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return i.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){i.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return i.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){i.getStaSM().getHeartbeat().setIntervals(e)},notifyPlay:function(e,t){i.getStaSM().getLogging().apiCall("notifyPlay",e,t),s(G.PLAY,e,t)},notifyPause:function(e,t){i.getStaSM().getLogging().apiCall("notifyPause",e,t),s(G.PAUSE,e,t)},notifyEnd:function(e,t){i.getStaSM().getLogging().apiCall("notifyEnd",e,t),s(G.END,e,t)},notifyBufferStart:function(e,t){i.getStaSM().getLogging().apiCall("notifyBufferStart",e,t),s(G.BUFFER,e,t)},notifyBufferStop:function(e,t){i.getStaSM().getLogging().apiCall("notifyBufferStop",e,t),s(G.BUFFER_STOP,e,t)},notifyLoad:function(e,t){i.getStaSM().getLogging().apiCall("notifyLoad",e,t),s(G.LOAD,e,t)},notifyEngage:function(e,t){i.getStaSM().getLogging().apiCall("notifyEngage",e,t),s(G.ENGAGE,e,t)},notifySeekStart:function(e,t){i.getStaSM().getLogging().apiCall("notifySeekStart",e,t),s(G.SEEK_START,e,t)},notifySkipAd:function(e,t){i.getStaSM().getLogging().apiCall("notifySkipAd",e,t),s(G.AD_SKIP,e,t)},notifyCallToAction:function(e,t){i.getStaSM().getLogging().apiCall("notifyCallToAction",e,t),s(G.CTA,e,t)},notifyError:function(e,t){i.getStaSM().getLogging().apiCall("notifyError",e,t),s(G.ERROR,e,t)},notifyTransferPlayback:function(e,t){i.getStaSM().getLogging().apiCall("notifyTransferPlayback",e,t),s(G.TRANSFER,e,t)},notifyDrmFail:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmFail",e,t),s(G.DRM_FAILED,e,t)},notifyDrmApprove:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmApprove",e,t),s(G.DRM_APPROVED,e,t)},notifyDrmDeny:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmDeny",e,t),s(G.DRM_DENIED,e,t)},notifyChangeBitrate:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeBitrate",e,t,n),null!=e&&((n=n||{}).ns_st_br=e+"",s(G.BIT_RATE,n,t))},notifyChangePlaybackRate:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangePlaybackRate",e,t,n),null!=e&&((n=n||{}).ns_st_rt=e+"",s(G.PLAYBACK_RATE,n,t))},notifyChangeVolume:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeVolume",e,t,n),null!=e&&((n=n||{}).ns_st_vo=e+"",s(G.VOLUME,n,t))},notifyChangeWindowState:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeWindowState",e,t,n),null!=e&&((n=n||{}).ns_st_ws=e+"",s(G.WINDOW_STATE,n,t))},notifyChangeAudioTrack:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeAudioTrack",e,t,n),null!=e&&((n=n||{}).ns_st_at=e+"",s(G.AUDIO,n,t))},notifyChangeVideoTrack:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeVideoTrack",e,t,n),null!=e&&((n=n||{}).ns_st_vt=e+"",s(G.VIDEO,n,t))},notifyChangeSubtitleTrack:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeSubtitleTrack",e,t,n),null!=e&&((n=n||{}).ns_st_tt=e+"",s(G.SUBS,n,t))},notifyChangeCdn:function(e,t,n){i.getStaSM().getLogging().apiCall("notifyChangeCdn",e,t,n),null!=e&&((n=n||{}).ns_st_cdn=e+"",s(G.CDN,n,t))},notifyCustomEvent:function(e,t){i.getStaSM().getLogging().apiCall("notifyCustomEvent",e,t),s(G.CUSTOM,e,t)},getLabels:function(){return i.getLabels()},getState:function(){return i.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){i.setLabels(e)},getLabel:function(e){return i.getLabel(e)},setLabel:function(e,t){i.setLabel(e,t)},getLoadTimeOffset:function(){return i.getLoadTimeOffset()},setLoadTimeOffset:function(e){i.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return i.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return i.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return i.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){i.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return i.isThrottlingEnabled()},setThrottlingEnabled:function(e){i.setThrottlingEnabled(e)},setThrottlingDelay:function(e){i.setThrottlingDelay(e)},getThrottlingDelay:function(){return i.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){i.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return i.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){i.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=ce.jsonObjectToStringDictionary(e);var t=i.getStaSM().getStateMachine().getCurrentState();t!=j.IDLE&&(i.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",ce.stateToString(t)),n.notifyEnd()),i.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&i.resetPlaybackSession(),i.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return X.STREAMINGANALYTICS_VERSION},addListener:function(e){i.addListener(e)},removeListener:function(e){i.removeListener(e)},addMeasurementListener:function(e){i.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){i.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return i.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){a=e},isExitEndEventEnabled:function(){return a},getPlatformAPI:function(){return i.getPlatformAPI()},_getLogHistory:function(){return i.getStaSM().getLogging().getLogHistory()}}),ce.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",t),window.addEventListener("unload",t)):window.attachEvent&&(window.attachEvent("onbeforeunload",t),window.attachEvent("onunload",t))),e=ce.extend({},e),(i=new r(e)).getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)};function l(r){var s,n,t,i,a,o,c,l,u,d,g,f,p,b,m,y,_=this;ce.extend(this,{resetAsset:function(){var e=s;s=new v,v.resetAsset(e,s)},hashExists:function(e){return null!=l[e]},storeHash:function(e){l[e]={}},removeHash:function(e){delete l[e]},storeAssetPlaybackCounters:function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].clipNumber===s.getClipNumber()){ce.extend(l[e],{segmentPlaybackCounter:s.getSegmentPlaybackCounter(),assetLoadCounter:s.getAssetLoadCounter(),assetPlaybackCounter:s.getAssetPlaybackCounter(),lowestPartNumberPlayed:s.getLowestPartNumberPlayed(),seeking:s.isSeeking(),seekingTimeBeforeEnd:s.getSeekingTimeBeforeEnd(),seekingStartPosition:s.getSeekStartPosition(),segmentPlaybackIntervals:s.getSegmentPlaybackIntervals(),videoTrack:s.getVideoTrack(),audioTrack:s.getAudioTrack(),subtitleTrack:s.getSubtitleTrack(),cdn:s.getCDN(),playSequenceCounter:s.getPlaySequenceCounter(),previousUniquePlaybackInterval:s.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:s.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:s.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return l[e]},getClipNumber:function(e){return l[e].clipNumber},getMaxClipNumber:function(){return u},storeClipNumber:function(e,t){l[e].clipNumber=t,u<t&&(u=t)},setLabels:function(e){null!=e&&ce.extend(o,e)},getLabels:function(){return o},setLabel:function(e,t){var n={};n[e]=t,_.setLabels(n)},getLabel:function(e){return o[e]},getAsset:function(){return s},addInternalErrorFlag:function(e){for(var t=0;t<y.length;++t)if(y[t]==e)return;y.push(e)},createLabels:function(e,t){var n=e||{},e=ce.isEmpty(n.ns_st_pa)?_.getPlaybackTime():parseInt(n.ns_st_pa);return n.ns_st_pa=e+(isNaN(i)?0:t-i)+"",n.ns_st_pp=p+"",n.ns_st_sp=b+"",n.ns_st_bp=m+"",d||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),s.isPlaybackStarted()&&(n.ns_st_ppc=g+"",n.ns_st_psq=f+""),0<y.length&&(n.ns_st_ie=(n.ns_st_ie?n.ns_st_ie+";":"")+y.join(";")),ce.extend(n,a,o),r.getPlaybackSession().getAsset().createLabels(n,t),n},incrementPlayCounter:function(){b++},incrementPauses:function(){p++},addPlaybackTime:function(e){var t;isNaN(i)||(t=_.getPlaybackTime(),t+=e-i,_.setPlaybackTime(t),i=NaN)},addBufferingTime:function(e){var t;isNaN(n)||(t=_.getBufferingTime(),t+=e-n,_.setBufferingTime(t),n=NaN)},getBufferingTime:function(){return m},setBufferingTime:function(e){m=e},getPlaybackTime:function(){return t},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){t=e},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return p},setPauses:function(e){p=e},isPlaybackSessionStarted:function(){return c},setPlaybackSessionStarted:function(e){c=e},getPlaybackCounter:function(){return g},incrementPlaybackCounter:function(){g++},setFirstEventSent:function(e){d=e},setPlaySequenceCounter:function(e){f=e},incrementPlaySequenceCounter:function(){f++},getPlaybackSessionID:function(){return a.ns_st_id},setAsset:function(e,t){r.getLogging().apiCall("setAsset",e,t),e=ce.jsonObjectToStringDictionary(e);var n=r.getStateMachine().getCurrentState();n!=j.IDLE&&(r.getLogging().infoLog("Ending the current Clip. It was in state:",ce.stateToString(n)),o={},r.getStaCore().newEvent(G.END,ce.fixEventTime(o),o));var s="",i=0;if(null!=e.ns_st_cn)s=e.ns_st_cn;else for(var a=0;a<X.STANDARD_METADATA_LABELS.length;a++)e[X.STANDARD_METADATA_LABELS[a]]&&(s+=X.STANDARD_METADATA_LABELS[a]+":"+e[X.STANDARD_METADATA_LABELS[a]]+";");var n=_,o=n.getAsset(),i=o.isAssetStarted()?(n.hashExists(o.getHash())||(n.storeHash(o.getHash()),n.storeClipNumber(o.getHash(),o.getClipNumber())),n.storeAssetPlaybackCounters(),n.hashExists(s)?n.getClipNumber(s):ce.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):n.getMaxClipNumber()+1):n.hashExists(s)?n.getClipNumber(s):o.getClipNumber();n.resetAsset(),(o=n.getAsset()).setHash(s),o.setClipNumber(i),o.setLabels(e);i=n.getStoredAssetRegisters(s);i&&(o.setAssetStarted(!0),o.setSegmentPlaybackCounter(i.segmentPlaybackCounter),o.setAssetLoadCounter(i.assetLoadCounter),o.setAssetPlaybackCounter(i.assetPlaybackCounter),o.setLowestPartNumberPlayed(i.lowestPartNumberPlayed),o.setSeeking(i.seeking),o.setSeekingTimeBeforeEnd(i.seekingTimeBeforeEnd),o.setSeekStartPosition(i.seekingStartPosition),o.setAssetPlaybackIntervals(i.segmentPlaybackIntervals),i.videoTrack&&o.setVideoTrack(i.videoTrack),i.audioTrack&&o.setAudioTrack(i.audioTrack),i.subtitleTrack&&o.setSubtitleTrack(i.subtitleTrack),i.cdn&&o.setCDN(i.cdn),o.setPlaySequenceCounter(i.playSequenceCounter),o.setPreviousUniquePlaybackInterval(i.previousUniquePlaybackInterval),o.setPreviousEventIndependentUniquePlaybackInterval(i.previousEventIndependentUniquePlaybackInterval),o.setPreviousLongestPlaybackInterval(i.previousLongestPlaybackInterval)),o.incrementAssetLoadCounter(),o.isAssetStarted()&&t&&n.incrementPlayCounter(),t&&(n.setPlaySequenceCounter(0),o.setPlaybackSessionLooping(!0)),!ce.exists(e.ns_st_tp)&&ce.exists(e.ns_st_ad)&&ce.isNotEmpty(e.ns_st_ad)&&"0"!==e.ns_st_ad&&o.setInternalLabel("ns_st_tp","1")}}),s=new v,(a={}).ns_st_id=+new Date+"",o={},i=n=NaN,d=c=!(l={}),b=1,m=f=p=g=u=t=0,y=[]}function u(){var t,n,d,g,f,s,i,p,b,m,a,o,y,_,r,c,l,v,h,S,P,A,k,E,u,w,T,e,I,C,x,L,N,O,B,D,R,U,F,M,G,j,K,V,W,q,z,H,Y=this,$=X.INTERVAL_MERGE_TOLERANCE;ce.extend(this,{getHash:function(){return t},setHash:function(e){t=e},setPlaybackIntervalMergeTolerance:function(e){$=e},getPlaybackIntervalMergeTolerance:function(){return $},setInternalLabel:function(e,t){g[e]=t},getInternalLabel:function(e){return g[e]},hasInternalLabel:function(e){return null!=g[e]},setLabels:function(e){e&&ce.extend(f,e)},getLabels:function(){return f},setLabel:function(e,t){f[e]=t},getLabel:function(e){return f[e]},hasLabel:function(e){return e in f},getClipNumber:function(){return parseInt(Y.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){Y.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return Y.hasLabel("ns_st_pn")?parseInt(Y.getLabel("ns_st_pn")):parseInt(Y.getInternalLabel("ns_st_pn"))},createLabels:function(e,t){var n=e||{},e=ce.isEmpty(n.ns_st_pt)?Y.getPlaybackTime():parseInt(n.ns_st_pt);n.ns_st_pt=e+(isNaN(p)?0:t-p)+"",n.ns_st_dpt=e+(isNaN(p)?0:t-p)-b+"",n.ns_st_ipt=e+(isNaN(p)?0:t-p)-m+"";e=ce.isEmpty(n.ns_st_et)?Y.getElapsedTime():parseInt(n.ns_st_et);n.ns_st_et=e+(isNaN(y)?0:t-y)+"",n.ns_st_det=e+(isNaN(y)?0:t-y)-_+"";e=ce.isEmpty(n.ns_st_bt)?Y.getBufferingTime():parseInt(n.ns_st_bt);n.ns_st_bt=e+"",n.ns_st_dbt=e+(isNaN(w)?0:t-w)-T+"";for(var s,t=parseInt(n.ns_st_po),i=ce.addNewPlaybackInterval(ce.cloneObject(Y.getSegmentPlaybackIntervals()),v,t,$),a=ce.addNewPlaybackInterval(ce.cloneObject(Y.getAssetPlaybackIntervals()),v,t,$),o=0,r=0,c=0;c<i.length;c++)o+=s=Math.abs(i[c].end-i[c].start),r<s&&(r=s);for(var l=0,u=0,c=0;c<a.length;c++)l+=s=Math.abs(a[c].end-a[c].start),u<s&&(u=s);n.ns_st_upc=o+"",n.ns_st_dupc=o-h+"",n.ns_st_iupc=o-S+"",n.ns_st_iupc=S<o?o-S+"":"0",n.ns_st_lpc=r+"",n.ns_st_dlpc=r-P+"",n.ns_st_upa=l+"",n.ns_st_dupa=l-A+"",n.ns_st_iupa=k<l?l-k+"":"0",n.ns_st_lpa=u+"",n.ns_st_dlpa=u-E+"";t=ce.isEmpty(n.ns_st_pc)?Y.getPauses():parseInt(n.ns_st_pc);n.ns_st_pc=t+"",n.ns_st_dpc=t-G+"";t=ce.isEmpty(n.ns_st_skc)?Y.getSeeks():parseInt(n.ns_st_skc);n.ns_st_skc=t+"",n.ns_st_dskc=t-K+"";t=ce.isEmpty(n.ns_st_bc)?Y.getBuffers():parseInt(n.ns_st_bc);n.ns_st_bc=t+"",n.ns_st_dbc=t-I+"";t=ce.isEmpty(n.ns_st_skt)?Y.getSeekingTime():parseInt(n.ns_st_skt);n.ns_st_skt=t+"",n.ns_st_dskt=t-N+"";t=ce.isEmpty(n.ns_st_ska)?Y.getSeekingAmount():parseInt(n.ns_st_ska);return n.ns_st_ska=t+"",n.ns_st_dska=t-R+"",d&&(n.ns_st_spc=V+"",n.ns_st_apc=W+"",n.ns_st_sq=q+"",n.ns_st_asq=z+""),n.ns_st_sc=d||0!=H?H+"":"1",ce.extend(n,g,f),n},updateDeltaLabels:function(e){b=parseInt(e.ns_st_pt),_=parseInt(e.ns_st_et),T=parseInt(e.ns_st_bt),h=parseInt(e.ns_st_upc),P=parseInt(e.ns_st_lpc),A=parseInt(e.ns_st_upa),E=parseInt(e.ns_st_lpa),G=parseInt(e.ns_st_pc),K=parseInt(e.ns_st_skc),I=parseInt(e.ns_st_bc),N=parseInt(e.ns_st_skt),R=parseInt(e.ns_st_ska),Y.setSeekingDirection(0)},updateIndependentLabels:function(e){m=parseInt(e.ns_st_pt),S=parseInt(e.ns_st_upc),k=parseInt(e.ns_st_upa)},getVideoTrack:function(){return Y.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){Y.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return Y.getInternalLabel("ns_st_at")},setAudioTrack:function(e){Y.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return Y.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){Y.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return Y.getInternalLabel("ns_st_cdn")},setCDN:function(e){Y.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return c},setAssetPlaybackIntervals:function(e){c=e},getAssetPlaybackIntervals:function(){return l},incrementPauses:function(){M++},incrementSeeks:function(){j++},incrementPlayCounter:function(){q++},getPlayCounter:function(){return q},getBufferingTime:function(){return u},setBufferingTime:function(e){u=e},addBufferingTime:function(e){var t;isNaN(w)||(t=Y.getBufferingTime(),t+=e-w,Y.setBufferingTime(t),w=NaN)},setPlaybackStartPosition:function(e){v=parseInt(e)},getPlaybackStartPosition:function(){return v},addInterval:function(e){isNaN(v)||isNaN(e)||(c=ce.addNewPlaybackInterval(c,v,e,$),l=ce.addNewPlaybackInterval(l,v,e,$),v=NaN)},getElapsedTime:function(){return o},setElapsedTime:function(e){o=e},addElapsedTime:function(e){var t;isNaN(y)||(t=Y.getElapsedTime(),t+=e-y,Y.setElapsedTime(t),y=NaN)},getElapsedTimestamp:function(){return y},setElapsedTimestamp:function(e){y=e},addPlaybackTime:function(e){var t;isNaN(p)||(t=Y.getPlaybackTime(),t+=e-p,Y.setPlaybackTime(t),p=NaN)},getPlaybackTime:function(){return i},getExpectedPlaybackPosition:function(e){return isNaN(p)?a:a+(e-p)},setPlaybackTimeOffset:function(e){a=e},getPlaybackTimeOffset:function(){return a},setPlaybackTime:function(e){i=e},getPlaybackTimestamp:function(){return p},setPlaybackTimestamp:function(e){p=e},setPreviousPlaybackTime:function(e){b=e},setPreviousPlaybackTimestamp:function(e){0},getBufferingTimestamp:function(){return w},setBufferingTimestamp:function(e){w=e},getPauses:function(){return M},setPauses:function(e){M=e},getSeeks:function(){return j},setSeeks:function(e){j=e},setSeeking:function(e){C=e},isSeeking:function(){return C},setCollectingSeekingTime:function(e){B=e},isCollectingSeekingTime:function(){return B},setAssetStarted:function(e){n=e},isAssetStarted:function(){return n},setPlaybackStarted:function(e){d=e},isPlaybackStarted:function(){return d},setSeekingTimestamp:function(e){x=e},getSeekingTimestamp:function(){return x},addSeekingTime:function(e){var t;isNaN(x)||(t=Y.getSeekingTime(),t+=e-x,Y.setSeekingTime(t),x=NaN)},getSeekingTime:function(){return L},setSeekingTime:function(e){L=e},setSeekingTimeBeforeEnd:function(e){U=e},getSeekingTimeBeforeEnd:function(){return U},setSeekStartPosition:function(e){O=e},getSeekStartPosition:function(){return O},setSeekingAmount:function(e){D=e},getSeekingAmount:function(){return D},addSeekingAmount:function(e){var t,n=Y.getSeekingAmount();n+=Math.abs(e-O),Y.setSeekingAmount(n),O==e?t=0:e<O?t=-1:O<e&&(t=1),Y.setSeekingDirection(t),O=0},getSeekingDirection:function(){return parseInt(Y.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){Y.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){l=[],K=j=R=D=N=L=_=o=E=k=A=q=G=M=I=e=T=u=m=b=i=0},incrementSegmentPlaybackCounter:function(){V++},incrementAssetLoadCounter:function(){H++},incrementAssetPlaybackCounter:function(){W++},getPreviousUniquePlaybackInterval:function(){return h},setPreviousUniquePlaybackInterval:function(e){h=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return S},setPreviousEventIndependentUniquePlaybackInterval:function(e){S=e},setPreviousLongestPlaybackInterval:function(e){P=e},getPreviousLongestPlaybackInterval:function(){return P},resetAssetPlaybackIntervals:function(){l=[],E=k=A=0},setSegmentPlaybackCounter:function(e){V=e},setAssetLoadCounter:function(e){H=e},setAssetPlaybackCounter:function(e){W=e},setLowestPartNumberPlayed:function(e){r=e},getSegmentPlaybackCounter:function(){return V},getAssetLoadCounter:function(){return H},getAssetPlaybackCounter:function(){return W},getLowestPartNumberPlayed:function(){return r},getBuffers:function(){return e},incrementBufferCount:function(){e++},getPreviousBufferingTime:function(){return T},setPlaySequenceCounter:function(e){z=e},incrementPlaySequenceCounter:function(){z++},getPlaySequenceCounter:function(){return z},isPlaybackSessionLooping:function(){return F},setPlaybackSessionLooping:function(e){F=e},enableAutoCalculatePositions:function(e){s=!!e},isAutoCalculatePositionsEnabled:function(){return s}}),g={ns_st_cl:"0",ns_st_pn:"1",ns_st_tp:"0",ns_st_cn:"1",ns_st_skd:"0",ns_st_ci:"0",c3:"*null",c4:"*null",c6:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ct:"*null"},n=d=!(f={}),t=J.UNKNOWN_VALUE,s=!0,c=[],x=w=v=y=p=NaN,H=z=q=W=V=K=j=G=M=R=D=N=L=U=O=I=e=T=u=E=k=A=P=S=h=m=_=r=o=b=a=i=0,F=B=C=!(l=[])}return c.PlayerEvents=G,c.InternalStates=j,c.ImplementationType=f,c.Constants=X,c}(),e.ReducedRequirementsStreamingAnalytics=e.ReducedRequirementsStreamingAnalytics||(g={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},f={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},p=e.StreamingAnalytics,b=e.StreamingAnalytics.InternalStates||null,m=e.StreamingAnalytics.ImplementationType||null,y=null!=e.StreamingAnalytics.InternalStates&&null!=e.StreamingAnalytics.ImplementationType,_=e.StreamingAnalytics.Constants,s.ContentType=g,s.AdType=f,s),e;function s(e){function t(){y&&(ce.exists(e)&&(e.customerC2||e.publisherId)||ce.getNamespace().comScore?c=new p(e):d.error("Cannot instantiate StreamingAnalytics","The property publisherId was not provided (or incorrectly provided) in the StreamingAnalytics configuration."),c&&c.setLabel("ns_st_it",m.toString(m.REDUCED)))}function n(e){for(var t in _.STANDARD_METADATA_LABELS)if(_.STANDARD_METADATA_LABELS.hasOwnProperty(t)&&(n=_.STANDARD_METADATA_LABELS[t],s=a,t=e,!(ce.exists(n)&&ce.exists(s)&&ce.exists(t)&&(s.hasOwnProperty(n)&&t.hasOwnProperty(n)&&s[n]===t[n]||!s.hasOwnProperty(n)&&!t.hasOwnProperty(n)))))return;var n,s;return 1}function s(e){e=e||{};e.ns_st_ad="1",e.ns_st_an=++o+"",c.getPlaybackSession().setAsset(e),c.notifyPlay(),r=!1}function i(e,t){u==l.None&&(u=t),r&&u==t&&n(e)?(c.getPlaybackSession().getAsset().setLabels(e),c.getState()!=b.PLAYING&&c.notifyPlay()):(e=e,c.getPlaybackSession().setAsset(e),a=e,c.notifyPlay()),r=!0,u=t}var a=null,o=0,r=!1,c=null,l={None:0,AudioContent:1,VideoContent:2},u=l.None,d=new le("TTSTA",(e||{}).debug);ce.extend(this,{playVideoAdvertisement:function(e,t){var n;c&&(d.apiCall("playVideoAdvertisement",e,t),n={ns_st_ct:"va"},t?n.ns_st_ct="va"+t:d.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=f.LinearLive&&t!=f.BrandedOnDemandLive||(n.ns_st_li="1"),e&&ce.extend(n,e),s(n))},playAudioAdvertisement:function(e,t){var n;c&&(d.apiCall("playAudioAdvertisement",e,t),n={ns_st_ct:"aa"},t?n.ns_st_ct="aa"+t:d.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=f.LinearLive&&t!=f.BrandedOnDemandLive||(n.ns_st_li="1"),e&&ce.extend(n,e),s(n))},playVideoContentPart:function(e,t){var n;c&&(d.apiCall("playVideoContentPart",e,t),n={ns_st_ct:"vc"},t?n.ns_st_ct="vc"+t:d.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=g.Live&&t!=g.UserGeneratedLive||(n.ns_st_li="1"),e&&ce.extend(n,e),i(n,l.VideoContent))},playAudioContentPart:function(e,t){var n;c&&(d.apiCall("playAudioContentPart",e,t),n={ns_st_ct:"ac"},t?n.ns_st_ct="ac"+t:d.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=g.Live&&t!=g.UserGeneratedLive||(n.ns_st_li="1"),e&&ce.extend(n,e),i(n,l.AudioContent))},stop:function(){c&&(d.apiCall("stop"),c.notifyPause())}}),t()}})}.call(t,n(284)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);

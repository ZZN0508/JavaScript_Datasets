var googleImaVansAdapter=function(){var i,a,d,s,c,I,r,o,u,E=function(e){function n(){var n=v();return{addCallback:function(e){n.addCallback(e,1)},executeCallbacks:n.executeCallbacks}}function o(c){function I(e,n){var t,i,r,o=L.getFwServerDomain();try{t=["//",o,e,"?videoId=",b.getVideoId(),(i=n,r="",Object.keys(i).forEach(function(e){"advEntityId"!=e&&"pubEntityId"!=e&&"partner"!=e&&(r+="&"+e+"="+i[e])}),r)].join("")}catch(e){h.report(y.DIAGNOSTIC.BUILD_SRC_URL,e)}return t}var u=!1,E=!1,g=new n,A=!1;return{injectTagScript:function(e,n){var t,i,r,o,a,d=L.getDocument();if(o=c&&c.ownerDocument,a=o&&o.parentWindow,!(o&&o.defaultView||a))E=!0,b.giveUpOnHandshaking();else try{(t=d.createElement("script")).src=I(e,n),t.addEventListener("load",function(e){L.sendMonitoringDebugPixel(y.MONITORING.FWJS_LOAD_SUCCESS,w.buildMonitoringQS())}),t.addEventListener("error",function(e){b.giveUpOnHandshaking(),L.sendMonitoringDebugPixel(y.MONITORING.FWJS_LOAD_ERROR,w.buildMonitoringQS())}),i=t,s(),u||(r=setInterval(s,200))}catch(e){b.giveUpOnHandshaking(),L.sendMonitoringPixel(y.MONITORING.INJECTION_ERR)}function s(){!u&&c.parentNode?(c.parentNode.appendChild(i),clearInterval(r),E=u=!0,L.sendMonitoringDebugPixel(y.MONITORING.FWJS_INJECTED,w.buildMonitoringQS())):A&&(E=!0,clearInterval(r),b.giveUpOnHandshaking()),E&&g.executeCallbacks()}},sendInjectionDiagnostics:function(){var e=c&&c.ownerDocument,n=c&&c.parentNode,t=e&&(e.defaultView||e.parentWindow),i=y.MONITORING.AD_NODE_TYPE+"_"+(c?c.constructor.name||c.nodeName||typeof c:"null");c||L.sendMonitoringDebugPixel(y.MONITORING.AD_NODE_NULL,w.buildMonitoringQS()),c&&!n&&L.sendMonitoringDebugPixel(y.MONITORING.AD_NODE_DETACHED,w.buildMonitoringQS()),c&&!e&&L.sendMonitoringDebugPixel(y.MONITORING.AD_NODE_NO_DOC,w.buildMonitoringQS()),e&&!t&&L.sendMonitoringDebugPixel(y.MONITORING.AD_NODE_NO_WINDOW,w.buildMonitoringQS()),L.sendMonitoringDebugPixel(i,w.buildMonitoringQS())},onInjectionResolution:function(e){g.addCallback(e),E&&g.executeCallbacks()},resolveInjection:function(){A=!0}}}var u,E,t,i,r,a,d,s,c,I,g,A,p,f,l,N,O,S,_,D,T={init:function(e,n,t){e=function(e,n,t){var i=["//"+L.getFwServerDomain(),"/db2/video/",n+"/",t+"/","skeleton.js?videoId=",b.getVideoId()].join("");n=function(e){i=[i,"&adsafe_url=",e.val,"&adsafe_type=",e.key].join("")};try{e.urls.forEach(n),i=[i,"&adsafe_jsinfo=br:",e.br].join("")}catch(e){h.report(y.DIAGNOSTIC.BUILD_VIDEOAPI_URL,e)}return i}(x(),e,n),D=t,L.sendUrlRequest(e,F)}},v=function(){var i=[];return{addCallback:function(e,n){var t=0;n=n||Number.MAX_VALUE,i.push(function(){t<n&&(t++,e.apply({},arguments))})},executeCallbacks:function(){var n=arguments;i.forEach(function(e){e.apply({},n)})}}},m=(_=window,{getWin:function(){return _},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?_=e.defaultView:e&&e.parentWindow?_=e.parentWindow:h.report(y.DIAGNOSTIC.SET_CONTEXT,{message:""})},getDoc:function(){return _.document}}),R=(f=!(p=[]),l=function(n){var t="";return Object.keys(n).forEach(function(e){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(e)&&(t+="&"+e+"="+n[e])}),t},N=function(e){if(b.isEstablished())try{(n=L.stringify(e))&&("AdImpression"===e.messageType?L.getWindow()[A](n):L.getWindow().postMessage(n,"*"))}catch(e){h.report(y.DIAGNOSTIC.DISPATCH_MESSAGE,e)}else if(b.canNeverBeEstablished()){var n=L.getFwServerDomain(),t=R.config;try{"AdImpression"===e.messageType&&(R.isCmTag?L.sendUrlRequest(["//"+n,"/mon?",l(t)].join("")):R.isFwTag&&L.sendUrlRequest(["//"+n,"/rfw/st/",t.advEntityId+"/"+t.pubEntityId,"/skeleton.js"].join("")))}catch(e){h.report(y.DIAGNOSTIC.DISPATCH_MESSAGE,e)}}else try{p.push(e)}catch(e){h.report(y.DIAGNOSTIC.CACHE_MESSAGE,e)}},O=function(e,n){try{N({messageType:e,id:b.getVideoId(),time:L.now(),partner:C.getPartnerCode(),eventData:n})}catch(e){h.report(y.DIAGNOSTIC.SEND_EVENT,e)}},S={AdImpression:function(e,n){var t=V.getInjector();f||(n&&(n.ext_passthrough=R.passThroughObj),f=!0,L.sendMonitoringDebugPixel(y.MONITORING.AD_IMPRESSION,R.monitoringQS()),t.onInjectionResolution(function(){O(e,n)}),t.resolveInjection())},AdStopped:G,AdVideoComplete:G,AdError:function(e,n){L.sendMonitoringDebugPixel(y.MONITORING.AD_ERROR,R.monitoringQS()),O(e,n)}},{sendEvent:function(e,n){var t=S[e]||O;V.vans.hasBegun()&&t(e,n)},setImpressionCallback:function(e){A=e},flushUnsentEvents:function(){try{p.forEach(N)}catch(e){h.report(y.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,e)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){f=!1,p.length=0}}),h={report:function(e,n,t){if(!g[e])try{g[e]=!0;var i="//"+L.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(C.getPartnerCode())+"_"+e+"&err:"+encodeURIComponent(n.message);t&&(i+="&config:"+encodeURIComponent(JSON.stringify(t))),L.sendUrlRequest(i)}catch(e){}}},C={initCM:function(e,n){P.initCM(e,n)},initFW:function(e,n,t){P.initFW(e,n,t)},getPartnerCode:function(){return V.get().partnerCode},getPassThroughObj:function(){return V.get().passThroughObj},getAltMonDomain:function(){return V.get().monDomain},hasDebugEnabled:function(){return V.get().debugEnabled}},b=(c=s=!(g={}),{getVideoId:I=function(){return d=d||L.generateUID()},setNodeInterface:function(e){var n,t,i,r=I();try{n="IASid"+r,t="blockAd"+r,i="getIasVidBridgeVersion"+r,e.className+=" integral-vid-"+r,e[t]=L.noop,e[n]=U,e[i]=function(){return"2"},e.getVersion=function(){return y.INTERNAL_VERSION}}catch(e){h.report(y.DIAGNOSTIC.SET_NODE_INTERFACE,e)}},isEstablished:function(){return s},canNeverBeEstablished:function(){return c},giveUpOnHandshaking:function(){c=!0,R.flushUnsentEvents()},resetHandshake:function(){c=s=!1}}),M=function(){function i(e){var n,t=!1;try{t="unloadComplete"===(n=JSON.parse(e.data)).msg&&n.id==b.getVideoId()}catch(e){}t&&(r(),L.getWindow().removeEventListener("message",i))}var r,n=!1;return{registerMeasurementCompleteHandler:function(e){r=e,n||(L.getWindow().addEventListener("message",i),n=!0)}}},y={INTERNAL_VERSION:"3.6.0",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}}},P={initCM:function(e,n){var t;if(!V.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");m.setWin(n),V.setPreErrorConfig(e,"cm");try{if(!e.anId)throw Error("Missing anId");V.vans.begin(),t=new o(n),V.setInjector(t),V.setConfig(e),L.sendMonitoringDebugPixel(y.MONITORING.VANS_INITIALIZED,w.buildMonitoringQS()),L.sendMonitoringDebugPixel(y.MONITORING.IMPRESSION_DOMAIN_BLOCKING,w.buildMonitoringQS(),L.getFwServerDomain()),t.sendInjectionDiagnostics(),j("/jsvid",e,n,t)}catch(e){h.report(y.DIAGNOSTIC.INIT_CM,e)}}},initFW:function(e,n,t){var i,r;if(!V.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");m.setWin(n),V.setPreErrorConfig(e,"fw");try{if(!e.advEntityId||!e.pubEntityId)throw Error("Missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);V.vans.begin(),r=new o(n),V.setInjector(r),V.setConfig(e),L.sendMonitoringDebugPixel(y.MONITORING.VANS_INITIALIZED,w.buildMonitoringQS()),L.sendMonitoringDebugPixel(y.MONITORING.IMPRESSION_DOMAIN_BLOCKING,w.buildMonitoringQS(),L.getFwServerDomain()),r.sendInjectionDiagnostics(),t&&T.init(e.advEntityId,e.pubEntityId,t),i="/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js",j(i,e,n,r)}catch(e){h.report(y.DIAGNOSTIC.INIT_FW,e)}}}},w={buildMonitoringQS:function(){var e=y.PSUEDO_IMPRESSION_ID_PREFIX+b.getVideoId(),n=V.getInfoParams();return["&chanId="+n.anId,"planId="+n.advEntityId,"placementId="+n.pubEntityId,"advId="+n.campId,"pubOrder="+n.placementId,"pubCreative="+n.creativeId,"impId="+(n.impId||e),"ts="+Date.now(),"custom="+y.INTERNAL_VERSION,"custom2=jv3&custom3="+V.get().tagType,"adsafe_par"].join("&")}},V=(r=!(i={}),a={},{vans:{hasBegun:function(){return r},begin:function(){r=!0}},setInjector:function(e){t=e},getInjector:function(){return t},setPreErrorConfig:function(e,n){i.tagType=n;n="string"==typeof(n=e.partner)?n.replace(/[^\w-.]/g,""):n,i.partnerCode=n,i.debugEnabled=e.debug&&e.debug.enabled,i.debugEnabled&&(i.monDomain=e.debug.monDomain)},setConfig:function(e){var n,t;n=e,"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach(function(e){a[e]=n[e]}),a.monDomain=i.monDomain,i.passThroughObj={vv:y.INTERNAL_VERSION,vanstag:i.tagType,xcamp:a.campId,xplac:a.placementId,xcreat:a.creativeId,ximp:a.impId,xpc:i.partnerCode},i.config=e,t={isFwTag:"fw"===i.tagType,isCmTag:"cm"===i.tagType,config:e},R.monitoringQS=w.buildMonitoringQS,R.passThroughObj=i.passThroughObj,Object.keys(t).forEach(function(e){R[e]=t[e]})},getInfoParams:function(){return a},get:function(){return i}}),L={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(e){try{this.sendUrlRequest(["//"+L.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(C.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+e)].join(""))}catch(e){h.report(y.DIAGNOSTIC.SEND_MONITORING_PIXEL,e)}},sendMonitoringDebugPixel:(u=[y.MONITORING.AD_STOPPED],E={},function(e,n,t){var i=C.hasDebugEnabled(),r=-1<u.indexOf(e)&&E[e];if(i&&!r)try{var o=y.DIAGNOSTIC_MONITORING_DOMAIN,a=C.getAltMonDomain(),a=(t=t||a||o)===a?"925116":"10173",d=L.addProtocolToDomain(t),s=encodeURIComponent(e),c=encodeURIComponent(C.getPartnerCode()),I=n.replace(/=undefined&/g,"=&");L.sendUrlRequest(d+"/mon?anId="+a+"&campId="+c+"&pubId="+s+I),E[e]=!0}catch(e){h.report(y.DIAGNOSTIC.SEND_MONITORING_PIXEL,e)}}),sendUrlRequest:function(e,n){var t,i;if(e){t=this.getWindow();try{i=new t.XMLHttpRequest,n&&(i.onreadystatechange=n),i.open(y.HTTP.VERBS.GET,e),i.send()}catch(e){}}},stringify:function(e){if("AdImpression"!==e.messageType)return JSON.stringify(e);var n={};n.passthroughObj=C.getPassThroughObj();var t="";try{t=JSON.stringify(e)}catch(e){return void h.report(y.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,e,n)}return t},addProtocolToDomain:function(e){return e.match(/^[a-zA-Z]+:\/\//)?e:"https://"+e},getWindow:function(){return m.getWin()},getDocument:function(){return m.getDoc()},generateUID:function(){var e,n="";try{for(e=0;e<y.S4_ITERATIONS;e++)n=[n,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(e){}return n},getFwServerDomain:function(){return e||y.PROD_DOMAIN},noop:function(){}};function j(e,n,t,i){b.setNodeInterface(t),"function"==typeof n.onMeasurementComplete&&(new M).registerMeasurementCompleteHandler(n.onMeasurementComplete);var r={};Object.getOwnPropertyNames(n).forEach(function(e){"debug"!==e&&"onMeasurementComplete"!==e&&(r[e]=n[e])}),i.injectTagScript(e,r)}function U(e,n){return e==I()&&(s=!0,R.setImpressionCallback(n),L.sendMonitoringDebugPixel(y.MONITORING.HANDSHAKE_SUCCESS,R.monitoringQS()),R.flushUnsentEvents()),s?y.VIDEO_CHANNEL:null}function G(e,n){L.sendMonitoringDebugPixel(y.MONITORING.AD_STOPPED,R.monitoringQS()),O(e,n)}function x(){var o=function(e){return void 0!==e};return{br:function(){var e="u";try{o(window.opera)&&o(window.opera.buildNumber)?e="o":o(window.mozInnerScreenY)?e="g":o(window.chrome)&&o(window.chrome.csi)?e="c":o(window.msWriteProfilerMark)&&o(window.crypto)?e="e":o(window.attachEvent)||o(window.msCrypto)?e="i":o(window.WebKitPoint)&&(e="w")}catch(e){}return e}(),urls:function(){var e=function(){var n={g:"",q:""};try{n.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(e){var t,i,r=(r=e.message).substring(r.lastIndexOf("<")+1,r.lastIndexOf(">"));(i=o(r))&&(i=!1,o(window.navigator)&&o(window.navigator.userAgent)&&null!==(t=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/))&&2==t.length&&(t=t[1].split("."),3==parseInt(t[0],10)&&parseInt(t[1],10)<=6&&(3!=t.length||parseInt(t[2],10)<=13)&&(i=!0))),i&&(n.g=r)}return n},n={};try{n.a=encodeURIComponent(top.location.href)}catch(e){}try{n.b=encodeURIComponent(parent.location.href)}catch(e){}if(window!=top){try{n.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{n.e=encodeURIComponent(window.document.referrer)}catch(e){}}try{n.d=encodeURIComponent(window.location.href)}catch(e){}try{var t=e();n.g=encodeURIComponent(t.g),n.q=encodeURIComponent(t.q)}catch(e){}var i,e=[];for(i in n=function(e){var n,t,i={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],o(i[n])?i[n]+=t:i[n]=t);for(t in e={},i)i.hasOwnProperty(t)&&(n=i[t],e[n]=t);return e}(n=function(e){for(var n in e){var t;e.hasOwnProperty(n)&&(""!==(t=e[n])&&"null"!==t&&"undefined"!==t&&null!==t&&o(t)||delete e[n])}return e}(n)))n.hasOwnProperty(i)&&e.push({key:i,val:n[i]});return e.sort(function(e,n){return e.val.length>n.val.length?1:e.val.length<n.val.length?-1:0}),e}()}}function F(){if(this.readyState==y.XHR.READY_STATE.DONE)if(this.status==y.HTTP.STATUS_CODE.OK)try{D("failed"===JSON.parse(this.responseText).action?y.BLOCKING_RESPONSE.BLOCK:y.BLOCKING_RESPONSE.SAFE)}catch(e){h.report(y.DIAGNOSTIC.BLOCK_AD,e)}else h.report(y.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})}return{initFW:C.initFW,initCM:C.initCM,sendEvent:R.sendEvent}},g=function(e){var n,t,i,r=["GDFP"],o=["AdX/AdSense","AdSense/AdX"],a={partner:p.PARTNER_ID};return 0<e.getWrapperAdIds().length?(a=A.objectAssign({},a),t=0,i=n=e.getWrapperAdSystems()[0],-1<r.indexOf(i)||-1<o.indexOf(i)||(t=e.getWrapperAdSystems().length-1,n=e.getWrapperAdSystems()[t]),-1<r.indexOf(n)?(r=t,a.pubCreative=e.getWrapperCreativeIds()[r],a.placementId=e.getWrapperAdIds()[r]):-1<o.indexOf(n)&&(a.pubId="AdX",a.placementId=e.getDealId())):(a=A.objectAssign({},a),n=e.getAdSystem(),-1<r.indexOf(n)?(a.placementId=e.getAdId(),a.pubCreative=e.getCreativeId()):-1<o.indexOf(n)&&(a.pubId="AdX",a.placementId=e.getDealId())),a},A={sendDiag:function(e,n,t){try{(new Image).src="//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js-adapter_"+p.PARTNER_ID+"_"+p.INTERNAL_VERSION+"_"+n+"&err:"+encodeURIComponent(e)+"&config:"+encodeURIComponent(JSON.stringify(t))}catch(e){}},isObject:function(e){return null!==e&&"object"==typeof e},getKeysByValue:function(e,n){var t=[];return f(e).filter(function(e){return e[1]===n}).forEach(function(e){t.push(e[0])}),t},isDefined:function(e){return void 0!==e},objectEntries:f,objectAssign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");if("function"==typeof Object.assign)return Object.assign.apply(this,arguments);for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}},p={ADAPTER:"google-ima",PARTNER_ID:"ima",INTERNAL_VERSION:"2.2.2",DEFAULT_PLAYBACK_STATE:{ad_duration:-2,volume:-2,viewMode:"normal"},VANS_DAI_EVENT_MAP:{AdImpression:"STARTED",AdVideoFirstQuartile:"FIRST_QUARTILE",AdVideoMidpoint:"MIDPOINT",AdVideoThirdQuartile:"THIRD_QUARTILE",AdVideoComplete:"COMPLETE",AdClickThru:"CLICK",AdError:"ERROR"},VANS_IMA_EVENT_MAP:{AdStarted:"STARTED",AdSkipped:"SKIPPED",AdSkippableStateChange:"SKIPPABLE_STATE_CHANGED",AdVolumeChange:"VOLUME_CHANGED",AdRemainingTimeChange:"DURATION_CHANGE",AdImpression:"IMPRESSION",AdVideoStart:"STARTED",AdVideoFirstQuartile:"FIRST_QUARTILE",AdVideoMidpoint:"MIDPOINT",AdVideoThirdQuartile:"THIRD_QUARTILE",AdVideoComplete:"COMPLETE",AdClickThru:"CLICK",AdPaused:"PAUSED",AdPlaying:"RESUMED",AdError:"AD_ERROR"}};function f(e){if(Object.entries)return Object.entries(e);for(var n=Object.keys(e),t=n.length,i=Array(t);t--;)i[t]=[n[t],e[n[t]]];return i}return o=function(e,n){var t=n.getAd&&n.getAd(),n={volume:a.getVolume(),ad_duration:r.ad_duration};n.ad_duration<0&&(n.ad_duration=t&&A.isDefined(t.getDuration())?t.getDuration():-2),n.height=t&&t.getHeight?t.getHeight():t.getVastMediaHeight(),n.width=t&&t.getWidth?t.getWidth():t.getVastMediaWidth(),r.volume!==p.DEFAULT_PLAYBACK_STATE.volume&&n.volume!==r.volume&&"AdVolumeChange"!==e&&i.sendEvent("AdVolumeChange",n),i.sendEvent(e,n),r=A.objectAssign({},n)},u=function(e,n){return A.isObject(e)?A.objectAssign({},e,n):n},{init:function(e,n,t,i,r){var o;A.isDefined(e)?(o=!1,A.isDefined(i)&&A.isDefined(i.anId)?o=!0:console.error("The Integral Google IMA Adapter is missing a valid config with the required anId macro. The Web Video SDK will fail to initialize."),o&&(s=e.ima,c=t,I=i,(a=n).addEventListener(s.AdEvent.Type.LOADED,O),Object.keys(p.VANS_IMA_EVENT_MAP).forEach(function(e){e=p.VANS_IMA_EVENT_MAP[e],a.addEventListener(s["AD_ERROR"===e?"AdErrorEvent":"AdEvent"].Type[e],l)}),A.isDefined(r)&&((d=r).addEventListener(s.dai.api.StreamEvent.Type.STARTED,S),Object.keys(p.VANS_DAI_EVENT_MAP).forEach(function(e){d.addEventListener(s.dai.api.StreamEvent.Type[p.VANS_DAI_EVENT_MAP[e]],N)})))):console.error("The Integral Ad Science VANS Adaptor did not receive Google IMA SDK's 'google' object as the first argument during initialization.")},dispose:function(){I=c=void 0,A.isDefined(a)?(a.removeEventListener(s.AdEvent.Type.LOADED,O),Object.keys(p.VANS_IMA_EVENT_MAP).forEach(function(e){e=p.VANS_IMA_EVENT_MAP[e],a.removeEventListener(s["AD_ERROR"===e?"AdErrorEvent":"AdEvent"].Type[e],l)}),a=void 0):console.warn("The Integral Ad Science VANS Adaptor was disposed prior to being initialized"),A.isDefined(d)&&(d.removeEventListener(s.dai.api.StreamEvent.Type.STARTED,S),Object.keys(p.VANS_DAI_EVENT_MAP).forEach(function(e){d.removeEventListener(s.dai.api.StreamEvent.Type[p.VANS_DAI_EVENT_MAP[e]],N)}),d=void 0),i=void 0}};function l(n){var e=n.type,e=A.getKeysByValue(s[e===s.AdErrorEvent.Type.AD_ERROR?"AdErrorEvent":"AdEvent"].Type,e)[0];A.getKeysByValue(p.VANS_IMA_EVENT_MAP,e).forEach(function(e){o(e,n)})}function N(n){var e=A.getKeysByValue(s.dai.api.StreamEvent.Type,n.type)[0];A.getKeysByValue(p.VANS_DAI_EVENT_MAP,e).forEach(function(e){o(e,n)})}function O(e){var n=I&&I.fwServerDomain,t=e.getAd&&e.getAd(),t=new g(t),t=u(I,t);r=A.objectAssign({},p.DEFAULT_PLAYBACK_STATE);try{(i=new E(n)).initCM(t,c)}catch(e){A.sendDiag(e,"initCm",t)}o("AdLoaded",e)}function S(e){var n=I&&I.fwServerDomain,t=e.getAd&&e.getAd(),t=new g(t),t=u(I,t);r=A.objectAssign({},p.DEFAULT_PLAYBACK_STATE);try{(i=new E(n)).initCM(t,c)}catch(e){A.sendDiag(e,"initCm",t)}o("AdVideoStart",e),o("AdImpression",e)}}();

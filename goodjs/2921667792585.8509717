YUI.add("af-applet-dom",function(i,e){"use strict";var t={applet:"js-applet",container:"js-applet-container",container_content:"js-applet-container-content",view_container_prefix:"js-applet-view-container-"},a={applet:"."+t.applet,container:"."+t.container,container_content:"."+t.container_content,view_container_prefix:"div."+t.view_container_prefix};i.namespace("Af").AppletDom={selectors:function(){return a},classes:function(){return t},all:function(e,t){(e=i.one(e))&&e.all(a.applet).each(function(e){t(e)})},getGuid:function(e){return e.getData("applet-guid")},getType:function(e){return(e=i.Lang.isString(e)?this.getNode(e):e)?e.getData("applet-type"):null},getNode:function(e){return i.one('[data-applet-guid="'+e+'"]')},getLocation:function(e){var t,n=this.getNode(e);return n?(e=(t=n.ancestor(a.container,!0))?t.getData("applet-container-guid"):"page",(n=(t=t||i).all(a.applet).indexOf(n))<0?{}:{container:e,index:n}):{}},getContainerGuid:function(e){return e.getData("applet-container-guid")},getContainerNode:function(e){return i.one('[data-applet-container-guid="'+e+'"]')},getContainerContentNode:function(e){return e.one(a.container_content)||e},getViewContainerNode:function(e,t){return this.getNode(e).one(a.view_container_prefix+t)},getLayout:function(){var n={};return i.all(a.container).each(function(e){var t=this.getContainerGuid(e);n[t]=[],e.all(a.applet).each(function(e){e=this.getGuid(e);e&&n[t].push(e)},this)},this),n},remove:function(e,t){var n=this.getNode(e);if(!n)return t&&t("non-exist applet node: "+e);i.Af.Trans.disappear(n,"fade",function(){return n.purge(!0).remove(),t&&t()})},move:function(e,t,n){var i=this.getNode(e),a=this.getContainerNode(n.container),o=this.getContainerContentNode(a);return!(!i||!a||!o||(e=this.selectors(),(e=a.all(e.applet)).size(),void 0===n.index?o.append(i):0===n.index?o.prepend(i):(n=e.item(n.index))?n.insert(i,"before"):o.append(i),0))},getGuidAt:function(e,t){var n,e=this.getContainerNode(e);return e&&(n=e.all(a.applet).item(t))?this.getGuid(n):null}}},"@VERSION@",{requires:["node-core","af-trans"]});

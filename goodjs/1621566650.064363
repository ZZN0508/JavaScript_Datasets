define("idcta-v2/statusbar",["idcta-v2/idCookie","idcta-v2/id-config","idcta-v2/logger","idcta-v2/analytics"],function(i,a,l,t){var e={};function s(n,i){return a.getConfigAsync().then(function(t){var e=i.getNameFromCookie()||t.translation_signedin,t=t.translation_signedin;e&&(t=function(t,e){if(t.length>e)return t.substring(0,e-1)+"â€¦";return t}(e,14)),n.element.className=n.element.className+" idcta-signedin",n.ctaName.innerText=t}).catch(function(t){l.logCaughtError(t)})}return e.Statusbar=function(t){try{var e;this.id=null,this.element=null,this.ctaLink=null,this.ctaName=null,n=t,!document.getElementById(n.id)||!n.blq&&!document.getElementById("idcta-link")||n.blq&&!document.getElementById(n["link-id"])||(this.id=t.id,this.element=document.getElementById(t.id),t.blq?(this.ctaLink=document.getElementById(t["link-id"])?document.getElementById(t["link-id"]):this.element.getElementsByTagName("a")[0],this.ctaName=t["name-id"]?document.getElementById(t["name-id"]):this.element.getElementsByTagName("span")[1]):(this.ctaLink=document.getElementById("idcta-link"),this.ctaName=this.element.getElementsByTagName("span")[0]),e=this,!0===t.publiclyCacheable&&(i.getInstance().hasCookie()?a.getConfigAsync().then(function(t){t.status_url&&e.ctaLink.href!==t.status_url&&(e.ctaLink.href=t.status_url),s(e,i.getInstance())}):a.getConfigAsync().then(function(t){t.signin_url&&(e.ctaLink.href=t.signin_url),e.ctaName.innerText=t.translation_signedout})))}catch(t){l.logCaughtError(t)}var n},e.updateForAuthorisedState=s,t.wrapModuleWithAnalytics(e,"statusbar"),e});
//# sourceMappingURL=statusbar.js.map
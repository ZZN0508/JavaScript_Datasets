var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.StructuredContentWidgetLocale=function(o){"use strict";o(document).ready(function(){var t=o(window).width()||window.innerWidth,e=o(".guest-title").text(),r=e.length;if(960<=t){var a=e.substr(0,31);20<r?o(".guest-title").html(a+"..."):o(".guest-title").html(a),o(".guest-title").attr("data-text",e),o(".guest-title").parent().html(o(".guest-title").parent().attr("data-text"))}else if(768<=t&&t<960){var n=e.substr(0,26);20<r?o(".guest-title").html(n+"..."):o(".guest-title").html(n),o(".guest-title").attr("data-text",e),o(".guest-title").parent().html(o(".guest-title").parent().attr("data-text"))}else if(540<=t&&t<768)n=e.substr(0,40),20<r?o(".guest-title").html(n+"..."):o(".guest-title").html(n),o(".guest-title").attr("data-text",e),o(".guest-title").parent().html(o(".guest-title").parent().attr("data-text"));else if(400<=t&&t<540)n=e.substr(0,20),20<r?o(".guest-title").html(n+"..."):o(".guest-title").html(n),o(".guest-title").attr("data-text",e),o(".guest-title").parent().html(o(".guest-title").parent().attr("data-text"));else if(t<400){var s=e.substr(0,18);20<r?o(".guest-title").html(s+"..."):o(".guest-title").html(s),o(".guest-title").attr("data-text",e),o(".guest-title").parent().html(o(".guest-title").parent().attr("data-text"))}o(".locate-us .search-icon-mobile").on("click",function(){o(".search-input-wrapper, .search-result-wrapper").toggleClass("mobile-search"),o(".search-input-wrapper").hasClass("mobile-search")&&o(".sfSearchWrap .searchbox").focus(),o(".search-result-wrapper").hasClass("mobile-search")||o(".sf-closebutton").click()}),o(".locate-us .help-img, .locate-us .help").on("click",function(t){gadgets.pubsub.publish("nbGap",{eventCategory:"Header",eventAction:"buttonClick",eventLabel:"HelpUs",count:0}),t.preventDefault(),toggleEvaChat()}),o(".locate-us .locate, .locate-us .locate-img").on("click",function(t){gadgets.pubsub.publish("nbGap",{eventCategory:"Header",eventAction:"buttonClick",eventLabel:"Locate",count:0})})});var t=setInterval(function(){"complete"===document.readyState&&0<o(".hdfc-mobile-brdcrm").length&&(clearInterval(t),gadgets.pubsub.publish("brdmPlcLoaded"))},500),s="cs";return{prefModified:function(t){t.refreshIncludes();var e=o(t.htmlNode);o(".bd-structured-content-widget",e).attr("data-type",t.getPreference("contentType")||"Content")},start:function(l){var t=l.getPreference("isReq");o(l.htmlNode).find(".guest-title").addClass(t);var r,e=l.getPreference("contentRef"),a=o(l.htmlNode),n=!1;try{top.bd}catch(t){n=!0}(!(!window.be||n)&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage||"true"===l.model.manageable||""===l.model.manageable||void 0===l.model.manageable)&&(e||a.addClass("bd-empty-structured-content"),o(".bd-structured-content-widget",a).attr("data-type",l.getPreference("contentType")||"Content"),l.addEventListener("preferences-form",function(t){for(var e=b$.portal.portalModel.filterPreferences(l.model.preferences.array),r=e.length-1;0<=r;r--)if("Template"==e[r].label)for(var a=l.getPreference("templateList").split(","),n=0,s=0;n<a.length;n++,s++)e[r].inputType.options[s]={label:a[n],value:a[n+1]},n++}),l.addEventListener("bdDrop.enter",function(t){var e=t.detail.info.helper.bdDragData.fileDataArray[0];e.metaData&&e.metaData["cmis:objectTypeId"]&&"bb:structuredcontent"===e.metaData["cmis:objectTypeId"].property?(r=e,a.addClass("bd-over-structured-content")):r=void 0}),l.addEventListener("bdDrop.leave",function(t){a.removeClass("bd-over-structured-content")}),l.addEventListener("bdDrop.drop",function(t){if(r){if(!l.model.preferences.getByName("contentRef")){var e=b$.portal.portalModel.createPreference("contentRef","contentRef",void 0,"");l.model.preferences.add(e)}l.setPreference("contentRef",[s,"contentRepository"===r.repository?r.repository:"@portalRepository",r.contentUId].join(":")),l.model.save(function(){l.refreshHTML(),a.removeClass("bd-empty-structured-content")}),a.removeClass("bd-over-structured-content")}r=void 0}),window.bd&&window.bd.bindDropEvents&&window.bd.bindDropEvents(l.htmlNode))}}}(jQuery);
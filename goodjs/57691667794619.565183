var CstHistoryDomain="https://history.kakaku.com",isHistoryReady=!1,pushcallback=function(){"undefined"!=typeof jQuery&&isHistoryReady&&historyPush.init(jQuery)};window.addEventListener?window.addEventListener("load",pushcallback,!1):window.attachEvent?window.attachEvent("onload",pushcallback):window.onload=function(){pushcallback()},document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof jQuery&&window.addEventListener("message",function(t){if(t.origin===CstHistoryDomain){var i;try{i=JSON.parse(t.data||"{}")}catch(t){return}null!=i&&"pushready"===i.Controler&&(isHistoryReady=!0)}})});var historyPush=window.historyPush||{};!function(){var o,a=!1;historyPush={init:function(n){if(!a&&(a=!0,"undefined"!=typeof s)){n("head link:last").after('<link rel="stylesheet" type="text/css" href="//css1.kakaku.k-img.com/css/push.css" media="all">');var t,i,e={Controler:"push",Referrer:document.referrer,Location:location.href,Identifier:s.prop1,CategoryName:s.prop20};try{null!=(o=n('iframe[src *= "/history/cookie2ls/"]')[0])||null!=(t=n('iframe[src *= "/auth/inc_idcore_top_v2.asp"]')[0])&&(i=t.contentWindow.document,o=n('iframe[src *= "/history/cookie2ls/"]',i)[0]),null!=o&&o.contentWindow.postMessage(JSON.stringify(e),CstHistoryDomain)}catch(t){}window.addEventListener("message",function(t){if(t.origin===CstHistoryDomain){var i;try{i=JSON.parse(t.data||"{}")}catch(t){return}null!=i&&"push"===i.Controler&&(t=n(i.ResponseText),n("body").append(t),historyPush.setPushAfterEvent(n,i.CompactView),t.ready(function(){"1"===n("#pushSplitData").attr("data-splitnodisp")||pushEffect.init(n,i.CompactView)}))}},!1)}},setPushOnclickCatalystEvent:function(i){i(".onclickPushFunc").click(function(){var t=i(this).attr("data-onclickfunc");return onclickcatalyst_pushfunction(t),!0})},setPushAfterEvent:function(i,t){historyPush.setPushOnclickCatalystEvent(i);var n=i("#pushSplitData").attr("data-splitpattern");t||("A"===n?onclickcatalyst_pushtest_A():"B"===n&&onclickcatalyst_pushtest_B()),i("div.pushCompareLink").click(function(){var t={Controler:"pushitemview",Product:i(this).attr("data-product")};return o.contentWindow.postMessage(JSON.stringify(t),CstHistoryDomain),!0}),i("div.pushMallLink").click(function(){var t={Controler:"pushmallshop",Mallkey:i(this).attr("data-mallkey"),Price:i(this).attr("data-price")};return o.contentWindow.postMessage(JSON.stringify(t),CstHistoryDomain),!0}),i("span.pushPriceDownClose").click(function(){return o.contentWindow.postMessage(JSON.stringify({Controler:"pushclose"}),CstHistoryDomain),!0})}}}();var pushEffect=window.pushEffect||{};pushEffect={init:function(i,t){var n,e,s,o,a,r,c;function u(){setTimeout(function(){i(".pushPriceDownL").hide(),e.animate({width:r,height:c},300,function(){a.show(),n.addClass("typeBig")})},15e3)}i(".is-jack")[0]||(n=i(".pushPriceDownWrp"),e=n.find(".pushPriceDownInnr"),s=e.width(),o=e.height(),e.css("height",o+"px"),a=n.find(".pushPriceDownS"),r=a.outerWidth()+13,c=a.outerHeight()+1,t?(i(".pushPriceDownL").hide(),e.css({width:r,height:c}),a.show(),n.addClass("typeBig"),n.css({left:"10px"})):n.animate({left:"10px"},300,"swing",function(){u()}),a.click(function(){a.hide(),e.animate({width:s+"px",height:o+"px"},300,function(){i(".pushPriceDownL").show(),n.removeClass("typeBig"),u()})}),i(".pushPriceDownClose").click(function(){n.animate({left:"-400px"},300,"swing")}),i(".pushPriceDownLink1, .pushPriceDownLink2").hover(function(){i(this).addClass("hov")},function(){i(this).removeClass("hov")}).click(function(){var t=i(this).find("a").attr("href");return"_blank"===i(this).find("a").attr("target")?window.open(t,"_blank"):window.location.href=t,!1}))}};

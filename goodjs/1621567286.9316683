(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["actValentine","Drag_dedfcdf","Rotation_d7ba7c6"],{"00d1b0":function(e,t,n){e.exports=n("2d6146")("368f5")},"074d14":function(e,t,n){e.exports=n("d1db8c")("bcfe5")},"0e25e5":function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/PreviewBar.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var o=function(e){function PreviewBar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreviewBar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(PreviewBar,e),PreviewBar.prototype.render=function render(){var e=this.props.data;return i.a.createElement("div",{className:"ActValentineBar-body",__source:{fileName:a,lineNumber:8},__self:this},e.ztPageUrl?i.a.createElement("a",{className:"ActValentineBar-main--pre",href:e.ztPageUrl,target:"_blank",__source:{fileName:a,lineNumber:12},__self:this},i.a.createElement("div",{className:"ActValentineBar-preText",__source:{fileName:a,lineNumber:13},__self:this}),i.a.createElement("div",{className:"ActValentineBar-preLink",__source:{fileName:a,lineNumber:14},__self:this})):i.a.createElement("div",{className:"ActValentineBar-main--pre",__source:{fileName:a,lineNumber:18},__self:this},i.a.createElement("div",{className:"ActValentineBar-preText",__source:{fileName:a,lineNumber:19},__self:this}),i.a.createElement("div",{className:"ActValentineBar-preLink",__source:{fileName:a,lineNumber:20},__self:this})))},PreviewBar}(i.a.Component);t.default=o},"0f636f":function(e,t,n){e.exports=n("5f575e")("23661")},"104af8":function(e,t,n){e.exports=n("d1db8c")("b2b3f")},"162d20":function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=n("e2eac8"),o=n("a3c610"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/LoveBox.js";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var l=function(e){function Task(){return _classCallCheck(this,Task),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Task,e),Task.prototype.render=function render(){var e=this.props.type;return i.a.createElement("div",{className:"ActValentineLoveBox is-type"+e,__source:{fileName:s,lineNumber:10},__self:this},i.a.createElement(o.default,c({type:+e},this.props,{__source:{fileName:s,lineNumber:11},__self:this})))},Task}(i.a.Component),u=function(e){function LoveBox(){return _classCallCheck(this,LoveBox),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(LoveBox,e),LoveBox.prototype.render=function render(){var e=this,t=this.props,n=t.tasklist,r=void 0===n?[]:n,o=t.taskFull,u=void 0===o?"0":o,f=(t.taskTotal,t.taskNum),p=void 0===f?"0":f,m=r.length;return Array.isArray(r)&&m?1===+r[0].type?1===+u?i.a.createElement("div",{className:"ActValentineLoveBox",__source:{fileName:s,lineNumber:30},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-light small",__source:{fileName:s,lineNumber:31},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-light--title",__source:{fileName:s,lineNumber:32},__self:this},"\u4e03\u5915\u5f69\u706f"),i.a.createElement("div",{className:"ActValentineLoveBox-light--content",__source:{fileName:s,lineNumber:33},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-light--full",__source:{fileName:s,lineNumber:34},__self:this},"\u4eca\u65e5\u4efb\u52a1\u6b21\u6570 ",i.a.createElement("br",{__source:{fileName:s,lineNumber:35},__self:this}),i.a.createElement("span",{className:"ActValentineLoveBox-light--pink",__source:{fileName:s,lineNumber:36},__self:this},"\u5df2\u8fbe\u4e0a\u9650"))),i.a.createElement("div",{className:"ActValentineLoveBox-light--bottom small",__source:{fileName:s,lineNumber:40},__self:this},"\u5df2\u5b8c\u6210",p,"\u6b21"))):i.a.createElement(a.default,{distance:90,width:90,length:m,height:183,interval:4e3,__source:{fileName:s,lineNumber:47},__self:this},r.map(function(t,n){return i.a.createElement(l,c({key:n},t,{__source:{fileName:s,lineNumber:55},__self:e}))})):i.a.createElement(l,c({},r[0],{__source:{fileName:s,lineNumber:61},__self:this})):null},LoveBox}(i.a.Component);t.default=u},"1a22b7":function(e,t,n){e.exports=n("999443")("8af19")},"1ce3d1":function(e,t,n){"use strict";var r,i,a,o,c,s,l,u,f,p,m,d=n("97a1f0"),b=n("7ca7dc"),h=n("eb3e22"),v=n("e854a7"),_=n("f68984"),y=n("0f636f"),g=n("748d25"),N=n("f3f802"),w=n("cb8c6f"),P=n("104af8"),O=n("074d14"),D=n("ffca33"),S=n("458c0c"),j=n("e849dc"),k=n("eeb9b8"),E=n("b85a25"),C=n.n(E),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=b.default.Service,z=v.default.socketStream,x=(r=B(h.DataCenter.common),i=B(h.DataCenter.global),a=B(j.default),o=B(k.default),c=B(S.default),s=function(e){function ActServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",l,t),_initDefineProp(t,"global",u,t),_initDefineProp(t,"commonService",f,t),_initDefineProp(t,"barService",p,t),_initDefineProp(t,"newSvgaPlayerService",m,t),t.baseData={},t.stage=1,t.isBlackRoom=!1,t.sub=new O.Subscription,t.preData={},t.stage$=new P.Subject,t.msgTime=0,t}return _inherits(ActServices,e),ActServices.prototype.getZoneInfo=function getZoneInfo(e){var t=this.baseData.config,n=(void 0===t?{}:t).zone_list;return(void 0===n?{}:n)[e]},ActServices.prototype.pushData=function pushData(e){var t=this.baseData,n=t.config,r=void 0===n?{}:n,i=t.roomData,a=void 0===i?{}:i,o=e.innerData,c=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["innerData"]);this.common.push("$ACT-77Day",{cppRes:c,config:A({},a,r),ztPageUrl:this.ztPageUrl,stage:this.stage,isInit:!0,innerData:o},!0)},ActServices.prototype.checkIsBlack=function checkIsBlack(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.baseData,t=e.config,n=void 0===t?{}:t,r=e.roomData,i=void 0===r?{}:r,a=n.blacklist||[],o=i.rid,c=!1;return a.indexOf(o)>=0&&(c=!0),c},ActServices.prototype.fetchConfig=function fetchConfig(){return Object(D.default)({url:"//webconf.douyucdn.cn/resource/common/activity/actqzs202008_w.json",type:"jsonp",callbackName:"actqzs202008"})},ActServices.prototype.init=function init(){var e=this;this.ztPageUrl="/topic/template/QXQY",Object(N.zip)(this.fetchConfig(),this.common.get("$DATA").pipe(Object(w.pluck)("room"))).pipe(Object(_.map)(function(e){var t=e[0],n=e[1],r=void 0===n?{}:n;return{roomData:{rid:r.room_id,avatar:r.avatar_mid,anchorname:r.owner_name,cate2Id:r.cate2_id},config:t}}),Object(y.tap)(function(t){return e.baseData=t}),Object(y.tap)(function(t){return e.isBlackRoom=e.checkIsBlack(t)})).subscribe(function(){e.isBlackRoom||(e.sub.add(e.stage$.pipe(Object(g.filter)(function(t){return+t.res.time>=e.msgTime}),Object(y.tap)(function(t){var n=t.initKey,r=t.res;if(e.msgTime=+r.time,!e[n]){e[n]=!0;var i=e.preData.room&&e.preData.room.zone||e.preData.zone,a=e.preData.room&&e.preData.room.act_id||e.preData.act_id;e.preData={zone:i,act_id:a,innerData:{}}}})).subscribe(function(t){var n=t.res,r=t.innerData,i=t.stage;r&&Object.assign(e.preData.innerData,r),e.stage=i,(n.room&&n.room.zone||n.zone)&&(e.preData.zone=n.room&&n.room.zone||n.zone,e.preData.act_id=n.room&&n.room.act_id||n.act_id),Object.assign(e.preData,n),e.pushData(e.preData)})),e.preheatDataEntry(),e.handlerStep1(),e.handlerReview())}),this.initSvgaEffect()},ActServices.prototype.preheatDataEntry=function preheatDataEntry(){var e=this;z.subscribe("qzs202008s0info",function(t){return e.stage$.next({initKey:"preheatInit",stage:1,res:t})})},ActServices.prototype.getTaskInfo=function getTaskInfo(e){var t=this.baseData.config,n=(void 0===t?{}:t).task_setting;return((void 0===n?{}:n)[e]||[]).filter(function(e){return 0===+e.type})[0]||{}},ActServices.prototype.handlerStep1=function handlerStep1(){var e=this,t=new P.Subject,n=new P.Subject;this.sub.add(t.subscribe(function(t){return e.stage$.next(A({},t,{initKey:"stage1Init",stage:2}))})),this.sub.add(z.subscribe("qzs202008s1info",function(e){return t.next({res:e})})),this.sub.add(n.pipe(Object(g.filter)(function(){return+e.preData.zone&&e.getZoneInfo(e.preData.zone)}),Object(_.map)(function(t){if(1===+t.distype){var n=e.getTaskInfo(e.preData.act_id)||{};return A({},t,{tasklist:[{type:0,num:0,cnum:0,task_id:n.task_id,total:n.total}]})}return t})).subscribe(function(e){return t.next({res:e})})),this.sub.add(z.subscribe("qzs202008s1disp",function(e){return n.next(e)}))},ActServices.prototype.handlerReview=function handlerReview(){var e=this;this.sub.add(z.subscribe("qzs202008s2info",function(t){e.stage$.next({res:t,initKey:"reviewInit",stage:3})}))},ActServices.prototype.initSvgaEffect=function initSvgaEffect(){var e=this;z.subscribe("configscreen",function(t){var n=t.rid,r=t.gbtemp;313===+r&&e.loadConfig().subscribe(function(i){var a=e.isAnchor(),o=i[r],c=e.isCurRoom(n);if(o){var s=o.isHiddenAnchor;if(a&&1===+(void 0===s?0:s))return;c&&1===+o.ctype&&e.common.get("$DATA").subscribe(function(n){var r=n.room||{};e.newSvgaPlayerService.ready$.subscribe(function(){var n=t.userName.length>7?t.userName.substring(0,7)+"...":t.userName;e.newSvgaPlayerService.add({svgaUrl:o.svgaurl,loops:1,content:{tit:{type:0,isCenter:1,size:24,color:"#fff",child:[{value:"\u606d\u559c",color:"#ffffff"},{value:n||"",color:"#f00"},{value:"\u4e0e\u4e3b\u64ad\u76f8\u4f1a\u6210\u529f",color:"#ffffff"}]},img:{type:1,child:[{value:t.avatar||C.a}]},img1:{type:1,child:[{value:r.avatar_mid||C.a}]}},contentMode:"AspectFit",useCache:!0})})})}})})},ActServices.prototype.loadConfig=function loadConfig(){return Object(D.default)({url:"//webconf.douyucdn.cn/resource/common/comm_broadcast_w.json",type:"jsonp",callbackName:"comm_broadcast"})},ActServices.prototype.isCurRoom=function isCurRoom(e){var t=this.global.get("$ROOM.room_id");return t>0&&+t===+e},ActServices.prototype.isAnchor=function isAnchor(){var e=this.global.get("USER_INFO.uid"),t=this.global.get("$ROOM.owner_uid");return e>0&&parseInt(e,10)===parseInt(t,10)},ActServices}(d.Service),l=_applyDecoratedDescriptor(s.prototype,"common",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"global",[i],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"commonService",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"barService",[o],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(s.prototype,"newSvgaPlayerService",[c],{enumerable:!0,initializer:null}),s);t.default=x},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2e19f9":function(e,t,n){"use strict";var r=n("7ca7dc"),i=n("964300"),a=n("84b94c"),o=n("853bd6"),c=r.default.StoreFactory;t.default=r.default.createApp({name:"ActApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return c.getInstance(window.__INITIAL_STATE__,a.default,i.default)}}]})},"31031f":function(e,t,n){e.exports=n("d1db8c")("cfb79")},332271:function(e,t,n){e.exports=n("5f575e")("36016")},"3b6ec9":function(e,t,n){e.exports=n("999443")("63f14")},"458c0c":function(e,t,n){e.exports=n("5f575e")("9a8c5")},528016:function(e,t,n){e.exports=n("5f575e")("39485")},"5f575e":function(e,t){e.exports=_room_common_},"67add3":function(e,t,n){"use strict";var r,i,a,o,c,s,l,u=n("97a1f0"),f=n("7ca7dc"),p=n("eb3e22"),m=n("fc7947"),d=n.n(m),b=n("f3f802"),h=n("00d1b0"),v=n("960890"),_=n("f68984"),y=n("31031f"),g=n("8355e9"),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=f.default.Service,P="Act20200707",O="$ACT-77Day",D=(r=w(p.DataCenter.common),i=w(p.DataCenter.global),a=w(g.default),o=function(e){function PanelServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PanelServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"global",s,t),_initDefineProp(t,"avatarServices",l,t),t.config={mouseEnterTimer:null},t.state={stage:0,isShowPanel:!1,dataCenter:{},showBox:0},t.cpp$=new y.ReplaySubject(1),t.common.get(O).subscribe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.state.stage=e.stage,t.state.dataCenter=e,t.cpp$.next(e)}),t}return _inherits(PanelServices,e),PanelServices.prototype.init=function init(e){var t=this,n=this.config;this.userId=+this.global.get("USER_INFO.uid"),this.config=Object.assign({},N({},n,e)),Object(b.zip)(this.common.get("$DATA"),Object(v.of)(this.userId).pipe(Object(h.mergeMap)(function(e){return e?t.avatarServices.getAvatarObservable(e,"middle"):Object(v.of)({})})),Object(v.of)(e)).pipe(Object(_.map)(function(e){var n=e[0],r=e[1],i=e[2],a=n.room,o=void 0===a?{}:a,c=o.cate2_id,s=o.nickname,l=o.room_id,u=o.owner_uid,f=o.avatar,p=(f=void 0===f?{}:f).middle;return[{type:"AnchorInfo_"+P,data:{nickName:s,avatar:void 0===p?"":p,roomId:l,anchorId:u,isAnchor:t.userId===+u,cateId:c}},{type:"UserInfo_"+P,data:{userName:t.global.get("USER_INFO.nickname"),userId:t.userId||0,avatar:r.data}},i]})).subscribe(function(e){return t.handlePanelInit(e)})},PanelServices.prototype.handlePanelInit=function handlePanelInit(e){var t=this,n=e[0],r=e[1],i=e[2];window.addEventListener("message",function(e){var a=e.source,o=e.origin;if(a===i.iframe.current.contentWindow){var c=e.data,s=c.type,l=c.data,u=void 0===l?{}:l;s==="ReadyMsg_"+P&&u.isLoaded&&(t.panelSource=a,t.panelOrigin=o,t.updatePanel(n),t.updatePanel(r),t.cpp$.subscribe(function(e){return t.handleCPP(e)}),t.state.isShowPanel&&t.switchPanel(!0)),s==="ShowLogin_"+P&&u.showLogin&&!d.a.check()&&d.a.show()}})},PanelServices.prototype.handleCPP=function handleCPP(e){this.isGameOver()&&this.togglePanel(0);var t=e.cppRes||{};t.room||(t=Object.assign({},N({},t,{room:{zone:t.zone,act_id:t.act_id}}))),this.updatePanel({type:"CppRes_"+P,data:t})},PanelServices.prototype.togglePanel=function togglePanel(e){var t=this,n=this.state.isShowPanel,r=this.state.dataCenter;(void 0===r?{}:r).cppRes;this.isGameOver()?n&&this.switchPanel(!1):e?(n||this.switchPanel(!0),clearTimeout(this.config.mouseEnterTimer)):(clearTimeout(this.config.mouseEnterTimer),this.config.mouseEnterTimer=setTimeout(function(){t.switchPanel(!1)},200))},PanelServices.prototype.isGameOver=function isGameOver(){var e=this.state.dataCenter,t=(void 0===e?{}:e).stage;return 2!==(void 0===t?0:t)},PanelServices.prototype.updatePanel=function updatePanel(e){this.panelSource&&this.panelSource.postMessage(e,this.panelOrigin)},PanelServices.prototype.switchPanel=function switchPanel(e){var t=this.config||{};this.state.isShowPanel=e,e||(this.state.showBox=0),this.updatePanel({type:"IsShowRank_"+P,data:{showRank:e,isBox:this.state.showBox}}),"function"===typeof t.updatePanel&&t.updatePanel({isShowPanel:e})},PanelServices.prototype.openLoveBox=function openLoveBox(){this.state.isShowPanel||(this.state.showBox=1),this.togglePanel(1)},PanelServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"common",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"global",[i],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"avatarServices",[a],{enumerable:!0,initializer:null}),o);t.default=D},"6cdf5f":function(e,t,n){"use strict";n.r(t);n("528016");var r=n("7ca7dc"),i=new(n("2e19f9").default);r.default.render(i,document.getElementById("js-room-activity"))},"748d25":function(e,t,n){e.exports=n("2d6146")("980ef")},"7912b6":function(e,t,n){e.exports=n("5f575e")("48f66")},"7ca7dc":function(e,t,n){e.exports=n("2d6146")("f0df9")},"8355e9":function(e,t,n){e.exports=n("5f575e")("ed735")},"84b94c":function(e,t,n){"use strict";t.default=Object.assign({})},"853bd6":function(e,t,n){"use strict";var r,i,a,o,c,s,l,u,f,p=n("1a22b7"),m=n.n(p),d=n("7ca7dc"),b=n("eb3e22"),h=n("b067ea"),v=n("1ce3d1"),_=n("67add3"),y=n("332271"),g=n("d358a7"),N=n("e0a2e7"),w=n("fc59cc"),P=(n("b4b710"),"/shark/live/src/pages/roomPage/activity/actValentine/components/index.js");function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=d.default.Service,D=(r=O(v.default),i=O(_.default),a=O(b.DataCenter.common),o=O(h.default),c=function(e){function Pendant(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pendant);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"commonActServices",s,t),_initDefineProp(t,"actPanelServices",l,t),_initDefineProp(t,"common",u,t),_initDefineProp(t,"configEffectBroadcastService",f,t),t.state={isZoomIn:!1,offsetTop:150,isStart:!1,isRankMounted:!1},t.modal=m.a.createRef(),t.toggleZoomSwitch=t.toggleZoomSwitch.bind(t),t}return _inherits(Pendant,e),Pendant.prototype.componentDidMount=function componentDidMount(){this.commonActServices.init(),this.configEffectBroadcastService.register("qzs202008")},Pendant.prototype.toggleZoomSwitch=function toggleZoomSwitch(){var e=this.state.isZoomIn;this.setState({isZoomIn:!e})},Pendant.prototype.startAct=function startAct(){this.setState({isStart:!0})},Pendant.prototype.endAct=function endAct(){this.setState({isStart:!1})},Pendant.prototype.moveEvent=function moveEvent(e){var t=e||{};this.setState({offsetTop:t.top})},Pendant.prototype.render=function render(){var e=this,t=this.state,n=t.isStart,r=t.isZoomIn,i=t.offsetTop,a=t.isRankMounted;return m.a.createElement("div",{className:"ActValentine ActBase "+(n?"is-show":"")+" "+(r?"is-mini":""),style:{top:i},ref:this.modal,__source:{fileName:P,lineNumber:78},__self:this},m.a.createElement("div",{className:"ActBase-switchWrap",__source:{fileName:P,lineNumber:84},__self:this},m.a.createElement("span",{className:"ActBase-switch",onClick:this.toggleZoomSwitch,__source:{fileName:P,lineNumber:85},__self:this})),m.a.createElement(y.default,{styleName:"ActValentine-logo",isSupportY:!0,isParentsMove:!0,dragEvent:this.moveEvent.bind(this),modal:this.modal,__source:{fileName:P,lineNumber:89},__self:this}),m.a.createElement("div",{className:"ActValentineBar ActBase-bar",onMouseEnter:function onMouseEnter(t){e.setState({isRankMounted:!0})},__source:{fileName:P,lineNumber:96},__self:this},m.a.createElement(g.default,{startAct:this.startAct.bind(this),endAct:this.endAct.bind(this),__source:{fileName:P,lineNumber:103},__self:this})),m.a.createElement("div",{className:"ActBase-rank",__source:{fileName:P,lineNumber:108},__self:this},a?m.a.createElement(N.default,{__source:{fileName:P,lineNumber:110},__self:this}):null),m.a.createElement(w.default,{__source:{fileName:P,lineNumber:113},__self:this}))},Pendant}(m.a.Component),s=_applyDecoratedDescriptor(c.prototype,"commonActServices",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"actPanelServices",[i],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"configEffectBroadcastService",[o],{enumerable:!0,initializer:null}),c);t.default=D},"89ca29":function(e,t,n){"use strict";var r,i,a,o,c,s,l,u,f,p=n("1a22b7"),m=n.n(p),d=n("3b6ec9"),b=n.n(d),h=n("7ca7dc"),v=n("eb3e22"),_=n("97a1f0"),y=(n("9b3828"),"/shark/live/src/pages/roomPage/activity/actValentine/components/Tips/Tips.js");function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=h.default.Service,N=(r=Object(_.ErrorHandler)(m.a.createElement("div",{__source:{fileName:y,lineNumber:15},__self:void 0})),i=g(v.DataCenter.common),a=g(v.DataCenter.global),o=g(v.DataCenter.localStorage),r((s=function(e){function Tips(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tips);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",l,t),_initDefineProp(t,"global",u,t),_initDefineProp(t,"localStorage",f,t),t.closeBanner=function(){t.setState({isShow:0})},t.curUid=+t.global.get("USER_INFO.uid"),t.state={isShow:!1},t}return _inherits(Tips,e),Tips.prototype.componentWillUnmount=function componentWillUnmount(){this.node&&this.node.remove&&this.node.remove()},Tips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$ACT-77Day").subscribe(function(t){var n=t.cppRes,r=void 0===n?{}:n,i=e.localStorage.get("Act77DayTips"+e.curUid);r.disp&&1===+r.disp.step&&!i&&(e.localStorage.set("Act77DayTips"+e.curUid,1,86400),e.setState({isShow:1}))})},Tips.prototype.render=function render(){var e=this;return this.state.isShow?b.a.createPortal(m.a.createElement("div",{className:"Act520Tips",__source:{fileName:y,lineNumber:65},__self:this},"\u6279\u91cf\u8d60\u9001\u3010\u76f8\u4f1a\u5361\u3011x99\u3001x777\u53ef\u89e6\u53d1\u4e13\u5c5e\u8868\u767d\u7279\u6548",m.a.createElement("i",{className:"Act520Tips-close",onClick:function onClick(){e.closeBanner()},__source:{fileName:y,lineNumber:67},__self:this})),document.querySelector("#js-player-toolbar")):null},Tips}(m.a.Component),l=_applyDecoratedDescriptor(s.prototype,"common",[i],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"global",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"localStorage",[o],{enumerable:!0,initializer:null}),c=s))||c);t.default=N},"8b6941":function(e,t,n){"use strict";var r,i,a,o=n("1a22b7"),c=n.n(o),s=n("7ca7dc"),l=n("a89efc"),u=n("dbf7a8"),f=n("bf26be"),p=n("162d20"),m=n("67add3"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/Step1Bar.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var h=(r=(0,s.default.Service)(m.default),i=function(e){function Step1Bar(){var t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Step1Bar);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(n,"actPanelServices",a,n),_possibleConstructorReturn(n,t)}return _inherits(Step1Bar,e),Step1Bar.prototype.inTheGame=function inTheGame(e){var t=this;return c.a.createElement("div",{className:"ActValentineBar-body",__source:{fileName:b,lineNumber:15},__self:this},c.a.createElement("div",{onMouseEnter:function onMouseEnter(){return t.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return t.actPanelServices.togglePanel(0)},__source:{fileName:b,lineNumber:16},__self:this},e.showMeetingRank?c.a.createElement(u.default,d({},e,{__source:{fileName:b,lineNumber:21},__self:this})):c.a.createElement(l.default,d({},e,{__source:{fileName:b,lineNumber:22},__self:this})),e.hasChampionInfo?c.a.createElement(f.default,d({},e,{__source:{fileName:b,lineNumber:25},__self:this})):null),c.a.createElement("div",{onMouseLeave:function onMouseLeave(){return t.actPanelServices.togglePanel(0)},onMouseEnter:function onMouseEnter(e){t.actPanelServices.openLoveBox()},__source:{fileName:b,lineNumber:28},__self:this},c.a.createElement(p.default,d({},e,{__source:{fileName:b,lineNumber:33},__self:this}))))},Step1Bar.prototype.render=function render(){var e=this.props.data,t=void 0===e?{}:e;return this.inTheGame(t)},Step1Bar}(c.a.Component),a=function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(i.prototype,"actPanelServices",[r],{enumerable:!0,initializer:null}),i);t.default=h},"8d8eac":function(e,t,n){"use strict";n("1a22b7");var r,i,a,o,c,s,l,u=n("97a1f0"),f=n("7ca7dc"),p=n("eb3e22"),m=n("b85a25"),d=n.n(m),b=n("eeb9b8"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=f.default.Store,_=f.default.Service,y=(r=v(),i=_(p.DataCenter.common),a=_(b.default),o=function(e){function ActBarServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActBarServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",c,t),_initDefineProp(t,"common",s,t),_initDefineProp(t,"barServices",l,t),t.handleTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1][arguments[2]]||[];return Array.isArray(e)&&t.length?e.map(function(e){var n=t.filter(function(t){return t.task_id===+e.task_id})[0]||{};return h({},n,e)}):[]},t.updateComponet=null,t.phpConfig={},t.dataHandleCenter=t.dataHandleCenter.bind(t),t}return _inherits(ActBarServices,e),ActBarServices.prototype.init=function init(e){var t=e.updateComponent,n=this.dataHandleCenter;this.phpConfig;this.common.get("$ACT-77Day").subscribe(function(e){var r=n(e)||{},i=e.innerData,a=void 0===i?{}:i;t(h({isInit:e.isInit,stage:e.stage},a,r))})},ActBarServices.prototype.dataHandleCenter=function dataHandleCenter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};switch(e.stage){case 1:t=this.getStep1Data(e);break;case 2:t=this.getStep2Data(e);break;case 3:t=this.getStep3Data(e)}return t},ActBarServices.prototype.getStep1Data=function getStep1Data(e){var t=e.ztPageUrl,n=e.config,r=void 0===n?{}:n,i=r.step1_begin_time&&r.step1_begin_time[0],a=this.barServices.returnExpireData(i);return{ztPageUrl:t,previewDate:a.M+"\u6708"+a.d+"\u65e5  "+a.h+"\u70b9"}},ActBarServices.prototype.getDayRankInfo=function getDayRankInfo(e){var t=e||{},n=t.drki,r=t.drkd;t.drkn;return{winNum:1,hasDayRank:n&&101!==+n,dayRank:this.barServices.getRanking({type:1,ranking:n}),dayDiffInfo:this.barServices.diffInfo({upNum:1,ranking:n,dsc:r})}},ActBarServices.prototype.getChampionInfo=function getChampionInfo(e,t){var n=e||{},r=n.arkcet,i=n.arkcst,a=t||{},o=a.arki,c=void 0===o?101:o,s=a.arkn,l=void 0===s?1:s,u=a.arkd,f=a.arkun,p=a.arkuavt;return{hasChampionRank:c&&101!==+c,championRankStartTime:i,championRankOverTime:r,championRank:this.barServices.getRanking({type:1,ranking:c}),championDiffInfo:this.barServices.diffInfo({upNum:l,ranking:c,dsc:u}),championWinNum:l||"--",curChampionAvatar:p||d.a,curChampionDiffInfo:1===+c?["\u4fdd\u6301\u5168\u7ad9\u7b2c1","\u5373\u53ef\u76f8\u4f1a\u6210\u529f"]:["\u8ddd\u79bb\u76f8\u4f1a\u6210\u529f",this.barServices.getScore(+u)||"0"],curChampionName:f||"\u865a\u4f4d\u4ee5\u5f85"}},ActBarServices.prototype.getPreChampionInfo=function getPreChampionInfo(e){var t=e||{},n=t.parkwuavt,r=t.parkwun,i=t.parkws,a=void 0===i?0:i,o=t.parkwavt,c=t.parkwnn,s=t.parkwrid;return{hasChampionInfo:0!==+a,isChampionSuper:2===+a,championAvatar:o||d.a,championnn:c||"\u865a\u4f4d\u4ee5\u5f85",championRid:s,championUAvatar:n||d.a,championUnn:r||"\u865a\u4f4d\u4ee5\u5f85"}},ActBarServices.prototype.getStep2Data=function getStep2Data(e){var t=e.cppRes,n=void 0===t?{}:t,r=e.config,i=void 0===r?{}:r,a=e.ztPageUrl,o=i.rid,c=i.zone_list,s=void 0===c?{}:c,l=i.avatar,u=i.anchorname,f=i.task_setting,p=void 0===f?{}:f,m=n.drk,b=void 0===m?{}:m,v=n.zone,_=n.act_id,y=void 0===_?"":_,g=n.disp,N=void 0===g?{}:g,w=n.ark,P=void 0===w?{}:w,O=n.park,D=void 0===O?{}:O,S=n.tasklist,j=n.room,k=void 0===j?{}:j,E=k.task_full,C=void 0===E?"0":E,A=k.task_total,B=void 0===A?"0":A,z=k.task_num,x=void 0===z?"0":z,R=N.arkh,T=void 0===R?0:R,L=N.arkss,V=s[v]||{},I=this.getDayRankInfo(b),M=this.getChampionInfo(N,P),U=this.barServices.returnExpireData(M.championRankStartTime),$=this.barServices.returnExpireData(M.championRankOverTime),H=this.getPreChampionInfo(D);return h({ztPageUrl:a,curRid:o,taskFull:C,taskTotal:B,taskNum:x,zoneName:V.name||"--",anchorAvatar:l||d.a,anchorname:u},I,{showMeetingRank:1===+L&&0===+T,curChampionTime:U.h+":"+U.m+"-"+$.h+":"+$.m},M,H,{tasklist:this.handleTask(S,p,y)})},ActBarServices.prototype.getStep3Data=function getStep3Data(e){return{ztPageUrl:e.ztPageUrl}},ActBarServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"store",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"common",[i],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"barServices",[a],{enumerable:!0,initializer:null}),o);t.default=y},"8ddf9c":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defaultSharkAvatar_1ba58f1.png"},960890:function(e,t,n){e.exports=n("d1db8c")("c9c82")},964300:function(e,t,n){"use strict";var r=n("7ca7dc"),i=n("9a5346"),a=r.default.combineEpicsClass;t.default=a(i.default)},"97a1f0":function(e,t,n){e.exports=n("2d6146")("11f13")},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9a5346":function(e,t,n){"use strict";t.default=function ActEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActEpics)}},"9b3828":function(e,t,n){},a3c610:function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=n("8ddf9c"),o=n.n(a),c="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/Light.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var s=function(e){function Light(){var t,n,r=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Light);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n.renderLight=function(){var e=n.props,t=(e.cnum,e.num),a=void 0===t?"--":t,o=e.total,s=void 0===o?"--":o,l=n.handleHeartHeight(+a,+s);return i.a.createElement("div",{className:"ActValentineLoveBox-light",__source:{fileName:c,lineNumber:10},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--title",__source:{fileName:c,lineNumber:11},__self:r},"\u5f69\u706f\u5145\u80fd"),i.a.createElement("div",{className:"ActValentineLoveBox-light--content",__source:{fileName:c,lineNumber:12},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--outer",__source:{fileName:c,lineNumber:13},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--innerBox",style:{height:l},__source:{fileName:c,lineNumber:14},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--inner",__source:{fileName:c,lineNumber:15},__self:r})),i.a.createElement("div",{className:"ActValentineLoveBox-light--mask",__source:{fileName:c,lineNumber:17},__self:r})),i.a.createElement("div",{className:"ActValentineLoveBox-light--info",__source:{fileName:c,lineNumber:19},__self:r},i.a.createElement("span",{className:"ActValentineLoveBox-light--pink",__source:{fileName:c,lineNumber:20},__self:r},a),"/",n.handleTotal(s))),i.a.createElement("div",{className:"ActValentineLoveBox-light--bottom",__source:{fileName:c,lineNumber:23},__self:r},"\u5145\u80fd\u5b8c\u6bd5\u89e3\u9501",i.a.createElement("br",{__source:{fileName:c,lineNumber:23},__self:r}),"\u5f69\u706f\u73a9\u6cd5"))},n.renderTask=function(){var e=n.props,t=e.cnum,a=void 0===t?"--":t,s=e.num,l=void 0===s?"--":s,u=e.total,f=void 0===u?"--":u,p=e.task_name,m=void 0===p?"--":p,d=e.task_web_pic;return i.a.createElement("div",{className:"ActValentineLoveBox-light small",__source:{fileName:c,lineNumber:32},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--title",__source:{fileName:c,lineNumber:33},__self:r},"\u5f69\u706f\u4efb\u52a1"),i.a.createElement("div",{className:"ActValentineLoveBox-light--content",__source:{fileName:c,lineNumber:34},__self:r},i.a.createElement("div",{className:"ActValentineLoveBox-light--img",style:{backgroundImage:"url("+(d||o.a)+")"},__source:{fileName:c,lineNumber:35},__self:r}),i.a.createElement("div",{className:"ActValentineLoveBox-light--info",__source:{fileName:c,lineNumber:36},__self:r},i.a.createElement("p",{title:m,className:"ActValentineLoveBox-light--name",__source:{fileName:c,lineNumber:37},__self:r},m),i.a.createElement("span",{className:"ActValentineLoveBox-light--pink",__source:{fileName:c,lineNumber:38},__self:r},l),"/",n.handleTotal(f))),i.a.createElement("div",{className:"ActValentineLoveBox-light--bottom small",__source:{fileName:c,lineNumber:41},__self:r},"\u5df2\u5b8c\u6210",a,"\u6b21"))},_possibleConstructorReturn(n,t)}return _inherits(Light,e),Light.prototype.handleTotal=function handleTotal(e){var t=+e;return t>=1e4?parseInt(t/1e3,10)/10+"\u4e07":e},Light.prototype.handleHeartHeight=function handleHeartHeight(e,t){return e&&t?e>=t?"100%":parseInt(1e3*e/t,10)/10+"%":0},Light.prototype.render=function render(){return+this.props.type?this.renderTask():this.renderLight()},Light}(i.a.Component);t.default=s},a89efc:function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=(n("8ddf9c"),"/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/LuckyRank.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var o=function(e){function LuckyRank(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LuckyRank),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(LuckyRank,e),LuckyRank.prototype.render=function render(){var e=this.props,t=(e.anchorAvatar,e.dayRank),n=e.hasDayRank,r=e.zoneName,o=e.dayDiffInfo;return i.a.createElement("div",{className:"ActValentineLoveBox-lucky",__source:{fileName:a,lineNumber:8},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-lucky--title",__source:{fileName:a,lineNumber:9},__self:this},"\u798f\u661f\u65e5\u699c"),i.a.createElement("div",{className:"ActValentineLoveBox-lucky--area",__source:{fileName:a,lineNumber:10},__self:this}," ",r," "),i.a.createElement("div",{className:"ActValentineLoveBox-lucky--rank",__source:{fileName:a,lineNumber:11},__self:this},n?"\u6392\u540d"+t:"\u672a\u4e0a\u699c"),n&&i.a.createElement("div",{className:"ActValentineLoveBox-lucky--info",__source:{fileName:a,lineNumber:12},__self:this},o[0],i.a.createElement("br",{__source:{fileName:a,lineNumber:12},__self:this}),o[1]))},LuckyRank}(i.a.Component);t.default=o},b028fb:function(e,t,n){},b067ea:function(e,t,n){e.exports=n("5f575e")("6792d")},b4b710:function(e,t,n){},b85a25:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/avatar_3a6f19d.png"},bf26be:function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=n("7912b6"),o=n("8ddf9c"),c=n.n(o),s="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/Dating.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var l=function(e){function Dating(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Dating),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(Dating,e),Dating.prototype.render=function render(){var e=this.props,t=(e.anchorAvatar,e.curRid),n=e.championRid,r=e.championAvatar,o=e.championUAvatar,l=(e.anchorname,e.championnn),u=e.championUnn;return i.a.createElement(a.DyLink,{className:"ActValentinePreCWall",rid:+n,curRid:+t,__source:{fileName:s,lineNumber:11},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-dating",__source:{fileName:s,lineNumber:16},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-dating--title",__source:{fileName:s,lineNumber:17},__self:this},"\u4e0a\u573a\u76f8\u4f1a\u6210\u529f"),i.a.createElement("div",{className:"ActValentineLoveBox-dating--user",title:u,__source:{fileName:s,lineNumber:18},__self:this},u),i.a.createElement("div",{className:"ActValentineLoveBox-dating--avatarLeft",style:{backgroundImage:"url("+(o||c.a)+")"},__source:{fileName:s,lineNumber:19},__self:this}),i.a.createElement("div",{className:"ActValentineLoveBox-dating--avatarRight",style:{backgroundImage:"url("+(r||c.a)+")"},__source:{fileName:s,lineNumber:20},__self:this}),i.a.createElement("div",{className:"ActValentineLoveBox-dating--anchor",title:l,__source:{fileName:s,lineNumber:21},__self:this},l)))},Dating}(i.a.Component);t.default=l},cb8c6f:function(e,t,n){e.exports=n("5f575e")("de0e2")},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d358a7:function(e,t,n){"use strict";var r,i,a,o,c,s,l,u=n("1a22b7"),f=n.n(u),p=n("7ca7dc"),m=n("eb3e22"),d=n("8d8eac"),b=n("67add3"),h=n("0e25e5"),v=n("8b6941"),_=n("d83e28"),y="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/Bar.js";function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=p.default.Service,N=(r=g(m.DataCenter.common),i=g(d.default),a=g(b.default),o=function(e){function Bar(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Bar);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"actBarServices",s,t),_initDefineProp(t,"actPanelServices",l,t),t.state={data:{}},t.executeOnce=!1,t}return _inherits(Bar,e),Bar.prototype.componentDidMount=function componentDidMount(){this.actBarServices.init({updateComponent:this.updateComponent.bind(this)})},Bar.prototype.updateComponent=function updateComponent(e){e.closePanel?this.props.endAct():this.setState({data:e})},Bar.prototype.chooseComponent=function chooseComponent(e){switch(+e.stage){case 1:return f.a.createElement(h.default,{data:e,__source:{fileName:y,lineNumber:49},__self:this});case 2:return f.a.createElement(v.default,{data:e,__source:{fileName:y,lineNumber:51},__self:this});case 3:return f.a.createElement(_.default,{data:e,__source:{fileName:y,lineNumber:53},__self:this});default:return null}},Bar.prototype.render=function render(){var e=this,t=this.state.data||{};return!this.executeOnce&&t.isInit&&(this.executeOnce=!0,setTimeout(function(){e.props.startAct()},100)),this.chooseComponent(t)},Bar}(f.a.Component),c=_applyDecoratedDescriptor(o.prototype,"common",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"actBarServices",[i],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"actPanelServices",[a],{enumerable:!0,initializer:null}),o);t.default=N},d83e28:function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=(n("7912b6"),n("e2eac8"),"/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/ReviewBar.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var o=function(e){function ReviewBar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReviewBar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(ReviewBar,e),ReviewBar.prototype.render=function render(){var e=this.props.data,t=(void 0===e?{}:e).ztPageUrl;return i.a.createElement("div",{className:"ActValentineBar-body",__source:{fileName:a,lineNumber:11},__self:this},t?i.a.createElement("a",{className:"ActValentineReviewBar",href:t,target:"_blank",__source:{fileName:a,lineNumber:15},__self:this},i.a.createElement("div",{className:"ActValentineReviewBar-revText",__source:{fileName:a,lineNumber:16},__self:this}),i.a.createElement("div",{className:"ActValentineReviewBar-icon",__source:{fileName:a,lineNumber:17},__self:this})):i.a.createElement("div",{className:"ActValentineReviewBar",__source:{fileName:a,lineNumber:21},__self:this},i.a.createElement("div",{className:"ActValentineReviewBar-revText",__source:{fileName:a,lineNumber:22},__self:this}),i.a.createElement("div",{className:"ActValentineReviewBar-icon",__source:{fileName:a,lineNumber:23},__self:this})))},ReviewBar}(i.a.Component);t.default=o},dbf7a8:function(e,t,n){"use strict";var r=n("1a22b7"),i=n.n(r),a=n("8ddf9c"),o=n.n(a),c="/shark/live/src/pages/roomPage/activity/actValentine/components/Bar/MeetingRank.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}var s=function(e){function MeetingRank(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MeetingRank),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(MeetingRank,e),MeetingRank.prototype.render=function render(){var e=this.props,t=e.curChampionName,n=e.curChampionTime,r=e.hasChampionRank,a=e.curChampionAvatar,s=e.curChampionDiffInfo,l=void 0===s?[]:s;return i.a.createElement("div",{className:"ActValentineLoveBox-meet",__source:{fileName:c,lineNumber:14},__self:this},i.a.createElement("div",{className:"ActValentineLoveBox-meet--avatar",style:{backgroundImage:"url("+(a||o.a)+")"},__source:{fileName:c,lineNumber:15},__self:this}),i.a.createElement("div",{className:"ActValentineLoveBox-meet--title",__source:{fileName:c,lineNumber:16},__self:this},"\u9e4a\u6865\u76f8\u4f1a"),i.a.createElement("div",{className:"ActValentineLoveBox-meet--time",__source:{fileName:c,lineNumber:17},__self:this},n),i.a.createElement("div",{className:"ActValentineLoveBox-meet--nickname",__source:{fileName:c,lineNumber:18},__self:this},t),i.a.createElement("div",{className:"ActValentineLoveBox-meet--info",__source:{fileName:c,lineNumber:19},__self:this},l[0],i.a.createElement("br",{__source:{fileName:c,lineNumber:19},__self:this}),r?l[1]:"--"))},MeetingRank}(i.a.Component);t.default=s},e0a2e7:function(e,t,n){"use strict";var r,i,a,o,c,s,l,u=n("1a22b7"),f=n.n(u),p=n("7ca7dc"),m=n("eb3e22"),d=n("67add3");n("b028fb");function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=p.default.Service,h=(r=b(m.DataCenter.common),i=b(d.default),a=b(m.DataCenter.global),o=function(e){function Panel(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Panel);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"actPanelServices",s,t),_initDefineProp(t,"global",l,t),t.state={isShowPanel:!1},t.iframe=f.a.createRef(),t.updatePanel=t.updatePanel.bind(t),t}return _inherits(Panel,e),Panel.prototype.componentDidMount=function componentDidMount(){this.actPanelServices.init({iframe:this.iframe,updatePanel:this.updatePanel})},Panel.prototype.updatePanel=function updatePanel(e){var t=Object.assign({},e);this.setState(t)},Panel.prototype.render=function render(){var e=this,t=this.state,n=t.isShowPanel,r=(t.ztPageUrl,t.matchTimeList,t.stage,"/topic"+("master"!==this.global.get("$SYS.env")?"/template":"")+"/h5/Act20200707?isNormal=1");return f.a.createElement("iframe",{className:"ActValentineIframe "+(n?"is-show":""),onMouseEnter:function onMouseEnter(){return e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},ref:this.iframe,src:r,scrolling:"no",__source:{fileName:"/shark/live/src/pages/roomPage/activity/actValentine/components/Panel/Panel.js",lineNumber:50},__self:this})},Panel}(f.a.Component),c=_applyDecoratedDescriptor(o.prototype,"common",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"actPanelServices",[i],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"global",[a],{enumerable:!0,initializer:null}),o);t.default=h},e2eac8:function(e,t,n){e.exports=n("5f575e")("fec18")},e849dc:function(e,t,n){e.exports=n("5f575e")("24613")},e854a7:function(e,t,n){e.exports=n("5f575e")("a5ed5")},eb3e22:function(e,t,n){e.exports=n("d1db8c")("e55c4")},eeb9b8:function(e,t,n){e.exports=n("5f575e")("aa9da")},f3f802:function(e,t,n){e.exports=n("d1db8c")("f1cc6")},f68984:function(e,t,n){e.exports=n("d1db8c")("53a00")},fc59cc:function(e,t,n){"use strict";var r=n("89ca29");t.default=r.default},fc7947:function(e,t,n){e.exports=n("5f575e")("d38ed")},ffca33:function(e,t,n){e.exports=n("5f575e")("66581")}},[["6cdf5f","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/actValentine_0aa3a97.js.map
new function(){var a=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl");var b=a.extend(null,{localName:"test",getDisplayModel:function(){return{}}},{template:function(c){return"<b>hello</b>"}})};new function(){var a=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl");var b=a.extend(null,{localName:"input",isValid:function(){},setModel:function(){},getDisplayModel:function(){var g=this.getAttribute("type")||"text";var f=this.cnBase;var d=this.cnBase+"-"+g;var e=g;switch(g){case"hidden":case"password":case"checkbox":case"radio":case"file":case"submit":case"image":case"reset":case"button":break;default:e="text"}return{name:this.getAttribute("name")||"",type:g,inputType:e,value:this.getAttribute("value")||"",label:this.getAttribute("label")||"",cnBase:f,cnType:d,parentNodeName:this.parentNode?this.parentNode.nodeName:"",style:this.getAttribute("style")||"",checked:this.getAttribute("checked")||"",required:this.getBoolAttribute("required")||"",disabled:this.getBoolAttribute("disabled")||"",readonly:this.getBoolAttribute("readonly")||"",valid:this.isValid(),rangeOffset:b.getRangeOffset(this,this.getAttribute("value")),spinner:false,maxlength:false}},setMyValue:function(e){var g=this.getDisplay("input");var f=g.value;g.value=e;var d=this.ownerDocument.createEvent("UIEvent");d.initUIEvent("change",true,false,window,null);this.dispatchEvent(d,false)}},{template:function(e){var d=[];d.push('<span class="'+(e.parentNodeName=="radio"?e.cnBase+"-"+e.parentNodeName:e.cnBase)+" "+e.cnType);if(e.checked){d.push(" "+e.cnBase+"--checked")}if(e.required){d.push(" "+e.cnBase+"_required")}if(e.disabled){d.push(" "+e.cnBase+"_disabled")}if(e.readonly){d.push(" "+e.cnBase+"_readonly")}if(e.valid){d.push(" "+e.cnBase+"_valid")}d.push('"');if(e.style){d.push(' style="'+e.style+'"')}d.push(">");if(e.label){d.push('<label class="'+e.cnBase+"--label "+e.cnType+'--label">')}d.push('<div class="'+e.cnBase+"--field "+e.cnType+'--field"><div class="'+e.cnBase+"--button "+e.cnType+'--button" style="'+(e.type=="range"?"left:"+e.rangeOffset:"right:0")+'">');d.push('</div><input class="'+e.cnBase+"--input "+e.cnType+"--input");if(e.inputType=="text"||e.inputType=="password"){d.push(" bc-roundcorner-3")}d.push('" type="'+e.inputType+'"');d.push(' onchange="var elm=b$.getVC(this).setMyValue(this.value);"');if(e.inputType=="checkbox"||e.inputType=="radio"){d.push(' style="display:none"')}if(e.checked){d.push(' checked="checked"')}if(e.disabled){d.push(' disabled="true"')}if(e.readonly){d.push(' readonly="true"')}if(e.maxlength){d.push(' maxlength="'+e.maxlength+'"')}d.push(' name="'+e.name+'" value="'+e.value+'" />');d.push('<div class="'+e.cnBase+'--popup" style="position:absolute;display:none"></div>');d.push("</div>");if(e.label){d.push(e.label+"</label>")}d.push("</span>");return d.join("")},handlers:{DOMAttrModified:function(f){var g=f.attrName,i=f.newValue;if(this.htmlNode){var h=this.getAttribute("type")||"text";var e=this.cnBase;var d=e+"-"+h;if(g=="type"){}else{if(g=="checked"){if(i!=null&&i!=""){this.getDisplay("input").setAttribute("checked","checked");this.getDisplay("input").checked=true;b$(this.htmlNode).addClass(e+"--checked")}else{this.getDisplay("input").removeAttribute("checked");this.getDisplay("input").checked=false;b$(this.htmlNode).removeClass(e+"--checked")}}}}},DOMActivate:function(g){if(g.target==this){switch(this.getAttribute("type")){case"file":case"color":case"date":case"datetime":case"datetime-local":case"month":case"week":break;case"checkbox":if(this.getAttribute("checked")){this.removeAttribute("checked")}else{this.setAttribute("checked","checked")}break;case"radio":var h=this.getAttribute("name");var f=this.parentNode;for(var d=0,e;d<f.childNodes.length;d++){if((e=f.childNodes[d])&&e.getAttribute("type")=="radio"&&e.getAttribute("name")==h){if(e.getAttribute("checked")&&e!==this){e.removeAttribute("checked")}}}this.setAttribute("checked","checked");break}}},click:function(d){if(d.target==this){var e=this.getDisplayEventTarget(d.htmlTarget);if(e==this.getDisplay("button")){switch(this.getAttribute("type")){case"file":case"date":case"color":case"datetime":case"datetime-local":case"month":case"week":this.domActivate();break}}else{switch(this.getAttribute("type")){case"radio":case"checkbox":this.domActivate();break}}}},mousedown:function(d){if(d.target==this){switch(this.getAttribute("type")){case"range":if(this.getDisplayEventTarget(d.htmlTarget)!=this.getDisplay("button")){break}d.preventDefault();case"reset":case"submit":case"button":this.$captured=true;b$.ua.setMouseTrap(this);var e=this.cnBase;b$(this.htmlNode).addClass(e+"_active");break}}},mouseup:function(d){if(d.target==this){switch(this.getAttribute("type")){case"reset":case"submit":case"button":case"range":console.log("YESHJ");if(this.$captured){this.$captured=false;b$.ua.releaseMouseTrap(this);var e=this.cnBase;b$(this.htmlNode).removeClass(e+"_active");if(this.getAttribute("type")=="range"){this.setAttribute("value",this.valueAsNumber)}}break}}},DOMNodeInsertedIntoDocument:function(d){if(d.target==this){}},mousemove:function(f){if(f.target==this){switch(this.getAttribute("type")){case"range":if(this.$captured){var j=b$.ua.getBoundingClientRect(this.getDisplay("field")),h=Math.max(j.left,Math.min(f.clientX,j.right)),e=(h-j.left)/(j.right-j.left);var g=parseFloat(this.getAttribute("step"))||1,d=parseFloat(this.getAttribute("min")),i=parseFloat(this.getAttribute("max"));if(isNaN(d)){d=0}if(isNaN(i)){i=100}if(i<d){i=d}this.valueAsNumber=Math.round(g*(d+(i-d)*e))/g;this.getDisplay("button").style.left=b.getRangeOffset(this,this.valueAsNumber)}break}}}},getRangeOffset:function(g,e){var f=parseFloat(g.getAttribute("max")),d=parseFloat(g.getAttribute("min"));if(isNaN(d)){d=0}if(isNaN(f)){f=100}if(f<d){f=d}return 100*(Math.max(d,Math.min(f,e))-d)/(f-d)+"%"}});var c=a.extend(function(d,e){a.apply(this,arguments)},{localName:"radio",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}}},{template:function(d){return'<span class="'+d.cnBase+" "+d.cnBase+'--radio-group"></span>'}})};new function(){var a=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl");var d=a.extend(function(e,f){a.apply(this,arguments);this.selectedIndex=0;this.options=new b$.bdom.NodeList()},{localName:"select",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},DOMReady:function(){this.setSelectedIndex(this.selectedIndex)},setSelectedIndex:function(e){if(!this.htmlNode){this.selectedIndex=e}else{if(this.selectedIndex!=undefined&&this.options[this.selectedIndex]){b$(this.options[this.selectedIndex].htmlNode).removeClass("bc-option-selected")}if(this.options[e]){this.selectedIndex=e;var h=this.options[e].getTextContent();this.getDisplay("label").innerHTML=h;var g=this.options[e];var f=g.getAttribute("value");if(!g.hasAttribute("value")){f=h}this.getDisplay("select").value=f;b$(g.htmlNode).addClass("bc-option-selected")}b.ensureRowIsVisible(this.options[e])}},addOption:function(f,e){return this.appendChild(f)},removeOption:function(e){return this.removeChild(this.options[e])},toggle:function(){d.toggle(this)}},{template:function(f){var e=[];e.push('<div class="'+f.cnBase+'">');e.push('<input class="'+f.cnBase+'--select" name="'+f.name+'" />');e.push('<ul class="'+f.cnBase+"--list "+f.cnBasePrefix+"gradient-grey "+f.cnBasePrefix+'roundcorner-5">');e.push('<li class="'+f.cnBase+'--label">'+f.value+"</li>");e.push('<li class="'+f.cnBasePrefix+'dd-arrow"><span class="'+f.cnBase+"--button "+f.cnBasePrefix+"icn "+f.cnBasePrefix+'triangle"></span></li>');e.push("</ul>");e.push('<div class="'+f.cnBase+'--dropdown bc-roundcorner-8 bc-shadow --area" style="display:none"></div>');e.push("</div>");return e.join("")},handlers:{mousedown:function(e){if(e.htmlTarget.className&&e.htmlTarget.className.indexOf("--dropdown")==-1){d.toggle(this)}if(e.target instanceof b){if(this.options[this.selectedIndex]!=e.target){this.setSelectedIndex(this.options.indexOf(e.target))}}return false},keydown:function(e){switch(e.keyIdentifier){case"U+000D":d.toggle(this);break;case"U+0028":var f=this.selectedIndex<this.options.length-1?this.selectedIndex+1:0;this.setSelectedIndex(f);e.preventDefault();break;case"U+0026":var f=this.selectedIndex>0?this.selectedIndex-1:this.options.length-1;this.setSelectedIndex(f);e.preventDefault();break}}},toggle:function(f,n){var m=f.getDisplay("dropdown"),k=f.getDisplay("list"),i=(f.parentNode&&f.parentNode.htmlBody)?f.parentNode.htmlBody.parentNode:null,g,h=b$._private.htmlAPI;if(k){var j=m.style,l=h.getBoxObject(k).top-h.getBoxObject(i).top,g=(l-(i.offsetHeight/2)+(k.offsetHeight/2))>=0,e=i.offsetHeight-l-k.offsetHeight;j.maxHeight=((!g?e:l)-k.offsetHeight)+"px"}if((arguments.length>1&&n==true)||!(arguments.length>1||j.display!="none")){f.bOpen=true;b$(f.htmlNode).addClass(f.cnBase+"-open").addClass(!g?"":f.cnBase+"-up");j.display="";b$.ua.setMouseTrap(f);b.ensureRowIsVisible(f.options[f.selectedIndex])}else{f.bOpen=false;b$(f.htmlNode).removeClass(f.cnBase+"-open").removeClass(f.cnBase+"-up");j.display="none";b$.ua.releaseMouseTrap(f)}}});var b=a.extend(null,{localName:"option",getDisplayModel:function(){return{cnBase:this.cnBase,value:this.getAttribute("value")||""}}},{template:function(f){var e='<div class="'+f.cnBase+" "+f.cnBase+'-ellipsis"><span class="'+f.cnBase+'-label --area"></span></div>';return e},ensureRowIsVisible:function(e){for(var g=e;g&&(g=g.parentNode);){if(g instanceof d){var i=g.getDisplay("dropdown"),j=e.getDisplay(),h=j.offsetTop-i.offsetTop,f=j.offsetHeight-i.offsetHeight;i.scrollTop=j.offsetTop-3;break}}},handlers:{DOMNodeInserted:function(f){for(var h=this,g=0;h=h.parentNode;){if(h instanceof d){break}else{g++}}if(h){h.options.add(this);if(this.parentNode!=h){this.getDisplay("gap").style.width=g+"em"}var e=this.getAttribute("selected");if(e=="true"||e=="selected"){h.setSelectedIndex(h.options.indexOf(this))}}},DOMNodeRemoved:function(e){for(var f=this;f=f.parentNode;){if(f instanceof d){break}}if(f){f.options.remove(this)}},DOMAttrModified:function(f){if(f.target==this){var g=f.attrName,h=f.newValue;if(this.htmlNode){if(g=="selected"){var e=this.prefix+"option";if(h!=null&&h!="false"){b$(this.htmlNode).addClass(e+"_selected")}else{b$(this.htmlNode).removeClass(e+"_selected")}}else{if(g=="label"){this.getDisplay("gateway").innerHTML=h||""}}}}},mouseenter:function(e){if(e.target==this){b$(this.htmlNode).addClass("_hover")}},mouseleave:function(e){if(e.target==this){b$(this.htmlNode).removeClass("_hover")}}}});var c=a.extend(function(e,f){a.apply(this,arguments);this.cls=(this.prefix?this.prefix+"-":"")+this.localName},{localName:"optgroup",getDisplayModel:function(){return{sClassName:this.prefix+"select"}}},{template:function(e){return'<div class="'+this.cls+(this.disabled?" "+this.cls+"_disabled":"")+'">      <div class="'+this.cls+'--gap" style="height:1em;float:left"></div>      <div class="'+this.cls+'--value">'+(this.label||"")+'</div>      <div class="'+this.cls+'--area">      </div>     </div>'},handlers:{mouseover:function(e){if(e.target==this){this.$setPseudoClass("hover",true,"value")}},mouseout:function(e){if(e.target==this){this.$setPseudoClass("hover",false,"value")}},DOMNodeInsertedIntoDocument:function(e){for(var g=this,f=0;g=g.parentNode;){if(g instanceof d){break}else{f++}}if(g){if(this.parentNode!=g){this.getDisplay("gap").style.width=f+"em"}}}}})};(function(){var a=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl");var b=a.extend(function(c,d){a.apply(this,arguments);this.selectedIndex=0},{localName:"switch",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},toggle:function(){var d=b$(this.htmlNode),c=b$(this.getDisplay("."+this.cnBasePrefix+"label"));input=this.getDisplay("input");d.toggleClass(this.cnBase+"--checked");c.toggleClass(this.cnBasePrefix+"toggle-checked");input.setAttribute("value",input.getAttribute("value")=="true"?"false":"true");if(input.getAttribute("checked")){input.removeAttribute("checked")}else{input.setAttribute("checked","true")}this.setAttribute("value",this.getAttribute("value")=="true"?"false":"true")}},{template:function(d){var c=[],e=(d.value=="true");c.push('<span class="'+d.cnBase+" "+(e?d.cnBase+"--checked":"")+'">');c.push('<div class="'+d.cnBase+" "+d.cnBasePrefix+'toggle-switch">');c.push('<input type="checkbox" class="'+d.cnBase+"--input "+d.cnBasePrefix+'toggle-switch"');c.push(' name="'+(d.name||"")+'" value="'+d.value+'"'+(e?' checked="checked"':"")+">");c.push('<div class="'+d.cnBasePrefix+"label"+(e?" "+d.cnBasePrefix+"toggle-checked":"")+'" data-on="YES" data-off="NO">');c.push("</div></div></span>");return c.join("")},handlers:{click:function(c){if(c.target==this){this.toggle()}},keydown:function(c){if(c.target==this){if(c.keyIdentifier=="U+000D"||c.keyIdentifier=="U+0027"||c.keyIdentifier=="U+0025"||c.keyIdentifier=="U+0020"){this.toggle();c.preventDefault()}}}}})})();
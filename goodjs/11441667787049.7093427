define(["require","exports","tslib","classnames","react","modules/clean/react/components/css","modules/clean/react/index/utils/utils","spectrum-arbor/util/raf_throttle","spectrum-arbor/util/theme","spectrum-arbor/atoms/arbor_aspect_box/index","spectrum-arbor/atoms/arbor_button/index","spectrum-arbor/atoms/arbor_copy/index","spectrum-arbor/atoms/arbor_grid_container/index","spectrum-arbor/atoms/arbor_grid_element/index","spectrum-arbor/atoms/arbor_headline/index"],function(e,t,d,m,u,n,r,a,i,l,h,p,s,o,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JTBDPlank=void 0,m=d.__importDefault(m),u=d.__importDefault(u);var f,g,_,v=(_=u.default.PureComponent,d.__extends(x,_),x.prototype.renderHeadline=function(){var e=this.props,t=e.active,n=e.headline,a=e.headlineClickTrackingId,i=e.index,s=e.onClick;return u.default.createElement(h.ArborButton,{className:m.default(this.elementClass+"__headline",((e={})[this.elementClass+"__headline--active"]=t,e)),theme:"panda-white",padding:"none",fullWidth:!0,disabled:t,onClick:function(){return s(i)},trackingId:a,clickEvent:"element_click"},u.default.createElement(c.ArborHeadline,{className:this.elementClass+"__headline-copy",tag:"h4",weight:"book"},n),u.default.createElement("span",{className:this.elementClass+"__headline-icon-container"},this.minus,this.plus))},x.prototype.renderBody=function(){var e=this.props,t=e.active,n=e.cta,a=n.href,i=n.label,s=n.trackingId,r=n.clickEvent,l=n.openInNewTab,o=e.description,c=e.bodyHeight,n=e.setBodyRef,e=l?{target:"_blank",rel:"noreferrer"}:{};return u.default.createElement("div",{className:m.default(this.elementClass+"__body",((l={})[this.elementClass+"__body--active"]=t,l)),style:{maxHeight:c}},u.default.createElement("div",{ref:n},u.default.createElement(p.ArborCopy,{className:this.elementClass+"__body-description"},o),u.default.createElement(h.ArborButton,d.__assign({className:this.elementClass+"__body-cta",theme:"panda-white",padding:"standard",marginTopSize:{base:1.5,medium:1.5,large:3},marginBottomSize:{base:3,medium:3,large:4},outlined:!0,href:a,trackingId:s,clickEvent:r},e),i)))},x.prototype.render=function(){var e,t=this.props.active;return u.default.createElement("div",{className:m.default(this.elementClass,((e={})[this.elementClass+"--active"]=t,e))},this.renderHeadline(),this.renderBody())},x),b=(g=u.default.PureComponent,d.__extends(k,g),k.prototype.render=function(){var e=this.props,t=e.imgSrc,n=e.imgSrcHiRes,a=e.backgroundColor,i=e.alt,s=e.active,e=e.height;return u.default.createElement("div",{className:m.default(""+this.elementClass,this.elementClass+"--"+a,((a={})[this.elementClass+"--active"]=s,a)),style:{height:e}},u.default.createElement(l.ArborAspectBox,{aspect:{width:1,height:1},content:u.default.createElement(r.AsyncImage,{src:t,srcHiRes:n,alt:i})}))},k),C=(f=u.default.Component,d.__extends(y,f),y.prototype.componentDidMount=function(){this.setHeights(),window.addEventListener("resize",this.resizeThrottle.request)},y.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeThrottle.request)},Object.defineProperty(y.prototype,"activeUseCaseBodyHeight",{get:function(){if(!this.activeUseCaseBodyRef)return 0;var e=this.activeUseCaseBodyRef,t=e.clientHeight,e=e.offsetHeight;return Math.max(t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"contentSectionHeight",{get:function(){if(!this.contentSectionRef)return 0;var e=this.contentSectionRef,t=e.clientHeight,e=e.offsetHeight;return Math.max(t,e)},enumerable:!1,configurable:!0}),y.prototype.renderUseCases=function(){var a=this,e=this.props.contents,t=this.state,i=t.activeIndex,s=t.activeUseCaseBodyHeight;return u.default.createElement(o.ArborGridElement,{className:this.elementClass+"__content-section",columnWidth:{base:12,medium:12,large:12},setRef:function(e){return a.contentSectionRef=e}},e.map(function(e,t){var n=e.useCase,e=i===t;return u.default.createElement(v,d.__assign({},n,{active:e,index:t,key:n.headline,onClick:a.handleUseCaseClick,bodyHeight:e?s:0,setBodyRef:e?function(e){return a.activeUseCaseBodyRef=e}:void 0}))}))},y.prototype.renderImages=function(){var e=this.props.contents,t=this.state,n=t.activeIndex,a=t.contentSectionHeight;return u.default.createElement(o.ArborGridElement,{className:this.elementClass+"__image-section",columnWidth:{base:12,medium:12,large:12}},u.default.createElement("div",{className:this.elementClass+"__image-section-height-container",style:{height:a}},e.map(function(e,t){e=e.image;return u.default.createElement(b,d.__assign({},e,{key:e.alt,active:n===t,height:a}))})))},y.prototype.render=function(){return u.default.createElement(i.ThemeProvider,{spacing:"8px"},u.default.createElement(s.ArborGridContainer,{className:m.default(""+this.elementClass,""+this.props.classNames),alignment:"flex-start",childSpacing:"flex-start",containerRelative:!0,direction:{base:"column",medium:"row",large:"row"},topPaddingSize:"none",bottomPaddingSize:"none",widthType:"full"},this.renderUseCases(),this.renderImages()))},y);function y(e){var t=f.call(this,e)||this;return t.elementClass="jtbd-plank",t.setHeights=function(){t.setState({activeUseCaseBodyHeight:t.activeUseCaseBodyHeight},function(){setTimeout(function(){t.setState({contentSectionHeight:t.contentSectionHeight})},500)})},t.handleUseCaseClick=function(e){t.setState({activeIndex:e},t.setHeights)},t.state={activeIndex:0,activeUseCaseBodyHeight:0,contentSectionHeight:0},t.resizeThrottle=new a.RafThrottle(t.setHeights),t}function k(){var e=null!==g&&g.apply(this,arguments)||this;return e.elementClass="jtbd-plank-image",e}function x(){var e=null!==_&&_.apply(this,arguments)||this;return e.elementClass="jtbd-plank-usecase",e.plus=u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",className:e.elementClass+"__icon "+e.elementClass+"__icon--plus"},u.default.createElement("path",{d:"M7.75 0.5V15M15 7.75H0.5",stroke:"black",strokeWidth:"3",strokeMiterlimit:"10"})),e.minus=u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"4",viewBox:"0 0 15 4",fill:"none",className:e.elementClass+"__icon "+e.elementClass+"__icon--minus"},u.default.createElement("path",{d:"M15 1.75H0.5",stroke:"black",strokeWidth:"3",strokeMiterlimit:"10"})),e}t.JTBDPlank=n.requireCssWithComponent(C,["/static/css/index/pisces/jtbd_plank-vfleciVQi.css"])});

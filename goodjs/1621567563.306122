!function(){"use strict";var t={};(function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);var e={PROD:"prod",QA:"qa",DEV:"dev",GOLDEN:"golden",PREPROD:"preprod",E2E:"e2e",TEST:"test"},n=Math.floor(Date.now()/1e3),i="INFO",o="ERROR",a={env:"e2e"},c=["Intuit.data.entdataproc.trackstarwebapp"],r=function(t,i,o,a){var r=window.location.href,s=r?encodeURI(r):r,d="7afa70fe-f1cc-11e7-8c3f-9a214cf093ae",l={timestamp:"".concat(n),destination:[]};a&&c.length>1?l.destination.push(c):delete l.destination;var p=[{eventTypes:"APPLICATION_CLIENT",spanId:d,parentSpanId:d,rootSpanId:d,transactionId:"tid1",env:o,deviceId:"DeviceId1",logType:t,appId:"appId1",component:"component",url:s,userId:"TrackStar",oilProps:l,execTimeMs:100,Message:i}],u="",E="";o===e.PROD?(u="https://logging.api.intuit.com/v2/log/message",E="prdakyresvV5u8cSivv3so3GRaYFhdu22H2NUJEn"):(u="https://logging-e2e.api.intuit.com/v2/log/message",E="preprdakyres6dF8hkg2meLkckKZt6QjgHdpi4Ll"),fetch(u,{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Intuit_APIKey intuit_apikey=".concat(E,", intuit_apkey_version=1.0"),"-X-APPID":"'".concat("Intuit.data.entdataproc.trackstarwebapp","'"),"-X-DEVICEID":"a","-X-INTUIT_TID":"a"}}).then((function(t){if(!t.ok)throw new Error("Error during logging with status code: ".concat(t.status))})).catch((function(t){console.log(t)}))},s=function(t,e){var n;n=e||window.location.href;var i=t;i=i.replace(/\[\[\]]/g,"\\$&");var o=new RegExp("[?&]".concat(i,"(=([^&#]*)|&|#|$)")).exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},d=function(t,n,i,c,d){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p={file:n,method:i,msg:c,trackingApplication:d||"noApp"},u=function(){return r(t,p,a.env,l)},E="1"===s("debug");a.env===e.PROD?t===o&&u():u(),E&&console.log(p)},l={prod:{NODE_ENV:"prod",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},e2e:{NODE_ENV:"e2e",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},dev:{NODE_ENV:"dev",ECS_LIB_HOST_DOMAIN:"https://localhost.intuit.com:9000"},test:{NODE_ENV:"test",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"}},p="bootstrapWebAnalytics.js",u=function(t,n,a,c,r){var s,u=l[n].ECS_LIB_HOST_DOMAIN,E="track-event-lib",g="".concat(E,".min.js"),w="".concat(u,"/analytics/").concat("202104142250"),f=r?r.split(","):[],v="track-event-lib-",m={prod:"".concat(w,"/").concat(v),e2e:"".concat(w,"/").concat(v),dev:v,test:v};s=e.DEV.toLowerCase()===n.toLowerCase()||e.TEST.toLowerCase()===n.toLowerCase()?g:"".concat(w,"/").concat(g);var T=function(t,e){var n=e||0,a=n;return new Promise((function(e,c){!function r(){var s="loadScript",l=performance.now(),u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src=t,u.onload=function(){n!==a&&d(i,p,s,'"Script '.concat(u.src," loaded in ").concat(n-a+1," tries,\n                timeTaken=").concat((performance.now()-l).toFixed(0),' ms"')),e()},u.onerror=function(){a>0?(d("WARN",p,s,"Starting script loading retry for ".concat(u.src)),a-=1,r()):(d(o,p,s,'"Error loading '.concat(u.src," timeTaken=").concat((performance.now()-l).toFixed(0),' ms"')),c())};var E=document.getElementsByTagName("script")[0];E.parentNode.insertBefore(u,E)}()}))},y=function(){var c="initBeaconing";if(!window.intuit.tracking.ecs.initBeaconed){window.intuit.tracking.ecs.initBeaconed=!0;var r=performance.now(),l=[];if(l.push(fetch("https://segment.intuitcdn.net/v1/projects/".concat(t,"/settings"))),l.push(T(s,3)),f.forEach((function(t){l.push(T("".concat(m[n.toLowerCase()]).concat(t,".min.js"),3))})),"true"===a){var u="visitorapi.min.js";e.DEV.toLowerCase()!==n.toLowerCase()&&e.TEST.toLowerCase()!==n.toLowerCase()&&(u="".concat(w,"/").concat(u)),l.push(T(u).then((function(){Visitor.getInstance("969430F0543F253D0A4C98C6@AdobeOrg",{trackingServer:"ci.intuit.com",trackingServerSecure:"sci.intuit.com",marketingCloudServer:"ci.intuit.com",marketingCloudServerSecure:"sci.intuit.com"})})),3)}(e.TEST.toLowerCase()===n.toLowerCase()||window.location.search.indexOf("trackingTest=true")>-1)&&l.push(new Promise((function(t){setTimeout((function(){return t()}),"localhost.intuit.com"===window.location.hostname?2e3:5e3)}))),Promise.all(l).then((function(t){return TrackStar[E].WebAnalytics.initializeAnalyticsJS(t[0])})).then((function(e){d(i,"bootstrapWebAnalytics.js","initBeaconing","initBeaconing totalTime: ".concat(performance.now()-r," ms"));var s=window.intuit.tracking.ecs.webAnalytics,l=s.initConfig;if(l){window.intuit.tracking.ecs.analytics=e,l.write_key=t,l.env=n,l.loadAdobeVisitorApi="true"===a;var u=new TrackStar[E].WebAnalytics(l);for(u.constants=s.constants,u.invoked=s.invoked;s.q&&s.q.length>0;){var g=s.q.shift(),w=g.shift();"function"==typeof u[w]&&u[w].apply(u,g)}s=null,window.intuit.tracking.ecs.webAnalytics=u}else d(o,p,c,"initConfig is missing!")})).catch((function(t){d(o,p,c,"Error replaying queued events: ".concat(t))}))}};c?document.addEventListener(c,y):window.intuit.tracking.ecs.isBrowserPolyfilled?document.addEventListener("BootstrapWebAnalytics",y):document.addEventListener("DOMContentLoaded",y)},E=function(t){for(var e=t.split("."),n=window,i="",o=e.length,a=0;a<o;a+=1)n[i=e[a]]=n[i]||{},n=n[i];return n};E("intuit.tracking.ecs.webAnalytics"),E("intuit.tracking.ecs.webAnalytics.constants");var g={org:{CG:"cg",CMO:"cmo",CS:"cs",CTO:"cto",IIP:"iip",PTG:"ptg",SBSEG:"sbseg"},purpose:{CARE:"care",MKTG:"mktg",IDENTITY:"identity",PROD:"prod"},scope:{ACCT_COMM:"acct_comm",APPSCOM:"appscom",CAPITAL:"capital",CORP:"corp",CPP:"cpp",DESKTOP:"desktop",DEVELOPER:"developer",DEVX:"devx",IDENTITY:"identity",IDX:"idx",IEP:"iep",INSURANCE:"insurance",ITO:"ito",LACERTE:"lacerte",LIFELINE:"lifeline",MINT:"mint",MKTG_SITE:"mktg_site",MYACCT:"myacct",PAYMENTS:"payments",PAYROLL:"payroll",PF_COMM:"pf_comm",PROSERIES:"proseries",QB:"mktg_site",QBLIVE:"qblive",QBM:"qbm",QBMONEY:"qbmoney",QBO:"qbo",QBOA:"qboa",QBSE:"qbse",SBX_ACCT:"sbx_acct",SBX_TP:"sbx_tp",SALESFORCE:"salesforce",TURBO:"turbo",TURBOTAX:"turbotax",TXP:"txp",TXP_BLOG:"txp_blog"},uiAction:{CHANGED_SELECTION:"changed selection",CLICKED:"clicked",CLICKING:"clicking",DRAGGED:"dragged",DRAGGED_AND_DROPPED:"dragged and dropped",ENTERED:"entered",ERROR:"error",HIDDEN:"hidden",HOVERED_OVER:"hovered over",KEYPRESSED:"keypressed",SELECTED:"selected",SLID:"slid",STARTED:"started",TOGGLED:"toggled",UNSELECTED:"unselected",VIEWED:"viewed",INTERACTED:"interacted"},env:e};window.intuit.tracking.ecs.webAnalytics.constants=g;var w=window.intuit.tracking.ecs.webAnalytics;if(w.q=w.q||[],w.invoked)d(o,"init.js","","webAnalytics snippet included twice.");else{var f,v,m,T,y,S=document.querySelector('script[data-name="webAnalytics"]');if(S&&S.dataset&&S.dataset.writeKey&&S.dataset.env){f=S.dataset.writeKey,v=S.dataset.env,a.env=v,y=S.dataset.loadModules?S.dataset.loadModules.toLowerCase():"",m=S.dataset.loadAdobeVisitorApi?S.dataset.loadAdobeVisitorApi.toLowerCase():void 0,T=S.dataset.bootstrapEvent,w.invoked=!0,w.methods=["trackPage","track","identify","group","on","setApplicationTrackingContext","setWidgetTrackingContext"],w.factory=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Array.prototype.slice.call(n);return o.unshift(t),w.q.push(o),w}};for(var I=0;I<w.methods.length;I+=1){var h=w.methods[I];w[h]=w.factory(h)}window.analytics=window.analytics||[],window.analytics.SNIPPET_VERSION="4.1.0",function(t,e,n,i,o){var a=[];if(window.Promise||a.push("Promise"),window.fetch||a.push("fetch"),"function"!=typeof window.Event&&a.push("Event"),0===a.length)u(t,e,n,i,o);else{window.intuit.tracking.ecs.isBrowserPolyfilled=!0;var c="https://uxfabric.intuitcdn.net/polyfill/polyfill.min.js?features=".concat(a.join(","),"&flags=gated"),r=document.createElement("script");r.onload=function(){u(t,e,n,i,o),window.intuit.tracking.ecs.initBeaconed||document.dispatchEvent(new Event("BootstrapWebAnalytics"))},r.src=c;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s)}}(f,v,m,T,y)}else d(o,"init.js","","data-name, data-write-key and data-env is required in init script.")}(window.TrackStar=window.TrackStar||{})["track-event-lib-init"]=t}();
//# sourceMappingURL=track-event-lib-init.min.js.map
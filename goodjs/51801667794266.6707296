!function(c){function e(e){for(var t,n,r=e[0],o=e[1],a=e[2],i=0,s=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(p,n)&&p[n]&&s.push(p[n][0]),p[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(c[t]=o[t]);for(f&&f(e);s.length;)s.shift()();return l.push.apply(l,a||[]),u()}function u(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==p[a]&&(r=!1)}r&&(l.splice(t--,1),e=d(d.s=n[0]))}return e}var n={},_={70:0},p={70:0},l=[];function d(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.e=function(l){var e=[];_[l]?e.push(_[l]):0!==_[l]&&{7:1,18:1,31:1,33:1,88:1,98:1,104:1,105:1,108:1,109:1,111:1}[l]&&e.push(_[l]=new Promise(function(e,n){for(var t=({}[l]||l)+"."+{7:"7125a35554246209b4fe",18:"c32fd47026acf1d06251",31:"7433931df7d9b8a72658",33:"0874cedc6cf51e2202cb",88:"68be2cdc24ed13509fdd",98:"90815571620551022e97",104:"15e209cbc7ef390c9d1a",105:"2381efb4769b7b7c0fb3",108:"eed0c3655edebb535a0e",109:"9f4c9f9dc454b0619c9f",111:"15bcb5c7d26097ba6cd1"}[l]+".css",r=d.p+t,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var i=(s=o[a]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===t||i===r))return e()}for(var s,c=document.getElementsByTagName("style"),a=0;a<c.length;a++)if((i=(s=c[a]).getAttribute("data-href"))===t||i===r)return e();var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var t=e&&e.target&&e.target.src||r,e=new Error("Loading CSS chunk "+l+" failed.\n("+t+")");e.code="CSS_CHUNK_LOAD_FAILED",e.request=t,delete _[l],u.parentNode.removeChild(u),n(e)},u.href=r,document.getElementsByTagName("head")[0].appendChild(u)}).then(function(){_[l]=0}));var t,r,o,n,a,i=p[l];return 0!==i&&(i?e.push(i[2]):(t=new Promise(function(e,t){i=p[l]=[e,t]}),e.push(i[2]=t),(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.src=d.p+""+({}[l]||l)+"."+{7:"ae04cbe888511b8f03f9",18:"62058b9d410e3cffd77b",31:"afa67de7920cdf142230",33:"4f056e8d75f31c346e0b",88:"781ee93c423e0b0837de",98:"254d673df4a5502617cd",104:"eedd9bd1d519fcf5f979",105:"5b1294fd9f3c70cac923",108:"2a84071bf330f3d96c1e",109:"3a317f884bd5de2b58bb",111:"5f0f97c12aeca09a8517"}[l]+".js",o=new Error,n=function(e){r.onerror=r.onload=null,clearTimeout(a);var t,n=p[l];0!==n&&(n&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,o.message="Loading chunk "+l+" failed.\n("+t+": "+e+")",o.name="ChunkLoadError",o.type=t,o.request=e,n[1](o)),p[l]=void 0)},a=setTimeout(function(){n({type:"timeout",target:r})},12e4),r.onerror=r.onload=n,document.head.appendChild(r))),Promise.all(e)},d.m=c,d.c=n,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)d.d(n,r,function(e){return t[e]}.bind(null,r));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e};var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),o=0;o<r.length;o++)e(r[o]);var f=t;l.push([2102,0,1,2,3,4,19,22,30]),u()}({0:function(e,t,n){e.exports=n(18)(0)},1:function(e,t,n){e.exports=n(18)(26)},100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var r=n(11),r=n.n(r);t.default=r()({loader:function(){return n.e(98).then(n.bind(null,192))},loading:function(){return null}})},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){!function(t){function e(){}Scribd.UI||(Scribd.UI={}),Scribd.UI.SearchStorage=(e.prototype.search_data_key="search_data",e.prototype.max_search_terms=5,e.DEFAULT_DATA={terms:[],query_preferences:{}},e.prototype.read=function(){var t,n=Scribd.UI.SearchStorage.DEFAULT_DATA;return Scribd.with_local_storage((t=this,function(e){var e=e.getItem(t.search_data_key),e=JSON.parse(e);return Object.assign({},n,e)}))},e.prototype.current_unique_terms=function(){var e=this.read().terms;return e=t.uniq(e),t.compact(e)},e.prototype.save_terms=function(n){return Scribd.with_local_storage((r=this,function(e){var t=Object.assign({},r.read(),{terms:n});return e.setItem(r.search_data_key,JSON.stringify(t))}));var r},e.prototype.clone=function(e){return e.slice(0)},e.prototype.move_existing_term_to_most_recent=function(e,t){var e=(t=this.clone(t)).indexOf(e),e=t.splice(e,1)[0];return t.unshift(e),t},e.prototype.insert_new_term=function(e,t){return(t=(t=this.clone(t)).length>=this.max_search_terms?t.slice(0,this.max_search_terms-1):t).unshift(e),t},e.prototype.save_history=function(e){var t,n;return 0===(null!=(t=(n=this.current_unique_terms())[0])?t.indexOf(e):void 0)?n[0]=e:n=n.includes(e)?this.move_existing_term_to_most_recent(e,n):this.insert_new_term(e,n),this.save_terms(n)},e.prototype.save_preferences=function(n,r){return Scribd.with_local_storage((o=this,function(e){var t;return(t=o.read().query_preferences)[n]=r,t=Object.assign(o.read(),{query_preferences:t}),e.setItem(o.search_data_key,JSON.stringify(t))}));var o},e)}.call(this,n(10))},105:function(e,t,n){"use strict";var r=n(53);n=Scribd.current_user,Scribd.Sentry&&(n={id:n=n?n.id:null,isLoggedIn:!!n},r.a.init({applicationId:"4887e7ad-3515-4be4-a2d6-176982a45eed",clientToken:"pubbf9e8fd53472a3cf694061e745fb6746",site:"datadoghq.com",service:"monolith",env:Scribd.Sentry.environment,sampleRate:10,trackInteractions:!0}),n.isLoggedIn&&n.id&&r.a.setUser({id:n.id}))},107:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(52),i=n.n(a),s=n(1),c=n(25),u=n(807),l=n(50),_=n(55),r=(n(199),n(200),n(201),n(3)),a=n.n(r),p=(n(193),n(208),n(194),n(195),n(202),n(209),n(168),n(210),n(196),n(205),n(33),n(211),n(148),n(212),n(213),n(214),n(36),n(203),n(215),n(99),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(87),n(118),n(34)),d=n(2398),f=n(9);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=k(n);return e=r?(e=k(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==h(e)&&"function"!=typeof e?v(t):e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,o.a.Component);var e,t=g(r);function r(e){var n;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),w(v(n=t.call(this,e)),"track",function(e){var t=Object.assign({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{doc_id:n.props.doc_id,page:n.props.track_page});Object(f.a)("get_app_modal:".concat(e),t)}),w(v(n),"handleOpenLightbox",function(){Scribd.Lightbox.open_react("get_app_modal",o.a.createElement(p.a,n.props)),n.track("show")}),n}return e=[{key:"render",value:function(){return o.a.createElement(d.a,m({handleOpenLightbox:this.handleOpenLightbox},this.props))}}],y(r.prototype,e),r}();Scribd.addComponent("NativeApps.Buttons",r),n(104),n(70),n(119),n(137),n(139),n(88),n(143),n.p=window.Scribd.webpack_public_path,Object(c.b)(window.Scribd.AssetPath),window.React=o.a,window.ReactDOM=i.a,window.i18next=s.default,window.I18n=s.default,window.dd=u.a,s.default.key=function(e){return e},window&&window.i18next_lng&&window.i18next_fallback&&(s.default.init({lng:window.i18next_lng,fallbackLng:window.i18next_fallback,debug:window.i18next_debug,interpolation:{prefix:"{{",suffix:"}}",escapeValue:!1,format:function(e,t,n){if("locale"===t&&(e||0===e))return e.toLocaleString(s.default.services.languageUtils.getLanguagePartFromCode(n))}},saveMissing:!0,returnEmptyString:!1,returnNull:!1,resources:window._translations}),s.default.on("missingKey",function(e,t,n){e="i18next missing translation for key: ".concat(n," in language: ").concat(e);Object(l.a)(new Error(e))})),Object(_.a)(),window.classNames=a.a,null!==window.navigator.userAgent.match(/MSIE|Trident/)&&document.getElementById("flash_container")&&Scribd.Flasher.standard("info",s.default.t("shared.ie11_notice_html"),{user_dismiss:!1,should_focus:!0,raw:!0})},11:function(e,t,n){e.exports=n(18)(18)},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,r){"use strict";!function(n,o){var a=r(58),i=r(63),s=r(65),c=r(67),u=r(2),l=r(6),_=r(23),p=r(56),d=r(149),f=r(207),h=r(68);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=w(n);return e=r?(e=w(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==m(e)&&"function"!=typeof e?k(t):e}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r(136);var e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,u.a);var e,t=v(r);function r(e){var n;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),E(k(n=t.call(this,e)),"getNotificationDotProps",function(){return{handleRemoveDot:n.handleRemoveDot,setUserHasSeenBundles:n.setUserHasSeenBundles,showNotificationDot:n.state.showNotificationDot}}),E(k(n),"handleRemoveDot",function(){n.state.showNotificationDot&&n.setState({showNotificationDot:!1})}),E(k(n),"showNotificationDot",function(){if(!n.props.notificationDotInitProps)return!1;var e=n.props.notificationDotInitProps,t=e.hasSeenBundles;return e.showBundles&&!t&&"true"!==Object(d.a)(h.a)}),E(k(n),"setUserHasSeenBundles",function(){var e,t;n.props.notificationDotInitProps&&(e=(t=n.props.notificationDotInitProps).accountSettingsPath,!t.hasSeenBundles&&e&&(t={notification_dot_dismissed:Date.now()},Object(f.a)(e,t,"main site global_nav")))}),n.enclosing_class("auto__shared_navigation_global_nav"),n.state={show_sidebar:n.should_show_components(n.get_width_var()),page_width:n.get_width_var(),showNotificationDot:n.showNotificationDot()},n.cookie_jar=new CookieJar,n.onboardingMessagesShown=Object(p.a)(n.cookie_jar),n}return e=[{key:"componentDidMount",value:function(){this.add_hybrid_class(),this.debounced_resize=n.debounce(this.handle_resize,50),window.addEventListener("resize",this.debounced_resize),this.handle_resize(),this.debounced_resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced_resize)}},{key:"add_hybrid_class",value:function(){this.props.show_global_side_nav&&$(document.body).addClass("hybrid")}},{key:"language_picker_already_closed",value:function(){return!1}},{key:"width_less_than",value:function(e){return window.matchMedia("(max-width: ".concat(e,"px)")).matches}},{key:"handle_resize",value:function(){this.width_less_than(700)||this.remove_no_scroll_class();var e=this.get_width_var();this.set_width(e)}},{key:"get_width_var",value:function(){return this.width_less_than(_.a.breakpoint_450)?l.a:this.width_less_than(_.a.breakpoint_550)?l.d:this.width_less_than(_.a.breakpoint_700)?l.c:this.width_less_than(_.a.breakpoint_950)?l.e:l.b}},{key:"set_width",value:function(e){var t;this.state.page_width!==e&&(t=this.should_show_components(e),this.setState({page_width:e,show_sidebar:t}))}},{key:"close_sidebar",value:function(){this.setState({show_sidebar:!1})}},{key:"remove_no_scroll_class",value:function(){var e=document.body.classList;e.contains("no_scroll")&&e.remove("no_scroll")}},{key:"should_show_components",value:function(e){var t=!1;switch(e){case l.a:case l.d:case l.c:t=!1;break;case l.e:case l.b:t=!0}return t}},{key:"toggle_sidebar",value:function(e){e.preventDefault(),this.setState({show_sidebar:!this.state.show_sidebar},this.keyboard_user_focus)}},{key:"keyboard_user_focus",value:function(){this.state.show_sidebar?this.focus_on_sidebar():this.focus_back_on_header()}},{key:"focus_back_on_header",value:function(){this.get_focusable_children()[0].focus()}},{key:"focus_on_sidebar",value:function(){this.container.querySelector(".global_nav_sidebar a").focus()}},{key:"get_header_props",value:function(){return Object.assign({},this.props.header_props,{page_width:this.state.page_width,sidebar_open:this.state.show_sidebar,handle_toggle_sidebar:this.toggle_sidebar,notificationDotProps:this.getNotificationDotProps()})}},{key:"render_language_message",value:function(){var e=this.props,t=e.language_message_props;if("home"!==e.sidebar_props.selected_content_type||!this.onboardingMessagesShown)return t?o.createElement(c.a,t):void 0}},{key:"render_header",value:function(){return this.props.show_global_side_nav?o.createElement(s.a,y({key:"header_hybrid"},this.get_header_props())):o.createElement(a.a,y({key:"header"},this.get_header_props()))}},{key:"render_sidebar",value:function(){if(this.props.show_global_side_nav)return this.state.show_sidebar?o.createElement(i.a,y({key:"sidebar",page_width:this.state.page_width,handle_toggle_sidebar:this.toggle_sidebar,close_sidebar:this.close_sidebar,focus_on_header:this.keyboard_user_focus,notificationDotProps:this.getNotificationDotProps()},this.props.sidebar_props)):void 0}},{key:"render_content",value:function(){return[this.render_header(),this.render_sidebar(),this.render_language_message()]}}],b(r.prototype,e),r}();Scribd.addComponent("Shared.Navigation.GlobalNav",e)}.call(this,r(10),r(0))},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){function r(e){var t,n;this.setup_events=(t=this.setup_events,n=this,function(){return t.apply(n,arguments)}),this.container=$(e),this.mouse_down=!1,this.back_to_top=this.container.find(".back_to_top_link"),this.container.one("inview",function(){return $(document.body).track_rats("footer:show")}),this.setup_events()}n(138),Scribd.Footer=(r.prototype.setup_events=function(){var t,e,n,r;return this.container.dispatch("click",{back_to_top_link:(t=this,function(e){return t.scroll_to_top(e),"continue"})}),this.container.on("mousedown",(r=this,function(){return r.set_mouse_true()})),this.container.on("focusin",(n=this,function(){return n.check_for_tab_user()})),this.container.on("focusout",(e=this,function(){return e.hide_back_to_top()}))},r.prototype.check_for_tab_user=function(){if(!this.mouse_down)return this.show_back_to_top()},r.prototype.set_mouse_true=function(){if(!this.back_to_top.is(":visible"))return this.mouse_down=!0},r.prototype.show_back_to_top=function(){if(!this.back_to_top.is(":visible"))return this.back_to_top.show().focus()},r.prototype.hide_back_to_top=function(){return setTimeout((e=this,function(){if(!$(document.activeElement).closest(e.container).length)return e.mouse_down=!1,e.back_to_top.hide()}),100);var e},r.prototype.scroll_to_top=function(e){return 0===$("#global_header").length?(e.preventDefault,$("h1").first().attr("tabIndex",-1).focus()):$("#global_header").attr("tabIndex",-1).focus(),window.scrollTo(0,0)},r)},138:function(e,t,n){},139:function(e,t,r){"use strict";!function(o){var e=r(2),t=r(46);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return e=r?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(141);var n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e.a);var n=c(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(t=n.call(this,e)).enclosing_class("auto__shared_navigation_language_footer_selector"),t.state={selected_language:e.current_language,menu_open:!1},t}return i(r.prototype,[{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"get_language_click",value:function(e){var t=this;return function(){t.track_rats("language_picker:footer:language:click",{locale:e.lang,current_locale:t.props.current_language.lang})}}},{key:"handle_button_click",value:function(){this.track_rats("language_picker:footer:clicked",{current_locale:this.props.current_language.lang})}},{key:"render_links",value:function(){var t=this;return this.props.languages.map(function(e){return o.createElement("li",{className:"item",key:"language_item-".concat(e.lcid)},o.createElement("a",{href:e.href,className:classNames("language_link",{selected:e.prefix===t.props.current_language.prefix}),lang:e.lcid,onClick:t.get_language_click(e)},e.name))})}},{key:"render_menu",value:function(){return o.createElement("ul",{className:"language_list flex_col"},this.render_links())}},{key:"render_btn",value:function(){var e=this.props,t=e.current_language,e=e.extra_classes;return o.createElement("a",{className:classNames("text_btn language_btn flex_row",e),href:"#language","aria-haspopup":"true","aria-expanded":this.state.menu_open,onClick:this.handle_button_click},o.createElement("span",{className:"name icon_button_text"},t.name),this.render_english_label(),o.createElement("span",{className:"visually_hidden",lang:t.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return o.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return o.createElement(t.default,{button:this.render_btn(),menu:this.render_menu(),autoclose:!1,is_open:this.state.menu_open,on_hide:this.close_menu,on_show:this.show_menu,skip_aria_and_data_props:!0})}}]),r}();Scribd.addComponent("Navigation.Language.Footer",n)}.call(this,r(0))},14:function(e,n,r){"use strict";r.r(n),function(o){r.d(n,"default",function(){return t});var e=r(98),a=r.n(e),i=(r(33),r(44));function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=document.getElementById("lightboxes");Scribd.data.deferredLocationData.then(function(e){var t=a()({},Scribd.data.accountCreation,n,{inEU:e.is_in_eu,inModal:!0,userCountry:e.current_user_country,reCaptchaEnabled:e.reCaptchaEnabled}),e=r.querySelector("#login_drop");e?ReactDOM.unmountComponentAtNode(e):((e=document.createElement("div")).id="login_drop",r.appendChild(e)),Scribd.Lightbox.open_react("login_drop",o.createElement(i.a,t))})}}.call(this,r(0))},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){!function(d){function e(e,t){this.opts=null!=t?t:{},this.container=$(e),this.log=this.container.find(".rats_log .contents"),this.filter=this.container.find(".filter_input"),this.template=d.template(this.container.find(".rats_log_row_template").html()),this.unread_events=0,this.is_open=!0,this.visibility_btn=this.container.find(".visibility_btn"),this.captured_events=[],this.setup_events(),this.hide()}n(144),Scribd.RatsLog=(e.prototype.setup_events=function(){var r,t,n,o,a,i,s;return $(document.body).on("scribd:rats_event",(r=this,function(e,t,n){return r.rats_event($(e.target),t,n)})),this.container.dispatch("click",{open_log_btn:function(e){return s.visibility_btn.hasClass("open_btn")?s.open():s.hide()},element:function(e){return i.highlight_box(e.data("selector"))},clear_filter:function(e){return a.filter.val(""),a.filter_events(!1)},unique_filter:(o=a=i=s=this,function(e){return o.filter_events(o.current_filter,o.unique_events())})}),this.filter.on("keydown",d.debounce((n=this,function(e){return n.filter_events(n.filter.val())}),100)),this.container.on("click",function(e){return e.stopPropagation()}),$(window).on("keyup",(t=this,function(e){if(27===e.keyCode&&t.is_open)return t.hide()}))},e.prototype.rats_event=function(e,t,n){return this.unread_event(1),n={label:t,data:this.stringify(n),element:this.identify(e),idx:this.captured_events.length,uclassname:"rat_event_"+t+"_"+n.action+"_"+n.label},this.captured_events.push(n),!this.current_filter||this.current_filter&&this.matches(n,this.current_filter)?this.log.prepend(this.template(n)):(n=$(this.template(n)).hide(),this.log.prepend(n))},e.prototype.matches=function(e,t){var n,r,o,a,i,s,c,u=!1,l=!1;if("-"===t.charAt(0)&&(t=t.substr(1),l=!0),-1<t.indexOf(":"))u=!((s=t.split(":")).length<2)&&(s[0]=d.str.trim(s[0]),s[1]=d.str.trim(s[1].toLowerCase()),null!=e.data&&-1<e.data.replace(/\s/g,"").indexOf(s[0]+":"+s[1]));else if("unique"===t){for(r=!1,o=a=0,i=(c=this.captured_events).length;a<i;o=++a)if((n=c[o]).category===e.category&&n.label===e.label&&n.data===e.data){r=!0;break}u=!r}else u=-1<e.label.toLowerCase().indexOf(t);return u=l?!u:u},e.prototype.filter_events=function(e,t){var n,r,o,a,i,s,c,u,l,_,p;if(null==t&&(t=this.captured_events),d.isEmpty(e))return this.current_filter=!1,void this.container.find(".logged_event").show();for("unique"===(this.current_filter=e)&&(t=this.unique_events(),e=""),a=i=0,u=(o=-1<e.indexOf(",")?e.split(","):[e]).length;i<u;a=++i)r=o[a],o[a]=d.str.trim(r.toLowerCase());for(p=[],a=s=0,l=t.length;s<l;a=++s)for(n=t[a],c=0,_=o.length;c<_;c++)r=o[c],this.matches(n,r)&&p.push(a);return this.update_visible(p),p},e.prototype.update_visible=function(e){var t,n,r,o,a,i;for(this.container.find(".logged_event").show(),i=[],n=r=0,o=(a=this.captured_events).length;r<o;n=++r)t=a[n],t=this.container.find(".event_"+t.idx),-1<d.indexOf(e,n)?i.push(t.show()):i.push(t.hide());return i},e.prototype.unique_events=function(){for(var e,t,n,r,o,a,i,s=[],c=n=0,u=(a=this.captured_events).length;n<u;c=++n){for(e=a[c],t=!1,r=0,o=s.length;r<o;r++)if(i=s[r],(i=this.captured_events[i]).category===e.category&&i.label===e.label&&i.data===e.data){t=!0;break}t||s.push(c)}return this.current_filter="unique",console.log("Of "+this.captured_events.length+" captured events, "+s.length+" were unique"),s},e.prototype.unread_event=function(e){return this.unread_events+=e,this.visibility_btn.text(this.unread_events)},e.prototype.read_event=function(e){return this.unread_events=Math.max(0,this.unread_events-e),this.visibility_btn.text(this.unread_events)},e.prototype.identify=function(e){return"."+e[0].className.split(" ")[0]},e.prototype.stringify=function(t,n){var r,o;return null==n&&(n=": "),function(){var e=[];for(r in t)o=t[r],d.isObject(o)?e.push(r+n+this.stringify(o)):e.push(r+n+o);return e}.call(this).join("\n")},e.prototype.hide=function(){return this.container.find(".rats_log").hide(),this.is_open=!1,this.visibility_btn.removeClass("close_btn icon_caret").addClass("open_btn icon-ic_arrow_small_left_alt "),this.read_event(this.unread_events),this.container.find(".new").removeClass("new")},e.prototype.open=function(){return this.container.find(".rats_log").show(),this.filter.focus(),this.is_open=!0,this.visibility_btn.removeClass("open_btn icon-ic_arrow_small_left_alt").addClass("close_btn icon-ic_right_caret_alt")},e.prototype.highlight_elm=function(e){var t;return(t=$(e)).length?(this.highlight_box||(t=$("<div></div>").css({position:"absolute",border:"3px solid #ff0",width:t.outerWidth(),height:t.outerHeight(),left:t.offset().left,top:t.offset().top}),this.highlight_box=t),$(document.body).append(this.highlight_box)):console.error("could not find "+e)},e)}.call(this,n(10))},144:function(e,t,n){},151:function(e,t,n){function r(e,t){var n,r;this.container=$(e),this.next_url=t,this.page_name="checkout_flow_login",this.forgot_pw_lb=null,this.container.track({action:"view",label:this.page_name}),this.container.dispatch("click",{default_input:function(e,t){if((t=$(t.target)).removeClass("greyed"),t.attr("value")===t.attr("default"))return t.attr("value","")},forgot_password:(n=this,function(e,t){return n.forgot_pw_lb=Scribd.Lightbox.open("forgot_password_lb",Scribd.ForgotPasswordLightbox,n),!1})}),this.initialize_input_labels(),this.container.on("Scribd:Facebook:login_success",(r=this,function(e,t){return window.location.href=r.next_url}))}n(152),n(153),Scribd.CheckoutFlowLogin=(r.prototype.initialize_input_labels=function(){for(var e,t,n=[],r=0,o=(t=$(".default_input")).length;r<o;r++)e=t[r],""===(e=$(e)).attr("value")?(e.attr("value",e.attr("default")),n.push(e.addClass("greyed"))):n.push(void 0);return n},r.prototype.show=function(){if(this.forgot_pw_lb)return this.forgot_pw_lb.close()},r)},152:function(e,t,n){},153:function(e,t,n){function r(e){var t;this.container=$(e),this.container.data("created",!0),this.form=this.container.find("form"),this.button=this.container.find(".flat_btn"),this.container.click((t=this,function(){return t.container.trigger("scribd:facebook_login"),t.button.addClass("loading").prop("disabled",!0),Scribd.facebook.login(function(e){return t.on_login(e)})}))}n(154),n(148),Scribd.FacebookLoginButton=(r.prototype.parse_cookie=function(){var e,t,n,r;try{e=document.cookie}catch(e){return{fbs_cookie:"none"}}return(n=e.match(/(fbs_[a-f0-9]*)\s*=\s*([^;]+)/))?(n[0],t=n[1],{fbs_cookie:r=(null!=(n=(r=n[2]).match(/^"(.*)"$/))?n[1]:void 0)||r,fbs_cookie_name:t}):{fbs_cookie:"none"}},r.prototype.on_login=function(e){var t,n,r,o;if(this.button.removeClass("loading").prop("disabled",!1),null!=e&&e.authResponse){for(t in n=this.parse_cookie())o=n[t],this.add_hidden(t,o);for(t in r=e.authResponse)o=r[t],this.add_hidden("facebook_session["+t+"]",o);return this.container.data("remote")?this.submit_remotely():this.form.submit()}},r.prototype.submit_remotely=function(){var t,n,e=this.form.serialize(),r=this.form.attr("action");return $.ajax({url:r,type:"post",dataType:"json",data:e,success:function(e){return e.success?t.container.trigger("Scribd:Facebook:login_success",[e]):t.container.find(".fb_fail_message").show()},complete:(n=t=this,function(e){if("/facebook_link"===r)return n.container.trigger("Scribd:Facebook:login_success",[e])})})},r.prototype.add_hidden=function(e,t){return this.fields||(this.fields=this.form.find(".session_fields")),$('<input type="hidden" />').attr("name",e).attr("value",t).appendTo(this.fields)},r)},154:function(e,t,n){},17:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var t=r(0),o=r.n(t);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return e=r?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,r(2).a);var e,t=c(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={lightbox:null},e}return e=[{key:"componentDidMount",value:function(){var e=$(this.container);if(e.on("Scribd:lightbox:closed",this.handle_click_close),!e.closest("#lightboxes").length&&!e.closest(".inline_lightbox").length&&"test"!==Scribd.rails_env)throw new Error("Tried to render a react lightbox not inside #lightboxes");e=this.props.stacked?Scribd.StackedLightbox:Scribd.Lightbox,e=this.state.lightbox||new e(this.container,!1);$(this.container).hide(),this.setState({lightbox:e}),e.show()}},{key:"component_classes",value:function(){return classNames("lightbox",{no_fullscreen:this.props.no_fullscreen,lite:this.props.render_lite},this.props.className)}},{key:"enclosing_element_args",value:function(){return{"aria-describedby":this.props.aria_describedby,"aria-hidden":"true","aria-label":this.get_aria_label(),"aria-labelledby":this.get_aria_labelled_by(),onBlur:this.handle_blur,role:"dialog",tabIndex:"-1"}}},{key:"handle_blur",value:function(e){e.stopPropagation(),$(this.container).attr("tabindex",null)}},{key:"handle_click_close",value:function(e){e.preventDefault(),this.props.handle_click_close&&this.props.handle_click_close()}},{key:"get_aria_labelled_by",value:function(){return this.props.aria_labelled_by||this.uid("lightbox")}},{key:"get_aria_label",value:function(){if(this.props.aria_label)return this.props.aria_label}},{key:"render_close_button",value:function(){if(!1!==this.props.show_close)return o.a.createElement("a",{href:"#",className:"close_button"},o.a.createElement("span",{className:"icon icon-ic_close_small"},o.a.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.lightbox.close_dialog"))))}},{key:"render_title",value:function(){if(this.props.title)return o.a.createElement("h2",{className:"title",id:this.get_aria_labelled_by()},this.props.title)}},{key:"render_content",value:function(){var e=this.props.children;return this.props.render_lite||(e=o.a.createElement(o.a.Fragment,null,this.render_close_button(),o.a.createElement("div",{className:"content"},this.render_title(),this.props.children))),o.a.createElement("div",{className:"wrapper"},e)}}],i(n.prototype,e),n}();n.defaultProps={render_lite:!1},Scribd.addComponent("Shared.Lightbox",n)},18:function(e,t){e.exports=react16},19:function(e,n,r){"use strict";!function(t){r.d(n,"a",function(){return e});var e=function(e){return t.createElement("div",{className:classNames("header_container flex_row",e.extra_classes),key:"header_container"},e.children)}}.call(this,r(0))},198:function(e,t,n){},2:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,o.a.Component);var e,t=l(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).bindMethodsToThis(),e.enclosing_class("auto__base_component"),e.name=e.constructor.name,e.element_uids={},e}return e=[{key:"track_rats",value:function(e,t){$(this.container).track_rats(e,t)}},{key:"track_rats_with_vid",value:function(t){window.$rat.root().withVid(function(e){t("".concat(e,".0"))})}},{key:"trigger",value:function(e,t){t?$(this.container).trigger(e,t):$(this.container).trigger(e)}},{key:"uid",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return this.props.uid_generator?this.props.uid_generator(e):(this.element_uids[e]||(this.element_uids[e]=function(e,t){var n=1<arguments.length&&void 0!==t?t:"",t=Math.floor(1e6*Math.random());return"".concat(e,"_").concat(n,"_").concat(t)}(this.name,e)),this.element_uids[e])}},{key:"image_url",value:function(e){var t=Scribd.asset_host;return"".concat(t,"/images/").concat(e.trim().replace(/\/+/g,"/"))}},{key:"get_focusable_children",value:function(){if(!this.container)return[];var e=n.FOCUSABLE_CHILDREN.map(function(e){return e+":not(.visually_hidden)"});return Array.from(this.container.querySelectorAll(e.join(", ")))}},{key:"enclosing_class",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._enclosing_classes=this._enclosing_classes||[],e&&this._enclosing_classes.push(e),this._enclosing_classes.join(" ")}},{key:"component_classes",value:function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:""}},{key:"get_component_classname",value:function(){return"".concat(this.enclosing_class()," ").concat(this.component_classes())}},{key:"getMethodNames",value:function(){var e,t=["bindMethodsToThis","componentDidMount","componentDidUpdate","componentWillMount","componentWillReceiveProps","componentWillUnmount","componentWillUpdate","constructor","render","shouldComponentUpdate"],n=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(Object.getOwnPropertyNames(this.constructor.prototype));try{for(r.s();!(e=r.n()).done;){var o=e.value;"function"==typeof this[o]&&-1===t.indexOf(o)&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"bindMethodsToThis",value:function(){var t=this;this.getMethodNames().forEach(function(e){t[e]=t[e].bind(t)})}},{key:"enclosing_tag",value:function(){return"div"}},{key:"enclosing_element_args",value:function(){return{}}},{key:"render_content",value:function(){"test"!==Scribd.rails_env&&console.log("".concat(this.constructor.name," needs render_content method instead of render for auto_encapsulation"))}},{key:"render",value:function(){var t=this,e=this.enclosing_tag();return o.a.createElement(e,i({ref:function(e){t.container=e,t.props.node_ref&&t.props.node_ref(e)},className:this.get_component_classname()},this.enclosing_element_args()),this.render_content())}},{key:"hook_tooltips",value:function(){Scribd.hook_tooltips($(this.container))}},{key:"render_visually_hidden",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"span",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n.className?n.className="".concat(n.className," visually_hidden"):n.className="visually_hidden",o.a.createElement(t,n,e)}},{key:"render_icon",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"span",r=null;return t.length&&(r=this.render_visually_hidden(t)),o.a.createElement(n,{className:"icon icon-ic_".concat(e),"aria-hidden":"true"},r)}}],c(n.prototype,e),n}(),d=["button","[href]","input","select","textarea","[tabindex]:not([tabindex='-1'])"];(n="FOCUSABLE_CHILDREN")in(r=p)?Object.defineProperty(r,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[n]=d,Scribd.addComponent("Shared.BaseComponent",p),t.a=p},20:function(e,n,p){"use strict";!function(r){p.d(n,"a",function(){return t});var e=p(2),o=p(45),a=p(17),i=p(7);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==s(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p(103);var t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,e.a);var t=l(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_navigation_language_modal"),e.state={selected_language:e.props.currentLanguage},e}return c(n.prototype,[{key:"component_classes",value:function(){return"language_modal"}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:modal:language:click",{locale:e.lang,current_locale:t.props.currentLanguage.lang}),t.setState({selected_language:e})}}},{key:"handle_save_click",value:function(){this.track_rats("language_picker:modal:save",{locale:this.state.selected_language.lang,current_locale:this.props.currentLanguage.lang}),window.location=this.state.selected_language.href}},{key:"handle_cancel_click",value:function(){this.track_rats("language_picker:modal:cancel"),Scribd.Lightbox.close()}},{key:"handle_close",value:function(){this.track_rats("language_picker:modal:close"),"function"==typeof this.props.handle_lightbox_close&&this.props.handle_lightbox_close()}},{key:"get_description",value:function(){return this.props.recommenderTest?I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_and_tailor"):I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_to_match")}},{key:"render_radio_buttons",value:function(){var n=this;return this.props.languages.map(function(e,t){return r.createElement("div",{lang:e.lcid,key:t},r.createElement(o.a,{key:e.lcid,class:"language_radio",name:"radios",value:t.toString(),id:"modal-radio".concat(t),label_text:e.name,selected:n.state.selected_language.lang===e.lang,onChange:n.handle_select(e)}))})}},{key:"render_buttons",value:function(){return r.createElement("div",{className:"buttons_container flex_row"},r.createElement(i.c,{onClick:this.handle_cancel_click,className:"text_btn cancel_button"},I18n.t("shared.navigation.language.modal.cancel")),r.createElement(i.c,{onClick:this.handle_save_click,className:"save_button"},I18n.t("shared.navigation.language.modal.save")))}},{key:"render_btn",value:function(){var e=this.props,t=e.currentLanguage,e=e.extra_classes;return r.createElement("a",{className:classNames("text_btn language_btn flex_row",e),onClick:this.toggle_menu},r.createElement("span",{className:"icon icon-ic_language"}),r.createElement("span",{className:"lcid icon_button_text"},t.lcid),this.render_arrow())}},{key:"render_content",value:function(){return r.createElement(a.a,{title:I18n.t("shared.navigation.language.modal.language_options"),handle_click_close:this.handle_close},r.createElement("div",{className:"description"},this.get_description()),r.createElement("fieldset",null,r.createElement("legend",{className:"second_header"},I18n.t("shared.navigation.language.modal.select_your_preferred_language")),this.render_radio_buttons()),this.render_buttons())}}]),n}()}.call(this,p(0))},2102:function(e,t,n){n(189),e.exports=n(968)},23:function(e,t,n){"use strict";t.a={breakpoint_320:320,breakpoint_450:450,breakpoint_550:550,breakpoint_700:700,breakpoint_950:950,breakpoint_1024:1024,breakpoint_1141:1141,breakpoint_1190:1190,breakpoint_1376:1376}},24:function(e,t,r){"use strict";!function(n){r.d(t,"a",function(){return e}),r(127);var e=function(){function e(e,t){return n.createElement("div",{className:classNames("color_section",e),style:{width:"".concat(t,"%")}})}return n.createElement("div",{className:"color_divider flex_row"},e("seafoam_regular",4),e("teal_dark",12),e("teal_light",48),e("midnight_light",12),e("wine_light",16),e("yellow_dark",8))}}.call(this,r(0))},26:function(e,t,n){"use strict";!function(o,a){n.d(t,"a",function(){return e});var i=n(9),s=n(13),c=n(77),u=n(176),l=n(31),_=n(30),p=n(2),d=n(59);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(n);return e=r?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==f(e)&&"function"!=typeof e?b(t):e}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(121);var e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,p.a);var e,t,n=y(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),v(b(t=n.call(this,e)),"set_suggestions_ref",function(e){t.suggestions_ref=e}),v(b(t),"track_suggestions_cancel",function(){var e=t.state.suggestion_items.map(Scribd.Search.Input.Show.get_pruned_search_html);e.length&&Object(i.a)("search:drop_down_suggest:cancel",{source:t.get_source(),search_session_id:t.search_session_id,page:window.location.pathname,query_typed:t.get_input_value(),suggestions:e})}),t.enclosing_class("auto__search_input_show"),t.state={focused:!1,keep_suggestions_on_blur:t.props.keep_suggestions_on_blur,query:t.props.query,query_history:t.get_history(),suggested_query:"",suggestion_index:-1,suggestions_xhr:null,suggestion_items:[],trust_suggestion_items:!0,show_suggestions:!1},t.memoized_queries={},t.get_suggestions=o.debounce(t.get_suggestions,180),t}return t=[{key:"get_search_session_id",value:function(){var e=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return JSON.stringify(e)},t=new CookieJar({path:"/"});t.get("search_session")||t.put("search_session",e());e=t.get("search_session")||e();return e.replace(/[\"\\]/g,"")}},{key:"get_pruned_search_html",value:function(e){return e.replace(/<\/?em>/g,"")}}],h((e=r).prototype,[{key:"enclosing_element_args",value:function(){return{role:"search"}}},{key:"component_classes",value:function(){return classNames("search_input_container",this.props.extra_classes)}},{key:"componentDidMount",value:function(){$(document.body).on("header:search_page:focus_input",this.focus_search),$(document.body).on("click",this.handle_container_click),document.addEventListener("click",this.handle_hide_suggestions)}},{key:"componentWillUnmount",value:function(){$(document.body).off("header:search_page:focus_input",this.focus_search),$(document.body).off("click",this.handle_container_click),document.removeEventListener("click",this.handle_hide_suggestions)}},{key:"search_session_id",get:function(){return Scribd.Search.Input.Show.get_search_session_id()}},{key:"focus_search",value:function(){this.state.focused||this.search_input.focus()}},{key:"handle_hide_suggestions",value:function(e){this.search_form_node&&!this.search_form_node.contains(e.target)&&this.hide_suggestions()}},{key:"handle_container_click",value:function(e){var t;this.should_show_suggestions()&&(this.setState({suggestions_open:!1}),t=this.container,$(e.target).closest(t)[0]||this.suggestions_ref.getBoundingClientRect().bottom>r.HEADER_HEIGHT&&e.preventDefault())}},{key:"get_history",value:function(){var e=(new Scribd.UI.SearchStorage).read();return e?e.terms:[]}},{key:"invalidate_suggestions_xhr",value:function(){this.setState({suggestions_xhr:null})}},{key:"use_query_history",value:function(){this.setState({query:"",suggestion_items:Array.from(this.state.query_history),trust_suggestion_items:!1,show_suggestions:0<Array.from(this.state.query_history).length})}},{key:"get_suggestions",value:function(t){var e,n=this;this.state.suggestions_xhr&&this.state.suggestions_xhr.abort(),t?this.memoized_queries[t]?this.setState({query:t,suggestion_items:this.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:0<this.memoized_queries[t].length}):((e=$.get("/query_suggestions/web",{query:t},function(e){e.query_suggestions?(n.memoized_queries[t]=o.map(e.query_suggestions,function(e){return e.suggestion}),n.setState({suggestion_items:n.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:0<n.memoized_queries[t].length})):n.setState({suggestion_items:[],show_suggestions:!1})})).always(this.invalidate_suggestions_xhr),this.setState({query:t,suggestions_xhr:e})):this.use_query_history()}},{key:"track_rendered_search_items",value:function(){var e=this.get_input_value(),t="search:drop_down_suggest:show",n=this.search_session_id,r=this.get_page();e?Object(i.a)(t,{layout:"query_suggestions",query:e,search_session_id:n,page:r}):Object(i.a)(t,{layout:"search_history",query:e,search_session_id:n,page:r})}},{key:"get_suggested_query",value:function(e){return Scribd.Search.Input.Show.get_pruned_search_html(this.state.suggestion_items[e])}},{key:"get_source",value:function(){return this.state.query?"query_suggester":"recent_search"}},{key:"get_page",value:function(){return window.location.pathname.split("/")[1]||"home"}},{key:"get_input_value",value:function(){return-1<this.state.suggestion_index?this.state.suggested_query:this.state.query}},{key:"set_history",value:function(e){e&&((new Scribd.UI.SearchStorage).save_history(e),this.setState({query_history:this.get_history()}))}},{key:"navigate_to_app",value:function(e){window.location.href=this.props.search_url+"?"+$.param(e)}},{key:"navigate_suggestions",value:function(e){e=Math.min(this.state.suggestion_items.length-1,Math.max(this.state.suggestion_index+e,-1));-1===e?this.setState({suggested_query:"",suggestion_index:e}):this.setState({suggested_query:this.get_suggested_query(e),suggestion_index:e})}},{key:"get_search_params",value:function(e){var t={query:e},n=(new Scribd.UI.SearchStorage).read(),n=n?n.query_preferences:{};return Object.assign({},t,n[e])}},{key:"submit_search",value:function(e,t){var n=this;this.search_submitted=!0,this.set_history(t);var r=this.get_search_params(t);this.setState({query:t},function(){n.close_suggestions(),n.navigate_to_app(r)})}},{key:"close_suggestions",value:function(){var e=this;this.search_submitted||this.track_suggestions_cancel(),this.setState({focused:!1,show_suggestions:!1,suggested_query:"",suggestion_index:-1,suggestion_items:[]},function(){return e.props.handle_search_focus(!1)})}},{key:"should_show_suggestions",value:function(){var e=(this.state.focused||this.props.keep_suggestions_on_blur)&&0<this.state.suggestion_items.length;this.state.show_suggestions!==e&&this.setState({show_suggestions:e})}},{key:"handle_click",value:function(){Object(i.a)("search:box:click",{page:this.get_page(),search_session_id:this.search_session_id})}},{key:"handle_close_suggestions_click",value:function(e){e.preventDefault(),this.close_suggestions()}},{key:"handle_search_button_click",value:function(e){this.handle_submit(e),this.close_suggestions()}},{key:"handle_submit",value:function(e){e.preventDefault(),(this.state.suggested_query||this.state.query)&&(-1!==this.state.suggestion_index&&Object(i.a)("search:drop_down_suggest:submit",{page:this.get_page(),search_session_id:this.search_session_id,source:this.get_source(),query:this.state.suggested_query}),this.submit_search(e,this.get_input_value()))}},{key:"handle_change",value:function(e){var t=this;e.persist(),this.setState({query:e.target.value,suggestion_index:-1},function(){t.get_suggestions(e.target.value)})}},{key:"handle_keydown",value:function(e){var t=s.a.enter,n=s.a.up_arrow,r=s.a.down_arrow,o=s.a.esc,a=s.a.tab;switch(e.keyCode){case t:this.handle_submit(e),e.target.blur(),this.close_suggestions();break;case n:e.preventDefault(),this.navigate_suggestions(-1);break;case r:e.preventDefault(),this.navigate_suggestions(1);break;case o:e.preventDefault(),e.target.blur(),this.close_suggestions();break;case a:0<this.state.suggestion_items.length&&(this.close_suggestions(),$(e.currentTarget).focus())}}},{key:"hide_suggestions",value:function(){this.setState({focused:!1,suggestion_index:-1,suggestion_items:[],show_suggestions:!1}),this.props.handle_search_focus(!1)}},{key:"handle_focus",value:function(){var e=this;this.setState({focused:!0},function(){e.get_suggestions(e.state.query)}),this.props.handle_search_focus(!0),this.track_rendered_search_items()}},{key:"render_close_suggestions_btn",value:function(){return a.createElement(u.a,{above:!0,width:c.a.breakpoint_550},a.createElement("button",{type:"button",onClick:this.handle_close_suggestions_click,className:classNames({visible_close_button:this.state.focused},"close_related_search_button icon-ic_close")},a.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.close_suggestions"))))}},{key:"render_visually_hidden_results_count",value:function(){if(this.state.focused){var e=this.state.show_suggestions?I18n.t("search.input.show.props_items_length_result_s_are_available_use_up",{props_items_length:this.state.suggestion_items.length}):I18n.t("search.input.show.no_search_results");return a.createElement("span",{className:"visually_hidden","aria-atomic":"true",role:"status","aria-live":"polite",id:"aria_live_status_container"},e)}}},{key:"render_suggestions",value:function(){if(this.state.show_suggestions)return a.createElement(d.a,{handle_click:this.submit_search,items:this.state.suggestion_items,label_text:0===this.state.query.length?I18n.t("search.input.show.recent_searches"):null,list_id:"suggestions_list",page:this.get_page(),query:this.state.query,selected_index:this.state.suggestion_index,source:this.get_source(),trust:this.state.trust_suggestion_items,set_suggestions_ref:this.set_suggestions_ref})}},{key:"render_content",value:function(){var t=this,e=this.get_input_value(),n=this.props.placeholder_text||I18n.t("search.input.show.search");return a.createElement("form",{className:"search_form",autoComplete:"off",onSubmit:this.handle_submit,ref:function(e){return t.search_form_node=e}},a.createElement("label",null,a.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.search")),a.createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off",className:classNames("search_input",{focused:this.state.focused}),name:"query",onBlur:function(){setTimeout(t.close_suggestions,300)},onChange:this.handle_change,onClick:this.handle_click,onFocus:this.handle_focus,onKeyDown:this.handle_keydown,placeholder:this.state.focused?null:n,type:"search",value:e,ref:function(e){t.search_input=e}})),a.createElement(l.a,{className:"search_button no_spinner",onClick:this.handle_search_button_click,type:"submit",nodeRef:function(e){return t.search_button=e}},a.createElement(_.a,{icon:"search search_icon"}),this.render_visually_hidden(I18n.t("search.input.show.search"))),this.render_visually_hidden_results_count(),this.render_suggestions(),this.render_close_suggestions_btn())}}]),h(e,t),r}();v(e,"defaultProps",{keep_suggestions_on_blur:!1,handle_search_focus:function(){},query:"",placeholder_text:null}),v(e,"HEADER_HEIGHT",62),Scribd.addComponent("Search.Input.Show",e)}.call(this,n(10),n(0))},28:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var t=n(0),r=n.n(t),t=n(3),a=n.n(t),o=n(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(122);var _=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,o.a);var t=u(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_react_persona_icon"),e}return s(n.prototype,[{key:"component_classes",value:function(){var e=this.props,t=e.author,n=e.extra_css_classes,r=e.image_url,o=e.is_top_results_author,e=e.size;return a()("persona_icon",e,n,{top_results_author_image:t&&o,"icon-ic_userofficial_60":t&&!r&&o,"icon-ic_user_circle":!t&&!r})}},{key:"enclosing_element_args",value:function(){return{"aria-hidden":!0}}},{key:"renderInitials",value:function(){return this.props.image_url||!this.props.author||this.props.is_top_results_author?null:r.a.createElement("span",{"aria-hidden":"true"},this.props.initials)}},{key:"renderImage",value:function(){return this.props.image_url?r.a.createElement("img",{src:this.props.image_url,srcSet:"".concat(this.props.retina_image_url," 2x"),alt:""}):null}},{key:"render_content",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderImage(),this.renderInitials())}}]),n}();_.defaultProps={extra_css_classes:"",image_url:"",is_top_results_author:!1,retina_image_url:"",initials:""},Scribd.addComponent("Shared.React.PersonaIcon",_)},29:function(e,t,n){e.exports=n(18)(21)},3:function(e,t,n){e.exports=n(18)(17)},32:function(e,t,n){"use strict";t.a={add:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e},url:"/saved/add"})},markAsFinished:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"finished_reading"},url:"/saved/finish"})},remove:function(e){return $.ajax({type:"DELETE",dataType:"json",data:{id:e},url:"/saved/remove"})},unmarkAsFinished:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"saved"},url:"/saved/finish"})}}},321:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(390);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=null;function i(){window.removeEventListener("popstate",a),a=null}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};a&&i(),a=function(t,e){var n=1<arguments.length&&void 0!==e?e:function(){};return function(e){e=e.state;e&&(t.preventPopStateScroll||Object(r.a)(window),n(e))}}(t,n),window.addEventListener("popstate",a),t.preventPopStateScroll&&(window.history.scrollRestoration="manual"),(t=window.history).replaceState.apply(t,function(e){if(Array.isArray(e))return o(e)}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},34:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),o=n.n(t),a=n(2),i=n(32),s=n(17),c=n(204),t=n(15);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return e=r?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==u(e)&&"function"!=typeof e?f(t):e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(100);var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,a.a);var e,n=d(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),m(f(t=n.call(this,e)),"handleLightboxClose",function(){t.props.isSubscriber&&t.props.doc_id&&t.saveTitleForSubscriber(),Scribd.StackedLightbox.close()}),m(f(t),"handleSuccessMessage",function(e){Scribd.Flasher.toast("success",e),t.handleLightboxClose()}),t.enclosing_class("auto__shared_native_apps_lightbox"),t}return e=[{key:"componentDidMount",value:function(){this.track("show")}},{key:"track",value:function(e){var t=Object.assign({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{doc_id:this.props.doc_id,page:this.props.track_page});this.track_rats("get_app_modal:".concat(e),t)}},{key:"saveTitleForSubscriber",value:function(){var e=this;i.a.add(this.props.doc_id).always(function(){e.props.handleDownloadToAppClick()})}},{key:"render_content",value:function(){var e=this,t=Object.assign({},this.props,{showKindle:!1});return o.a.createElement(s.a,{aria_labelled_by:"get_app_modal_header",stacked:!0,handle_click_close:function(){return e.track("close:click")},className:"get_app_modal"},o.a.createElement(c.a,l({},t,{track:this.track,handleLightboxClose:this.handleLightboxClose,handleSuccessMessage:this.handleSuccessMessage})))}}],_(r.prototype,e),r}();Scribd.addComponent("NativeApps.Lightbox",r),r.defaultProps={document:{},handleDownloadToAppClick:t.a,isSubscriber:!1}},350:function(e,t,n){"use strict";function r(e,t,n){var r=e.card_details,o=e.ebanx_key,a=e.ebanx_token_url,i=e.country,s=r.expiration,e="".concat(s.slice(0,2),"/20").concat(s.slice(2,4)),s=new FormData;s.append("request_body",JSON.stringify({public_integration_key:o,payment_type_code:r.card_type,country:i.toLowerCase(),creditcard:{card_cvv:r.cvv,card_due_date:e,card_name:r.name,card_number:r.ccn}}));function c(){Scribd.Flasher.standard("error",I18n.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing"),{user_dismiss:!1,should_focus:!0}),n()}return $.ajax({type:"POST",accepts:"json",crossDomain:!0,url:a,data:s,processData:!1,contentType:!1,skipPrefilter:!0,xhrFields:{withCredentials:!1},success:function(e){"SUCCESS"===e.status?t(e):c()},error:c})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u}),n(753);var o=n(39);function a(){o.s.forEach(function(t){$.payment.cards.find(function(e){return e.type===t})||$.payment.cards.unshift(o.d[t])})}var i=n(662),s=n(50);function c(e){var t=o.g[e];return t||(t=o.g.DEFAULT,Object(s.a)(new Error("Unsupported EBANX Error Message: [".concat(e,"]")))),t}function u(e){return[o.k.UPDATE,o.k.DUNNING].includes(e)}},36:function(e,t,n){"use strict";function r(e,t){var n=Scribd,r=e.split(/\/|\./),o=r.pop();0<r.length&&r.reduce(function(e,t){return void 0===e[t]&&(e[t]={}),n=e[t]},Scribd),n[o]&&null===Scribd.rails_env.match(/production/)&&console.warn("Whoops! "+e+" is already defined. Make sure you're not overwriting something!"),n[o]=t}n.r(t),n.d(t,"default",function(){return r}),window.Scribd=window.Scribd||{},Scribd.addComponent=r},37:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n(86),a=n(158),i=n(9),r=n(15),s=n(1),t=n(0),c=n.n(t),u=n(28),l=n(38),_=n(14);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b(n);return e=r?(e=b(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==p(e)&&"function"!=typeof e?y(t):e}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(123);var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,c.a.Component);var e,n=m(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),g(y(t=n.call(this,e)),"pollForCtaText",function(){Scribd.trial_days_button_text&&t.setState({bookPreviewButton:Scribd.trial_days_button_text},function(){clearInterval(t.trialDaysCheck)})}),g(y(t),"handleBodyClick",function(e){t.menuOpen()&&(e.target.closest(".user_menu, .user_row, .user_util, .user_util_btn")||t.closeMenu())}),g(y(t),"menuOpen",function(){return t.props.handle_externally?t.props.user_menu_open:t.state.menuOpen}),g(y(t),"handleJoinClick",function(e){e.preventDefault(),Object(_.default)({initialView:"join",nextUrl:t.props.subscribe_url,trackingData:{loc:"header"}})}),g(y(t),"handleLoginClick",function(e){e.preventDefault(),Object(_.default)({initialView:"login",nextUrl:function(e){"sign_up"===e.action?window.location.assign(t.props.subscribe_url):window.location.reload()},trackingData:{loc:"header"}})}),g(y(t),"handleReadFreeButtonClick",function(e){e.preventDefault(),Object(i.a)("improved_join_button:click",{type:t.props.logged_out?"logged_out":"logged_in"});e={initialView:"join",nextUrl:t.props.subscribe_url,trackingData:{loc:"header"}};Scribd.after_login(e,function(){window.location.assign(t.props.subscribe_url)})}),g(y(t),"closeMenu",function(){t.props.handle_click&&t.props.handle_click(!1),t.setState({menuOpen:!1},function(){t.user_util_btn_ref.focus(),t.props.notificationDotProps.handleRemoveDot()})}),g(y(t),"toggleMenu",function(e){e.preventDefault(),t.props.handle_click&&(e=t.menuOpen(),t.props.handle_click(!e)),t.props.handle_externally||t.setState({menuOpen:!t.menuOpen()},function(){t.menuOpen()||t.props.notificationDotProps.handleRemoveDot()})}),t.state={bookPreviewButton:null,menuOpen:t.props.user_menu_open},t}return e=[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleBodyClick),this.props.book_preview_page&&this.props.eligibleForFreeTrial&&(this.trialDaysCheck=setInterval(this.pollForCtaText,200))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleBodyClick)}},{key:"renderUserButton",value:function(){return this.props.icon_button?c.a.createElement("button",{type:"button",key:"icon_button",className:"responsive_sign_in_overflow user_util_btn icon_button",onClick:this.toggleMenu},c.a.createElement("span",{className:"overflow_icon icon-ic_overflowmenu"})):this.props.logged_out?this.renderLoggedOutButtons():this.renderLoggedInButton()}},{key:"renderLoggedOutButtons",value:function(){return c.a.createElement("div",{key:"logged_out_buttons",className:"signup_buttons flex_row"},this.renderSignInButton(),this.props.showReadFreeButton?this.renderReadFreeButton():this.renderJoinButton())}},{key:"renderSignInButton",value:function(){return c.a.createElement(o.a,{className:"sign_in_button",href:this.props.subscribe_url,key:"sign_in_button",onClick:this.handleLoginClick},I18n.t("shared.user_menu.button.sign_in"))}},{key:"renderJoinButton",value:function(){return c.a.createElement(o.a,{className:"join_button","data-e2e":"header_join_button",href:this.props.subscribe_url,key:"join_button",onClick:this.handleJoinClick},I18n.t("shared.user_menu.button.join"))}},{key:"renderReadFreeButton",value:function(){var e=s.default.t("shared.join.become_a_member"),t=this.props,n=t.trialDuration,t=t.book_preview_page;return n&&!t&&(e=s.default.t("shared.trial_duration.read_free_days",{trialDuration:n})),t&&this.state.bookPreviewButton&&(e=this.state.bookPreviewButton),c.a.createElement(a.a,{className:"read_free_button","data-e2e":"header_join_button",href:this.props.subscribe_url,onClick:this.handleReadFreeButtonClick},e)}},{key:"renderArrow",value:function(){if(!this.props.no_arrow)return c.a.createElement("span",{className:"icon icon-ic_dropdown_alt down_arrow arrow user_util"})}},{key:"renderLoggedInButton",value:function(){var t=this;if(this.props.persona_icon_props)return c.a.createElement("div",{className:"logged_in_buttons flex_row"},this.props.showReadFreeButton&&this.renderReadFreeButton(),c.a.createElement("a",{className:"user_util user_util_btn",href:"#user-util-view-profile","aria-label":I18n.t("shared.user_menu.button.user_settings"),"aria-expanded":this.menuOpen(),onClick:this.toggleMenu,key:"logged_in_button",ref:function(e){return t.user_util_btn_ref=e}},c.a.createElement("div",{className:"button_content flex_row"},c.a.createElement(u.a,this.props.persona_icon_props),this.props.notificationDotProps.showNotificationDot&&c.a.createElement("div",{className:"notification_dot"}),this.renderArrow())))}},{key:"renderMenu",value:function(){if(this.menuOpen())return c.a.createElement(l.a,d({key:"menu"},this.props.user_menu_props,{from_sidebar:this.props.from_sidebar,from_hybrid:this.props.from_hybrid,handle_close:this.closeMenu,notificationDotProps:this.props.notificationDotProps}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"auto__shared_user_menu_button"},this.renderUserButton(),this.renderMenu())}}],f(r.prototype,e),r}();v.defaultProps={notificationDotProps:{handleRemoveDot:r.a,setUserHasSeenBundles:r.a,showNotificationDot:!1},showReadFreeButton:!1,trialDuration:null},Scribd.addComponent("Shared.UserMenu.Button",v)},38:function(e,t,n){"use strict";var r=n(11),r=n.n(r);t.a=r()({loader:function(){return n.e(111).then(n.bind(null,218))},loading:function(){return null}})},383:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),t=n(0),o=n.n(t),t=n(3),a=n.n(t);function i(e){var t=e.eligibleForFreeTrial,n=e.price,e=e.withTax;return t?o.a.createElement("div",{className:a()("auto__payments_checkout_flow_visa_consent_language","visa_language")},"".concat(e?r.default.t("payments.checkout_flow.enrolling_in_automatic_payments_with_tax",{price:n}):r.default.t("payments.checkout_flow.enrolling_in_automatic_payments_no_tax",{price:n})," ").concat(r.default.t("payments.checkout_flow.you_cancel_account_settings"))):null}n(911)},39:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"s",function(){return _}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"x",function(){return h}),n.d(t,"y",function(){return m}),n.d(t,"r",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"l",function(){return k}),n.d(t,"m",function(){return w}),n.d(t,"B",function(){return E}),n.d(t,"A",function(){return S}),n.d(t,"z",function(){return O}),n.d(t,"o",function(){return x}),n.d(t,"p",function(){return j}),n.d(t,"n",function(){return P}),n.d(t,"w",function(){return N}),n.d(t,"u",function(){return R}),n.d(t,"v",function(){return C}),n.d(t,"t",function(){return D}),n.d(t,"q",function(){return I}),n.d(t,"h",function(){return T});var t=n(1362),r=n(1);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={AMEX:"amex",AURA:"aura",CABAL:"cabal",CARNET:"carnet",CREDIMAS:"credimas",DINERSCLUB:"diners",DISCOVER:"discover",ELO:"elo",HIPERCARD:"hipercard",MAGNA:"magna",MASTERCARD:"mastercard",NARANJA:"naranja",VISA:"visa"},s={format:/(\d{1,4})/g,length:[16],cvcLength:[3],luhn:!0},n=(a(n={},i.AMEX,{cvcLength:[3,4],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],patterns:[/^((34)|(37))/],type:i.AMEX}),a(n,i.AURA,{format:/(\d{1,10})(\d{1,9})?/,length:[12,13,14,15,16,17,18,19],patterns:[5078],type:i.AURA}),a(n,i.CABAL,{excludes:[/^((604201)|(604209))/],patterns:[/^((627170)|(589657)|(603522)|(604((20[1-9])|(2[1-9][0-9])|(3[0-9]{2})|(400))))/],type:i.CABAL}),a(n,i.CARNET,{patterns:[/^(286900|502275|506(199|2(0[1-6]|1[2-578]|2[289]|3[67]|4[579]|5[01345789]|6[1-79]|7[02-9]|8[0-7]|9[234679])|3(0[0-9]|1[1-479]|2[0239]|3[02-79]|4[0-49]|5[0-79]|6[014-79]|7[0-4679]|8[023467]|9[1234689])|4(0[0-8]|1[0-7]|2[0-46789]|3[0-9]|4[0-69]|5[0-79]|6[0-38]))|588772|604622|606333|627535|636(318|379)|639(388|484|559))/],type:i.CARNET}),a(n,i.CREDIMAS,{patterns:[50452],type:i.CREDIMAS}),a(n,i.DINERSCLUB,{format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,excludes:[/^((3646)|(3648))/],patterns:[/^((30)|(36)|(38))/],type:i.DINERSCLUB}),a(n,i.DISCOVER,{type:i.DISCOVER,patterns:[/^((6011)|(622)|(624)|(625)|(626)|(628)|(644)|(645)|(646)|(647)|(648)|(649)|(65))/]}),a(n,i.ELO,{patterns:[/^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))/],type:i.ELO}),a(n,i.HIPERCARD,{patterns:[/^((606282)|(637095)|(637568)|(637599)|(637609)|(637612))/],type:i.HIPERCARD}),a(n,i.MAGNA,{patterns:[/^(568009)/],type:i.MAGNA}),a(n,i.MASTERCARD,{excludes:[/^(514256|514586|526461|511309|514285|501059|557909|501082|589633|501060|501051|501016|589657|553839|525855|553777|553771|551792|528733|549180|528745|517562|511849|557648|546367|501070|601782|508143|501085|501074|501073|501071|501068|501066|589671|589633|588729|501089|501083|501082|501081|501080|501075|501067|501062|501061|501060|501058|501057|501056|501055|501054|501053|501051|501049|501047|501045|501043|501041|501040|501039|501038|501029|501028|501027|501026|501025|501024|501023|501021|501020|501018|501016|501015|589657|589562|501105|557039|542702|544764|550073|528824|522135|522137|562397|566694|566783|568382|569322|504363)/],patterns:[/^(5|(2(221|222|223|224|225|226|227|228|229|23|24|25|26|27|28|29|3|4|5|6|70|71|720)))/],type:i.MASTERCARD}),a(n,i.NARANJA,{patterns:[/^(589562)/],type:i.NARANJA}),a(n,i.VISA,{excludes:[/^(476520|473713|473713|473227|444493|410122|405517|402789|417856|448712|453770|434541|411199|423465|434540|434542|434538|423018|488241|489634|434537|434539|434536|427156|427157|434535|434534|434533|423077|434532|434586|423001|434531|411197|443264|400276|400615|402914|404625|405069|434543|416679|405515|405516|405755|405896|405897|406290|406291|406375|406652|406998|406999|408515|410082|410083|410121|410123|410853|411849|417309|421738|423623|428062|428063|428064|434795|437996|439818|442371|442548|444060|446343|446344|446347|450412|450799|451377|451701|451751|451756|451757|451758|451761|451763|451764|451765|451766|451767|451768|451769|451770|451772|451773|457596|457665|462815|463465|468508|473710|473711|473712|473714|473715|473716|473717|473718|473719|473720|473721|473722|473725|477051|477053|481397|481501|481502|481550|483002|483020|483188|489412|492528|499859|446344|446345|446346|400448)/],length:[13,16],patterns:[/^(4)/],type:i.VISA}),n),c=Object.entries(n).reduce(function(e,t){var n,t=(n=2,function(e){if(Array.isArray(e))return e}(t=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],t=t[1];return e[n]=Object.assign({},s,t),e},{}),u={get"BP-DOC-01"(){return r.default.t("payments.checkout_flow.ebanx_errors.document_invalid")},get"BP-DR-23"(){return r.default.t("payments.checkout_flow.ebanx_errors.document_invalid")},get"BP-DR-38"(){return r.default.t("payments.checkout_flow.ebanx_errors.card_payment_type_not_allowed")},get"BP-DR-40"(){return r.default.t("payments.checkout_flow.ebanx_errors.payment_limit")},get"BP-DR-83"(){return r.default.t("payments.checkout_flow.ebanx_errors.card_foreign_not_allowed")},get"BP-DR-90"(){return r.default.t("payments.checkout_flow.ebanx_errors.contact_ebanx")},get"BP-DR-95"(){return r.default.t("payments.checkout_flow.ebanx_errors.name_invalid")},get"BP-DR-97"(){return r.default.t("payments.checkout_flow.ebanx_errors.card_instalments_prepaid")},get"BP-DR-98"(){return r.default.t("payments.checkout_flow.ebanx_errors.country_mismatch")},get"BP-DR-100"(){return r.default.t("payments.checkout_flow.ebanx_errors.card_instalments_debit")},get"BP-DR-101"(){return r.default.t("payments.checkout_flow.ebanx_errors.card_not_eligible_for_ecommerce")},get"BP-DR-102"(){return r.default.t("payments.checkout_flow.ebanx_errors.too_many_attempts")},get NOK(){return r.default.t("payments.checkout_flow.ebanx_errors.incomplete_purchase_try_again")},get DEFAULT(){return r.default.t("payments.checkout_flow.ebanx_errors.default")}},l={CHECKOUT:"checkout",DUNNING:"dunning",UPDATE:"update"},_=[i.AMEX,i.AURA,i.CABAL,i.CARNET,i.CREDIMAS,i.DINERSCLUB,i.DISCOVER,i.ELO,i.HIPERCARD,i.MAGNA,i.MASTERCARD,i.NARANJA,i.VISA],p={FORM_SUBMIT:"Scribd:credit_card_form:submit"},d={CARD_NUMBER:"new_credit_card[number]",CVV:"new_credit_card[verification_value]",EXPIRY:"new_credit_card[expiry]",MERCHANT:"merchant_options",ZIP_CODE:"card_zip_code"},f=[t.a.BRAZIL],h=[i.VISA,i.MASTERCARD,i.AMEX,i.DISCOVER],m=h.concat(_),y=550,b=4,g=[i.AMEX,i.DISCOVER,i.MASTERCARD,i.VISA],v=["supports3DS"],k=2,w=0,E="CARD",S=["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],O=["PAN_ONLY"],x="PAYMENT_GATEWAY",j="adyen",P="0.00",N="paypal",R="credit_card",C="google_pay",D="apple_pay",I="checkout_loading_lb",T={get APPLE_PAY(){return r.default.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing_")},get STANDARD_ERROR(){return r.default.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing")}}},410:function(e,t,r){"use strict";!function(n){function e(e){var t=e.children,e=e.extra_classes;return n.createElement("div",{className:classNames("auto__shared_react_basic_card",e)},t)}r.d(t,"a",function(){return e}),r(663),e.defaultProps={extra_classes:""}}.call(this,r(0))},438:function(e,t,n){function o(){}o.encrypt_card=function(e,t){var n,r;if((e=$(e)).length)return r=e.data("key"),n=e.data("generationtime"),t=o.encrypt(r,n,t),e.val(t)},o.encrypt=function(e,t,n){e=adyen.encrypt.createEncryption(e,{});return n=$.extend({holderName:"SCRIBD USER",generationtime:t},n),Scribd.logging_enabled&&console.info("encrypting card",n),n=!1===(n=e.encrypt(n))?"":n},Scribd.addComponent("AdyenCard",o)},44:function(e,t,n){"use strict";n.d(t,"a",function(){return r});t=n(11),t=n.n(t)()({loader:function(){return Promise.all([n.e(3),n.e(7),n.e(18),n.e(33),n.e(88),n.e(105)]).then(n.bind(null,2476))},loading:function(){return null}});Scribd.addComponent("AccountCreation",t);var r=t},443:function(e,K,X){"use strict";!function(i,o){X.d(K,"a",function(){return r});var a=X(777),n=X(2),e=X(3),s=X.n(e),c=X(1),t=X(0),u=X.n(t),l=X(222),_=X(737),p=X(1365),d=X(1366),f=X(86),h=X(31),m=X(30),y=X(158),b=X(771),g=X(324),v=X(373),k=X(456),w=X(625),E=X(25),e=X(15),t=X(778),S=X.n(t),t=X(779),O=X.n(t),t=X(780),x=X.n(t),j=X(321),P=X(95),N=X(45),R=X(453),C=X(705),D=X(444),I=X(706),T=X(445),A=X(383),M=X(39),B=X(350),F=X(707);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Y(n);return e=r?(e=Y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==L(e)&&"function"!=typeof e?G(t):e}}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}X(438),X(753),X(912);var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(r,n.a);var e,t=W(r);function r(e){var n;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),J(G(n=t.call(this,e)),"updateHistory",function(){var e,t=n.state.creditCardFormHidden?"":"#card-form";(e=window.history).pushState.apply(e,function(e){if(Array.isArray(e))return z(e)}(t=n.historyArgs(t))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e){if(e){if("string"==typeof e)return z(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),J(G(n),"historyArgs",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=window.location.pathname;return[n.state,document.title,"".concat(t).concat(e)]}),J(G(n),"handleCreditOrDebitCardClick",function(e){e.preventDefault(),n.setState({creditCardFormHidden:!1},n.updateHistory)}),J(G(n),"handleBackToPaymentOptionsClick",function(e){e.preventDefault(),n.setState({card_type:null,ccn:"",creditCardFormHidden:!0,cvv:"",errors:{},expiration:"",zip_code:""},n.updateHistory),n.props.handle_card_number_change(""),n.props.handle_expiration_date_change(""),n.props.handle_security_code_change("")}),J(G(n),"triggerSubmit",function(){Object(b.a)(document,M.i.FORM_SUBMIT)}),J(G(n),"renderPromoConversionText",function(){var e=n.props.plan_info,t=e.zero,e=e.price;return u.a.createElement("div",{className:"promo_conversion_container"},u.a.createElement("h2",{className:"price"},c.default.t("payments.checkout_flow.credit_card_form.this_props_plan_info_zero_due_today",{this_props_plan_info_zero:t})),u.a.createElement("p",{className:"subtitle"},c.default.t("read_free_promo.billing.continue_enjoying_scribd",{price:e,date:n.free_to_paid_date})),u.a.createElement("div",{className:"promo_conversion_caption"},c.default.t("read_free_promo.billing.by_setting_up_autopay",{price:e})))}),n.enclosing_class("auto__payments_checkout_flow_credit_card_form"),n.state={creditCardFormHidden:n.props.show_one_tap_ui,card_type:null,ccn:"",cvv:"",ebanx_df:null,ebanx_errors:{},errors:{},expiration:"",loading:!1,payment_type:n.get_payment_type(),post_redirect:null,threeds2:null,show_apple_pay:!1,show_cards:!0,show_google_pay:!1,show_zip_code_form:!1,valid:!e.show_creditcard_form,zip_code:"",showInfoMessage:!0},n.apple_pay_session_exists=!1,n.apple_pay_can_make_payments=null,n.apple_pay_supports_version=null,n.google_payments_client=null,n.free_to_paid_date=Object(g.b)(e.free_to_paid_first_billing_date,n.props.locale),n.backToPaymentsButtonRef=u.a.createRef(),n.debitOrCreditButtonRef=u.a.createRef(),void 0===Scribd.BillingInstance&&(Scribd.BillingInstance={}),n}return e=[{key:"componentDidMount",value:function(){var t=this;this.props.show_ebanx&&this.setup_deferred_hook("ebanx_ready","ebanx_script",function(){Object(B.c)(t.props.ebanx_key,t.props.country_name,t.handle_ebanx_fingerprint,/sandbox\.ebanxpay\.com/.test(t.props.ebanx_token_url))}),this.setup_deferred_hook("adyen_df_ready","adyen_df_script",this.get_adyen_device_fingerprint),this.setup_deferred_hook("adyen_ready","adyen_script",this.handle_adyen_ready),this.setup_deferred_hook("google_pay_ready","google_pay_script",this.handle_google_pay_ready),$(document).on(M.i.FORM_SUBMIT,this.handle_submit),this.props.error&&this.flashMessage(this.props.error),this.props.show_ebanx?Object(B.b)():this.get_adyen_device_fingerprint(),Object(j.a)(this.historyArgs(),{},function(e){t.setState(e)}),Object(v.a)(["credit_card_form"]),Object(k.a)("credit_card_form"),this.setUpApplePayInfo(),this.setState({show_cards:window.outerWidth>M.r})}},{key:"componentWillUnmount",value:function(){$(document).off(M.i.FORM_SUBMIT,this.handle_submit)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,o=r.ccn,a=r.cvv,r=r.expiration;2==o.length-t.ccn.length&&o.length===this.card_ref.selectionStart&&i.defer(function(){return n.card_ref.setSelectionRange(o.length,o.length)}),2===r.length&&i.defer(function(){return n.expiry_ref.setSelectionRange(3,3)}),(t.ccn!==o||t.expiration!==r||t.cvv!==a&&this.state.ebanx_token)&&this.setState({ebanx_token:null}),this.creditCardFormFocus(t)}},{key:"component_classes",value:function(){return"one_tap_ui"}},{key:"setUpApplePayInfo",value:function(){this.apple_pay_session_exists=void 0!==window.ApplePaySession,this.apple_pay_session_exists&&(this.apple_pay_can_make_payments=ApplePaySession.canMakePayments(),this.apple_pay_supports_version=ApplePaySession.supportsVersion(M.c))}},{key:"creditCardFormFocus",value:function(e){e.creditCardFormHidden!==this.state.creditCardFormHidden&&(e.creditCardFormHidden?this.backToPaymentsButtonRef.current&&this.backToPaymentsButtonRef.current.focus():this.debitOrCreditButtonRef.current&&this.debitOrCreditButtonRef.current.focus())}},{key:"setup_deferred_hook",value:function(e,t,n){Scribd[e]?this.state[e]=!0:(this.state[e]=!1,(t=document.getElementById(t))&&t.addEventListener("load",n.bind(this)))}},{key:"get_payment_type",value:function(){return this.props.show_creditcard_form?M.u:M.w}},{key:"get_legend",value:function(){if(!this.props.show_one_tap_ui)return c.default.t("payments.checkout_flow.credit_card_form.billing_options")}},{key:"get_adyen_device_fingerprint",value:function(){var e;this.state.adyen_df_ready&&"function"==typeof dfDo&&(e=i.noConflict(),Object.assign(i,e),dfDo("df"),this.setState({adyen_df_ready:!0}))}},{key:"handle_ebanx_fingerprint",value:function(e){this.setState({ebanx_df:e})}},{key:"handle_adyen_ready",value:function(){this.setState({adyen_ready:!0})}},{key:"handle_google_pay_ready",value:function(){this.setState({google_pay_ready:!0},this.setup_google_pay)}},{key:"handle_card_number",value:function(e){var t=$.payment.formatCardNumber(e.target.value),n=$.payment.cardType(t);n?(e=$.payment.cards.filter(function(e){return e.type===n})[0]).length[e.length.length-1]===t.replace(/\s/g,"").length&&this.validate(M.j.CARD_NUMBER,t):t=t.slice(0,16),this.props.handle_card_number_change(t),this.setState({ccn:t,card_type:n})}},{key:"handle_card_number_blur",value:function(){var e=this.state.card_type,t=this.props.show_visa_card_zip_code_form;this.setState({show_zip_code_form:t&&"visa"===e})}},{key:"handle_payment_type",value:function(e){this.track_rats("payment:use_".concat(e.target.value,":click"),this.get_track_data()),"function"==typeof this.props.handle_payment_type&&this.props.handle_payment_type(e),this.setState({payment_type:e.target.value})}},{key:"handle_expiration",value:function(e){e=e.target.value.replace(/\D+/g,"");4===(e=2===(e=/^\d{6}$/.test(e)?"".concat(e.slice(0,2)).concat(e.slice(4,6)):e).length&&2===this.state.expiration.length?e.slice(0,1):e).length&&this.validate(M.j.EXPIRY,e),this.props.handle_expiration_date_change(e),this.setState({expiration:e})}},{key:"handle_cvv",value:function(e){var t=this,n=e.target.value.replace(/\D+/g,"");this.state.card_type?(e=(e=$.payment.cards.filter(function(e){return e.type===t.state.card_type})[0]).cvcLength[e.cvcLength.length-1],n.length>=e&&(n=n.slice(0,e),this.validate(M.j.CVV,n))):n=n.slice(0,4),this.props.handle_security_code_change(n),this.setState({cvv:n})}},{key:"handle_zip_code",value:function(e){this.setState({zip_code:e.target.value})}},{key:"handle_paypal_submit",value:function(){var e={signInText:{behaviorTag:c.default.t("payments.checkout_flow.credit_card_form.sign_in_to_use_paypal")},signUpText:{behaviorTag:c.default.t("payments.checkout_flow.credit_card_form.sign_up_to_use_paypal")},nextUrl:$.Deferred().done(this.submit_adyen_paypal)};Scribd.with_login(e,this.submit_adyen_paypal)}},{key:"get_track_data",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(e){J(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({product_handle:this.props.product_handle,cart_context:this.props.cart_context,page:"checkout_flow_2_billing"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"handle_submit",value:function(e){if(e&&e.preventDefault(),!this.state.loading){switch(this.allFieldsEmpty()||($(document).trigger("scribd:standard_flash:close_all"),this.setState({showInfoMessage:!0})),this.track_rats("payment:submit_button:click",this.get_track_data({payment_method:this.state.payment_type})),this.state.payment_type){case M.w:return this.handle_paypal_submit(e);case M.t:return this.handle_applepay(e);case M.v:return this.handle_google_pay(e)}var t=this.validate();if($(document).trigger("scribd:credit_card_form_validate"),t){var n=this.adyen_encrypt();this.props.show_ebanx&&(r=this.ebanx_encrypt());var r,o=!1;if(this.props.show_ebanx&&(o=Object(B.e)(this.props.ebanx_form_type)),this.props.show_ebanx){if(!this.state.ebanx_token)return;if(!this.state.ebanx_validated&&(!o||this.state.ebanx_error))return}!n||!r&&this.props.show_ebanx?this.flashMessage():(this.open_loading_lb(),this.setState({loading:!0}),r={doc_id:this.props.doc_id,encrypted_card:n,encrypted_card_ebanx:r,metadata_update:this.props.metadata_update,credit_card_form:!0,validation:t,df:this.df.value,card_zip_code:this.state.show_zip_code_form?this.state.zip_code:null,browser_info:Object(R.a)()},this.props.show_ebanx&&(t=this.state.ebanx_df,r=Object.assign(r,{payment_provider:"ebanx",payment_type:this.state.card_type,df:t})),$.ajax({url:this.props.post_url,type:"POST",dataType:"json",data:r,success:this.handle_submit_success,error:this.handle_submit_error,complete:this.handle_complete}))}}}},{key:"submit_adyen_paypal",value:function(){this.open_loading_lb(),this.setState({loading:!0}),$.ajax({url:this.props.paypal_url,type:"POST",data:{payment_type:this.state.payment_type},success:this.handle_hpp_submit_success,error:this.handle_submit_error,complete:this.handle_complete})}},{key:"handle_form_submit_redirect",value:function(e){void 0!==this.props.handle_form_submit_redirect?this.props.handle_form_submit_redirect(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null):window.location.assign(e)}},{key:"track_payment_success",value:function(){var e=this.get_track_data({payment_method:this.state.payment_type});Array.isArray(Object(w.a)())&&Object(w.a)().push({event:"payment-success",method:e.payment_method,cart:e.product_handle}),this.track_rats("payment:success",e)}},{key:"handle_submit_success",value:function(e){if(e){if(this.track_payment_success(),"redirect"===e.action)return this.handle_form_submit_redirect(e.url,e.params);if("submit"===e.action)return void this.setState({post_redirect:{url:e.url,params:e.params}},this.submit_post_redirect);if(Object(R.b)(e.action))return void this.setState({threeds2:e})}this.flashMessage()}},{key:"handle_hpp_submit_success",value:function(e){var t=this;e&&"submit"===e.action?this.setState({post_redirect:{url:e.url,params:e.params}},function(){t.submit_post_redirect()}):this.flashMessage()}},{key:"handle_submit_error",value:function(e){if(this.state.valid){var t=e.responseJSON;if(this.close_loading_lb(),t){if("flash_error"===t.action){e=t.message;return this.props.show_ebanx&&(e=Object(B.d)(t.message)),this.flashMessage(e),void this.handle_ebanx_error()}if("redirect"===t.action)return void(window.location.href=t.url)}this.flashMessage()}}},{key:"handle_complete",value:function(){this.setState({loading:!1})}},{key:"flashMessage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:M.h.STANDARD_ERROR;Scribd.Flasher.standard(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",e,{user_dismiss:!1,should_focus:!0,raw:2<arguments.length&&void 0!==arguments[2]&&arguments[2],full_border:!0})}},{key:"adyen_encrypt",value:function(){return Scribd.AdyenCard.encrypt(this.props.adyen_key,this.props.date,{number:this.state.ccn,cvc:this.state.cvv,expiryMonth:this.state.expiration.slice(0,2),expiryYear:"20".concat(this.state.expiration.slice(2,4))})}},{key:"ebanx_encrypt",value:function(){if(this.state.ebanx_token)return this.state.ebanx_token;var e=this.state,t=e.ccn,n=e.cvv,r=e.card_type,o=e.errors,a=e.expiration,i=this.props,s=i.country_name,c=i.current_user_name,u=i.ebanx_key,e=i.ebanx_profile,i=i.ebanx_token_url;if(!(o[M.j.CARD_NUMBER]||o[M.j.CVV]||o[M.j.EXPIRY])){c=e&&e.full_name||c,s=e&&e.country||s;if(c&&s)return Object(B.a)({card_details:{ccn:t,cvv:n,card_type:r,expiration:a,name:c},ebanx_key:u,country:s,ebanx_token_url:i},this.handle_ebanx_token,this.handle_ebanx_error),null}}},{key:"handle_ebanx_token",value:function(e){this.setState({ebanx_validated:!0,ebanx_token:e.token},this.handle_submit)}},{key:"handle_ebanx_error",value:function(){this.setState({ebanx_token:null,ebanx_error:!0})}},{key:"allFieldsEmpty",value:function(){return!this.state.ccn&&!this.state.expiration&&!this.state.cvv}},{key:"handleAllFieldsEmpty",value:function(){var e,t,n;this.props.trial_end_timestamp&&!this.props.stored_card_form_props&&(e=(t=this.props).trial_end_timestamp,n=t.current_locale,$("html, body").animate({scrollTop:0}),this.state.showInfoMessage&&($(document).trigger("scribd:standard_flash:close_all"),t=c.default.t("payments.checkout_flow.credit_card_form.claim_your_free_trial_by_setting"),n=c.default.t("payments.checkout_flow.credit_card_form.0_00_due_until_end_date_cancel_anytime",{end_date:Object(g.b)(e,n)}),this.flashMessage(Object(a.renderToStaticMarkup)(u.a.createElement(I.a,{heading:t,subHeading:n})),"info",!0),this.setState({showInfoMessage:!1})),this.track_rats("payment:submit_button:error",this.get_track_data({entered_payment_info:!1})))}},{key:"validate",value:function(){var e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=this.state.errors;if(!r&&this.allFieldsEmpty())return this.handleAllFieldsEmpty();r&&r!==M.j.CARD_NUMBER||(t=(this.props.show_ebanx?M.y:M.x).includes($.payment.cardType(o||this.state.ccn)),n=$.payment.validateCardNumber(o||this.state.ccn),t&&n?delete a[M.j.CARD_NUMBER]:(e=!1,a[M.j.CARD_NUMBER]=n?{input:M.j.CARD_NUMBER,message:c.default.t("payments.checkout_flow.credit_card_form.sorry_we_don_t_support_this_type")}:{input:M.j.CARD_NUMBER,message:c.default.t("payments.checkout_flow.credit_card_form.please_enter_a_valid_credit_card")})),r&&r!==M.j.EXPIRY||((i=this.validate_date(o||this.state.expiration))?delete a[M.j.EXPIRY]:a[M.j.EXPIRY]={input:M.j.EXPIRY,message:c.default.t("payments.checkout_flow.credit_card_form.invalid_date")}),r&&r!==M.j.CVV||((i=$.payment.validateCardCVC(o||this.state.cvv,this.state.card_type))?delete a[M.j.CVV]:a[M.j.CVV]={input:M.j.CVV,message:c.default.t("payments.checkout_flow.credit_card_form.invalid_code")}),r&&r!==M.j.ZIP_CODE||(!this.state.show_zip_code_form||this.state.zip_code?delete a[M.j.ZIP_CODE]:a[M.j.ZIP_CODE]={input:M.j.ZIP_CODE,message:c.default.t("payments.checkout_flow.credit_card_form.please_enter_a_valid_zip_code")});var o=Object.keys(a).length,i=r===M.j.CARD_NUMBER||!r&&M.j.CARD_NUMBER in a&&1===o?e&&void 0:0===o;return this.setState({errors:a,valid:i}),r||this.focus_error(a),i}},{key:"validate_date",value:function(e){var t=new Date(this.props.date),n=e.slice(0,2),r=e.slice(2,4);if(!n||!r)return!1;if(n=parseInt(n)-1,r=parseInt(r)+2e3,n<0||11<n)return!1;e=new Date;return e.setDate(1),e.setMonth(n),e.setYear(r),e.setMonth(e.getMonth()+1),t<e}},{key:"focus_error",value:function(e){e[M.j.CARD_NUMBER]?this.card_ref.focus():e[M.j.EXPIRY]?this.expiry_ref.focus():e[M.j.CVV]?this.cvv_ref.focus():e[M.j.ZIP_CODE]&&this.zip_code_ref.focus()}},{key:"show_apple_pay_option",value:function(){return!this.props.giftcard&&this.apple_pay_session_exists&&this.apple_pay_can_make_payments&&this.apple_pay_supports_version&&this.props.show_apple_pay}},{key:"render_zip_code_form",value:function(){var t=this;if(this.state.show_zip_code_form)return u.a.createElement("div",{className:"zip_code"},u.a.createElement(l.a,{label:c.default.t("payments.checkout_flow.credit_card_form.zip_code"),errors:Object.keys(this.state.errors).map(function(e){return t.state.errors[e]}),onChange:this.handle_zip_code,onFocus:Scribd.BillingInstance.track_zipcode,name:M.j.ZIP_CODE,type:"text",required:!0,hideRequired:!0,value:this.state.zip_code,maxLength:100,inputRef:function(e){return t.zip_code_ref=e}}))}},{key:"renderPaymentOptions",value:function(){if(this.state.creditCardFormHidden){var e=this.props,t=e.eligible_for_free_trial,n=e.plan_info.price,e=e.show_plus_tax;return u.a.createElement("div",{className:"one_tap_payment_options"},u.a.createElement(A.a,{eligibleForFreeTrial:t,price:n,withTax:e}),this.render_paypal_button(),this.render_applepay_button(),this.render_google_pay_button(),this.renderDebitOrCreditButton())}}},{key:"render_payment_radio_buttons",value:function(){var e=this.props,t=e.show_creditcard_form,e=e.show_paypal;return u.a.createElement(u.a.Fragment,null,t?this.render_card_radio():null,e?this.render_paypal_radio():null,this.render_applepay_radio(),this.render_google_pay_radio())}},{key:"render_payment_options",value:function(){return u.a.createElement("div",{className:"toggle_wrapper"},this.props.show_one_tap_ui?this.renderPaymentOptions():this.render_payment_radio_buttons())}},{key:"render_billing_info",value:function(){if(Object(B.e)(this.props.ebanx_form_type))return u.a.createElement("div",{className:"update_header"},u.a.createElement("h2",{className:"header"},c.default.t("payments.checkout_flow.credit_card_form.your_billing_info")),this.render_required_msg())}},{key:"render_toggles",value:function(){if(!this.props.stored_card_form_props)return u.a.createElement("div",{className:"radio credit_card_paypal_buttons"},this.render_billing_info(),u.a.createElement(P.a,{legend:this.get_legend()},this.render_payment_options()))}},{key:"handle_applepay",value:function(){var t=this,e=this.props,n=e.plan_info,r=n.title,o=n.summary,a=n.apple_pay_price,n=n.currency,a={countryCode:e.country_name,currencyCode:n,lineItems:[{label:r,amount:"0.00"},{label:o,amount:a}],total:{label:"Scribd",type:"pending",amount:e.eligible_for_free_trial?"0.00":a},supportedNetworks:M.b,merchantCapabilities:M.a},i=new ApplePaySession(M.c,a);i.onvalidatemerchant=function(e){$.ajax({url:t.props.applepay_url,type:"POST",dataType:"json",data:{url:e.validationURL},success:function(e){i.completeMerchantValidation(e)},error:function(){i.abort(),t.flashMessage(M.h.APPLE_PAY)}})},i.onpaymentauthorized=function(e){t.open_loading_lb();e=e.payment;t.submit_applepay(e,i)},i.begin()}},{key:"submit_applepay",value:function(e,t){var n=this,e=JSON.stringify(e.token.paymentData),e=new o(e).toString("base64");$.ajax({url:this.props.post_url,type:"POST",dataType:"json",data:{doc_id:this.props.doc_id,apple_pay_token:e,metadata_update:this.props.metadata_update,credit_card_form:!0,validation:!0},success:function(e){t.completePayment(ApplePaySession.STATUS_SUCCESS),n.handle_submit_success(e)},error:function(){t.completePayment(ApplePaySession.STATUS_FAILURE),n.close_loading_lb(),n.flashMessage(M.h.APPLE_PAY)}})}},{key:"setup_google_pay",value:function(){var e,t=this;this.state.google_pay_ready&&this.props.show_google_pay&&!this.props.giftcard&&(this.google_payments_client=new google.payments.api.PaymentsClient({environment:this.props.google_pay_environment}),e={apiVersion:M.l,apiVersionMinor:M.m,allowedPaymentMethods:[{type:M.B,parameters:{allowedAuthMethods:M.z,allowedCardNetworks:M.A}}]},this.google_payments_client.isReadyToPay(e).then(function(e){e.result&&t.setState({show_google_pay:!0})}))}},{key:"show_google_pay_radio",value:function(){return this.state.show_google_pay}},{key:"render_google_pay_radio",value:function(){if(this.show_google_pay_radio())return u.a.createElement(N.a,{onChange:this.handle_payment_type,class:"google_form google_radio",value:M.v,selected:this.state.payment_type===M.v,name:"options"},u.a.createElement("img",{role:"img",alt:"Google Pay",src:Object(E.a)(O.a)}))}},{key:"get_currency_code",value:function(){var e=this.props,t=e.plan_info,e=e.current_user_currency;return t&&t.currency?t.currency:e}},{key:"handle_google_pay",value:function(){var e,n=this;this.state.loading||(this.open_loading_lb(),this.setState({loading:!0}),$(document).trigger("scribd:standard_flash:close_all"),e={apiVersion:M.l,apiVersionMinor:M.m,merchantInfo:{merchantId:this.props.google_pay_merchant_id,merchantName:"Scribd"},allowedPaymentMethods:[{type:M.B,parameters:{allowedAuthMethods:M.z,allowedCardNetworks:M.A},tokenizationSpecification:{type:M.o,parameters:{gateway:M.p,gatewayMerchantId:this.props.adyen_merchant_account}}}],transactionInfo:{currencyCode:this.get_currency_code(),totalPriceStatus:"FINAL",totalPrice:M.n}},this.google_payments_client.loadPaymentData(e).then(function(e){return $.ajax({url:n.props.post_url,type:"POST",dataType:"json",data:{doc_id:n.props.doc_id,google_pay_token:e.paymentMethodData.tokenizationData.token,metadata_update:n.props.metadata_update,credit_card_form:!0,validation:!0}})}).then(this.handle_submit_success).catch(function(e){n.props.show_one_tap_ui&&n.setState({payment_type:M.u}),n.setState({loading:!1});var t=e.responseJSON;if(n.close_loading_lb(),"CANCELED"!==e.statusCode){if(t){if("flash_error"===t.action)return void n.flashMessage(t.message);if("redirect"===t.action)return void(window.location.href=t.url)}n.flashMessage()}else n.flashMessage(c.default.t("payments.checkout_flow.credit_card_form.google_pay_canceled"))}))}},{key:"is_in_credit_only_country",value:function(){return M.f.includes(this.props.country_name)}},{key:"render_card_radio",value:function(){var e=c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card");return this.is_in_credit_only_country()&&(e=c.default.t("payments.checkout_flow.credit_card_form.credit_card")),u.a.createElement(N.a,{onChange:this.handle_payment_type,class:"credit_card_radio",label_text:e,value:M.u,selected:this.state.payment_type===M.u,name:"options"})}},{key:"render_paypal_radio",value:function(){return u.a.createElement(N.a,{onChange:this.handle_payment_type,class:"paypal_form paypal_radio",value:M.w,selected:this.state.payment_type===M.w,name:"options"},u.a.createElement("img",{role:"img",alt:"Paypal",src:Object(E.a)(x.a)}))}},{key:"render_paypal_button",value:function(){var e=this;if(this.props.show_paypal)return u.a.createElement(_.b,{handleClick:function(){e.setState({payment_type:M.w},function(){return e.handle_paypal_submit()})}})}},{key:"render_applepay_button",value:function(){var e=this;if(this.show_apple_pay_option())return u.a.createElement(p.a,{handleClick:function(){e.setState({payment_type:M.t},function(){return e.handle_applepay()})}})}},{key:"render_google_pay_button",value:function(){var e=this;if(this.state.show_google_pay)return u.a.createElement(d.a,{handleClick:function(){e.setState({payment_type:M.v},function(){return e.handle_google_pay()})},"data-e2e":"google-pay-button"})}},{key:"renderDebitOrCreditButton",value:function(){var e=c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card");return this.is_in_credit_only_country()&&(e=c.default.t("payments.checkout_flow.credit_card_form.credit_card")),u.a.createElement(f.a,{className:"debit_or_credit_button",href:"#",nodeRef:this.debitOrCreditButtonRef,onClick:this.handleCreditOrDebitCardClick},e)}},{key:"renderPaymentDivider",value:function(){var e=this.props.show_paypal,t=this.state.show_google_pay,n=this.show_apple_pay_option();if(e||t||n)return u.a.createElement("div",{className:"one_tap_payments_divider"},u.a.createElement("span",{className:"line"}),u.a.createElement("span",{className:"copy"},c.default.t("payments.checkout_flow.credit_card_form.or")))}},{key:"render_applepay_radio",value:function(){if(this.show_apple_pay_option())return u.a.createElement(N.a,{onChange:this.handle_payment_type,class:"applepay_radio",value:M.t,selected:this.state.payment_type===M.t,name:"options"},u.a.createElement("img",{role:"img",alt:"Apple Pay",src:Object(E.a)(S.a)}))}},{key:"get_credit_card_label",value:function(){return this.props.show_one_tap_ui?this.is_in_credit_only_country()?c.default.t("payments.checkout_flow.credit_card_form.credit_card"):c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card_number"):c.default.t("payments.checkout_flow.credit_card_form.card_number")}},{key:"render_credit_card_fields",value:function(){var t=this,e=this.props.show_ebanx,n=this.state,r=n.expiration,o=n.card_type,n=Object.keys(this.state.errors).map(function(e){return t.state.errors[e]}),r=2<=r.length?"".concat(r.slice(0,2),"/").concat(r.slice(2,4)):r,e=e?M.y:M.x,o=Object(F.a)(o,e),e=o.cardIcon,o=o.cvvIcon;return u.a.createElement("div",{className:"credit_card_fields"},u.a.createElement(l.a,{label:this.get_credit_card_label(),errors:n,onChange:this.handle_card_number,onFocus:Scribd.BillingInstance.track_ccn,onBlur:this.handle_card_number_blur,name:M.j.CARD_NUMBER,type:"tel",required:!0,hideRequired:!0,value:this.state.ccn,wrapperClass:"card_number",inputRef:function(e){return t.card_ref=e},inputChildren:e}),u.a.createElement("div",{className:"expiry_and_cvv"},u.a.createElement(l.a,{label:c.default.t("payments.checkout_flow.credit_card_form.expiration_date"),errors:n,onChange:this.handle_expiration,onFocus:Scribd.BillingInstance.track_expiration,name:M.j.EXPIRY,type:"tel",required:!0,hideRequired:!0,placeholder:c.default.t("payments.checkout_flow.credit_card_form.mm_yy"),value:r,wrapperClass:"expiry_container",inputRef:function(e){return t.expiry_ref=e}}),u.a.createElement(l.a,{label:c.default.t("payments.checkout_flow.credit_card_form.security_code"),errors:n,onChange:this.handle_cvv,onFocus:Scribd.BillingInstance.track_cvv,name:M.j.CVV,type:"tel",required:!0,hideRequired:!0,value:this.state.cvv,wrapperClass:"cvv_container",inputRef:function(e){return t.cvv_ref=e}},u.a.createElement("span",{className:"card_tooltip_parent",onMouseEnter:Scribd.BillingInstance.track_cvv_tooltip,onFocus:Scribd.BillingInstance.track_cvv_tooltip,tabIndex:"0"},u.a.createElement("span",{className:"icon-ic_questionmark","aria-hidden":"true"}),u.a.createElement("span",{className:"visually_hidden"},c.default.t("payments.checkout_flow.credit_card_form.tip")),o))),this.render_zip_code_form())}},{key:"renderCancelAnytime",value:function(){if(!this.props.payment_profile_update_page&&!this.props.giftcard&&!this.props.stored_card_form_props)return u.a.createElement("p",{className:"secure_server_button_message"},u.a.createElement("span",{className:"cancel_anytime_copy"},c.default.t("payments.checkout_flow.footer.base.cancel_anytime")))}},{key:"shouldRenderBackButton",value:function(){var e=this.props,t=e.payment_profile_update_page,e=e.stored_card_form_props;return!t&&!this.state.creditCardFormHidden&&!e}},{key:"renderBackToPaymentsButton",value:function(){if(this.shouldRenderBackButton())return u.a.createElement("div",{className:s()("button_container")},u.a.createElement(h.a,{className:"back_to_payment_options_button",href:"#",nodeRef:this.backToPaymentsButtonRef,onClick:this.handleBackToPaymentOptionsClick},u.a.createElement(m.a,{icon:"arrow_small_left_alt"}),c.default.t("payments.checkout_flow.credit_card_form.back_to_payment_options")))}},{key:"renderCardFormCheckout",value:function(){var e=this.props,t=e.cta_label,n=e.eligible_for_free_trial,r=e.free_to_paid_conversion,o=e.plan_info.price,a=e.show_one_tap_ui,i=e.show_plus_tax,s=e.start_free_trial_enabled,e=e.stored_card_form_props;if(a||e){t=r?c.default.t("read_free_promo.banner.subscribe_now"):t;return u.a.createElement(u.a.Fragment,null,u.a.createElement(A.a,{eligibleForFreeTrial:n,price:o,withTax:i}),u.a.createElement("div",{className:"button_container"},u.a.createElement(y.a,{className:"submit_credit_card_form_button",disabled:!s&&a,type:"submit",onClick:this.triggerSubmit},t)))}}},{key:"render_card_form",value:function(){var t=this;if(!this.state.creditCardFormHidden&&this.state.payment_type===M.u){var e=this.props,n=e.doc_id,r=e.metadata_update,o=e.post_url,e=r?u.a.createElement("input",{type:"hidden",name:"metadata_update",value:r}):null,r=this.render_credit_card_fields();return u.a.createElement("form",{acceptCharset:"UTF-8",action:o,autoComplete:"on",className:"payment_form credit_card_form",method:"POST",onSubmit:this.handle_submit,ref:function(e){return t.credit_card_form_ref=e}},u.a.createElement("input",{name:"authenticity_token",type:"hidden",value:Scribd.CSRF.get_csrf_value()}),n?this.render_hidden_doc_id():null,r,u.a.createElement("input",{type:"submit",className:"hidden"}),e,u.a.createElement("input",{ref:function(e){return t.df=e},type:"hidden",id:"df"}),this.renderCardFormCheckout())}}},{key:"render_truncated_form",value:function(e){var t=this;return u.a.createElement("form",{className:"visually_hidden truncated_form",ref:function(e){return t.truncate_form_ref=e},action:e,onSubmit:this.handle_submit},this.render_hidden_doc_id(),u.a.createElement("input",{hidden:!0,type:"submit"}))}},{key:"render_post_redirect",value:function(){var t=this;if(this.state.post_redirect){var n=this.state.post_redirect,e=Object.keys(n.params).map(function(e){return u.a.createElement("input",{type:"hidden",name:e,value:n.params[e],key:e})});return u.a.createElement("form",{className:"visually_hidden redirect_form",ref:function(e){return t.redirect_form_ref=e},action:n.url,method:"post"},e)}}},{key:"submit_post_redirect",value:function(){this.redirect_form_ref.submit()}},{key:"handle_cancel_threeds2_challenge",value:function(){this.setState({loading:!1,threeds2:null})}},{key:"handle_threeds2_submit_error",value:function(e){this.setState({loading:!1,threeds2:null}),this.handle_submit_error(e)}},{key:"open_loading_lb",value:function(){Scribd.Lightbox.open(M.q)}},{key:"close_loading_lb",value:function(){Scribd.Lightbox.close(M.q)}},{key:"render_hidden_doc_id",value:function(){return this.props.doc_id?u.a.createElement("input",{name:"doc_id",type:"hidden",value:this.props.doc_id}):null}},{key:"render_required_msg",value:function(){return u.a.createElement("p",{className:"payments_required_fields",tabIndex:"0"},u.a.createElement("span",{className:"icon icon-ic_abouttitle","aria-hidden":"true"}),u.a.createElement("span",null,c.default.t("payments.checkout_flow.credit_card_form.all_fields_required")))}},{key:"render_threeds2",value:function(){if(this.state.threeds2)return u.a.createElement(C.a,U({},this.state.threeds2,{handle_error:this.handle_threeds2_submit_error,handle_success:this.handle_submit_success,handle_cancel:this.handle_cancel_threeds2_challenge,handle_request:this.open_loading_lb}))}},{key:"render_payment_options_info",value:function(){if(this.props.giftcard){var e=this.props.terms_href;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,c.default.t("payments.billing.payment_options")),u.a.createElement("p",{className:"payment_options_disclaimer",dangerouslySetInnerHTML:{__html:c.default.t("payments.billing.by_completing_your_purchase_html",{terms_href:e})}}))}}},{key:"render_gift_info",value:function(){if(this.props.giftcard&&this.props.giftcard_info)return u.a.createElement(D.a,this.props.giftcard_info)}},{key:"renderPaymentContainer",value:function(){var e,t=this.props,n=t.eligible_for_free_trial,r=t.free_to_paid_conversion,o=t.paypal_url,a=t.post_url;return t.show_paypal&&this.state.payment_type===M.w?e=o:(this.state.payment_type===M.t||this.state.show_google_pay&&this.state.payment_type===M.v)&&(e=a),u.a.createElement("div",{className:s()("payment_container",{trial_eligible:n})},r&&this.renderPromoConversionText(),u.a.createElement("div",{id:"flash_container",className:"flash_container"}),this.render_post_redirect(),this.render_truncated_form(e),this.render_payment_options_info(),this.render_toggles(),this.renderBackToPaymentsButton(),this.props.stored_card_form_props?this.render_stored_card_form():this.render_card_form(),this.renderCancelAnytime(),this.render_threeds2(),this.render_gift_info())}},{key:"render_stored_card_form",value:function(){var e=this.props,t=e.eligible_for_free_trial,n=e.giftcard,e=e.stored_card_form_props,t=t||n;return u.a.createElement(u.a.Fragment,null,u.a.createElement(T.a,U({giftcard:n},e)),t&&this.renderCardFormCheckout())}},{key:"render_content",value:function(){return u.a.createElement(u.a.Fragment,null,this.renderPaymentContainer())}}],H(r.prototype,e),r}();r.defaultProps={calm_bundle:!1,cart_context:null,date:(new Date).toString(),doc_id:null,email_address:"",giftcard:!1,giftcard_info:null,handle_card_number_change:e.a,handle_expiration_date_change:e.a,handle_security_code_change:e.a,metadata_update:null,payment_profile_update_page:!1,plan_info:{},product_handle:null,set_cta_text:function(){},show_creditcard_form:!0,show_paypal:!0,start_free_trial_enabled:!1,stored_card_form_props:null,terms_href:"",trial_end_timestamp:!1},Scribd.addComponent("Payments.CheckoutFlow.CreditCardForm",r)}.call(this,X(10),X(1101).Buffer)},444:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(25),t=n(781),a=n.n(t),i=n(1),t=n(0),s=n.n(t);function r(e){var t=e.duration,n=e.price,r=e.receiver,n=e.showPlusTax?i.default.t("payments.checkout_flow.gift.price_plus_tax",{price:n}):n;return s.a.createElement("div",{className:"auto__payments_checkout_flow_gift_info"},s.a.createElement("div",{className:"divider_line"}),s.a.createElement("h2",null,i.default.t("payments.billing.your_gift")),s.a.createElement("div",{className:"info_columns"},s.a.createElement("img",{className:"gift_image",src:Object(o.a)(a.a),alt:"",role:"presentation"}),s.a.createElement("div",{className:"column"},s.a.createElement("p",null,s.a.createElement("strong",null,i.default.t("payments.billing.n_month_scribd_membership",{numMonths:t}))),s.a.createElement("p",null,r),s.a.createElement("p",null,n))))}n(660)},445:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),t=n(0),i=n.n(t),s=n(31),c=n(39);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(910);var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,i.a.PureComponent);var o=_(a);function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r=function(){t.formRef.current&&t.formRef.current.submit()},(n="handleSubmit")in(e=p(t=o.call(this,e)))?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t.formRef=i.a.createRef(),t}return u(a.prototype,[{key:"eligibleForTrial",get:function(){return 0<this.props.trialDuration}},{key:"componentDidMount",value:function(){document.addEventListener(c.i.FORM_SUBMIT,this.handleSubmit)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(c.i.FORM_SUBMIT,this.handleSubmit)}},{key:"renderForm",value:function(){var e=Scribd.CSRF.get_csrf_value();return i.a.createElement("form",{action:this.props.submitAction,method:"POST",ref:this.formRef},i.a.createElement("input",{name:"authenticity_token",type:"hidden",value:e}),i.a.createElement("input",{type:"hidden",name:"doc_id",value:this.props.docId}))}},{key:"renderBillingInfo",value:function(){if(this.eligibleForTrial&&!this.props.giftcard){var e=this.props,t=e.planInfo.zero,e=e.trialDuration,e=r.default.t("shared.trial_duration.monthly_payments_after_free_days",{trialDuration:e});return i.a.createElement("div",{className:"billing_info"},i.a.createElement("h2",{className:"header"},r.default.t("payments.checkout_flow.credit_card_form.your_billing_info")),i.a.createElement("p",{className:"price"},r.default.t("payments.checkout_flow.credit_card_form.this_props_plan_info_zero_due_today",{this_props_plan_info_zero:t})),i.a.createElement("p",{className:"subtitle"},e))}}},{key:"renderExpiry",value:function(){if(this.props.cardInfo.expiry&&""!==this.props.cardInfo.expiry)return i.a.createElement("p",{className:"expiry"},"Exp: ",this.props.cardInfo.expiry)}},{key:"render",value:function(){return i.a.createElement("div",{className:"wrapper__payments_checkout_flow_stored_card_form"},this.renderForm(),this.renderBillingInfo(),i.a.createElement("h2",null,r.default.t("checkout_flow.stored_card.current_card_on_file")),i.a.createElement("div",{className:"card_info"},i.a.createElement("p",{className:"card_number"},this.props.cardInfo.number),this.renderExpiry()),i.a.createElement(s.a,{href:this.props.billingHref,text:r.default.t("checkout_flow.stored_card.use_another_payment_method")}))}}]),a}()},45:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(2),o=n(3),c=n.n(o),t=n(0),u=n.n(t);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(102);var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,r.a);var t=l(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_react_forms_radio"),e.state={focused:!1},e}return i(n.prototype,[{key:"handle_focus",value:function(){this.setState({focused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus()}},{key:"handle_blur",value:function(){this.setState({focused:!1})}},{key:"component_classes",value:function(){return c()(this.props.class,"radio_component",{focused:this.state.focused},{with_description:this.props.description})}},{key:"render_content",value:function(){var e=this.props,t=e.onChange,n=e.label_text,r=e.description,o=e.value,a=e.disabled,i=e.selected,s=i?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty",e=r?u.a.createElement("span",{className:"description",id:this.uid("description")},r):null;return u.a.createElement("label",{className:c()("radio_label ".concat(s),{checked:i},{focused:this.state.focused},{with_description:r}),htmlFor:this.props.id||this.uid(o),onFocus:this.handle_focus,onBlur:this.handle_blur,onKeyDown:this.props.onKeyDown},u.a.createElement("input",{id:this.props.id||this.uid(o),onChange:t,type:"radio",value:o,checked:i,disabled:a,name:this.props.name,className:"radio_input visually_hidden radio","aria-describedby":r?this.uid("description"):null}),n?u.a.createElement("span",{className:c()("input_text",this.props.label_text_class)},n):null,e,this.props.children)}}]),n}(),o={options:[],description:"",class:"",label_text:""};(t="defaultProps")in(n=p)?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,Scribd.addComponent("Shared.React.Forms.Radio",p)},453:function(e,t,n){"use strict";function r(){var e=window,t=e.navigator,e=e.screen;return{userAgent:t.userAgent,language:t.language||t.browserLanguage,colorDepth:e.colorDepth,screenHeight:e.height,screenWidth:e.width,timeZoneOffset:(new Date).getTimezoneOffset(),javaEnabled:!!t.javaEnabled&&t.javaEnabled()}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var o=n(659);function a(e){return o.a.includes(e)}},46:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var t=n(3),a=n.n(t),t=n(0),r=n.n(t),i=(n(140),n(2)),s=n(31);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n);return e=r?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,i.a);var e,t,n=d(o);function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=n.call(this,e)).enclosing_class("auto__shared_react_button_menu"),e.state={menu_open:e.props.is_open||!1,position:""},e}return t=[{key:"close_all",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return c(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(o.instances);try{for(n.s();!(e=n.n()).done;){var r=e.value;r!==t&&r.hide_menu()}}catch(e){n.e(e)}finally{n.f()}}}],_((e=o).prototype,[{key:"component_classes",value:function(){return"button_menu_container"}},{key:"componentDidMount",value:function(){o.instances.push(this),$(document.body).on("click",this.handle_body_click)}},{key:"componentWillUnmount",value:function(){var e=o.instances;$(document.body).off("click",this.handle_body_click),e.splice(e.indexOf(this),1)}},{key:"componentDidUpdate",value:function(e,t){var n=this.get_position();t.position!==n&&this.setState({position:n}),this.props.is_open!==e.is_open&&this.props.is_open!==this.state.menu_open&&this.setState({menu_open:this.props.is_open}),Scribd.using_keyboard&&(this.state.menu_open&&!t.menu_open?$(this.get_buttons()[0]).focus():!this.state.menu_open&&t.menu_open&&($(this.container).find("[aria-haspopup]").focus(),"function"==typeof this.props.hide_tooltip&&this.props.hide_tooltip()))}},{key:"get_buttons",value:function(){return $(this.container).focusable_children().not(".menu_handle")}},{key:"handle_body_click",value:function(e){if(!$(e.target).closest(".button_menu_container").length)return o.close_all()}},{key:"handle_key_down",value:function(e){if(this.state.menu_open){var t=this.get_buttons(),n=t[0],r=t[t.length-1],o=t.index(document.activeElement);switch(e.keyCode){case 27:return this.hide_menu();case 40:e.preventDefault(),(r===document.activeElement?n:t[o+1]).focus();break;case 38:e.preventDefault(),(n===document.activeElement?r:t[o-1]).focus();break;case 9:e.shiftKey?(e.preventDefault(),n===document.activeElement?this.hide_menu():t[o-1].focus()):r===document.activeElement&&this.hide_menu()}}}},{key:"handle_close_btn",value:function(e){e.preventDefault(),this.hide_menu()}},{key:"handle_container_click",value:function(){this.props.autoclose&&this.toggle_visible()}},{key:"get_position",value:function(){if(this.state.menu_open){if(null!=this.props.force_position)return this.props.force_position;var e=this.container.querySelectorAll(".button_menu")[0],t=e.getBoundingClientRect(),n=window.innerWeight-t.right>e.offsetWidth?"right":"left",e=window.innerHeight-t.bottom>e.offsetHeight?"bottom":"top";return"".concat(n," ").concat(e)}}},{key:"toggle_visible",value:function(e){this.state.menu_open?this.hide_menu(e):this.show_menu(e)}},{key:"show_menu",value:function(e){if(o.close_all(this),!this.state.menu_open)return"function"==typeof this.props.on_show&&this.props.on_show(),this.setState({menu_open:!0},function(){"function"==typeof e&&e()})}},{key:"hide_menu",value:function(e){if(this.state.menu_open)return"function"==typeof this.props.on_hide&&this.props.on_hide(),this.setState({menu_open:!1,current_focus:0},function(){"function"==typeof e&&e()})}},{key:"get_aria_and_data_props",value:function(e){return{aria_props:l(l({},e.aria_props),{},{expanded:this.state.menu_open,haspopup:!0}),data_props:{button:!0}}}},{key:"render_button",value:function(){var e,t,n=this,r=Object.assign({},this.props.button),o=r.props.onClick;return this.props.skip_aria_and_data_props?r.props=l({},r.props):(e=(t=this.get_aria_and_data_props(r.props)).aria_props,t=t.data_props,r.props=l(l({},r.props),{},{aria_props:e,data_props:t})),r.props.className=a()(r.props.className,"menu_handle"),r.props.onClick=function(e){e.preventDefault(),e.stopPropagation(),n.toggle_visible(function(){Scribd.using_keyboard&&n.container.querySelectorAll(".button_menu")[0].focus()}),o&&o(e,n.state.menu_open)},r}},{key:"render_arrow",value:function(){if(this.props.has_arrow)return r.a.createElement("div",{className:"button_menu_arrow","aria-hidden":"true"})}},{key:"render_menu",value:function(){if(this.state.menu_open){var e=this.props.no_fullscreen;return r.a.createElement("div",{onKeyDown:this.handle_key_down,className:a()("button_menu",this.state.position,this.props.extra_classes,{no_fullscreen:e})},this.render_arrow(),r.a.createElement(s.a,{href:"#",className:"close_btn icon_btn",onClick:this.handle_close_btn},r.a.createElement("span",{className:"icon-ic_close","aria-hidden":"true"},r.a.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.button_menu.close_menu")))),this.props.menu)}}},{key:"render_content",value:function(){return r.a.createElement("div",{onClick:this.handle_container_click},this.render_button(),this.render_menu())}}]),_(e,t),o}();h(m,"defaultProps",{autoclose:!0,no_fullscreen:!1,has_arrow:!0,skip_aria_and_data_props:!1}),h(m,"instances",[]),Scribd.addComponent("Shared.React.ButtonMenu",m)},48:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),o=r.n(n),a=r(3),i=r.n(a),s=r(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return e=r?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==c(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(134);var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,r(2).a);var t=_(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_message_promo"),e}return u(n.prototype,[{key:"componentDidMount",value:function(){this.props.on_mount()}},{key:"component_classes",value:function(){return"message_promo"}},{key:"handle_close",value:function(e){e.preventDefault(),this.props.on_close(e)}},{key:"render_content",value:function(){var e=i()("promo_banner_wrapper",this.props.extra_classes,{hidden:this.props.hidden});return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"promo_banner_container"},o.a.createElement("div",{className:"styling_triangle"}),o.a.createElement("a",{className:"icon icon-ic_close",onClick:this.handle_close,href:"#"},o.a.createElement("span",{className:"visually_hidden"},s.default.t("shared.message_promo.dismiss_message"))),o.a.createElement("h2",{className:"promo_header"},this.props.header),o.a.createElement("span",{className:"promo_sub_header"},this.props.subheader)))}}]),n}(),t={on_mount:function(){},on_close:function(){},extra_classes:""};(n="defaultProps")in(a=d)?Object.defineProperty(a,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[n]=t,Scribd.addComponent("Shared.MessagePromo",d)},49:function(e,t,n){"use strict";var r=n(54);n.d(t,"a",function(){return r.ADD_EVENT_LISTENER_DELAY}),n.d(t,"b",function(){return r.GETTING_STARTED_STEP_STRING}),n.d(t,"c",function(){return r.HOME_ONBOARDING_COOKIE}),n.d(t,"d",function(){return r.LOGO_SELECTOR}),n.d(t,"e",function(){return r.PRIMARY_BUTTON_CLASS}),n.d(t,"f",function(){return r.SAVE}),n.d(t,"g",function(){return r.STEPS}),n.d(t,"h",function(){return r.WELCOME}),n.d(t,"i",function(){return r.WELCOME_CONTENT_TYPES})},52:function(e,t,n){e.exports=n(18)(2)},54:function(e,t,n){"use strict";n.r(t),n.d(t,"PRIMARY_BUTTON_CLASS",function(){return a}),n.d(t,"HOME_ONBOARDING_COOKIE",function(){return i}),n.d(t,"BUILDING_HOME_TIME",function(){return s}),n.d(t,"FALLBACK_TIME",function(){return c}),n.d(t,"ADD_LISTENERS_DELAY",function(){return u}),n.d(t,"TRANSITION_EVENTS",function(){return l}),n.d(t,"WELCOME_CONTENT_TYPES",function(){return _}),n.d(t,"SAVE",function(){return p}),n.d(t,"WELCOME",function(){return d}),n.d(t,"STEPS",function(){return f}),n.d(t,"ADD_EVENT_LISTENER_DELAY",function(){return h}),n.d(t,"GETTING_STARTED_STEP_STRING",function(){return m}),n.d(t,"LOGO_SELECTOR",function(){return y}),n.d(t,"ORDER_CONTEXT",function(){return b});var r=n(108),o=n.n(r),t=n(109),r=n.n(t),t=n(110),t=n.n(t),n=n(25),a="primary_button",i="hide_promo_modals",s=2500,c=1.5*s,u=s/2,l=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],_=[{get name(){return I18n.t("onboarding.welcome_everyone.at_home_or")},src:Object(n.a)(o.a),get description(){return I18n.t("onboarding.welcome_everyone.read_and_listen")}},{get name(){return I18n.t("onboarding.welcome_everyone.full_length")},src:Object(n.a)(r.a),get description(){return I18n.t("onboarding.welcome_everyone.books_and_more")}},{get name(){return I18n.t("onboarding.welcome_everyone.all_for_one")},src:Object(n.a)(t.a),get description(){return I18n.t("onboarding.welcome_everyone.everything_is_included")}}],p="save",d="welcome",f=[d,p],h=300,m="step-0",y=".logo_button",b={PMP:"pmp"}},55:function(e,t,n){"use strict";n.d(t,"a",function(){return r});function s(e){var t=document.createElement("script");return e.path&&(t.src=e.path),e.crossorigin&&(t.crossOrigin=e.crossorigin),e.integrity&&(t.integrity=e.integrity),e.content&&(t.innerHTML=e.content),e.id&&(t.id=e.id),e.defer?t.defer=1:e.async&&(t.async=1),e.onload&&(t.onload=e.onload),(e.element||document.head).appendChild(t)}var c=n(50),r=function(){var e=window.Scribd&&window.Scribd.Sentry;if(e){var t=e.disabled,n=e.dsn,r=e.environment,o=e.page,a=e.release;if(!t){var i={async:!0,crossorigin:"anonymous",id:"sentry_rewriteframe_script_tag",path:"https://browser.sentry-cdn.com/5.20.0/rewriteframes.min.js",onload:function(){window.Sentry.init({allowUrls:[/^https?:\/\/(\w+\.)*scribd\.com/],dsn:n,environment:r,release:a,integrations:[new window.Sentry.Integrations.RewriteFrames({iteratee:function(e){return e.filename&&(/embeds\/\d+\/content/.test(e.filename)?e.module="embeds/ID/content":/read\/\d+\/(\w|-)+/.test(e.filename)?e.module="read/ID/SLUG":/audiobook\/\d+\/(\w|-)+/.test(e.filename)?e.module="audiobook/ID/SLUG":/document\/\d+\/(\w|-)+/.test(e.filename)?e.module="document/ID/SLUG":/fullscreen\/\d+/.test(e.filename)?e.module="fullscreen/ID":/\w+\/pages\/\d+/.test(e.filename)?e.module="SHA/pages/N":/webpack\/doc_page\/init.\w+.js/.test(e.filename)?e.module="webpack/doc_page/init.SHA.js":/webpack\/doc_page\/app.\w+.js/.test(e.filename)&&(e.module="webpack/doc_page/app.SHA.js")),e}})]}),Object(c.c)(o),Object(c.d)()}};return s({async:!0,crossorigin:"anonymous",id:"sentry_script_tag",integrity:"sha384-mmBh0B1uYbzmP0q9QcqWr4el7gVXBSY0hWB2U8cNhNZi/RIuVQRp7pm1NlPOa644",path:"https://browser.sentry-cdn.com/5.20.0/bundle.min.js",onload:function(){s(i)}})}}}},56:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(49);function o(e){e=e.get(r.c);return void 0!==e&&"false"!==e&&e}},57:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var _=n(13),r=function(e){var t=e.event,n=e.children,r=e.exit_function,o=e.tab_cycle;if(0!==n.length){var a=n[0],i=n[n.length-1],s=_.a.esc,c=_.a.up_arrow,u=_.a.down_arrow,e=_.a.tab,l=n.indexOf(document.activeElement);switch("function"!=typeof r&&(r=function(){}),t.keyCode){case u:t.preventDefault(),(i===document.activeElement?a:n[l+1]).focus();break;case c:t.preventDefault(),(a===document.activeElement?i:n[l-1]).focus();break;case e:if(t.shiftKey)if(t.preventDefault(),a===document.activeElement){if(!o)return r(t);i.focus()}else n[l-1].focus();else if(i===document.activeElement){if(!o)return r(t);t.preventDefault(),a.focus()}break;case s:return r(t);default:return}}}},58:function(e,v,k){"use strict";!function(o){k.d(v,"a",function(){return t});var r=k(2),a=k(26),i=k(37),s=k(60),c=k(7),u=k(61),l=k(62),_=k(19),p=k(24),e=k(15);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b(n);return e=r?(e=b(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==d(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}k(128);var t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,r.a);var e,t=y(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_navigation_header_header"),e.state={responsive_search:!1,user_menu_expanded:!1,explore_menu_expanded:!1,page_width:"medium",search_focused:!1},e}return e=[{key:"component_classes",value:function(){return classNames({bare:this.props.bare,payments_header:this.props.payments})}},{key:"enclosing_tag",value:function(){return"header"}},{key:"enclosing_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"is_narrow",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"is_wide",value:function(){return["wide","extra_wide"].includes(this.props.page_width)}},{key:"handle_responsive_search_click",value:function(e){e.preventDefault(),this.props.search_props.search_page&&"hybrid"!==this.props.global_nav_test?this.set_focus_on_secondary_search():this.setState({responsive_search:!0,search_focused:!0})}},{key:"set_focus_on_secondary_search",value:function(){this.container.dispatchEvent(new Event("header:search_page:focus_input"))}},{key:"handle_close_search",value:function(){this.setState({responsive_search:!1,search_focused:!1})}},{key:"handle_user_menu_click",value:function(e){e={user_menu_expanded:e};this.state.explore_menu_expanded&&(e=Object.assign(e,{explore_menu_expanded:!1})),this.setState(e)}},{key:"handle_explore_menu_click",value:function(e){e.preventDefault();e={explore_menu_expanded:!this.state.explore_menu_expanded};this.state.user_menu_expanded&&(e=Object.assign(e,{user_menu_expanded:!1})),this.setState(e)}},{key:"render_color_divider",value:function(){return o.createElement(p.a,{key:"color_divider"})}},{key:"render_logo",value:function(){var e=this.props,t=e.clickableLogo,n=e.logo_src,r=e.new_tab,e=e.root_url;return o.createElement("div",{className:"logo_container flex_col"},o.createElement(t?"a":"span",{className:"icon_button logo_button",href:t?e:null,target:t&&r?"_blank":null},o.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:n})))}},{key:"render_explore_menu",value:function(){return o.createElement(s.a,Object.assign(this.props.explore_menu_props,{expanded:this.state.explore_menu_expanded,key:"explore_menu_right",handle_close_click:this.handle_explore_menu_click}))}},{key:"render_explore_text_button",value:function(){var e=this.state.explore_menu_expanded?"icon-ic_up_arrow":"icon-ic_down_arrow";return o.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_left",onClick:this.handle_explore_menu_click},o.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}),o.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.explore")),o.createElement("span",{"aria-hidden":"true",className:"arrow ".concat(e),role:"presentation"}))}},{key:"render_explore_icon_button",value:function(){return o.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_right",onClick:this.handle_explore_menu_click},o.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}))}},{key:"render_explore_button",value:function(){return"extra_wide"===this.props.page_width?[this.render_explore_text_button(),this.render_explore_menu()]:[this.render_explore_icon_button(),this.render_explore_menu()]}},{key:"render_right_tools_icon_button_text",value:function(e){if("extra_wide"===this.props.page_width)return o.createElement("span",{className:"icon_button_text"},e)}},{key:"render_upload_button",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button",href:this.props.uploads_url,key:"upload"},o.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_upload",role:"presentation"}),this.render_upload_button_label(e))}},{key:"render_upload_button_label",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!e.icon_only)return o.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"render_search",value:function(){return this.is_wide()?o.createElement(a.a,f({},this.props.search_props,{focused:this.state.focus_search})):o.createElement("a",{"aria-expanded":this.state.responsive_search,"aria-label":I18n.t("shared.navigation.header.header.search"),className:"icon_button search_button",href:"#search",id:"search",key:"search",onClick:this.handle_responsive_search_click},o.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_search",role:"presentation"}))}},{key:"render_saved_new_items_indicator",value:function(){if(this.props.saved_new_items)return o.createElement("span",{className:"new_items_indicator"})}},{key:"render_saved_button",value:function(){return o.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.go_to_your_saved_titles"),className:"icon_button saved_button",href:this.props.saved_url,key:"saved"},o.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_saved saved_icon",role:"presentation"},this.render_saved_new_items_indicator()),this.render_right_tools_icon_button_text(I18n.t("shared.navigation.header.header.saved")))}},{key:"render_user_menu",value:function(){var e=this.props,t=e.logged_in,n=e.page_width,e=!1;return(t&&this.is_narrow()||!t&&"extra_wide"!==n)&&(e=!0),o.createElement(i.a,f({},this.props.user_button_props,{icon_button:e,from_sidebar:!1,handle_click:this.handle_user_menu_click,logged_out:!this.props.logged_in,user_menu_open:this.state.user_menu_expanded,handle_externally:!0,key:"user_button",notificationDotProps:this.props.notificationDotProps}))}},{key:"render_right_tools_for_wide",value:function(){return this.props.logged_in?["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_saved_button(),this.render_user_menu()]:["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_user_menu()]}},{key:"render_bestsellers_icon_button",value:function(){return o.createElement("a",{href:this.props.bestsellers_url,className:"icon_button responsive_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers"),key:"best_sellers_icon_button"},o.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}))}},{key:"render_bestsellers_text_button",value:function(){var e=this.props.bestsellers_url;return o.createElement("a",{href:e,className:"icon_button full_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers_")},o.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}),o.createElement("div",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.bestsellers_")))}},{key:"render_responsive_header",value:function(){return o.createElement(_.a,null,o.createElement("div",{className:"left_tools",key:"left_tools"},this.render_logo()),o.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_explore_button(),this.render_bestsellers_icon_button(),this.render_search(),this.props.logged_in?this.render_saved_button():null,this.render_user_menu()))}},{key:"render_full_header",value:function(){return o.createElement(_.a,null,o.createElement("div",{className:"left_tools flex_row",key:"left_tools"},this.render_logo(),this.render_explore_button(),"extra_wide"===this.props.page_width?this.render_bestsellers_text_button():null,this.render_search()),o.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_right_tools_for_wide()))}},{key:"render_responsive_search_bar",value:function(){return o.createElement(_.a,{key:"responsive_search_bar"},o.createElement(c.c,{className:"search_back_btn text_btn flat_btn",onClick:this.handle_close_search},o.createElement("span",{className:"icon-ic_back_arrow icon"}),o.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.header.header.back"))),o.createElement(a.a,f({},this.props.search_props,{focused:this.state.focus_search,extra_classes:"search_responsive_input"})))}},{key:"render_archive_payments_bar",value:function(){if(this.props.payments)return this.props.show_progress_as_step_counter&&this.props.progress_step_counter_props?o.createElement(l.a,this.props.progress_step_counter_props):this.props.progress_bar_props?o.createElement(u.a,this.props.progress_bar_props):void 0}},{key:"render_bare_header",value:function(){return o.createElement(_.a,null,this.render_logo(),this.render_archive_payments_bar())}},{key:"render_content",value:function(){return this.props.bare?this.render_bare_header():this.is_wide()?this.render_full_header():this.state.responsive_search?this.render_responsive_search_bar():this.render_responsive_header()}}],h(n.prototype,e),n}(),n=t,g="defaultProps",e={clickableLogo:!0,notificationDotProps:{handleRemoveDot:e.a,setUserHasSeenBundles:e.a,showNotificationDot:!1},page:1};g in n?Object.defineProperty(n,g,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[g]=e,Scribd.addComponent("Shared.Navigation.Header.Header",t)}.call(this,k(0))},59:function(e,p,d){"use strict";!function(a){d.d(p,"a",function(){return r}),d(120);var e=d(2),o=d(9),t=d(15);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?u(t):e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e.a);var t=c(r);function r(e){var n;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),_(u(n=t.call(this,e)),"handle_click",function(e,t){t.preventDefault();e=n.get_pruned_search_html(e);n.item_selected=!0,n.track_click(e),n.props.handle_click(t,e)}),_(u(n),"handle_mouse_up",function(e){n.suggestions&&!n.suggestions.contains(e.target)&&n.track_cancel()}),_(u(n),"track_click",function(e){var t=n.props.items.map(n.get_pruned_search_html);Object(o.a)("search:drop_down_suggest:click",{page:window.location.pathname,search_session_id:Scribd.Search.Input.Show.get_search_session_id(),source:n.props.source,query:e,query_typed:n.props.query,suggestions:t})}),_(u(n),"track_cancel",function(){var e=n.props.items.map(n.get_pruned_search_html);e.length&&Object(o.a)("search:drop_down_suggest:cancel",{source:n.props.source,search_session_id:Scribd.Search.Input.Show.get_search_session_id(),page:window.location.pathname,query_typed:n.props.query,suggestions:e})}),n.enclosing_class("auto__search_input_suggestions"),n.get_pruned_search_html=Scribd.Search.Input.Show.get_pruned_search_html.bind(u(n)),n}return n(r.prototype,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handle_mouse_up)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handle_mouse_up)}},{key:"raw_html",value:function(e){return{__html:e}}},{key:"render_suggestion_label",value:function(){if(this.props.label_text)return a.createElement("div",{className:"suggestion_label"},this.props.label_text)}},{key:"render_link",value:function(e){return this.props.trust?a.createElement("a",{href:"#",dangerouslySetInnerHTML:this.raw_html(e)}):a.createElement("a",{href:"#"},e)}},{key:"render_items",value:function(){var o=this;return this.props.items.map(function(e,t){var n=classNames("suggestion",{selected:o.props.selected_index===t}),r=classNames({selected_suggestion:o.props.selected_index===t});return a.createElement("li",{className:n,id:r,key:t.toString(),onClick:o.handle_click.bind(o,e)},o.render_link(e))})}},{key:"set_ref",value:function(e){this.suggestions=e,this.props.set_suggestions_ref&&this.props.set_suggestions_ref(e)}},{key:"render_content",value:function(){return a.createElement("div",{className:"suggestions",id:this.props.list_id,ref:this.set_ref},this.render_suggestion_label(),a.createElement("ul",null,this.render_items()))}}]),r}();r.defaultProps={label_text:null,set_suggestions_ref:t.a},Scribd.addComponent("Search.Input.Suggestions",r)}.call(this,d(0))},6:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return s});var r="extra_narrow",o="narrow",a="medium",i="wide",s="extra_wide"},60:function(e,f,h){"use strict";!function(a){h.d(f,"a",function(){return p});var e=h(2),r=h(30),o=h(13);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}h(124);function _(e){var t=e.content_type,n=e.href,r=e.text,o=e.icon_className,e=e.onClick;return a.createElement("li",null,a.createElement("a",{href:n,onClick:e.bind(void 0,t)},a.createElement("span",{className:"icon ".concat(o),"aria-hidden":"true"}),a.createElement("span",{className:"text"},r)))}var t,n,p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e.a);var t=u(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_navigation_header_explore_menu"),e}return s(n.prototype,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handle_keydown),this.props.expanded&&this.hide_body_scroll()}},{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded?this.hide_body_scroll():!this.props.expanded&&e.expanded&&this.replace_body_scroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handle_keydown),this.replace_body_scroll()}},{key:"hide_body_scroll",value:function(){$(document.body).addClass("header_overlay_open")}},{key:"replace_body_scroll",value:function(){$(document.body).removeClass("header_overlay_open")}},{key:"handle_keydown",value:function(e){this.props.expanded&&e.which===o.a.esc&&this.props.handle_close_click(e)}},{key:"handle_content_type_click",value:function(e){this.track_rats("top_nav:".concat(e,":click"),{loc:"browse_menu"})}},{key:"handle_interest_click",value:function(e){this.track_rats("top_nav:interest:click",{interest:e,loc:"browse_menu"})}},{key:"render_sub_interests",value:function(e){var n=this;return e.sub_interests.map(function(e,t){return a.createElement("li",{key:t,className:"child_interest"},a.createElement("a",{className:"interest_btn interest_link",href:e.href,onClick:n.handle_interest_click.bind(n,e.name)},e.name))})}},{key:"render_interest_lists",value:function(){var t=this;return this.props.interests.map(function(e){return a.createElement("div",{className:"interest_group",key:"interest_group_".concat(e.name)},a.createElement("h3",{className:"interest"},a.createElement("a",{href:e.href,className:"interest_btn interest_link",onClick:t.handle_interest_click.bind(t,e.name)},e.name)),a.createElement("ul",{className:"sub_interests"},t.render_sub_interests(e)))})}},{key:"render_explore_by_content_type",value:function(){return a.createElement("section",{className:"content_types","aria-labelledby":"explore_by_content_type"},a.createElement("h2",{className:"title",id:"explore_by_content_type"},I18n.t("shared.navigation.header.explore_menu.explore_formats")),a.createElement("ul",null,a.createElement(_,{content_type:"books",href:this.props.books_url,text:I18n.t("shared.navigation.header.explore_menu.books"),icon_className:"icon-ic_small_book_fill",onClick:this.handle_content_type_click}),a.createElement(_,{content_type:"audiobooks",href:this.props.audiobooks_url,text:I18n.t("shared.navigation.header.explore_menu.audiobooks"),icon_className:"icon-ic_small_audiobook_fill",onClick:this.handle_content_type_click}),a.createElement(_,{content_type:"articles",href:this.props.magazines_url,text:I18n.t("shared.navigation.header.explore_menu.news_magazines"),icon_className:"icon-ic_small_magazine_fill",onClick:this.handle_content_type_click}),a.createElement(_,{content_type:"sheet_music",href:this.props.sheet_music_url,text:I18n.t("shared.navigation.header.explore_menu.sheet_music"),icon_className:"icon-ic_small_songbook_fill",onClick:this.handle_content_type_click})))}},{key:"render_explore_by_interest",value:function(){return a.createElement("section",{className:"interests","aria-labelledby":"explore_by_interest"},a.createElement("h2",{className:"title",id:"explore_by_interest"},I18n.t("shared.navigation.header.explore_menu.explore_interests")),a.createElement("div",{className:"interests_content"},this.render_interest_lists()))}},{key:"render_close_button",value:function(){return a.createElement("a",{href:"#explore_close_button",id:"explore_close_button",className:"close_button","aria-label":I18n.t("shared.navigation.header.explore_menu.close_explore_menu"),onClick:this.props.handle_close_click},a.createElement(r.a,{icon:"close"}))}},{key:"render_content",value:function(){if(this.props.expanded)return a.createElement("div",null,a.createElement("div",{className:classNames("explore_menu")},a.createElement("div",{className:"menu_wrapper"},a.createElement("nav",{className:"menu_content","aria-label":I18n.t("shared.navigation.header.explore_menu.explore_by_interests_or_content_type")},this.render_close_button(),this.render_explore_by_interest(),this.render_explore_by_content_type()))))}}]),n}(),d={expanded:!1};(n="defaultProps")in(t=p)?Object.defineProperty(t,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):t[n]=d}.call(this,h(0))},602:function(e,r,_){"use strict";!function(t){_.d(r,"a",function(){return e});var n=_(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?u(t):e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_(658);var e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,n.a);var e,r=c(o);function o(e){var t,n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),n=function(){t.setState({hide:!0})},"hide"in(e=u(t=r.call(this,e)))?Object.defineProperty(e,"hide",{value:n,enumerable:!0,configurable:!0,writable:!0}):e.hide=n,t.enclosing_class("auto__archive_flow_document_bar"),t.state={hide:!1},t}return e=[{key:"componentDidMount",value:function(){window.addEventListener("scribd:dismiss_document_bar",this.hide)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scribd:dismiss_document_bar",this.hide)}},{key:"render_thumbnail",value:function(){return t.createElement("div",{className:"thumbnail"},t.createElement("img",{src:this.props.document_image_url,alt:this.props.document_title}))}},{key:"render_lede_text",value:function(){return t.createElement("p",{className:"document_lede"},I18n.t("archive_flow.document_bar.your_document"))}},{key:"render_content",value:function(){return t.createElement("div",{className:"doc_bar_inner"},this.render_thumbnail(),t.createElement("div",{key:"doc_title",className:"document_title"},this.render_lede_text(),t.createElement("span",{className:"document_title_text"},this.props.document_title)))}},{key:"render",value:function(){return this.state.hide?null:i(l(o.prototype),"render",this).call(this)}}],a(o.prototype,e),o}();Scribd.addComponent("ArchiveFlow.DocumentBar",e)}.call(this,_(0))},61:function(e,n,u){"use strict";!function(o){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n);return e=r?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}u.d(n,"a",function(){return e}),u(125);var e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,u(2).a);var e,n=s(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(t=n.call(this,e)).enclosing_class("auto__archive_flow_header_progress_bar"),t.state={selected:e.current_step},t}return e=[{key:"render_step",value:function(e,t){var n="";return t<this.state.selected?n="completed":t===this.state.selected&&(n="active"),o.createElement("li",{className:"step_component ".concat(n," icon-ic_checkmark"),key:"step_".concat(t)},o.createElement("div",{className:"step_label"},e.label))}},{key:"render_content",value:function(){var n=this,e=this.props.steps.map(function(e,t){return n.render_step(e,t)});return o.createElement("div",{className:"progress_bar_container container"},o.createElement("div",{className:"progress_title"}," ",this.props.title," "),o.createElement("ul",{className:"progress_bar progressbar"},e))}}],t(r.prototype,e),r}();Scribd.addComponent("ArchiveFlow.Header.ProgressBar",e)}.call(this,u(0))},62:function(e,_,p){"use strict";!function(e){p.d(_,"a",function(){return u});var r=p(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n);return e=r?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p(126);var t,n,u=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,r.a);var t=s(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__archive_flow_header_progress_step_counter"),e}return a(n.prototype,[{key:"get_step_string",value:function(){return"".concat(this.props.current_step+2,"/").concat(this.props.num_steps)}},{key:"render_content",value:function(){return e.createElement("div",null,I18n.t("archive_flow.header.progress_step_counter.step_this_get_step_string",{this_get_step_string:this.get_step_string()}))}}]),n}(),l={num_steps:3};(n="defaultProps")in(t=u)?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l}.call(this,p(0))},63:function(e,r,E){"use strict";!function(a){E.d(r,"a",function(){return n});var o=E(9),t=E(13),e=E(15),i=E(2),s=E(28),c=E(38),u=E(7),l=E(20),_=E(64),p=E(24),d=E(57),f=E(14);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=k(n);return e=r?(e=k(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==h(e)&&"function"!=typeof e?v(t):e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}E(130);var n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,i.a);var e,n=g(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),w(v(t=n.call(this,e)),"getJoinText",function(){return t.props.book_preview_page?Scribd.trial_days_button_text||i18next.t("shared.join.become_a_member"):I18n.t("shared.trial_duration.read_free_days",{trialDuration:t.props.trialDuration})}),w(v(t),"render_top_section",function(){return a.createElement("ul",{className:"top_section"},t.render_membership_info(),t.render_home_and_saved_vertical_tabs())}),t.enclosing_class("auto__shared_navigation_sidebar"),t.state={scroll_position:0,selected_content_type:e.selected_content_type,user_menu_open:!1,show:!1,side_nav_test:!1},t}return e=[{key:"componentDidMount",value:function(){this.is_responsive()&&document.body.classList.add("no_scroll")}},{key:"componentWillUnmount",value:function(){document.body.classList.contains("no_scroll")&&document.body.classList.remove("no_scroll")}},{key:"component_classes",value:function(){return classNames("global_nav_sidebar hybrid_sidebar",{show_user_section:this.is_narrow(),full_width_background:this.is_responsive()})}},{key:"handle_tab_click",value:function(e,t){Object(o.a)("tabs:tab:click",{page:"home",type:e.key,position:t})}},{key:"is_narrow",value:function(){return"narrow"===this.props.page_width||"extra_narrow"===this.props.page_width}},{key:"render_visually_hidden_text",value:function(e){if(e.type===this.state.selected_content_type)return a.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.sidebar.selected"))}},{key:"get_click_handler",value:function(t,n){return function(e){Object(o.a)("global_nav:sidebar:".concat(n,":click")),t&&t(e)}}},{key:"render_vertical_tab",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e){var r=e.type===this.state.selected_content_type,o=r?e.icon_filled:e.icon;return a.createElement("li",{className:classNames("nav_row",e.type,{selected:r}),key:"nav_row_".concat(e.name)},a.createElement("a",{href:e.url,className:"nav_link flex_row",onClick:this.get_click_handler(t,e.type)},a.createElement("span",{className:"icon ".concat(o)}),a.createElement("div",{className:"title_container flex_col"},a.createElement("div",{className:"flex_row"},a.createElement("div",{className:"nav_title"},e.name),n?a.createElement("span",{className:"icon-ic_right_caret_1px side_arrow","aria-hidden":"true"}):null,this.render_visually_hidden_text(e)))))}}},{key:"handle_language_click",value:function(e){var t=this;e.preventDefault(),Object(o.a)("language_picker:sidebar:open"),$.get(this.props.language_modal_props_url).done(function(e){Scribd.Lightbox.open_react("language_lightbox",a.createElement(l.a,m({handle_lightbox_close:t.props.focus_on_header},e))),$(t.container).trigger("language_picker:message:close")}),this.props.close_sidebar()}},{key:"toggle_user_menu",value:function(){var e=this;this.setState({user_menu_open:!this.state.user_menu_open},function(){e.state.user_menu_open&&Object(o.a)("nav_bar:user_menu:view")})}},{key:"close_user_menu",value:function(){this.setState({user_menu_open:!1}),this.user_button_ref.focus(),this.props.notificationDotProps.handleRemoveDot()}},{key:"is_full_sidebar",value:function(){return"full"===this.props.global_nav_test}},{key:"is_responsive",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"handle_key_down",value:function(e){var t;this.is_responsive()&&(t=this.get_focusable_children(),Object(d.a)({event:e,children:t,exit_function:this.props.handle_toggle_sidebar}))}},{key:"handle_join_click",value:function(e){e.preventDefault(),Object(f.default)({nextUrl:this.props.subscribe_url,trackingData:{loc:"sidebar"}})}},{key:"handle_login_click",value:function(e){e.preventDefault(),Object(f.default)({initialView:"login",trackingData:{loc:"sidebar"}})}},{key:"handle_user_button_keypress",value:function(e){e.preventDefault(),e.which===t.a.enter&&this.toggle_user_menu()}},{key:"render_logo",value:function(){if(this.is_full_sidebar()&&!this.is_responsive())return a.createElement("li",{className:"logo_container flex_row",role:"presentation"},a.createElement("a",{className:"logo",href:this.props.home.url},a.createElement("img",{src:this.image_url("landing/home2_landing/scribd_logo_horiz_small.svg"),alt:"Scribd"})))}},{key:"render_membership_info",value:function(){if(!this.props.subscriber)return a.createElement("li",{className:"membership_info_button_row"},a.createElement(_.a,{redirect_url:this.props.subscribe_now_landing_url,track_data:{user:"non_subscriber"}}))}},{key:"render_home_and_saved_vertical_tabs",value:function(){var e=this.props.logged_in?null:this.handle_login_click;return a.createElement(a.Fragment,null,this.render_vertical_tab(this.props.home),this.render_vertical_tab(this.props.saved,e))}},{key:"render_bestsellers_btn",value:function(){return this.render_vertical_tab(this.props.bestsellers)}},{key:"render_categories_section",value:function(){var t=this;return a.createElement("ul",{className:"categories",key:"sidebar_nav_categories",ref:function(e){return t.sidebar_nav_categories=e}},this.render_bestsellers_btn(),this.props.categories_array.map(function(e){if("mixed"!==e)return t.render_vertical_tab(t.props.categories[e])}))}},{key:"render_divider",value:function(){return a.createElement("div",{className:"divider"})}},{key:"render_upload_button",value:function(){if(this.is_narrow())return this.render_vertical_tab(this.props.upload)}},{key:"render_user_section",value:function(){var t=this;return this.props.logged_in?a.createElement("li",{className:"nav_row user_button",key:"bottom_menu_user_section"},a.createElement("a",{href:"#",className:"flex_row unstyled_link",onClick:this.toggle_user_menu,ref:function(e){return t.user_button_ref=e},"aria-haspopup":"true","aria-expanded":this.state.user_menu_open,onKeyPress:this.handle_user_button_keypress},a.createElement(s.a,this.props.persona_icon_props),this.props.notificationDotProps.showNotificationDot&&a.createElement("span",{className:"notification_dot"}),a.createElement("div",{className:"user_copy"},a.createElement("span",{className:"greeting"},I18n.t("shared.navigation.sidebar.hi_this_props_username",{this_props_username:this.props.username})),a.createElement("div",{className:"profile_button flex_row"},a.createElement("span",{className:"label"},I18n.t("shared.navigation.sidebar.your_profile")),a.createElement("span",{className:"icon icon-ic_right_caret_1px","aria-hidden":"true"}))))):a.createElement("li",{className:"login_section"},a.createElement(u.c,{className:"flat_btn",href:this.props.subscribe_url,onClick:this.handle_join_click},this.getJoinText()),a.createElement(u.c,{className:"flat_btn outline_btn",href:this.props.subscribe_url,onClick:this.handle_login_click},I18n.t("shared.navigation.sidebar.sign_in")))}},{key:"render_bottom_section",value:function(){return this.is_narrow()?a.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker(),this.render_color_divider(),this.render_user_section()):a.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker())}},{key:"render_color_divider",value:function(){return a.createElement("li",{role:"presentation",key:"color"},a.createElement(p.a,null))}},{key:"render_language_picker",value:function(){if(this.is_responsive())return a.createElement(a.Fragment,null,this.render_divider(),this.render_vertical_tab(this.props.language,this.handle_language_click,!0))}},{key:"render_vertical_tabs",value:function(){return a.createElement("nav",{key:"vertical_nav",onKeyDown:this.handle_key_down,className:"vertical_nav"},a.createElement("div",{className:"sidebar_container flex_col"},a.createElement("div",{className:"upper"},this.render_top_section(),this.render_divider(),this.render_categories_section()),this.render_bottom_section()))}},{key:"render_opac_background",value:function(){if(this.is_responsive())return a.createElement("div",{key:"opac_background",onClick:this.props.handle_toggle_sidebar,className:"opac_background"})}},{key:"render_title",value:function(){return a.createElement("h2",{id:"home_content_tabs",className:"visually_hidden",key:"content_tabs_title"},I18n.t("shared.sidebar_nav.sidebar.explore_by_content_type"))}},{key:"render_user_menu",value:function(){if(this.state.user_menu_open)return a.createElement(c.a,m({},this.props.user_menu_props,{from_sidebar:!0,handle_close:this.close_user_menu,key:"user_menu",notificationDotProps:this.props.notificationDotProps}))}},{key:"render_content",value:function(){return a.createElement(a.Fragment,null,this.render_opac_background(),this.render_vertical_tabs(),this.render_user_menu())}}],y(r.prototype,e),r}();n.defaultProps={notificationDotProps:{handleRemoveDot:e.a,setUserHasSeenBundles:e.a,showNotificationDot:!1},trialDuration:null},Scribd.addComponent("Shared.Navigation.Sidebar",n)}.call(this,E(0))},64:function(e,t,n){"use strict";!function(a){n.d(t,"a",function(){return e});var i=n(9);function e(e){var t=e.redirect_url,n=e.text,r=e.open_new_tab,o=e.track_data,n=n||I18n.t("shared.navigation.membership_info.learn_more_about_scribd_membership");return a.createElement("a",{className:"auto__shared_navigation_membership_info membership_info_container",href:t,target:r?"_blank":"",onClick:function(){Object(i.a)("global_nav:sidebar:learn_more:click",o)}},a.createElement("p",{className:"text"},n),a.createElement("span",{className:"icon icon-ic_right_caret_alt","aria-hidden":"true"}))}n(129)}.call(this,n(0))},65:function(e,n,E){"use strict";!function(s){E.d(n,"a",function(){return t});var e=E(3),c=E.n(e),r=E(24),o=E(19),a=E(77),i=E(183),u=E(9),e=E(15),l=E(30),_=E(6),p=E(26),d=E(37),f=E(2),h=E(66),m=E(69);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=w(n);return e=r?(e=w(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==y(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}E(133);var t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,f.a);var e,t=k(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_navigation_header_header_hybrid"),e.state={explore_menu_expanded:!1,showReadFreeButton:!1,responsive_search:!1,search_focused:!1,user_menu_expanded:!1},e}return e=[{key:"enclosing_element_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"enclosing_tag",value:function(){return"header"}},{key:"componentDidMount",value:function(){this.check_for_language_settings_change(),this.shouldShowReadFreeButton(),window.addEventListener("resize",this.shouldShowReadFreeButton)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.shouldShowReadFreeButton)}},{key:"shouldShowReadFreeButton",value:function(){var e=this.props,t=e.eligible_for_free_trial,e=e.is_subscriber;this.setState({showReadFreeButton:!(window.innerWidth<=a.a.breakpoint_1024||e||!t)})}},{key:"check_for_language_settings_change",value:function(){var e=Object(i.a)(window.location.search.slice(1));e&&e.language_settings_changed&&Scribd.Flasher.standard("success",I18n.t("shared.navigation.header.header_hybrid.preferred_language_set_to_query_language_settings_changed",{query_language_settings_changed:e.language_settings_changed}))}},{key:"is_narrow",value:function(){return[_.a,_.d,_.c].includes(this.props.page_width)}},{key:"is_wide",value:function(){return[_.e,_.b].includes(this.props.page_width)}},{key:"handle_user_menu_click",value:function(e){var t={user_menu_expanded:e};this.state.explore_menu_expanded&&(t=Object.assign(t,{explore_menu_expanded:!1})),e&&Object(u.a)("nav_bar:user_menu:view"),this.setState(t)}},{key:"handle_search_focus",value:function(e){this.setState({search_focused:e})}},{key:"render_logo",value:function(){return s.createElement("div",{className:"logo_container flex_row"},s.createElement("a",{className:"logo_button icon_button flex_col",href:this.props.root_url,target:this.props.new_tab?"_blank":null},s.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:this.props.logo_src})))}},{key:"render_color_divider",value:function(){return s.createElement(r.a,{key:"color_divider"})}},{key:"render_right_tools_icon_button_text",value:function(e){return s.createElement("span",{className:"icon_button_text"},e)}},{key:"render_user_menu",value:function(){return s.createElement(d.a,b({},this.props.user_button_props,{icon_button:!1,showReadFreeButton:this.state.showReadFreeButton,from_sidebar:!1,handle_click:this.handle_user_menu_click.bind(this),logged_out:!this.props.logged_in,from_hybrid:!0,user_menu_open:this.state.user_menu_expanded,eligibleForFreeTrial:this.props.eligible_for_free_trial,notificationDotProps:this.props.notificationDotProps}))}},{key:"render_hybrid_search",value:function(e){var t=this.props.search_props.search_page?this.props.search_term:"";return s.createElement(p.a,b({},this.props.search_props,{extra_classes:c()(e,{read_free_button:this.state.showReadFreeButton}),focused:this.state.search_focused,handle_search_focus:this.handle_search_focus,query:t,sidebar_open:this.props.sidebar_open}))}},{key:"get_aria_hidden_text",value:function(){var e=this.props.sidebar_open;return{visually_hidden_text:e?I18n.t("shared.navigation.header.header_hybrid.close_navigation_menu"):I18n.t("shared.navigation.header.header_hybrid.open_navigation_menu"),aria_expanded:e}}},{key:"render_logo_menu",value:function(){var e=this.props,t=e.handle_toggle_sidebar,n=e.logo_src,r=e.page_width,o=e.root_url,a=e.sidebar_open;if(["wide","extra_wide"].includes(r))return this.render_logo();var i=this.get_aria_hidden_text(),e=i.visually_hidden_text,r=i.aria_expanded,i=this.state.search_focused;return s.createElement("div",{className:c()("logo_container","flex_row",{search_focused:i})},s.createElement("a",{className:"hamburger_menu_button flex_col",href:"#sidebar",onClick:t,"aria-expanded":r},s.createElement(m.a,{opened:a}),s.createElement("span",{className:"visually_hidden"},e)),s.createElement("a",{className:"logo_home_button flex_col",href:o},s.createElement("img",{alt:"Scribd",className:"logo",src:n})))}},{key:"render_wide_upload_button",value:function(){this.show_upload_icon()&&this.render_upload_button({icon_only:!this.props.logged_in})}},{key:"render_right_tools_for_wide",value:function(){return s.createElement("div",{className:"right_tools flex_row"},this.render_wide_upload_button(),this.render_user_menu())}},{key:"render_upload_button",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button with_right_border",href:this.props.uploads_url,key:"upload"},s.createElement(l.a,{icon:"globalnav_upload"}),this.render_upload_button_label(e))}},{key:"render_upload_button_label",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!e.icon_only)return s.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"show_upload_icon",value:function(){return[_.a,_.d].includes(this.props.page_width)}},{key:"render_hybrid_upload_button",value:function(){return this.is_wide()?this.render_upload_button():this.props.page_width===_.c?this.render_upload_button({icon_only:!0}):void 0}},{key:"render_language_picker",value:function(){var e=this.props.language_picker_props;if(["wide","extra_wide"].includes(this.props.page_width)&&e)return s.createElement(h.a,e)}},{key:"render_referral_button",value:function(){if(this.props.is_subscriber){var e=this.props.free_referral?I18n.t("shared.navigation.header.header.read_for_free"):I18n.t("shared.navigation.header.header.invite_friends");return s.createElement("a",{className:"referral_text with_right_border",href:this.props.referrals_url},e)}}},{key:"render_full_header",value:function(){return s.createElement(o.a,{key:"full_header",extra_classes:"hybrid_test_header"},this.render_logo_menu(),this.render_hybrid_search("hybrid_nav_search"),s.createElement("div",{className:c()("right_tools","flex_row",{read_free_button:this.state.showReadFreeButton})},this.render_referral_button(),this.render_hybrid_upload_button(),this.render_language_picker(),this.render_user_menu()))}},{key:"render_simple_header",value:function(){return s.createElement(o.a,{key:"simple_header",extra_classes:"hybrid_test_header hybrid_simple"},s.createElement("div",{id:"home_after_onboarding_overlay"}),this.render_logo_menu(),this.render_hybrid_search("hybrid_wide_search"))}},{key:"render_content",value:function(){return[_.a,_.d].includes(this.props.page_width)?[this.render_simple_header(),this.render_color_divider()]:[this.render_full_header(),this.render_color_divider()]}}],g(n.prototype,e),n}();t.defaultProps={eligible_for_free_trial:null,notificationDotProps:{handleRemoveDot:e.a,setUserHasSeenBundles:e.a,showNotificationDot:!1}}}.call(this,E(0))},658:function(e,t,n){},659:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=500,o="threeds2_identification",a="threeds2_challenge",i=[o,a]},66:function(e,r,_){"use strict";!function(o){_.d(r,"a",function(){return n});var e=_(2),t=_(175),a=_(20);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_(131);var n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e.a);var n=u(r);function r(e){var t;return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(t=n.call(this,e)).enclosing_class("auto__shared_navigation_language_picker"),t.state={selected_language:e.current_language,menu_open:!1},t}return s(r.prototype,[{key:"component_classes",value:function(){return classNames("icon_button language_picker with_right_border",{logged_out:!this.props.current_user})}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:header:language:click",{locale:e.lang,current_locale:t.props.current_language.lang}),t.setState({selected_language:e})}}},{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"handle_picker_click",value:function(e){e.preventDefault(),this.track_rats("language_picker:header:clicked",{current_locale:this.props.current_language.lang}),$(this.container).trigger("language_picker:message:close")}},{key:"handle_learn_more_click",value:function(){this.track_rats("language_picker:learn_more:click",{current_locale:this.props.current_language.lang}),this.close_menu(),$.get(this.props.language_modal_props_url).done(function(e){Scribd.Lightbox.open_react("language_lightbox",o.createElement(a.a,e))})}},{key:"render_radio_buttons",value:function(){var r=this;return this.props.languages.map(function(e){var t=r.state.selected_language.lang===e.lang,n=t?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty";return o.createElement("li",{role:"none",key:"list-item-".concat(e.lcid)},o.createElement("a",{className:"radio_row flex_row language_radio",onClick:r.handle_select(e),href:e.href,role:"menuitem"},o.createElement("span",{className:classNames("mock_radio radio_label",n,{checked:t})}),o.createElement("div",{className:"label",lang:e.lcid},e.name),t&&o.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.language.picker.selected"))))})}},{key:"render_learn_more",value:function(){return o.createElement("div",{className:"learn_more_section"},o.createElement("a",{href:"#",onClick:this.handle_learn_more_click,className:"learn_more_link"},I18n.t("shared.navigation.language.picker.learn_more")))}},{key:"render_menu",value:function(){return o.createElement("div",{className:"language_picker_dropdown"},o.createElement("ul",{role:"menu",className:"radio_list"},this.render_radio_buttons(),this.render_learn_more()))}},{key:"render_arrow",value:function(){var e=this.props.from_sidebar?"icon-ic_right_caret_1px":"icon-ic_dropdown_alt";return o.createElement("span",{className:classNames("down_arrow",e),"aria-hidden":"true"})}},{key:"render_btn",value:function(){var e=this.props,t=e.current_language,e=e.extra_classes;return o.createElement("a",{className:classNames("text_btn language_btn flex_row",e),href:"#language",onClick:this.handle_picker_click,"aria-haspopup":"true","aria-expanded":this.state.menu_open},o.createElement("span",{className:"icon icon-ic_language","aria-hidden":"true"}),o.createElement("span",{className:"prefix icon_button_text"},t.prefix),this.render_arrow(),this.render_english_label(),o.createElement("span",{className:"visually_hidden",lang:t.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return o.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return o.createElement(t.a,{autoclose:!1,button:this.render_btn(),forcePosition:"left bottom",isOpen:this.state.menu_open,menu:this.render_menu(),onHide:this.close_menu,onShow:this.show_menu,skipAriaAndDataProps:!0})}}]),r}()}.call(this,_(0))},660:function(e,t,n){},661:function(e,t,o){"use strict";!function(n){o.d(t,"a",function(){return e});var r=o(0);function e(e){var t=e.heading,e=e.subHeading;return n.createElement(r.Fragment,null,n.createElement("div",{className:"info_heading"},t),n.createElement("div",null,e))}o(909)}.call(this,o(0))},662:function(e,t,n){"use strict";!function(a){function e(e,t,n){var r=a.EBANX,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?"test":"production";r.config.setPublishableKey(e),r.config.setCountry(t.toLowerCase()),r.config.setMode(o),r.deviceFingerprint.setup(n)}n.d(t,"a",function(){return e})}.call(this,n(335))},663:function(e,t,n){},664:function(e,t,n){},665:function(e,t,n){},67:function(e,n,_){"use strict";!function(r){_.d(n,"a",function(){return t});var e=_(2),o=_(20),a=_(48);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_(135);var t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e.a);var t=u(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={show:!1},e.enclosing_class("auto__shared_navigation_language_message"),e.cookie_jar=new CookieJar,e}return s(n.prototype,[{key:"componentDidMount",value:function(){this.should_show_language_message()&&(this.setState({show:!0}),$(document.body).on("language_picker:message:close",this.handle_close))}},{key:"componentWillUnmount",value:function(){$(document.body).off("language_picker:message:close",this.handle_close)}},{key:"component_classes",value:function(){return classNames("language_message",{logged_out:!this.props.current_user})}},{key:"handle_learn_more_click",value:function(e){var t=this;e.preventDefault(),$.get(this.props.language_modal_props_url).done(function(e){Scribd.Lightbox.open_react("language_lightbox",r.createElement(o.a,e)),t.handle_close()})}},{key:"handle_close",value:function(){var e=this;this.setState({show:!1},function(){e.cookie_jar.put("language_picker_message:closed",!0)})}},{key:"language_picker_not_closed",value:function(){return void 0===this.cookie_jar.get("language_picker_message:closed")}},{key:"should_show_language_message",value:function(){return this.language_picker_not_closed()}},{key:"get_subheader",value:function(){var e=this.props.current_language_name;return r.createElement("div",{className:"flex_col"},r.createElement("div",{className:"message"},I18n.t("shared.navigation.language.message.your_recommendations_have_been_switched_to",{current_language_name:e})," "),r.createElement("a",{className:"learn_more_link",onClick:this.handle_learn_more_click,href:"#learn-more"},I18n.t("shared.navigation.language.message.learn_more")))}},{key:"render_content",value:function(){if(this.state.show)return r.createElement(a.a,{header:I18n.t("shared.navigation.language.message.language_options"),subheader:this.get_subheader(),on_close:this.handle_close})}}]),n}()}.call(this,_(0))},68:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SEEN_BUNDLES_COOKIE"},69:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var t=n(0),r=n.n(t),t=n(3),o=n.n(t);function a(e){e=e.opened;return r.a.createElement("span",{className:o()("auto__shared_navigation_global_nav_hamburger",{opened:e}),"aria-hidden":!0},r.a.createElement("span",{className:"top line"}),r.a.createElement("span",{className:"middle line"}),r.a.createElement("span",{className:"bottom line"}))}n(132),a.defaultProps={opened:!1}},7:function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return k});var t=n(3),r=n.n(t),t=n(0),o=n.n(t),a=n(2),i=n(30);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){b(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(n);return e=r?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==s(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(){f(n,a.a);var t=m(n);function n(e){return _(this,n),(e=t.call(this,e)).enclosing_class("auto__shared_react_common_button"),e}return d(n,[{key:"render",value:function(){var e=this.get_tag(),t=r()(this.props.className,"flat_btn",this.get_component_classname(),{disabled:this.props.disabled||this.props.loading,loading:this.props.loading});return o.a.createElement(e,l({className:t,title:this.props.title,onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,"aria-disabled":this.props.disabled||this.props.loading?"true":null,role:this.props.role,type:"button"===e?this.props.type:null,target:this.props.target,"data-tooltip":this.props["data-tooltip"]||null,href:this.props.href,id:this.props.id},this.get_data_props(),this.get_aria_props(),{ref:this.props.node_ref}),this.render_content(),this.render_spinner(),this.props.text,this.render_visually_hidden_text())}},{key:"render_visually_hidden_text",value:function(){if(this.props.visually_hidden_text)return o.a.createElement("span",{className:"visually_hidden"},this.props.visually_hidden_text)}},{key:"render_spinner",value:function(){if(!this.props.className||!this.props.className.match(/text_btn/))return o.a.createElement("div",{key:"spinner","aria-hidden":"true",className:"scribd_spinner","data-size":30})}},{key:"render_content",value:function(){var e=o.a.Children.toArray(this.props.children)||[];return this.props.is_facebook_button||/\bfacebook\b/.test(this.props.className)?e.unshift(this.render_facebook_icon()):(this.props.is_google_button||/\bgoogle\b/.test(this.props.className))&&e.unshift(this.render_google_icon()),e}},{key:"render_facebook_icon",value:function(){return o.a.createElement("span",{key:"facebook_icon","aria-hidden":"true",className:"icon icon-ic_facebook"})}},{key:"render_google_icon",value:function(){return o.a.createElement("span",{key:"google_icon","aria-hidden":"true",className:"icon icon-google"})}},{key:"get_tag",value:function(){var e="button";return void 0===this.props.href&&void 0===this.props.target||(e="a",void 0!==this.props.disabled&&console.error("You can't disable anchors")),e}},{key:"get_data_props",value:function(){var n=this,r={};return this.props.data_props&&Object.keys(this.props.data_props).forEach(function(e){var t=n.props.data_props[e];r["data-".concat(e)]=t}),r}},{key:"get_aria_props",value:function(){var n=this,r={};return this.props.aria_props&&Object.keys(this.props.aria_props).forEach(function(e){var t=n.props.aria_props[e];r["aria-".concat(e)]=t}),r}}]),n}();function v(e){var t=Object.assign({},e);return t.className=r()(e.className,"text_btn"),o.a.createElement(g,t)}b(g,"defaultProps",{type:"button",is_facebook_button:!1,is_google_button:!1,data_props:{},aria_props:{},loading:!1});var k=function(){f(t,a.a);var e=m(t);function t(){return _(this,t),e.apply(this,arguments)}return d(t,[{key:"get_button_props",value:function(){return u(u({},this.props),{},{className:r()(this.props.className,"text_btn icon_btn")})}},{key:"render_content",value:function(){return o.a.createElement(g,this.get_button_props(),o.a.createElement(i.a,{icon:this.props.icon,hiddenText:this.props.hidden_label}))}}]),t}()},70:function(e,t,n){!function(e,o){var r,a,i;function t(){}a=n(101).default,r=n(89).default,(i=window.Scribd).Flasher=(t.prototype.toast_node=null,t.prototype.mount_node=function(e){return $("<div />",{role:"alert"}).appendTo(e)[0]},t.prototype.bind_lightbox_close=e.once(function(){return $(document.body).on("Scribd:lightbox:closed Scribd:stacked_lightbox:closed",function(){if(!i.Lightbox.current_open)return $(t.lightbox_container()).find(".flash").each(function(){return ReactDOM.unmountComponentAtNode(this.parentElement)})})}),t.global_container=function(){return $("#flash_container")[0]},t.lightbox_container=function(){return $("#lightbox_flash_container")[0]},t.toast=function(e,t,n){var r=null!=(n=null==n?{}:n).dismiss_speed?n.dismiss_speed:(r=60*(n.raw?$("<div />",{html:t}).text():t).length,r=Math.max(r,4e3),Math.min(r,11e3)),n=o.createElement(a,{content:t,type:e,raw:null!=(e=n.raw)&&e,dismiss_speed:r,animation_speed:null!=(r=n.animation_speed)?r:500,class_name:null!=(r=n.class_name)?r:""}),r=null!=(r=this.toast_node)?r:this.prototype.mount_node(this.global_container());return ReactDOM.unmountComponentAtNode(r),ReactDOM.render(n,r)},t.build_standard=function(e,t,n){return o.createElement(r,{content:t,render_content:(n=null==n?{}:n).render_content,type:e,raw:null!=(e=n.raw)&&e,user_dismiss:null==(e=n.user_dismiss)||e,animation_speed:null!=(e=n.animation_speed)?e:250,class_name:null!=(e=n.class_name)?e:"",should_focus:null!=(e=n.should_focus)&&e,full_border:null!=(e=n.full_border)&&e,handle_close:n.handle_close})},t.standard=function(e,t,n){var r,o,a;return null==n&&(n={}),r=i.StackedLightbox.instances[0]||i.Lightbox.current_open?this.lightbox_container():this.global_container(),n.container&&(r=n.container),o=this.build_standard(e,t,n),(a=this.prototype.mount_node(r)).getBoundingClientRect().top>$(window).height()||$(r).hasClass("fixed")?ReactDOM.render(o,a):(r=i.Lightbox.current_open?$("#lightbox_area"):document.body,$(r).animate({scrollTop:0},"slow",function(){return ReactDOM.render(o,a)})),this.prototype.bind_lightbox_close()},t)}.call(this,n(10),n(0))},705:function(e,t,n){"use strict";var r=n(11),r=n.n(r)()({loader:function(){return n.e(104).then(n.bind(null,1375))},loading:function(){return null}});t.a=r},706:function(e,t,n){"use strict";var r=n(661);n.d(t,"a",function(){return r.a})},707:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(25),o=n(1),a=n(0),i=n.n(a),s=n(39),c=n(782),u=n.n(c),l=n(783),_=n.n(l),p=n(784),d=n.n(p),f=n(627),h=n.n(f),m=n(785),y=n.n(m),b=n(786),g=n.n(b),v=n(787),k=n.n(v),w=n(788),t=n.n(w),a=n(789),c=n.n(a),l=n(790),p=n.n(l),f=n(791),m=n.n(f),b=n(792),v=n.n(b),w=n(793),a=n.n(w),l=n(794),f=n.n(l),b=n(795),w=n.n(b),l=n(796),b=n.n(l),l=n(797),l=n.n(l);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={FRONT:u.a,BACK:_.a,BOTH:d.a},S={amex:y.a,aura:g.a,cabal:k.a,carnet:t.a,credimas:c.a,diners:p.a,discover:m.a,elo:v.a,hipercard:a.a,magna:f.a,mastercard:w.a,naranja:b.a,visa:l.a},b={get FOUR(){return o.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_4-digit_number_")},get THREE(){return o.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_3-digit_number")},get THREE_OR_FOUR(){return o.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_4-digit_number")}},O=(E(l={},s.e.AMEX,{cvvImage:d.FRONT,cvvText:b.FOUR}),E(l,"DEFAULT",{cardImage:h.a,cvvImage:d.BACK,cvvText:b.THREE}),E(l,"NONE",{cardImage:h.a,cvvImage:d.BOTH,cvvText:b.THREE_OR_FOUR}),l);function x(e,t){var n;return e&&t.includes(e)?(n=O[e]||O.DEFAULT,(n=Object.assign({},n)).cardImage=S[e]):n=O.NONE,{cardIcon:(e=n.cardImage,i.a.createElement("img",{alt:"",role:"presentation",className:"card_icon",src:Object(r.a)(e||"")})),cvvIcon:(e=n.cvvImage,n=n.cvvText,i.a.createElement("img",{className:"card_tooltip",role:"img",src:Object(r.a)(e||""),alt:n}))}}},824:function(e,h,m){"use strict";m.r(h),function(n){m.d(h,"default",function(){return f});var e=m(410),t=m(89),r=m(158),i=m(86),s=m(9),c=m(373);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(919);var f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,n.Component);var o=_(a);function a(){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(p(r=o.call.apply(o,[this].concat(t))),"track_with_metadata",function(e){var t=r.props,n=t.product_handle,t=t.cart_context;Object(s.a)(e,{product_handle:n,cart_context:t})}),d(p(r),"handle_nyt_click",function(){Object(s.a)("checkout:nyt_bundle_redeem:click"),r.track_with_metadata("nyt_activation:activate:click")}),d(p(r),"handle_continue_click",function(){r.track_with_metadata("nyt_activation:ignore:click")}),r}return u(a.prototype,[{key:"componentDidMount",value:function(){this.track_with_metadata("nyt_activation:modal:view"),Object(c.a)(["nyt_welcome"])}},{key:"render_flash",value:function(){var e=this.props.eligible_for_free_trial?I18n.t("payments.checkout_flow.nyt_welcome.you_have_upgraded_to_scribd_the_new_york_times_",{free_trial_days:this.props.free_trial_days,price:this.props.price}):I18n.t("payments.checkout_flow.nyt_welcome.you_have_upgraded_to_scribd_the_new_york_times_plan");return n.createElement(t.default,{type:"success",user_dismiss:!1,animation_speed:0,content:e})}},{key:"render_logos",value:function(){var e=this.props,t=e.scribd_logo_img_white,e=e.nyt_logo_img_white;return n.createElement("div",{className:"logos"},n.createElement("img",{src:t,className:"scribd_logo",alt:I18n.t("payments.checkout_flow.nyt_welcome.scribd"),role:"img"}),n.createElement("img",{src:e,className:"nyt_logo",alt:I18n.t("payments.checkout_flow.nyt_welcome.the_new_york_times"),role:"img"}))}},{key:"render_top_banner_section",value:function(){return n.createElement("div",{className:"banner_img"},this.render_logos())}},{key:"render_activation_instructions",value:function(){return n.createElement("p",null,n.createElement("span",{dangerouslySetInnerHTML:{__html:I18n.t("payments.checkout_flow.nyt_welcome.activate_your_new_york_times_subscription_",{user_email:this.props.user_email})}}))}},{key:"render_activate_your_times_subscription_title",value:function(){return n.createElement("h1",{className:"activate_your_times_subscription_title"},I18n.t("payments.checkout_flow.nyt_welcome.activate_your_times_subscription"))}},{key:"render_footer_image",value:function(){return n.createElement("div",{className:"footer_img_container"},n.createElement("img",{className:"footer_img",src:this.props.footer_img,alt:""}))}},{key:"render_cta_section",value:function(){return n.createElement("div",{className:"cta_container"},n.createElement(r.a,{className:"activate_subscription_btn",href:this.props.nyt_redeem_url,onClick:this.handle_nyt_click,target:"_blank"},I18n.t("payments.checkout_flow.nyt_welcome.activate_your_times_subscription")),n.createElement(i.a,{className:"continue_to_scribd",href:this.props.redirect_url,onClick:this.handle_continue_click},I18n.t("payments.checkout_flow.nyt_welcome.continue_to_scribd")))}},{key:"render",value:function(){return n.createElement("div",{className:"auto__payments_checkout_flow_nyt_welcome"},this.render_flash(),this.render_activate_your_times_subscription_title(),n.createElement("h2",{className:"visually_hidden"},"Welcome to Scribd!"),n.createElement(e.a,{extra_classes:"wrapper_card"},this.render_top_banner_section(),n.createElement("div",{className:"body_copy"},this.render_activation_instructions()),this.render_cta_section(),this.render_footer_image()))}}]),a}()}.call(this,m(0))},87:function(e,t,n){},88:function(e,t,r){!function(e){var t,n;r(142),n=function(e,s){var r,n,o,c,t,a;return null==s&&(s={}),s=$.extend({tooltip_container:"tooltip_container",template:Scribd.Tooltips.Default.template,position:Scribd.Tooltips.Default.position,sticky:!1},s),(c=$("<div class='"+s.tooltip_container+"'></div>").appendTo(e)).data("hover_count",0),r=function(e){return s.sticky?setTimeout(function(){if(0===c.data("hover_count"))return e()},200):e()},n=function(){return c.empty()},a=Scribd.kill_tooltips,Scribd.kill_tooltips=function(){return"function"==typeof a&&a(),n()},o=function(e){var t,n,r,o,a,i;if(!e.is(".disabled")){if(o=e.data("tooltip_elm"),r=e.attr("data-label")||e.attr("aria-label")||e.attr("data-tooltip"),!o||r!==e.data("tooltip_elm_content")){if("{"===r[0]&&(r=JSON.parse(r)),$.isPlainObject(r))for(t in r=(i=r).default,i)if(a=i[t],e.is("."+t)){r=a;break}n=(null!=(n=Scribd.Tooltips[e.data("tooltip_template")])?n.template:void 0)||s.template,o=$(n({content:r})),e.data("tooltip_elm",o),e.data("tooltip_elm_content",r)}return o.appendTo(c),s.position(e,o),o.addClass("opaque")}},t=Scribd.is_mobile?"focusin focusout":"mouseenter mouseleave focusin focusout",s.sticky&&c.on(t,function(e){var t="mouseleave"===e.type||"focusout"===e.type?-1:1;return"mouseleave"!==e.type&&"focusout"!==e.type||r(n),c.data("hover_count",c.data("hover_count")+t)}),e.on(t,"[data-tooltip]",function(e){var t=$(e.currentTarget),n="mouseleave"===e.type||"focusout"===e.type?-1:1;return"mouseleave"===e.type||"focusout"===e.type?r(function(){var e;return null!=(e=t.data("tooltip_elm"))?e.removeClass("opaque").remove():void 0}):o(t),c.data("hover_count",c.data("hover_count")+n)}),e.on("scribd:update_tooltip","[data-tooltip]",function(e,t){var n=$(e.currentTarget);if(t&&n.data("tooltip",t),e=!1,(t=n.data("tooltip_elm"))&&(e=0!==t.closest("body").length,t.removeClass("opaque").remove()),n.removeData("tooltip_elm"),e)return o(n)})},(t=r(36).default)("Tooltips",{Fancy:{template:e.template('<div class="fancy_tip">\n  <div class="tip_arrow sprite popup_arrow"></div>\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>'),position:function(e,t){var n=e.offset();return t.css({left:Math.floor(n.left-t.outerWidth()/2+e.outerWidth()/2),top:Math.floor(n.top+12+e.outerHeight())})}},Default:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">{{ content }}</div>\n</div>'),position:function(e,t){var n=e.offset(),r=t.outerHeight(),o=t.outerWidth(),a=e.outerWidth(),a=n.left-(o-a)/2;return(r=n.top-r-4)<0&&(r=n.top+e.outerHeight()+4),a=Math.max(2,a),a=Math.min($(window).width()-2-o,a),o=t.parent().offsetParent().offset(),t.css({left:a-o.left,top:r-o.top})}},Under:{position:function(e,t){var n=e.offset(),r=t.height(),o=t.width(),e=e.width();return t.css({width:500,left:n.left+Math.floor((e-o)/2),top:r+4})}},Under2:{position:function(e,t){var n,r=e.offset();return t.outerHeight(),n=t.outerWidth(),e=e.outerWidth(),n=r.left-(n-e)/2,e=r.top+20,r=t.parent().offsetParent().offset(),t.css({left:n-r.left,top:e-r.top})}},Unescaped:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>')}}),t("hook_tooltips",n)}.call(this,r(10))},89:function(e,t,n){"use strict";n.r(t);var r=n(11),r=n.n(r);t.default=r()({loader:function(){return n.e(108).then(n.bind(null,190))},loading:function(){return null}})},907:function(e,t,n){function c(e,t){return function(){return e.apply(t,arguments)}}var r,u,l,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a={}.hasOwnProperty;function i(e,t){this.opts=null!=t?t:{},this.track_submit=c(this.track_submit,this),this.track_cvv_tooltip=c(this.track_cvv_tooltip,this),this.track_cvv=c(this.track_cvv,this),this.track_expiration=c(this.track_expiration,this),this.track_ccn=c(this.track_ccn,this),this.init=c(this.init,this),i.__super__.constructor.apply(this,arguments),this.expandable_brief=this.container.find(".expandable .brief"),this.expandable_full=this.container.find(".expandable .full"),this.opts.container=this.container,this.opts.form=this.form,this.container.track_rats("update_payments:page:view",{page:"update_payments_page",value:this.opts.dunning_track_value}),u("payment_profile_update",Scribd.logged_in,Scribd.is_bot),this.init()}function s(e,t){var n,r,o,a,i,s;null==t&&(t={}),this.track_cvv_tooltip=c(this.track_cvv_tooltip,this),this.track_zipcode=c(this.track_zipcode,this),this.track_cvv=c(this.track_cvv,this),this.track_expiration=c(this.track_expiration,this),this.track_ccn=c(this.track_ccn,this),this.submit=c(this.submit,this),this.opts=t,this.container=$(e),this.timeouts={},t.tracking&&this.track(t.tracking),this.track("page","view"),this.setup_handlers(),n=function(e){if(e=e.data(a.out_timeout))return clearTimeout(e)},r=function(e,t){return n(e),e.addClass("show"),s.track("view_"+e.attr("class")+"_tooltip")},o=function(e,t){return n(e),e.removeClass("show")},(s=a=this).container.dispatch("mouseover",{secure_server_header:function(){return r($("#paymentDetails"))},credit_card_question:function(){return r($("#paymentDetailInfo"))}}),this.container.dispatch("mouseout",{secure_server_header:function(){return o($("#paymentDetails"))},credit_card_question:function(){return o($("#paymentDetailInfo"))}}),this.container.dispatch("focusin",{tooltip:r}),this.container.dispatch("focusout",{tooltip:o}),this.track_upload_button(),this.container.dispatch("click",{archive_upload_button:(i=this,function(e,t){var n;if(i.track("start_upload"),(n=Scribd.Lightbox.open("upload_lb")).set_title(I18n.t("payments.checkout_flow.billing.upload_and_gain_access_to_select")),!i.lightbox_bound)return i.lightbox_bound=!0,n.container.dispatch("click",{upload_button:function(e){return i.track("lightbox_upload_click"),"continue"}}),n.container.on("Scribd:lightbox:closed",function(){return i.track("lightbox_dismiss")})})}),u("billing",Scribd.logged_in,Scribd.is_bot),t.is_pmp&&l("pmp_billing")}r=n(5).dispatchCustomEvent,l=n(5).triggerHotjar,u=n(5).trackPageLoadPerformance,n(908),s.prototype.out_timeout="out_timeout",s.prototype.tooltip=".tooltip",s.prototype.track_category="new_checkout_flow",s.prototype.track_base="payment",s.prototype.events_tracked=[],s.prototype.track_upload_button=function(){if($(".archive_upload_button"))return this.container.track_rats("archive_plans:start_upload:view")},s.prototype.setup_handlers=function(){return this.container.dispatch("click",{eula_link:function(){return e.track("view_eula"),"continue"},secure_server_header:function(e){return r.container.find("#paymentDetails").focus()},credit_card_question:function(e){return n.container.find("#paymentDetailInfo").focus()},continue_button:(t=n=r=e=this,function(e){return t.submit()})});var t,n,r,e},s.prototype.submit=function(){var e="Scribd:credit_card_form:submit";return this.container.trigger(e),r(document,e)},s.prototype.track=function(e,t,n){var r;if(null==t&&(t="click"),null==n&&(n=!0),!(0<=o.call(this.events_tracked,r)&&n))return r=this.track_base+":"+e+":"+t,this.container.track_rats(r,this.track_data()),this.events_tracked.push(r)},s.prototype.track_data=function(){return{product_handle:this.opts.product_handle,cart_context:this.opts.cart_context}},s.prototype.track_ccn=function(){return this.track("creditcard_number_input")},s.prototype.track_expiration=function(){return this.track("creditcard_expire_month_and_year_input")},s.prototype.track_cvv=function(){return this.track("creditcard_securitycode_input")},s.prototype.track_zipcode=function(){return this.track("creditcard_zipcode_input")},s.prototype.track_cvv_tooltip=function(){return this.track("view_parent_tooltip")},n=s,Scribd.addComponent("Billing",n),function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,n),i.prototype.track_base="update_payments",i.prototype.init=function(){var e,t,n,r;return this.container.dispatch("click",{continue_button:function(){return e.track("save_btn"),"continue"},cvv_help:(r=e=this,function(){return r.track("security_code_qmark"),"continue"})}),this.container.on("focus",".continue_button",(n=this,function(){return n.track("save_btn","focus")})),this.container.on("focus",".tooltip_parent",(t=this,function(){return t.track("security_code_qmark","focus")}))},i.prototype.track_data=function(){return{page:"update_payments_page",value:this.opts.dunning_track_value}},i.prototype.track_ccn=function(){return this.track("creditcard_box"),this.track("creditcard_box","focus")},i.prototype.track_expiration=function(){return this.track("month_box"),this.track("month_box","focus"),this.track("year_box"),this.track("year_box","focus")},i.prototype.track_cvv=function(){return this.track("security_code"),this.track("security_code","focus")},i.prototype.track_cvv_tooltip=function(){return this.track("security_code_qmark")},i.prototype.track_submit=function(){return this.track("save_btn")},Scribd.addComponent("PaymentProfileUpdate",i)},908:function(e,t,n){},909:function(e,t,n){},910:function(e,t,n){},911:function(e,t,n){},912:function(e,t,n){},913:function(e,t,n){},914:function(e,t,n){},915:function(e,t,n){},916:function(e,t,n){},917:function(e,t,n){n(918),Scribd.Email=function(e,n){this.container=$(e),this.container.track({action:"view",label:"email"}),this.container.on("Scribd:Facebook:login_success",function(e,t){return window.location.href=n})}},918:function(e,t,n){},919:function(e,t,n){},920:function(e,t,n){function r(e){var t;this.container=$(e),this.container.track({action:"view",label:"reauthenticate_facebook"}),this.container.find("#fb_login").click((t=this,function(){return FB.getAuthResponse()?FB.logout(t.login):t.login()}))}n(921),Scribd.PaymentsReauthenticateFacebook=(r.prototype.login=function(){return FB.login(function(e){if(e.authResponse)return document.location="/payments/reauthenticate_facebook?reauth_login=1"})},r)},921:function(e,t,n){},922:function(e,t,n){var o={}.hasOwnProperty;function a(e,t){var n,r;this.opts=null!=t?t:{},this.submit=(n=this.submit,r=this,function(){return n.apply(r,arguments)}),a.__super__.constructor.apply(this,arguments),this.button=this.container.find(".continue_button")}n(923),Scribd.StoredCard=(function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(a,Scribd.Billing),a.prototype.submit=function(){return this.container.find("#payment_form").submit(),this.button.prop("disabled",!0),this.button.addClass("disabled loading")},a)},923:function(e,t,n){},924:function(e,t,n){"use strict";!function(e){var t=n(11),t=n.n(t)()({loader:function(){return Promise.all([n.e(31),n.e(109)]).then(n.bind(null,1376))},loading:function(){return e.createElement("div",{className:"spinner","aria-hidden":"true"})}});Scribd.addComponent("Payments.CheckoutFlow.Upsell",t)}.call(this,n(0))},925:function(e,t,n){function a(e,t){return function(){return e.apply(t,arguments)}}function r(e,t,n){var r,o;this.check_and_set_form_submitted=a(this.check_and_set_form_submitted,this),this.disable_button=a(this.disable_button,this),this.container=$(e),this.form=$("#"+t),this.button=this.form.find(".continue_button"),this.spinner=this.form.find(".spinner"),this.disable_on_click=n,this.container.dispatch("click",{continue_button:(r=this,function(e,t){if(!r.button.attr("disabled"))return r.disable_button(),r.form.submit()})}),this.disable_on_click&&this.form.submit((o=this,function(e){return o.disable_button(),o.check_and_set_form_submitted()}))}n(926),Scribd.PaymentsButton=(r.prototype.disable_button=function(){if(this.disable_on_click)return this.button.prop("disabled",!0),this.button.addClass("disabled"),this.spinner.addClass("active")},r.prototype.check_and_set_form_submitted=function(){return!this.form_submitted&&(this.form_submitted=!0)},r)},926:function(e,t,n){},927:function(e,t){var n,r,o;Scribd.track_event,o=function(e,t){return $(document.body).track({category:"mobile_signup_"+e,action:"click",label:"success:"+t})},r=function(e){var t=e.document_id,n=e.phone_number,r=e.tracking_type;return $.post("/read/text_signup",{document_id:t,phone_number:n},function(e){return o("sms_"+r,e.valid)})},n=function(e){var t=e.tracking_type;return $.post("/read/email_signup",function(e){return o("email_"+t,e.valid)})},null==Scribd.Shared&&(Scribd.Shared={}),Scribd.Shared.MobileDownloadForms={send_sms:r,send_email:n}},928:function(e,t,n){},929:function(e,t,n){},930:function(e,t,n){},931:function(e,t,n){},932:function(e,t,n){},933:function(e,t,n){},934:function(e,t,n){},935:function(e,t,n){},936:function(e,t,n){},95:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(2),o=n(3),a=n.n(o),t=n(0),i=n.n(t);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==s(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(198);var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,r.a);var t=l(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__shared_react_forms_input_group"),e}return c(n.prototype,[{key:"render_content",value:function(){var e=this.props,t=e.children,n=e.legend,e=e.horizontal;return i.a.createElement("fieldset",{className:a()("input_group",{horizontal:e})},n?i.a.createElement("legend",null,n):null,i.a.Children.map(t,function(e,t){return i.a.cloneElement(e,{key:t})}))}}]),n}(),o={options:[],legend:"",horizontal:!1};(t="defaultProps")in(n=p)?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o},968:function(e,t,n){"use strict";n.r(t);var r=n(29),o=(n(107),n(105),n(602),n(151),n(438),n(907),n(443)),a=n(3),i=n.n(a),c=n(1),s=n(11),u=n.n(s),t=n(0),l=n.n(t),a=n(4),_=n.n(a),p=n(2),d=n(7),f=n(158);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(n);return e=r?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==h(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(913);var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,p.a);var t=b(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_base"),e}return m(n.prototype,[{key:"render_terms_icon",value:function(){return[l.a.createElement("sup",{"aria-hidden":"true",key:"icon_sup"},l.a.createElement("span",{className:"icon icon-ic_openinnewwindow_8"})),l.a.createElement("span",{key:"icon_span",className:"visually_hidden"},c.default.t("payments.checkout_flow.footer.base.opens_in_a_new_window"))]}},{key:"render_terms",value:function(e){return l.a.createElement("p",{className:"terms"},c.default.t("payments.checkout_flow.footer.base.by_clicking_label_you_agree_to",{label:e})+" ",l.a.createElement("a",{className:"eula_link",href:"http://support.scribd.com/entries/24003933-Scribd-Paid-Access-End-User-License-Agreement",target:"_blank"},c.default.t("payments.checkout_flow.footer.base.scribd_s_terms_of_service"),this.render_terms_icon()))}},{key:"render_button",value:function(e){return this.props.show_apple_pay&&this.props.apple_pay_selected&&void 0!==window.ApplePaySession&&ApplePaySession.supportsVersion(4)?l.a.createElement(d.c,{className:"continue_button applepay_button",title:"Apple Pay"},c.default.t("payments.checkout_flow.footer.base.buy_with"),l.a.createElement("span",{className:"apple_pay_mark"}," ï£¿Pay")):this.props.show_google_pay_button?l.a.createElement(d.c,{className:"continue_button googlepay",title:"Google Pay"}):l.a.createElement(f.a,{disabled:!this.props.start_free_trial_enabled&&this.props.show_one_tap_ui,className:"continue_button"},e)}},{key:"render_cancel_anytime_msg",value:function(){return l.a.createElement("p",{className:"secure_server_button_message"},l.a.createElement("span",{className:"cancel_anytime_copy"},c.default.t("payments.checkout_flow.footer.base.cancel_anytime")))}},{key:"render_checkout_button",value:function(e){if(!this.props.show_one_tap_ui&&(this.props.show_creditcard_form||this.props.is_stored_card_form))return l.a.createElement("div",{className:"button_container"},this.render_button(e),this.render_cancel_anytime_msg())}},{key:"render_content",value:function(){return l.a.createElement("div",{className:"footer"},this.render_terms(c.default.t("payments.checkout_flow.footer.base.submit")),this.render_checkout_button(c.default.t("payments.checkout_flow.footer.base.submit")))}}]),n}(),s={apple_pay_selected:!1,is_stored_card_form:!1,show_apple_pay:!1,show_ebanx:!1,show_google_pay_button:!1,show_one_tap_ui:!1,start_free_trial_enabled:!1};(t="defaultProps")in(a=v)?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,Scribd.addComponent("Payments.CheckoutFlow.Footer.Base",v);var k=n(383),w=n(324);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=N(n);return e=r?(e=N(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==E(e)&&"function"!=typeof e?P(t):e}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,v);var e,t,o=j(a);function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),n=P(t=o.call(this,e)),r=function(e){return l.a.createElement("div",{className:"archive_footer_cta"},l.a.createElement("hr",{className:"billing_hr"}),l.a.createElement("h2",{className:"billing_plan_header"},c.default.t("payments.checkout_flow.footer.archive.your_plan")),t.render_billing_plan_img(),l.a.createElement("p",{className:"billing_plan_price",dangerouslySetInnerHTML:{__html:t.billingPlanPrice}}),l.a.createElement("p",{className:"billing_plan_subtitle"},t.render_billing_plan_subtitle()),t.renderCreditCardFormCheckout(e))},(e="renderArchiveFooterCta")in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.enclosing_class("auto__payments_checkout_flow_footer_archive"),t}return t=[{key:"propTypes",get:function(){return Object.assign({},O(N(a),"propTypes",this),{cart_total:_.a.string,eligible_for_free_trial:_.a.bool.isRequired,labels:_.a.shape({checkout_button:_.a.string,terms:_.a.string}),logo_image:_.a.string.isRequired,show_one_tap_ui:_.a.bool.isRequired,show_plus_tax:_.a.bool.isRequired})}}],S((e=a).prototype,[{key:"component_classes",value:function(){return i()({one_tap_ui:this.props.show_one_tap_ui})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"labels",get:function(){return this.props.labels||{checkout_button:c.default.t("payments.checkout_flow.footer.archive.submit"),terms:{type:"default"}}}},{key:"billingPlanPrice",get:function(){var e=this.props,t=e.cart_total,n=e.show_plus_tax,r=this.props.labels.terms,o=r.eligible_plan_price_dollar_format,e=r.month_label;return"limited"===r.type?n?c.default.t("checkout_flow.billing.limited_time_price_plus_tax",{eligiblePlanPrice:o,specialPrice:t,time:e}):c.default.t("checkout_flow.billing.limited_time_price",{eligiblePlanPrice:o,specialPrice:t,time:e}):c.default.t("checkout_flow.billing.price_per_month",{price:t})}},{key:"render_can_cancel_membership",value:function(){return" ".concat(c.default.t("payments.checkout_flow.footer.cancel_membership_any_time_from_account_settings"))}},{key:"render_separators",value:function(){return l.a.createElement("span",null,l.a.createElement("br",null),l.a.createElement("br",null))}},{key:"render_first_paragraph_and_space",value:function(e){if(!this.props.eligible_for_free_trial&&!this.props.free_to_paid_conversion)return l.a.createElement(l.a.Fragment,null,e,this.render_can_cancel_membership(),this.render_separators())}},{key:"render_terms",value:function(e){return l.a.createElement("p",{className:"terms archive"},l.a.createElement("span",{className:"text_container"},this.render_first_paragraph_and_space(e),c.default.t("payments.checkout_flow.footer.archive.access_an_unlimited_number_of_books")+" ",l.a.createElement("a",{className:"eula_link",href:"http://support.scribd.com/entries/24003933-Scribd-Paid-Access-End-User-License-Agreement",target:"_blank"}," ".concat(c.default.t("payments.checkout_flow.footer.archive.full_terms_are_available_here")),this.render_terms_icon()),l.a.createElement("span",{className:"contact_us_link",dangerouslySetInnerHTML:{__html:" ".concat(c.default.t("payments.checkout_flow.footer.archive.questions_a_href_contact_us_html",{help_link:"http://support.scribd.com/hc/requests/new"}))}})))}},{key:"render_billing_plan_subtitle",value:function(){return this.props.is_nyt_bundle?l.a.createElement("span",null,c.default.t("payments.checkout_flow.footer.archive.unlimited_books_audiobooks_document_downloads_and_")):this.props.calm_bundle?l.a.createElement("span",null,c.default.t("payments.checkout_flow.footer.archive.unlimited_books_audiobooks_document_downloads_and"),", ",c.default.t("payments.checkout_flow.footer.archive.plus_full_access_to_calm_the")):l.a.createElement("span",null,c.default.t("payments.checkout_flow.unlimited_books_downloads_more"))}},{key:"render_billing_plan_img",value:function(){var e=this.props.calm_bundle?c.default.t("payments.checkout_flow.footer.archive.scribd_plus_calm"):this.props.is_nyt_bundle?c.default.t("payments.checkout_flow.footer.archive.scribd_plus_new_york_times"):"Scribd";return this.props.is_nyt_bundle?[l.a.createElement("img",{key:"img1",className:"billing_plan_img scribd_logo",src:this.props.scribd_logo_image,alt:"Scribd"}),l.a.createElement("img",{key:"img2",className:"billing_plan_img",src:this.props.logo_image,alt:e})]:l.a.createElement("img",{className:"billing_plan_img",src:this.props.logo_image,alt:e})}},{key:"renderCreditCardFormCheckout",value:function(e){var t=this.props,n=t.cart_total,r=t.eligible_for_free_trial,o=t.show_one_tap_ui,t=t.show_plus_tax;if(!o)return l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"billing_hr"}),l.a.createElement(k.a,{eligibleForFreeTrial:r,price:n,withTax:t}),this.render_checkout_button(e))}},{key:"render_archive_footer",value:function(e,t){return this.props.free_to_paid_conversion?l.a.createElement("div",{className:"footer archive_footer"},l.a.createElement("div",{className:"archive_footer_cta free_to_paid"})):l.a.createElement("div",{className:"footer archive_footer"},this.renderArchiveFooterCta(t),this.render_terms(e))}},{key:"localize_date",value:function(e){return Object(w.b)(e,this.props.current_locale)}},{key:"get_terms",value:function(){var e=this.labels.terms,t=e.local_price_cart_total,n=e.duration,r=e.trial_end_timestamp,o=e.frequency,a=e.month_label,i=e.number_to_currency_cart_total_dollars,s=e.eligible_plan_price_dollar_format;switch(e.type){case"free_trial":return this.props.show_plus_tax?c.default.t("payments.checkout_flow.trial_duration.membership_begins_with_duration_free_plus_tax",{trialDuration:n,trialEndDate:this.localize_date(r),price:t,frequency:o})+" ":c.default.t("payments.checkout_flow.trial_duration.membership_begins_with_duration_free",{trialDuration:n,trialEndDate:this.localize_date(r),price:t,frequency:o})+" ";case"annual":return this.props.show_plus_tax?c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax",{local_price_cart_total:t})+" ":c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per",{local_price_cart_total:t})+" ";case"one_month":return this.props.show_plus_tax?c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax_",{local_price_cart_total:t})+" ":c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_",{local_price_cart_total:t})+" ";case"limited":return this.props.show_plus_tax?c.default.t("payments.checkout_flow.footer.archive.your_membership_begins_with_month_label_for_plus_tax",{month_label:a,number_to_currency_cart_total_dollars:i,trial_end_timestamp:this.localize_date(r),eligible_plan_price_dollar_format:s})+" ":c.default.t("payments.checkout_flow.footer.archive.your_membership_begins_with_month_label_for",{month_label:a,number_to_currency_cart_total_dollars:i,trial_end_timestamp:this.localize_date(r),eligible_plan_price_dollar_format:s})+" ";case"subscription":return this.props.show_plus_tax?c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax_",{local_price_cart_total:t})+" ":c.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_",{local_price_cart_total:t})+" ";default:return c.default.t("payments.checkout_flow.footer.archive.submit")+" "}}},{key:"render_content",value:function(){var e=this.labels.checkout_button,t=this.get_terms();if(!this.props.eligible_for_free_trial)return this.render_archive_footer(t,e)}}]),S(e,t),a}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=A(n);return e=r?(e=A(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==C(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Scribd.addComponent("Payments.CheckoutFlow.Footer.Archive",R),n(914);var M=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,v);var t=T(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_giftcard"),e}return D(n.prototype,[{key:"render_content",value:function(){return l.a.createElement("div",{className:"footer archive_footer"},l.a.createElement("div",{className:"archive_footer_cta"}))}}]),n}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$(n);return e=r?(e=$(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==B(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Scribd.addComponent("Payments.CheckoutFlow.Footer.Giftcard",M),n(915);var z=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(o,v);var e,t,n,r=q(o);function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_update"),e}return n=[{key:"propTypes",get:function(){return Object.assign({},L($(o),"propTypes",this),{supports_profile_updates:_.a.bool,is_test:_.a.bool,show_creditcard_form:_.a.bool,terms_link_href:_.a.string.isRequired,eligible_for_immediate_payment_or_under_dunning_lock:_.a.bool})}},{key:"defaultProps",get:function(){return Object.assign({},L($(o),"defaultProps",this),{show_creditcard_form:!0})}}],t=[{key:"get_checkout_button_text",value:function(){return this.props.labels&&this.props.labels.checkout_button?this.props.labels.checkout_button:this.props.eligible_for_immediate_payment_or_under_dunning_lock?c.default.t("payments.checkout_flow.footer.update.update_payment"):c.default.t("payments.checkout_flow.footer.update.save")}},{key:"render_terms_link",value:function(e){return l.a.createElement("a",{className:"eula_link",href:this.props.terms_link_href,target:"_blank"},e)}},{key:"render_terms",value:function(){var e;this.props.show_ebanx&&(e=l.a.createElement("span",{className:"ebanx_terms"},c.default.t("payments.checkout_flow.ebanx.terms.processed_by_ebanx")," ",l.a.createElement("a",{href:"https://business.ebanx.com/en/legal/privacy-policy",target:"_blank"},c.default.t("payments.checkout_flow.ebanx.terms.view_terms"),this.render_terms_icon())));var t=l.a.createElement("p",{className:"terms"},e,c.default.t("payments.checkout_flow.footer.update.your_membership_billing_will_not_be")+" ",this.render_terms_link(c.default.t("payments.checkout_flow.footer.update.scribd_paid_access_end_user_license")),".");return t=this.props.supports_profile_updates?l.a.createElement("p",{className:"terms"},e,c.default.t("payments.checkout_flow.footer.update.your_payment_details_will_be_used")):t}},{key:"render_content",value:function(){return l.a.createElement("div",{className:"footer archive_footer"},l.a.createElement("div",{className:"archive_footer_cta"},this.render_checkout_button(this.get_checkout_button_text())),this.render_terms())}}],F((e=o).prototype,t),F(e,n),o}();Scribd.addComponent("Payments.CheckoutFlow.Footer.Update",z);var H=n(30);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function W(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function G(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?W(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):W(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=X(n);return e=r?(e=X(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Z(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(916);var Q=["nyt_welcome","nyt_upsell"],s=function(){return l.a.createElement("div",{className:"spinner","aria-hidden":"true"})},ee=u()({loader:function(){return Promise.resolve().then(n.bind(null,824))},loading:s}),te=u()({loader:function(){return n.e(31).then(n.bind(null,2452))},loading:s}),s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(n,p.a);var e,t=K(n);function n(e){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).enclosing_class("auto__payments_checkout_flow_form_wrapper"),e.state={apple_pay_selected:!1,cta_text:null,interstitial_type:null,show_google_pay_button:!1,show_welcome_interstitial:!1,welcome_interstitial_props:{},card_number:"",expiration_date:"",security_code:""},e.localized_trial_end_timestamp=Object(w.b)(e.props.trial_end_timestamp,e.props.current_locale),e}return e=[{key:"componentDidUpdate",value:function(e,t){this.state.show_welcome_interstitial&&!t.show_welcome_interestitial&&window.scrollTo(0,0)}},{key:"handle_payment_type",value:function(e){this.setState({apple_pay_selected:"applepay"===e.target.value,show_google_pay_button:"google_pay"===e.target.value})}},{key:"handle_card_number_change",value:function(e){this.setState({card_number:e})}},{key:"handle_expiration_date_change",value:function(e){this.setState({expiration_date:e})}},{key:"handle_security_code_change",value:function(e){this.setState({security_code:e})}},{key:"set_cta_text",value:function(e){this.setState({cta_text:e})}},{key:"component_classes",value:function(){return i()({interstitial_open:this.state.show_welcome_interstitial})}},{key:"get_start_free_trial_enabled",value:function(){var e=this.state,t=e.card_number,n=e.expiration_date,e=e.security_code,e=t.length&&n.length&&e.length;return!!this.props.show_one_tap_ui&&e}},{key:"get_credit_card_form_props",value:function(){var e=this.props,t=e.calm_bundle,n=e.nyt_bundle,r=e.payment_profile_update_page,o=e.show_nyt_upsell,a=e.show_one_tap_ui,e=e.stored_card_form_props,e=G(G({},this.props.credit_card_form_props),{},{calm_bundle:t,handle_payment_type:this.handle_payment_type,nyt_bundle:n,payment_profile_update_page:r,set_cta_text:this.set_cta_text,set_cta_visible:this.set_cta_visible,show_one_tap_ui:a,stored_card_form_props:e});return(n||o)&&(e.handle_form_submit_redirect=this.handle_form_submit_redirect),e.show_one_tap_ui&&(e.handle_card_number_change=this.handle_card_number_change,e.handle_expiration_date_change=this.handle_expiration_date_change,e.handle_security_code_change=this.handle_security_code_change,e.start_free_trial_enabled=this.get_start_free_trial_enabled()),e}},{key:"showing_interstitial",value:function(e){return!!Q.includes(e)&&this.state.show_welcome_interstitial&&this.state.interstitial_type===e}},{key:"get_form_header",value:function(){var e=this.props,t=e.cart,n=e.context,r=e.nyt_bundle,o=e.show_archive_flow_headers,e=e.show_nyt_upsell;if("update"!==n&&(r||e||o)&&!this.showing_interstitial("nyt_welcome")&&!this.showing_interstitial("nyt_upsell"))return o?t.eligible_for_free_trial?c.default.t("payments.checkout_flow.form_wrapper.activate_your_free_trial"):c.default.t("payments.checkout_flow.form_wrapper.resume_your_membership"):t.eligible_for_free_trial?c.default.t("payments.checkout_flow.form_wrapper.activate_your_free_trial"):c.default.t("payments.checkout_flow.form_wrapper.start_your_membership")}},{key:"get_form_subheader",value:function(){var e=this.props,t=e.billing_plan_price,n=e.cart_total_price,r=e.cart,o=e.formatted_zero_price,a=e.show_archive_flow_headers;if((e.show_nyt_upsell||a)&&!this.state.show_welcome_interstitial)return r.eligible_for_free_trial?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"top_text","data-e2e":"subheader_top_text",dangerouslySetInnerHTML:{__html:c.default.t("payments.checkout_flow.form_wrapper.zero_due_before_date",{cart_total:o,trial_end_date:this.localized_trial_end_timestamp,billing_plan_price:t})}}),l.a.createElement("div",{className:"dont_worry_container"},l.a.createElement(H.a,{icon:"email"}),l.a.createElement("span",{className:"dont_worry_text","data-e2e":"subheader_dont_worry_text"},c.default.t("shared.dont_worry_we_will_email")))):c.default.t("payments.checkout_flow.form_wrapper.add_payment_to_resume_membership",{cart_total:n})}},{key:"should_show_nyt_welcome",value:function(){return!(!this.props.nyt_bundle||"pmp"!==this.props.context&&!this.props.renewal_nag_update)}},{key:"should_show_nyt_upsell_interstitial",value:function(){return this.props.show_nyt_upsell}},{key:"show_welcome_interstitial",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Scribd.Lightbox.close("checkout_loading_lb"),this.setState({show_welcome_interstitial:!0,interstitial_type:e,welcome_interstitial_props:t})}},{key:"handle_form_submit_redirect",value:function(e){var t;this.redirect_url=e,this.should_show_nyt_welcome()?this.show_welcome_interstitial("nyt_welcome",t={redirect_url:e}):this.should_show_nyt_upsell_interstitial()?(t={continue_path:this.redirect_url,handle_switch_plans_success:this.handle_switch_plans_success,handle_switch_plans_error:this.handle_switch_plans_error},this.show_welcome_interstitial("nyt_upsell",t)):window.location=e}},{key:"handle_switch_plans_success",value:function(){this.show_welcome_interstitial("nyt_welcome",{redirect_url:this.redirect_url})}},{key:"handle_switch_plans_error",value:function(){var e=Object.assign({},this.state.welcome_interstitial_props,{error:!0});this.show_welcome_interstitial("nyt_upsell",e)}},{key:"render_credit_card_form",value:function(){return l.a.createElement("div",{className:"body",key:"body"},l.a.createElement(o.a,V({},this.get_credit_card_form_props(),{key:"credit_card_form"})))}},{key:"render_footer",value:function(){var e=this.props.cart,t=e.giftcard,n=e.archive,r={apple_pay_selected:this.state.apple_pay_selected,show_apple_pay:this.props.credit_card_form_props.show_apple_pay,show_google_pay_button:this.state.show_google_pay_button},o=v,e=G(G({},r),this.props.base_footer_props);if(this.props.payment_profile_update_page)o=z,e=G(G({},r),this.props.update_footer_props);else if(t)o=M,e=G(G({},r),this.props.giftcard_footer_props);else{if(!n)return l.a.createElement(v,this.props.base_footer_props);o=R,n=Object.assign({},this.props.archive_footer_props),e=G(G(G({},r),n),{},{calm_bundle:this.props.calm_bundle})}return this.state.cta_text&&(e.labels=Object.assign({},e.labels,{checkout_button:this.state.cta_text})),e.start_free_trial_enabled=this.get_start_free_trial_enabled(),l.a.createElement(o,V({},e,{key:"form_wrapper_footer"}))}},{key:"render_form_contents",value:function(){return l.a.createElement("div",{className:"form_contents"},this.render_credit_card_form(),this.render_footer())}},{key:"render_form_header",value:function(){if(!this.showing_interstitial("nyt_welcome")&&!this.showing_interstitial("nyt_upsell")){var e=this.get_form_header();if(e)return l.a.createElement("h1",{className:"form_header"},e)}}},{key:"render_form_subheading",value:function(){var e=this.get_form_subheader();if(e)return l.a.createElement("div",{className:"form_subheading","data-e2e":"payment_subheading"},e)}},{key:"render_welcome_interstitial",value:function(){var e;switch(this.state.interstitial_type){case"nyt_welcome":return e=Object.assign({},this.state.welcome_interstitial_props,this.props.nyt_welcome_props),l.a.createElement(ee,e);case"nyt_upsell":return e=Object.assign({},this.props.nyt_upsell_interstitial_props||{},this.state.welcome_interstitial_props),l.a.createElement(te,e);default:return}}},{key:"render_content",value:function(){var e=this.state.show_welcome_interstitial?this.render_welcome_interstitial():this.render_form_contents();return l.a.createElement("div",{className:"form_wrapper_wrapper"},l.a.createElement("div",{className:"wrapper",role:"main"},l.a.createElement("div",{className:"main_header"},this.render_form_header(),this.render_form_subheading()),e))}}],Y(n.prototype,e),n}();Scribd.addComponent("Payments.CheckoutFlow.FormWrapper",s),n(917),n(444),n(824),n(920),n(922),n(445),n(924),n(925),n(927),n(928),n(664),n(929),n(930),n(931),n(660),n(932),n(933),n(934),n(665),n(935),n(936),Object(r.renderReact)("Views::Payments::CheckoutFlow::FormWrapper",s)},99:function(e,t,n){}});
